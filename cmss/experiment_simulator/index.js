(()=>{var B0=Object.create;var wl=Object.defineProperty;var z0=Object.getOwnPropertyDescriptor;var N0=Object.getOwnPropertyNames;var V0=Object.getPrototypeOf,H0=Object.prototype.hasOwnProperty;var W0=(i,t,e)=>t in i?wl(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var Rr=(i,t)=>()=>(t||i((t={exports:{}}).exports,t),t.exports);var $0=(i,t,e,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of N0(t))!H0.call(i,a)&&a!==e&&wl(i,a,{get:()=>t[a],enumerable:!(o=z0(t,a))||o.enumerable});return i};var kl=(i,t,e)=>(e=i!=null?B0(V0(i)):{},$0(t||!i||!i.__esModule?wl(e,"default",{value:i,enumerable:!0}):e,i));var vt=(i,t,e)=>(W0(i,typeof t!="symbol"?t+"":t,e),e);var nf=(i,t,e)=>new Promise((o,a)=>{var h=l=>{try{u(e.next(l))}catch(f){a(f)}},p=l=>{try{u(e.throw(l))}catch(f){a(f)}},u=l=>l.done?o(l.value):Promise.resolve(l.value).then(h,p);u((e=e.apply(i,t)).next())});var of=Rr((Pl,sf)=>{(function(i,t){typeof Pl=="object"?sf.exports=t():typeof define=="function"&&define.amd?define(t):i.jStat=t()})(Pl,function(){var i=function(t,e){var o=Array.prototype.concat,a=Array.prototype.slice,h=Object.prototype.toString;function p(M,O){var A=M>O?M:O;return t.pow(10,17-~~(t.log(A>0?A:-A)*t.LOG10E))}var u=Array.isArray||function(O){return h.call(O)==="[object Array]"};function l(M){return h.call(M)==="[object Function]"}function f(M){return typeof M=="number"?M-M===0:!1}function m(M){return o.apply([],M)}function v(){return new v._init(arguments)}v.fn=v.prototype,v._init=function(O){if(u(O[0]))if(u(O[0][0])){l(O[1])&&(O[0]=v.map(O[0],O[1]));for(var A=0;A<O[0].length;A++)this[A]=O[0][A];this.length=O[0].length}else this[0]=l(O[1])?v.map(O[0],O[1]):O[0],this.length=1;else if(f(O[0]))this[0]=v.seq.apply(null,O),this.length=1;else{if(O[0]instanceof v)return v(O[0].toArray());this[0]=[],this.length=1}return this},v._init.prototype=v.prototype,v._init.constructor=v,v.utils={calcRdx:p,isArray:u,isFunction:l,isNumber:f,toVector:m},v._random_fn=t.random,v.setRandom=function(O){if(typeof O!="function")throw new TypeError("fn is not a function");v._random_fn=O},v.extend=function(O){var A,L;if(arguments.length===1){for(L in O)v[L]=O[L];return this}for(A=1;A<arguments.length;A++)for(L in arguments[A])O[L]=arguments[A][L];return O},v.rows=function(O){return O.length||1},v.cols=function(O){return O[0].length||1},v.dimensions=function(O){return{rows:v.rows(O),cols:v.cols(O)}},v.row=function(O,A){return u(A)?A.map(function(L){return v.row(O,L)}):O[A]},v.rowa=function(O,A){return v.row(O,A)},v.col=function(O,A){if(u(A)){var L=v.arange(O.length).map(function(){return new Array(A.length)});return A.forEach(function(N,H){v.arange(O.length).forEach(function($){L[$][H]=O[$][N]})}),L}for(var E=new Array(O.length),F=0;F<O.length;F++)E[F]=[O[F][A]];return E},v.cola=function(O,A){return v.col(O,A).map(function(L){return L[0]})},v.diag=function(O){for(var A=v.rows(O),L=new Array(A),E=0;E<A;E++)L[E]=[O[E][E]];return L},v.antidiag=function(O){for(var A=v.rows(O)-1,L=new Array(A),E=0;A>=0;A--,E++)L[E]=[O[E][A]];return L},v.transpose=function(O){var A=[],L,E,F,N,H;for(u(O[0])||(O=[O]),E=O.length,F=O[0].length,H=0;H<F;H++){for(L=new Array(E),N=0;N<E;N++)L[N]=O[N][H];A.push(L)}return A.length===1?A[0]:A},v.map=function(O,A,L){var E,F,N,H,$;for(u(O[0])||(O=[O]),F=O.length,N=O[0].length,H=L?O:new Array(F),E=0;E<F;E++)for(H[E]||(H[E]=new Array(N)),$=0;$<N;$++)H[E][$]=A(O[E][$],E,$);return H.length===1?H[0]:H},v.cumreduce=function(O,A,L){var E,F,N,H,$;for(u(O[0])||(O=[O]),F=O.length,N=O[0].length,H=L?O:new Array(F),E=0;E<F;E++)for(H[E]||(H[E]=new Array(N)),N>0&&(H[E][0]=O[E][0]),$=1;$<N;$++)H[E][$]=A(H[E][$-1],O[E][$]);return H.length===1?H[0]:H},v.alter=function(O,A){return v.map(O,A,!0)},v.create=function(O,A,L){var E=new Array(O),F,N;for(l(A)&&(L=A,A=O),F=0;F<O;F++)for(E[F]=new Array(A),N=0;N<A;N++)E[F][N]=L(F,N);return E};function _(){return 0}v.zeros=function(O,A){return f(A)||(A=O),v.create(O,A,_)};function w(){return 1}v.ones=function(O,A){return f(A)||(A=O),v.create(O,A,w)},v.rand=function(O,A){return f(A)||(A=O),v.create(O,A,v._random_fn)};function P(M,O){return M===O?1:0}v.identity=function(O,A){return f(A)||(A=O),v.create(O,A,P)},v.symmetric=function(O){var A=O.length,L,E;if(O.length!==O[0].length)return!1;for(L=0;L<A;L++)for(E=0;E<A;E++)if(O[E][L]!==O[L][E])return!1;return!0},v.clear=function(O){return v.alter(O,_)},v.seq=function(O,A,L,E){l(E)||(E=!1);var F=[],N=p(O,A),H=(A*N-O*N)/((L-1)*N),$=O,G;for(G=0;$<=A&&G<L;G++,$=(O*N+H*N*G)/N)F.push(E?E($,G):$);return F},v.arange=function(O,A,L){var E=[],F;if(L=L||1,A===e&&(A=O,O=0),O===A||L===0)return[];if(O<A&&L<0)return[];if(O>A&&L>0)return[];if(L>0)for(F=O;F<A;F+=L)E.push(F);else for(F=O;F>A;F+=L)E.push(F);return E},v.slice=function(){function M(A,L,E,F){var N,H=[],$=A.length;if(L===e&&E===e&&F===e)return v.copy(A);if(L=L||0,E=E||A.length,L=L>=0?L:$+L,E=E>=0?E:$+E,F=F||1,L===E||F===0)return[];if(L<E&&F<0)return[];if(L>E&&F>0)return[];if(F>0)for(N=L;N<E;N+=F)H.push(A[N]);else for(N=L;N>E;N+=F)H.push(A[N]);return H}function O(A,L){var E,F;if(L=L||{},f(L.row)){if(f(L.col))return A[L.row][L.col];var N=v.rowa(A,L.row);return E=L.col||{},M(N,E.start,E.end,E.step)}if(f(L.col)){var H=v.cola(A,L.col);return F=L.row||{},M(H,F.start,F.end,F.step)}F=L.row||{},E=L.col||{};var $=M(A,F.start,F.end,F.step);return $.map(function(G){return M(G,E.start,E.end,E.step)})}return O}(),v.sliceAssign=function(O,A,L){var E,F;if(f(A.row)){if(f(A.col))return O[A.row][A.col]=L;A.col=A.col||{},A.col.start=A.col.start||0,A.col.end=A.col.end||O[0].length,A.col.step=A.col.step||1,E=v.arange(A.col.start,t.min(O.length,A.col.end),A.col.step);var N=A.row;return E.forEach(function($,G){O[N][$]=L[G]}),O}if(f(A.col)){A.row=A.row||{},A.row.start=A.row.start||0,A.row.end=A.row.end||O.length,A.row.step=A.row.step||1,F=v.arange(A.row.start,t.min(O[0].length,A.row.end),A.row.step);var H=A.col;return F.forEach(function($,G){O[$][H]=L[G]}),O}return L[0].length===e&&(L=[L]),A.row.start=A.row.start||0,A.row.end=A.row.end||O.length,A.row.step=A.row.step||1,A.col.start=A.col.start||0,A.col.end=A.col.end||O[0].length,A.col.step=A.col.step||1,F=v.arange(A.row.start,t.min(O.length,A.row.end),A.row.step),E=v.arange(A.col.start,t.min(O[0].length,A.col.end),A.col.step),F.forEach(function($,G){E.forEach(function(tt,et){O[$][tt]=L[G][et]})}),O},v.diagonal=function(O){var A=v.zeros(O.length,O.length);return O.forEach(function(L,E){A[E][E]=L}),A},v.copy=function(O){return O.map(function(A){return f(A)?A:A.map(function(L){return L})})};var C=v.prototype;return C.length=0,C.push=Array.prototype.push,C.sort=Array.prototype.sort,C.splice=Array.prototype.splice,C.slice=Array.prototype.slice,C.toArray=function(){return this.length>1?a.call(this):a.call(this)[0]},C.map=function(O,A){return v(v.map(this,O,A))},C.cumreduce=function(O,A){return v(v.cumreduce(this,O,A))},C.alter=function(O){return v.alter(this,O),this},function(M){for(var O=0;O<M.length;O++)(function(A){C[A]=function(L){var E=this,F;return L?(setTimeout(function(){L.call(E,C[A].call(E))}),this):(F=v[A](this),u(F)?v(F):F)}})(M[O])}("transpose clear symmetric rows cols dimensions diag antidiag".split(" ")),function(M){for(var O=0;O<M.length;O++)(function(A){C[A]=function(L,E){var F=this;return E?(setTimeout(function(){E.call(F,C[A].call(F,L))}),this):v(v[A](this,L))}})(M[O])}("row col".split(" ")),function(M){for(var O=0;O<M.length;O++)(function(A){C[A]=function(){return v(v[A].apply(null,arguments))}})(M[O])}("create zeros ones rand identity".split(" ")),v}(Math);return function(t,e){var o=t.utils.isFunction;function a(u,l){return u-l}function h(u,l,f){return e.max(l,e.min(u,f))}t.sum=function(l){for(var f=0,m=l.length;--m>=0;)f+=l[m];return f},t.sumsqrd=function(l){for(var f=0,m=l.length;--m>=0;)f+=l[m]*l[m];return f},t.sumsqerr=function(l){for(var f=t.mean(l),m=0,v=l.length,_;--v>=0;)_=l[v]-f,m+=_*_;return m},t.sumrow=function(l){for(var f=0,m=l.length;--m>=0;)f+=l[m];return f},t.product=function(l){for(var f=1,m=l.length;--m>=0;)f*=l[m];return f},t.min=function(l){for(var f=l[0],m=0;++m<l.length;)l[m]<f&&(f=l[m]);return f},t.max=function(l){for(var f=l[0],m=0;++m<l.length;)l[m]>f&&(f=l[m]);return f},t.unique=function(l){for(var f={},m=[],v=0;v<l.length;v++)f[l[v]]||(f[l[v]]=!0,m.push(l[v]));return m},t.mean=function(l){return t.sum(l)/l.length},t.meansqerr=function(l){return t.sumsqerr(l)/l.length},t.geomean=function(l){var f=l.map(e.log),m=t.mean(f);return e.exp(m)},t.median=function(l){var f=l.length,m=l.slice().sort(a);return f&1?m[f/2|0]:(m[f/2-1]+m[f/2])/2},t.cumsum=function(l){return t.cumreduce(l,function(f,m){return f+m})},t.cumprod=function(l){return t.cumreduce(l,function(f,m){return f*m})},t.diff=function(l){var f=[],m=l.length,v;for(v=1;v<m;v++)f.push(l[v]-l[v-1]);return f},t.rank=function(u){var l,f=[],m={};for(l=0;l<u.length;l++){var v=u[l];m[v]?m[v]++:(m[v]=1,f.push(v))}var _=f.sort(a),w={},P=1;for(l=0;l<_.length;l++){var v=_[l],C=m[v],M=P,O=P+C-1,A=(M+O)/2;w[v]=A,P+=C}return u.map(function(L){return w[L]})},t.mode=function(l){var f=l.length,m=l.slice().sort(a),v=1,_=0,w=0,P=[],C;for(C=0;C<f;C++)m[C]===m[C+1]?v++:(v>_?(P=[m[C]],_=v,w=0):v===_&&(P.push(m[C]),w++),v=1);return w===0?P[0]:P},t.range=function(l){return t.max(l)-t.min(l)},t.variance=function(l,f){return t.sumsqerr(l)/(l.length-(f?1:0))},t.pooledvariance=function(l){var f=l.reduce(function(v,_){return v+t.sumsqerr(_)},0),m=l.reduce(function(v,_){return v+_.length},0);return f/(m-l.length)},t.deviation=function(u){for(var l=t.mean(u),f=u.length,m=new Array(f),v=0;v<f;v++)m[v]=u[v]-l;return m},t.stdev=function(l,f){return e.sqrt(t.variance(l,f))},t.pooledstdev=function(l){return e.sqrt(t.pooledvariance(l))},t.meandev=function(l){for(var f=t.mean(l),m=[],v=l.length-1;v>=0;v--)m.push(e.abs(l[v]-f));return t.mean(m)},t.meddev=function(l){for(var f=t.median(l),m=[],v=l.length-1;v>=0;v--)m.push(e.abs(l[v]-f));return t.median(m)},t.coeffvar=function(l){return t.stdev(l)/t.mean(l)},t.quartiles=function(l){var f=l.length,m=l.slice().sort(a);return[m[e.round(f/4)-1],m[e.round(f/2)-1],m[e.round(f*3/4)-1]]},t.quantiles=function(l,f,m,v){var _=l.slice().sort(a),w=[f.length],P=l.length,C,M,O,A,L,E;for(typeof m>"u"&&(m=3/8),typeof v>"u"&&(v=3/8),C=0;C<f.length;C++)M=f[C],O=m+M*(1-m-v),A=P*M+O,L=e.floor(h(A,1,P-1)),E=h(A-L,0,1),w[C]=(1-E)*_[L-1]+E*_[L];return w},t.percentile=function(l,f,m){var v=l.slice().sort(a),_=f*(v.length+(m?1:-1))+(m?0:1),w=parseInt(_),P=_-w;return w+1<v.length?v[w-1]+P*(v[w]-v[w-1]):v[w-1]},t.percentileOfScore=function(l,f,m){var v=0,_=l.length,w=!1,P,C;for(m==="strict"&&(w=!0),C=0;C<_;C++)P=l[C],(w&&P<f||!w&&P<=f)&&v++;return v/_},t.histogram=function(l,f){f=f||4;var m=t.min(l),v=(t.max(l)-m)/f,_=l.length,w=[],P;for(P=0;P<f;P++)w[P]=0;for(P=0;P<_;P++)w[e.min(e.floor((l[P]-m)/v),f-1)]+=1;return w},t.covariance=function(l,f){var m=t.mean(l),v=t.mean(f),_=l.length,w=new Array(_),P;for(P=0;P<_;P++)w[P]=(l[P]-m)*(f[P]-v);return t.sum(w)/(_-1)},t.corrcoeff=function(l,f){return t.covariance(l,f)/t.stdev(l,1)/t.stdev(f,1)},t.spearmancoeff=function(u,l){return u=t.rank(u),l=t.rank(l),t.corrcoeff(u,l)},t.stanMoment=function(l,f){for(var m=t.mean(l),v=t.stdev(l),_=l.length,w=0,P=0;P<_;P++)w+=e.pow((l[P]-m)/v,f);return w/l.length},t.skewness=function(l){return t.stanMoment(l,3)},t.kurtosis=function(l){return t.stanMoment(l,4)-3};var p=t.prototype;(function(u){for(var l=0;l<u.length;l++)(function(f){p[f]=function(m,v){var _=[],w=0,P=this;if(o(m)&&(v=m,m=!1),v)return setTimeout(function(){v.call(P,p[f].call(P,m))}),this;if(this.length>1){for(P=m===!0?this:this.transpose();w<P.length;w++)_[w]=t[f](P[w]);return _}return t[f](this[0],m)}})(u[l])})("cumsum cumprod".split(" ")),function(u){for(var l=0;l<u.length;l++)(function(f){p[f]=function(m,v){var _=[],w=0,P=this;if(o(m)&&(v=m,m=!1),v)return setTimeout(function(){v.call(P,p[f].call(P,m))}),this;if(this.length>1){for(f!=="sumrow"&&(P=m===!0?this:this.transpose());w<P.length;w++)_[w]=t[f](P[w]);return m===!0?t[f](t.utils.toVector(_)):_}return t[f](this[0],m)}})(u[l])}("sum sumsqrd sumsqerr sumrow product min max unique mean meansqerr geomean median diff rank mode range variance deviation stdev meandev meddev coeffvar quartiles histogram skewness kurtosis".split(" ")),function(u){for(var l=0;l<u.length;l++)(function(f){p[f]=function(){var m=[],v=0,_=this,w=Array.prototype.slice.call(arguments),P;if(o(w[w.length-1])){P=w[w.length-1];var C=w.slice(0,w.length-1);return setTimeout(function(){P.call(_,p[f].apply(_,C))}),this}else{P=void 0;var M=function(A){return t[f].apply(_,[A].concat(w))}}if(this.length>1){for(_=_.transpose();v<_.length;v++)m[v]=M(_[v]);return m}return M(this[0])}})(u[l])}("quantiles percentileOfScore".split(" "))}(i,Math),function(t,e){t.gammaln=function(a){var h=0,p=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],u=1.000000000190015,l,f,m;for(m=(f=l=a)+5.5,m-=(l+.5)*e.log(m);h<6;h++)u+=p[h]/++f;return e.log(2.5066282746310007*u/l)-m},t.loggam=function(a){var h,p,u,l,f,m,v,_=[.08333333333333333,-.002777777777777778,.0007936507936507937,-.0005952380952380952,.0008417508417508418,-.001917526917526918,.00641025641025641,-.02955065359477124,.1796443723688307,-1.3924322169059];if(h=a,v=0,a==1||a==2)return 0;for(a<=7&&(v=e.floor(7-a),h=a+v),p=1/(h*h),u=2*e.PI,f=_[9],m=8;m>=0;m--)f*=p,f+=_[m];if(l=f/h+.5*e.log(u)+(h-.5)*e.log(h)-h,a<=7)for(m=1;m<=v;m++)l-=e.log(h-1),h-=1;return l},t.gammafn=function(a){var h=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054],p=[-30.8402300119739,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.11842098015,4755.846277527881,-134659.9598649693,-115132.2596755535],u=!1,l=0,f=0,m=0,v=a,_,w,P,C;if(a>171.6243769536076)return 1/0;if(v<=0)if(C=v%1+36e-17,C)u=(v&1?-1:1)*e.PI/e.sin(e.PI*C),v=1-v;else return 1/0;for(P=v,v<1?w=v++:w=(v-=l=(v|0)-1)-1,_=0;_<8;++_)m=(m+h[_])*w,f=f*w+p[_];if(C=m/f+1,P<v)C/=P;else if(P>v)for(_=0;_<l;++_)C*=v,v++;return u&&(C=u/C),C},t.gammap=function(a,h){return t.lowRegGamma(a,h)*t.gammafn(a)},t.lowRegGamma=function(a,h){var p=t.gammaln(a),u=a,l=1/a,f=l,m=h+1-a,v=1/1e-30,_=1/m,w=_,P=1,C=-~(e.log(a>=1?a:1/a)*8.5+a*.4+17),M;if(h<0||a<=0)return NaN;if(h<a+1){for(;P<=C;P++)l+=f*=h/++u;return l*e.exp(-h+a*e.log(h)-p)}for(;P<=C;P++)M=-P*(P-a),m+=2,_=M*_+m,v=m+M/v,_=1/_,w*=_*v;return 1-w*e.exp(-h+a*e.log(h)-p)},t.factorialln=function(a){return a<0?NaN:t.gammaln(a+1)},t.factorial=function(a){return a<0?NaN:t.gammafn(a+1)},t.combination=function(a,h){return a>170||h>170?e.exp(t.combinationln(a,h)):t.factorial(a)/t.factorial(h)/t.factorial(a-h)},t.combinationln=function(a,h){return t.factorialln(a)-t.factorialln(h)-t.factorialln(a-h)},t.permutation=function(a,h){return t.factorial(a)/t.factorial(a-h)},t.betafn=function(a,h){if(!(a<=0||h<=0))return a+h>170?e.exp(t.betaln(a,h)):t.gammafn(a)*t.gammafn(h)/t.gammafn(a+h)},t.betaln=function(a,h){return t.gammaln(a)+t.gammaln(h)-t.gammaln(a+h)},t.betacf=function(a,h,p){var u=1e-30,l=1,f=h+p,m=h+1,v=h-1,_=1,w=1-f*a/m,P,C,M,O;for(e.abs(w)<u&&(w=u),w=1/w,O=w;l<=100&&(P=2*l,C=l*(p-l)*a/((v+P)*(h+P)),w=1+C*w,e.abs(w)<u&&(w=u),_=1+C/_,e.abs(_)<u&&(_=u),w=1/w,O*=w*_,C=-(h+l)*(f+l)*a/((h+P)*(m+P)),w=1+C*w,e.abs(w)<u&&(w=u),_=1+C/_,e.abs(_)<u&&(_=u),w=1/w,M=w*_,O*=M,!(e.abs(M-1)<3e-7));l++);return O},t.gammapinv=function(a,h){var p=0,u=h-1,l=1e-8,f=t.gammaln(h),m,v,_,w,P,C,M;if(a>=1)return e.max(100,h+100*e.sqrt(h));if(a<=0)return 0;for(h>1?(C=e.log(u),M=e.exp(u*(C-1)-f),P=a<.5?a:1-a,_=e.sqrt(-2*e.log(P)),m=(2.30753+_*.27061)/(1+_*(.99229+_*.04481))-_,a<.5&&(m=-m),m=e.max(.001,h*e.pow(1-1/(9*h)-m/(3*e.sqrt(h)),3))):(_=1-h*(.253+h*.12),a<_?m=e.pow(a/_,1/h):m=1-e.log(1-(a-_)/(1-_)));p<12;p++){if(m<=0)return 0;if(v=t.lowRegGamma(h,m)-a,h>1?_=M*e.exp(-(m-u)+u*(e.log(m)-C)):_=e.exp(-m+u*e.log(m)-f),w=v/_,m-=_=w/(1-.5*e.min(1,w*((h-1)/m-1))),m<=0&&(m=.5*(m+_)),e.abs(_)<l*m)break}return m},t.erf=function(a){var h=[-1.3026537197817094,.6419697923564902,.019476473204185836,-.00956151478680863,-.000946595344482036,.000366839497852761,42523324806907e-18,-20278578112534e-18,-1624290004647e-18,130365583558e-17,15626441722e-18,-85238095915e-18,6529054439e-18,5059343495e-18,-991364156e-18,-227365122e-18,96467911e-18,2394038e-18,-6886027e-18,894487e-18,313092e-18,-112708e-18,381e-18,7106e-18,-1523e-18,-94e-18,121e-18,-28e-18],p=h.length-1,u=!1,l=0,f=0,m,v,_,w;for(a<0&&(a=-a,u=!0),m=2/(2+a),v=4*m-2;p>0;p--)_=l,l=v*l-f+h[p],f=_;return w=m*e.exp(-a*a+.5*(h[0]+v*l)-f),u?w-1:1-w},t.erfc=function(a){return 1-t.erf(a)},t.erfcinv=function(a){var h=0,p,u,l,f;if(a>=2)return-100;if(a<=0)return 100;for(f=a<1?a:2-a,l=e.sqrt(-2*e.log(f/2)),p=-.70711*((2.30753+l*.27061)/(1+l*(.99229+l*.04481))-l);h<2;h++)u=t.erfc(p)-f,p+=u/(1.1283791670955126*e.exp(-p*p)-p*u);return a<1?p:-p},t.ibetainv=function(a,h,p){var u=1e-8,l=h-1,f=p-1,m=0,v,_,w,P,C,M,O,A,L,E,F;if(a<=0)return 0;if(a>=1)return 1;for(h>=1&&p>=1?(w=a<.5?a:1-a,P=e.sqrt(-2*e.log(w)),O=(2.30753+P*.27061)/(1+P*(.99229+P*.04481))-P,a<.5&&(O=-O),A=(O*O-3)/6,L=2/(1/(2*h-1)+1/(2*p-1)),E=O*e.sqrt(A+L)/L-(1/(2*p-1)-1/(2*h-1))*(A+5/6-2/(3*L)),O=h/(h+p*e.exp(2*E))):(v=e.log(h/(h+p)),_=e.log(p/(h+p)),P=e.exp(h*v)/h,C=e.exp(p*_)/p,E=P+C,a<P/E?O=e.pow(h*E*a,1/h):O=1-e.pow(p*E*(1-a),1/p)),F=-t.gammaln(h)-t.gammaln(p)+t.gammaln(h+p);m<10;m++){if(O===0||O===1)return O;if(M=t.ibeta(O,h,p)-a,P=e.exp(l*e.log(O)+f*e.log(1-O)+F),C=M/P,O-=P=C/(1-.5*e.min(1,C*(l/O-f/(1-O)))),O<=0&&(O=.5*(O+P)),O>=1&&(O=.5*(O+P+1)),e.abs(P)<u*O&&m>0)break}return O},t.ibeta=function(a,h,p){var u=a===0||a===1?0:e.exp(t.gammaln(h+p)-t.gammaln(h)-t.gammaln(p)+h*e.log(a)+p*e.log(1-a));return a<0||a>1?!1:a<(h+1)/(h+p+2)?u*t.betacf(a,h,p)/h:1-u*t.betacf(1-a,p,h)/p},t.randn=function(a,h){var p,u,l,f,m;if(h||(h=a),a)return t.create(a,h,function(){return t.randn()});do p=t._random_fn(),u=1.7156*(t._random_fn()-.5),l=p-.449871,f=e.abs(u)+.386595,m=l*l+f*(.196*f-.25472*l);while(m>.27597&&(m>.27846||u*u>-4*e.log(p)*p*p));return u/p},t.randg=function(a,h,p){var u=a,l,f,m,v,_,w;if(p||(p=h),a||(a=1),h)return w=t.zeros(h,p),w.alter(function(){return t.randg(a)}),w;a<1&&(a+=1),l=a-1/3,f=1/e.sqrt(9*l);do{do _=t.randn(),v=1+f*_;while(v<=0);v=v*v*v,m=t._random_fn()}while(m>1-.331*e.pow(_,4)&&e.log(m)>.5*_*_+l*(1-v+e.log(v)));if(a==u)return l*v;do m=t._random_fn();while(m===0);return e.pow(m,1/u)*l*v},function(o){for(var a=0;a<o.length;a++)(function(h){t.fn[h]=function(){return t(t.map(this,function(p){return t[h](p)}))}})(o[a])}("gammaln gammafn factorial factorialln".split(" ")),function(o){for(var a=0;a<o.length;a++)(function(h){t.fn[h]=function(){return t(t[h].apply(null,arguments))}})(o[a])}("randn".split(" "))}(i,Math),function(t,e){(function(u){for(var l=0;l<u.length;l++)(function(f){t[f]=function m(v,_,w){return this instanceof m?(this._a=v,this._b=_,this._c=w,this):new m(v,_,w)},t.fn[f]=function(m,v,_){var w=t[f](m,v,_);return w.data=this,w},t[f].prototype.sample=function(m){var v=this._a,_=this._b,w=this._c;return m?t.alter(m,function(){return t[f].sample(v,_,w)}):t[f].sample(v,_,w)},function(m){for(var v=0;v<m.length;v++)(function(_){t[f].prototype[_]=function(w){var P=this._a,C=this._b,M=this._c;return!w&&w!==0&&(w=this.data),typeof w!="number"?t.fn.map.call(w,function(O){return t[f][_](O,P,C,M)}):t[f][_](w,P,C,M)}})(m[v])}("pdf cdf inv".split(" ")),function(m){for(var v=0;v<m.length;v++)(function(_){t[f].prototype[_]=function(){return t[f][_](this._a,this._b,this._c)}})(m[v])}("mean median mode variance".split(" "))})(u[l])})("beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy laplace lognormal noncentralt normal pareto studentt weibull uniform binomial negbin hypgeom poisson triangular tukey arcsine".split(" ")),t.extend(t.beta,{pdf:function(l,f,m){return l>1||l<0?0:f==1&&m==1?1:f<512&&m<512?e.pow(l,f-1)*e.pow(1-l,m-1)/t.betafn(f,m):e.exp((f-1)*e.log(l)+(m-1)*e.log(1-l)-t.betaln(f,m))},cdf:function(l,f,m){return l>1||l<0?(l>1)*1:t.ibeta(l,f,m)},inv:function(l,f,m){return t.ibetainv(l,f,m)},mean:function(l,f){return l/(l+f)},median:function(l,f){return t.ibetainv(.5,l,f)},mode:function(l,f){return(l-1)/(l+f-2)},sample:function(l,f){var m=t.randg(l);return m/(m+t.randg(f))},variance:function(l,f){return l*f/(e.pow(l+f,2)*(l+f+1))}}),t.extend(t.centralF,{pdf:function(l,f,m){var v,_,w;return l<0?0:f<=2?l===0&&f<2?1/0:l===0&&f===2?1:1/t.betafn(f/2,m/2)*e.pow(f/m,f/2)*e.pow(l,f/2-1)*e.pow(1+f/m*l,-(f+m)/2):(v=f*l/(m+l*f),_=m/(m+l*f),w=f*_/2,w*t.binomial.pdf((f-2)/2,(f+m-2)/2,v))},cdf:function(l,f,m){return l<0?0:t.ibeta(f*l/(f*l+m),f/2,m/2)},inv:function(l,f,m){return m/(f*(1/t.ibetainv(l,f/2,m/2)-1))},mean:function(l,f){return f>2?f/(f-2):void 0},mode:function(l,f){return l>2?f*(l-2)/(l*(f+2)):void 0},sample:function(l,f){var m=t.randg(l/2)*2,v=t.randg(f/2)*2;return m/l/(v/f)},variance:function(l,f){if(!(f<=4))return 2*f*f*(l+f-2)/(l*(f-2)*(f-2)*(f-4))}}),t.extend(t.cauchy,{pdf:function(l,f,m){return m<0?0:m/(e.pow(l-f,2)+e.pow(m,2))/e.PI},cdf:function(l,f,m){return e.atan((l-f)/m)/e.PI+.5},inv:function(u,l,f){return l+f*e.tan(e.PI*(u-.5))},median:function(l){return l},mode:function(l){return l},sample:function(l,f){return t.randn()*e.sqrt(1/(2*t.randg(.5)))*f+l}}),t.extend(t.chisquare,{pdf:function(l,f){return l<0?0:l===0&&f===2?.5:e.exp((f/2-1)*e.log(l)-l/2-f/2*e.log(2)-t.gammaln(f/2))},cdf:function(l,f){return l<0?0:t.lowRegGamma(f/2,l/2)},inv:function(u,l){return 2*t.gammapinv(u,.5*l)},mean:function(u){return u},median:function(l){return l*e.pow(1-2/(9*l),3)},mode:function(l){return l-2>0?l-2:0},sample:function(l){return t.randg(l/2)*2},variance:function(l){return 2*l}}),t.extend(t.exponential,{pdf:function(l,f){return l<0?0:f*e.exp(-f*l)},cdf:function(l,f){return l<0?0:1-e.exp(-f*l)},inv:function(u,l){return-e.log(1-u)/l},mean:function(u){return 1/u},median:function(u){return 1/u*e.log(2)},mode:function(){return 0},sample:function(l){return-1/l*e.log(t._random_fn())},variance:function(u){return e.pow(u,-2)}}),t.extend(t.gamma,{pdf:function(l,f,m){return l<0?0:l===0&&f===1?1/m:e.exp((f-1)*e.log(l)-l/m-t.gammaln(f)-f*e.log(m))},cdf:function(l,f,m){return l<0?0:t.lowRegGamma(f,l/m)},inv:function(u,l,f){return t.gammapinv(u,l)*f},mean:function(u,l){return u*l},mode:function(l,f){if(l>1)return(l-1)*f},sample:function(l,f){return t.randg(l)*f},variance:function(l,f){return l*f*f}}),t.extend(t.invgamma,{pdf:function(l,f,m){return l<=0?0:e.exp(-(f+1)*e.log(l)-m/l-t.gammaln(f)+f*e.log(m))},cdf:function(l,f,m){return l<=0?0:1-t.lowRegGamma(f,m/l)},inv:function(u,l,f){return f/t.gammapinv(1-u,l)},mean:function(u,l){return u>1?l/(u-1):void 0},mode:function(l,f){return f/(l+1)},sample:function(l,f){return f/t.randg(l)},variance:function(l,f){if(!(l<=2))return f*f/((l-1)*(l-1)*(l-2))}}),t.extend(t.kumaraswamy,{pdf:function(l,f,m){return l===0&&f===1?m:l===1&&m===1?f:e.exp(e.log(f)+e.log(m)+(f-1)*e.log(l)+(m-1)*e.log(1-e.pow(l,f)))},cdf:function(l,f,m){return l<0?0:l>1?1:1-e.pow(1-e.pow(l,f),m)},inv:function(l,f,m){return e.pow(1-e.pow(1-l,1/m),1/f)},mean:function(u,l){return l*t.gammafn(1+1/u)*t.gammafn(l)/t.gammafn(1+1/u+l)},median:function(l,f){return e.pow(1-e.pow(2,-1/f),1/l)},mode:function(l,f){if(l>=1&&f>=1&&l!==1&&f!==1)return e.pow((l-1)/(l*f-1),1/l)},variance:function(){throw new Error("variance not yet implemented")}}),t.extend(t.lognormal,{pdf:function(l,f,m){return l<=0?0:e.exp(-e.log(l)-.5*e.log(2*e.PI)-e.log(m)-e.pow(e.log(l)-f,2)/(2*m*m))},cdf:function(l,f,m){return l<0?0:.5+.5*t.erf((e.log(l)-f)/e.sqrt(2*m*m))},inv:function(u,l,f){return e.exp(-1.4142135623730951*f*t.erfcinv(2*u)+l)},mean:function(l,f){return e.exp(l+f*f/2)},median:function(l){return e.exp(l)},mode:function(l,f){return e.exp(l-f*f)},sample:function(l,f){return e.exp(t.randn()*f+l)},variance:function(l,f){return(e.exp(f*f)-1)*e.exp(2*l+f*f)}}),t.extend(t.noncentralt,{pdf:function(l,f,m){var v=1e-14;return e.abs(m)<v?t.studentt.pdf(l,f):e.abs(l)<v?e.exp(t.gammaln((f+1)/2)-m*m/2-.5*e.log(e.PI*f)-t.gammaln(f/2)):f/l*(t.noncentralt.cdf(l*e.sqrt(1+2/f),f+2,m)-t.noncentralt.cdf(l,f,m))},cdf:function(l,f,m){var v=1e-14,_=200;if(e.abs(m)<v)return t.studentt.cdf(l,f);var w=!1;l<0&&(w=!0,m=-m);for(var P=t.normal.cdf(-m,0,1),C=v+1,M=C,O=l*l/(l*l+f),A=0,L=e.exp(-m*m/2),E=e.exp(-m*m/2-.5*e.log(2)-t.gammaln(3/2))*m;A<_||M>v||C>v;)M=C,A>0&&(L*=m*m/(2*A),E*=m*m/(2*(A+1/2))),C=L*t.beta.cdf(O,A+.5,f/2)+E*t.beta.cdf(O,A+1,f/2),P+=.5*C,A++;return w?1-P:P}}),t.extend(t.normal,{pdf:function(l,f,m){return e.exp(-.5*e.log(2*e.PI)-e.log(m)-e.pow(l-f,2)/(2*m*m))},cdf:function(l,f,m){return .5*(1+t.erf((l-f)/e.sqrt(2*m*m)))},inv:function(u,l,f){return-1.4142135623730951*f*t.erfcinv(2*u)+l},mean:function(u){return u},median:function(l){return l},mode:function(u){return u},sample:function(l,f){return t.randn()*f+l},variance:function(u,l){return l*l}}),t.extend(t.pareto,{pdf:function(l,f,m){return l<f?0:m*e.pow(f,m)/e.pow(l,m+1)},cdf:function(l,f,m){return l<f?0:1-e.pow(f/l,m)},inv:function(l,f,m){return f/e.pow(1-l,1/m)},mean:function(l,f){if(!(f<=1))return f*e.pow(l,f)/(f-1)},median:function(l,f){return l*(f*e.SQRT2)},mode:function(l){return l},variance:function(u,l){if(!(l<=2))return u*u*l/(e.pow(l-1,2)*(l-2))}}),t.extend(t.studentt,{pdf:function(l,f){return f=f>1e100?1e100:f,1/(e.sqrt(f)*t.betafn(.5,f/2))*e.pow(1+l*l/f,-((f+1)/2))},cdf:function(l,f){var m=f/2;return t.ibeta((l+e.sqrt(l*l+f))/(2*e.sqrt(l*l+f)),m,m)},inv:function(u,l){var f=t.ibetainv(2*e.min(u,1-u),.5*l,.5);return f=e.sqrt(l*(1-f)/f),u>.5?f:-f},mean:function(l){return l>1?0:void 0},median:function(){return 0},mode:function(){return 0},sample:function(l){return t.randn()*e.sqrt(l/(2*t.randg(l/2)))},variance:function(l){return l>2?l/(l-2):l>1?1/0:void 0}}),t.extend(t.weibull,{pdf:function(l,f,m){return l<0||f<0||m<0?0:m/f*e.pow(l/f,m-1)*e.exp(-e.pow(l/f,m))},cdf:function(l,f,m){return l<0?0:1-e.exp(-e.pow(l/f,m))},inv:function(u,l,f){return l*e.pow(-e.log(1-u),1/f)},mean:function(u,l){return u*t.gammafn(1+1/l)},median:function(l,f){return l*e.pow(e.log(2),1/f)},mode:function(l,f){return f<=1?0:l*e.pow((f-1)/f,1/f)},sample:function(l,f){return l*e.pow(-e.log(t._random_fn()),1/f)},variance:function(l,f){return l*l*t.gammafn(1+2/f)-e.pow(t.weibull.mean(l,f),2)}}),t.extend(t.uniform,{pdf:function(l,f,m){return l<f||l>m?0:1/(m-f)},cdf:function(l,f,m){return l<f?0:l<m?(l-f)/(m-f):1},inv:function(u,l,f){return l+u*(f-l)},mean:function(l,f){return .5*(l+f)},median:function(l,f){return t.mean(l,f)},mode:function(){throw new Error("mode is not yet implemented")},sample:function(l,f){return l/2+f/2+(f/2-l/2)*(2*t._random_fn()-1)},variance:function(l,f){return e.pow(f-l,2)/12}});function o(u,l,f,m){for(var v=0,_=1,w=1,P=1,C=0,M=0,O;e.abs((w-M)/w)>m;)M=w,O=-(l+C)*(l+f+C)*u/(l+2*C)/(l+2*C+1),v=w+O*v,_=P+O*_,C=C+1,O=C*(f-C)*u/(l+2*C-1)/(l+2*C),w=v+O*w,P=_+O*P,v=v/P,_=_/P,w=w/P,P=1;return w/l}t.extend(t.binomial,{pdf:function(l,f,m){return m===0||m===1?f*m===l?1:0:t.combination(f,l)*e.pow(m,l)*e.pow(1-m,f-l)},cdf:function(l,f,m){var v,_=1e-10;if(l<0)return 0;if(l>=f)return 1;if(m<0||m>1||f<=0)return NaN;l=e.floor(l);var w=m,P=l+1,C=f-l,M=P+C,O=e.exp(t.gammaln(M)-t.gammaln(C)-t.gammaln(P)+P*e.log(w)+C*e.log(1-w));return w<(P+1)/(M+2)?v=O*o(w,P,C,_):v=1-O*o(1-w,C,P,_),e.round((1-v)*(1/_))/(1/_)}}),t.extend(t.negbin,{pdf:function(l,f,m){return l!==l>>>0?!1:l<0?0:t.combination(l+f-1,f-1)*e.pow(1-m,l)*e.pow(m,f)},cdf:function(l,f,m){var v=0,_=0;if(l<0)return 0;for(;_<=l;_++)v+=t.negbin.pdf(_,f,m);return v}}),t.extend(t.hypgeom,{pdf:function(l,f,m,v){if(l!==l|0)return!1;if(l<0||l<m-(f-v))return 0;if(l>v||l>m)return 0;if(m*2>f)return v*2>f?t.hypgeom.pdf(f-m-v+l,f,f-m,f-v):t.hypgeom.pdf(v-l,f,f-m,v);if(v*2>f)return t.hypgeom.pdf(m-l,f,m,f-v);if(m<v)return t.hypgeom.pdf(l,f,v,m);for(var _=1,w=0,P=0;P<l;P++){for(;_>1&&w<v;)_*=1-m/(f-w),w++;_*=(v-P)*(m-P)/((P+1)*(f-m-v+P+1))}for(;w<v;w++)_*=1-m/(f-w);return e.min(1,e.max(0,_))},cdf:function(l,f,m,v){if(l<0||l<m-(f-v))return 0;if(l>=v||l>=m)return 1;if(m*2>f)return v*2>f?t.hypgeom.cdf(f-m-v+l,f,f-m,f-v):1-t.hypgeom.cdf(v-l-1,f,f-m,v);if(v*2>f)return 1-t.hypgeom.cdf(m-l-1,f,m,f-v);if(m<v)return t.hypgeom.cdf(l,f,v,m);for(var _=1,w=1,P=0,C=0;C<l;C++){for(;_>1&&P<v;){var M=1-m/(f-P);w*=M,_*=M,P++}w*=(v-C)*(m-C)/((C+1)*(f-m-v+C+1)),_+=w}for(;P<v;P++)_*=1-m/(f-P);return e.min(1,e.max(0,_))}}),t.extend(t.poisson,{pdf:function(l,f){return f<0||l%1!==0||l<0?0:e.pow(f,l)*e.exp(-f)/t.factorial(l)},cdf:function(l,f){var m=[],v=0;if(l<0)return 0;for(;v<=l;v++)m.push(t.poisson.pdf(v,f));return t.sum(m)},mean:function(u){return u},variance:function(u){return u},sampleSmall:function(l){var f=1,m=0,v=e.exp(-l);do m++,f*=t._random_fn();while(f>v);return m-1},sampleLarge:function(l){var f=l,m,v,_,w,P,C,M,O,A,L;for(w=e.sqrt(f),P=e.log(f),M=.931+2.53*w,C=-.059+.02483*M,O=1.1239+1.1328/(M-3.4),A=.9277-3.6224/(M-2);;){if(v=e.random()-.5,_=e.random(),L=.5-e.abs(v),m=e.floor((2*C/L+M)*v+f+.43),L>=.07&&_<=A)return m;if(!(m<0||L<.013&&_>L)&&e.log(_)+e.log(O)-e.log(C/(L*L)+M)<=-f+m*P-t.loggam(m+1))return m}},sample:function(l){return l<10?this.sampleSmall(l):this.sampleLarge(l)}}),t.extend(t.triangular,{pdf:function(l,f,m,v){return m<=f||v<f||v>m?NaN:l<f||l>m?0:l<v?2*(l-f)/((m-f)*(v-f)):l===v?2/(m-f):2*(m-l)/((m-f)*(m-v))},cdf:function(l,f,m,v){return m<=f||v<f||v>m?NaN:l<=f?0:l>=m?1:l<=v?e.pow(l-f,2)/((m-f)*(v-f)):1-e.pow(m-l,2)/((m-f)*(m-v))},inv:function(l,f,m,v){return m<=f||v<f||v>m?NaN:l<=(v-f)/(m-f)?f+(m-f)*e.sqrt(l*((v-f)/(m-f))):f+(m-f)*(1-e.sqrt((1-l)*(1-(v-f)/(m-f))))},mean:function(l,f,m){return(l+f+m)/3},median:function(l,f,m){if(m<=(l+f)/2)return f-e.sqrt((f-l)*(f-m))/e.sqrt(2);if(m>(l+f)/2)return l+e.sqrt((f-l)*(m-l))/e.sqrt(2)},mode:function(l,f,m){return m},sample:function(l,f,m){var v=t._random_fn();return v<(m-l)/(f-l)?l+e.sqrt(v*(f-l)*(m-l)):f-e.sqrt((1-v)*(f-l)*(f-m))},variance:function(l,f,m){return(l*l+f*f+m*m-l*f-l*m-f*m)/18}}),t.extend(t.arcsine,{pdf:function(l,f,m){return m<=f?NaN:l<=f||l>=m?0:2/e.PI*e.pow(e.pow(m-f,2)-e.pow(2*l-f-m,2),-.5)},cdf:function(l,f,m){return l<f?0:l<m?2/e.PI*e.asin(e.sqrt((l-f)/(m-f))):1},inv:function(u,l,f){return l+(.5-.5*e.cos(e.PI*u))*(f-l)},mean:function(l,f){return f<=l?NaN:(l+f)/2},median:function(l,f){return f<=l?NaN:(l+f)/2},mode:function(){throw new Error("mode is not yet implemented")},sample:function(l,f){return(l+f)/2+(f-l)/2*e.sin(2*e.PI*t.uniform.sample(0,1))},variance:function(l,f){return f<=l?NaN:e.pow(f-l,2)/8}});function a(u){return u/e.abs(u)}t.extend(t.laplace,{pdf:function(l,f,m){return m<=0?0:e.exp(-e.abs(l-f)/m)/(2*m)},cdf:function(l,f,m){return m<=0?0:l<f?.5*e.exp((l-f)/m):1-.5*e.exp(-(l-f)/m)},mean:function(u){return u},median:function(u){return u},mode:function(u){return u},variance:function(u,l){return 2*l*l},sample:function(l,f){var m=t._random_fn()-.5;return l-f*a(m)*e.log(1-2*e.abs(m))}});function h(u,l,f){var m=12,v=6,_=-30,w=-50,P=60,C=8,M=3,O=2,A=3,L=[.9815606342467192,.9041172563704749,.7699026741943047,.5873179542866175,.3678314989981802,.1252334085114689],E=[.04717533638651183,.10693932599531843,.16007832854334622,.20316742672306592,.2334925365383548,.24914704581340277],F=u*.5;if(F>=C)return 1;var N=2*t.normal.cdf(F,0,1,1,0)-1;N>=e.exp(w/f)?N=e.pow(N,f):N=0;var H;u>M?H=O:H=A;for(var $=F,G=(C-F)/H,tt=$+G,et=0,at=f-1,ct=1;ct<=H;ct++){for(var rt=0,ot=.5*(tt+$),lt=.5*(tt-$),bt=1;bt<=m;bt++){var ht,kt;v<bt?(ht=m-bt+1,kt=L[ht-1]):(ht=bt,kt=-L[ht-1]);var Rt=lt*kt,Pt=ot+Rt,Ot=Pt*Pt;if(Ot>P)break;var Gt=2*t.normal.cdf(Pt,0,1,1,0),jt=2*t.normal.cdf(Pt,u,1,1,0),It=Gt*.5-jt*.5;It>=e.exp(_/at)&&(It=E[ht-1]*e.exp(-(.5*Ot))*e.pow(It,at),rt+=It)}rt*=2*lt*f/e.sqrt(2*e.PI),et+=rt,$=tt,tt+=G}return N+=et,N<=e.exp(_/l)?0:(N=e.pow(N,l),N>=1?1:N)}function p(u,l,f){var m=.322232421088,v=.099348462606,_=-1,w=.588581570495,P=-.342242088547,C=.531103462366,M=-.204231210125,O=.10353775285,A=-453642210148e-16,L=.0038560700634,E=.8832,F=.2368,N=1.214,H=1.208,$=1.4142,G=120,tt=.5-.5*u,et=e.sqrt(e.log(1/(tt*tt))),at=et+((((et*A+M)*et+P)*et+_)*et+m)/((((et*L+O)*et+C)*et+w)*et+v);f<G&&(at+=(at*at*at+at)/f/4);var ct=E-F*at;return f<G&&(ct+=-N/f+H*at/f),at*(ct*e.log(l-1)+$)}t.extend(t.tukey,{cdf:function(l,f,m){var v=1,_=f,w=16,P=8,C=-30,M=1e-14,O=100,A=800,L=5e3,E=25e3,F=1,N=.5,H=.25,$=.125,G=[.9894009349916499,.9445750230732326,.8656312023878318,.755404408355003,.6178762444026438,.45801677765722737,.2816035507792589,.09501250983763744],tt=[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685];if(l<=0)return 0;if(m<2||v<1||_<2)return NaN;if(!Number.isFinite(l))return 1;if(m>E)return h(l,v,_);var et=m*.5,at=et*e.log(m)-m*e.log(2)-t.gammaln(et),ct=et-1,rt=m*.25,ot;m<=O?ot=F:m<=A?ot=N:m<=L?ot=H:ot=$,at+=e.log(ot);for(var lt=0,bt=1;bt<=50;bt++){for(var ht=0,kt=(2*bt-1)*ot,Rt=1;Rt<=w;Rt++){var Pt,Ot;P<Rt?(Pt=Rt-P-1,Ot=at+ct*e.log(kt+G[Pt]*ot)-(G[Pt]*ot+kt)*rt):(Pt=Rt-1,Ot=at+ct*e.log(kt-G[Pt]*ot)+(G[Pt]*ot-kt)*rt);var Gt;if(Ot>=C){P<Rt?Gt=l*e.sqrt((G[Pt]*ot+kt)*.5):Gt=l*e.sqrt((-(G[Pt]*ot)+kt)*.5);var jt=h(Gt,v,_),It=jt*tt[Pt]*e.exp(Ot);ht+=It}}if(bt*ot>=1&&ht<=M)break;lt+=ht}if(ht>M)throw new Error("tukey.cdf failed to converge");return lt>1&&(lt=1),lt},inv:function(u,l,f){var m=1,v=l,_=1e-4,w=50;if(f<2||m<1||v<2)return NaN;if(u<0||u>1)return NaN;if(u===0)return 0;if(u===1)return 1/0;var P=p(u,v,f),C=t.tukey.cdf(P,l,f)-u,M;C>0?M=e.max(0,P-1):M=P+1;for(var O=t.tukey.cdf(M,l,f)-u,A,L=1;L<w;L++){A=M-O*(M-P)/(O-C),C=O,P=M,A<0&&(A=0,O=-u),O=t.tukey.cdf(A,l,f)-u,M=A;var E=e.abs(M-P);if(E<_)return A}throw new Error("tukey.inv failed to converge")}})}(i,Math),function(t,e){var o=Array.prototype.push,a=t.utils.isArray;function h(p){return a(p)||p instanceof t}t.extend({add:function(u,l){return h(l)?(h(l[0])||(l=[l]),t.map(u,function(f,m,v){return f+l[m][v]})):t.map(u,function(f){return f+l})},subtract:function(u,l){return h(l)?(h(l[0])||(l=[l]),t.map(u,function(f,m,v){return f-l[m][v]||0})):t.map(u,function(f){return f-l})},divide:function(u,l){return h(l)?(h(l[0])||(l=[l]),t.multiply(u,t.inv(l))):t.map(u,function(f){return f/l})},multiply:function(u,l){var f,m,v,_,w,P,C,M;if(u.length===void 0&&l.length===void 0)return u*l;if(w=u.length,P=u[0].length,C=t.zeros(w,v=h(l)?l[0].length:P),M=0,h(l)){for(;M<v;M++)for(f=0;f<w;f++){for(_=0,m=0;m<P;m++)_+=u[f][m]*l[m][M];C[f][M]=_}return w===1&&M===1?C[0][0]:C}return t.map(u,function(O){return O*l})},outer:function(u,l){return t.multiply(u.map(function(f){return[f]}),[l])},dot:function(u,l){h(u[0])||(u=[u]),h(l[0])||(l=[l]);for(var f=u[0].length===1&&u.length!==1?t.transpose(u):u,m=l[0].length===1&&l.length!==1?t.transpose(l):l,v=[],_=0,w=f.length,P=f[0].length,C,M;_<w;_++){for(v[_]=[],C=0,M=0;M<P;M++)C+=f[_][M]*m[_][M];v[_]=C}return v.length===1?v[0]:v},pow:function(u,l){return t.map(u,function(f){return e.pow(f,l)})},exp:function(u){return t.map(u,function(l){return e.exp(l)})},log:function(u){return t.map(u,function(l){return e.log(l)})},abs:function(u){return t.map(u,function(l){return e.abs(l)})},norm:function(u,l){var f=0,m=0;for(isNaN(l)&&(l=2),h(u[0])&&(u=u[0]);m<u.length;m++)f+=e.pow(e.abs(u[m]),l);return e.pow(f,1/l)},angle:function(u,l){return e.acos(t.dot(u,l)/(t.norm(u)*t.norm(l)))},aug:function(u,l){var f=[],m;for(m=0;m<u.length;m++)f.push(u[m].slice());for(m=0;m<f.length;m++)o.apply(f[m],l[m]);return f},inv:function(u){for(var l=u.length,f=u[0].length,m=t.identity(l,f),v=t.gauss_jordan(u,m),_=[],w=0,P;w<l;w++)for(_[w]=[],P=f;P<v[0].length;P++)_[w][P-f]=v[w][P];return _},det:function p(u){if(u.length===2)return u[0][0]*u[1][1]-u[0][1]*u[1][0];for(var l=0,f=0;f<u.length;f++){for(var m=[],v=1;v<u.length;v++){m[v-1]=[];for(var _=0;_<u.length;_++)_<f?m[v-1][_]=u[v][_]:_>f&&(m[v-1][_-1]=u[v][_])}var w=f%2?-1:1;l+=p(m)*u[0][f]*w}return l},gauss_elimination:function(u,l){var f=0,m=0,v=u.length,_=u[0].length,w=1,P=0,C=[],M,O,A,L;for(u=t.aug(u,l),M=u[0].length,f=0;f<v;f++){for(O=u[f][f],m=f,L=f+1;L<_;L++)O<e.abs(u[L][f])&&(O=u[L][f],m=L);if(m!=f)for(L=0;L<M;L++)A=u[f][L],u[f][L]=u[m][L],u[m][L]=A;for(m=f+1;m<v;m++)for(w=u[m][f]/u[f][f],L=f;L<M;L++)u[m][L]=u[m][L]-w*u[f][L]}for(f=v-1;f>=0;f--){for(P=0,m=f+1;m<=v-1;m++)P=P+C[m]*u[f][m];C[f]=(u[f][M-1]-P)/u[f][f]}return C},gauss_jordan:function(u,l){var f=t.aug(u,l),m=f.length,v=f[0].length,_=0,w,P,C;for(P=0;P<m;P++){var M=P;for(C=P+1;C<m;C++)e.abs(f[C][P])>e.abs(f[M][P])&&(M=C);var O=f[P];for(f[P]=f[M],f[M]=O,C=P+1;C<m;C++)for(_=f[C][P]/f[P][P],w=P;w<v;w++)f[C][w]-=f[P][w]*_}for(P=m-1;P>=0;P--){for(_=f[P][P],C=0;C<P;C++)for(w=v-1;w>P-1;w--)f[C][w]-=f[P][w]*f[C][P]/_;for(f[P][P]/=_,w=m;w<v;w++)f[P][w]/=_}return f},triaUpSolve:function(u,l){var f=u[0].length,m=t.zeros(1,f)[0],v,_=!1;return l[0].length!=null&&(l=l.map(function(w){return w[0]}),_=!0),t.arange(f-1,-1,-1).forEach(function(w){v=t.arange(w+1,f).map(function(P){return m[P]*u[w][P]}),m[w]=(l[w]-t.sum(v))/u[w][w]}),_?m.map(function(w){return[w]}):m},triaLowSolve:function(u,l){var f=u[0].length,m=t.zeros(1,f)[0],v,_=!1;return l[0].length!=null&&(l=l.map(function(w){return w[0]}),_=!0),t.arange(f).forEach(function(w){v=t.arange(w).map(function(P){return u[w][P]*m[P]}),m[w]=(l[w]-t.sum(v))/u[w][w]}),_?m.map(function(w){return[w]}):m},lu:function(u){var l=u.length,f=t.identity(l),m=t.zeros(u.length,u[0].length),v;return t.arange(l).forEach(function(_){m[0][_]=u[0][_]}),t.arange(1,l).forEach(function(_){t.arange(_).forEach(function(w){v=t.arange(w).map(function(P){return f[_][P]*m[P][w]}),f[_][w]=(u[_][w]-t.sum(v))/m[w][w]}),t.arange(_,l).forEach(function(w){v=t.arange(_).map(function(P){return f[_][P]*m[P][w]}),m[_][w]=u[v.length][w]-t.sum(v)})}),[f,m]},cholesky:function(u){var l=u.length,f=t.zeros(u.length,u[0].length),m;return t.arange(l).forEach(function(v){m=t.arange(v).map(function(_){return e.pow(f[v][_],2)}),f[v][v]=e.sqrt(u[v][v]-t.sum(m)),t.arange(v+1,l).forEach(function(_){m=t.arange(v).map(function(w){return f[v][w]*f[_][w]}),f[_][v]=(u[v][_]-t.sum(m))/f[v][v]})}),f},gauss_jacobi:function(u,l,f,m){for(var v=0,_=0,w=u.length,P=[],C=[],M=[],O,A,L,E;v<w;v++)for(P[v]=[],C[v]=[],M[v]=[],_=0;_<w;_++)v>_?(P[v][_]=u[v][_],C[v][_]=M[v][_]=0):v<_?(C[v][_]=u[v][_],P[v][_]=M[v][_]=0):(M[v][_]=u[v][_],P[v][_]=C[v][_]=0);for(L=t.multiply(t.multiply(t.inv(M),t.add(P,C)),-1),A=t.multiply(t.inv(M),l),O=f,E=t.add(t.multiply(L,f),A),v=2;e.abs(t.norm(t.subtract(E,O)))>m;)O=E,E=t.add(t.multiply(L,O),A),v++;return E},gauss_seidel:function(u,l,f,m){for(var v=0,_=u.length,w=[],P=[],C=[],M,O,A,L,E;v<_;v++)for(w[v]=[],P[v]=[],C[v]=[],M=0;M<_;M++)v>M?(w[v][M]=u[v][M],P[v][M]=C[v][M]=0):v<M?(P[v][M]=u[v][M],w[v][M]=C[v][M]=0):(C[v][M]=u[v][M],w[v][M]=P[v][M]=0);for(L=t.multiply(t.multiply(t.inv(t.add(C,w)),P),-1),A=t.multiply(t.inv(t.add(C,w)),l),O=f,E=t.add(t.multiply(L,f),A),v=2;e.abs(t.norm(t.subtract(E,O)))>m;)O=E,E=t.add(t.multiply(L,O),A),v=v+1;return E},SOR:function(u,l,f,m,v){for(var _=0,w=u.length,P=[],C=[],M=[],O,A,L,E,F;_<w;_++)for(P[_]=[],C[_]=[],M[_]=[],O=0;O<w;O++)_>O?(P[_][O]=u[_][O],C[_][O]=M[_][O]=0):_<O?(C[_][O]=u[_][O],P[_][O]=M[_][O]=0):(M[_][O]=u[_][O],P[_][O]=C[_][O]=0);for(E=t.multiply(t.inv(t.add(M,t.multiply(P,v))),t.subtract(t.multiply(M,1-v),t.multiply(C,v))),L=t.multiply(t.multiply(t.inv(t.add(M,t.multiply(P,v))),l),v),A=f,F=t.add(t.multiply(E,f),L),_=2;e.abs(t.norm(t.subtract(F,A)))>m;)A=F,F=t.add(t.multiply(E,A),L),_++;return F},householder:function(u){for(var l=u.length,f=u[0].length,m=0,v=[],_=[],w,P,C,M,O;m<l-1;m++){for(w=0,M=m+1;M<f;M++)w+=u[M][m]*u[M][m];for(O=u[m+1][m]>0?-1:1,w=O*e.sqrt(w),P=e.sqrt((w*w-u[m+1][m]*w)/2),v=t.zeros(l,1),v[m+1][0]=(u[m+1][m]-w)/(2*P),C=m+2;C<l;C++)v[C][0]=u[C][m]/(2*P);_=t.subtract(t.identity(l,f),t.multiply(t.multiply(v,t.transpose(v)),2)),u=t.multiply(_,t.multiply(u,_))}return u},QR:function(){var p=t.sum,u=t.arange;function l(f){var m=f.length,v=f[0].length,_=t.zeros(v,v);f=t.copy(f);var w,P,C;for(P=0;P<v;P++){for(_[P][P]=e.sqrt(p(u(m).map(function(M){return f[M][P]*f[M][P]}))),w=0;w<m;w++)f[w][P]=f[w][P]/_[P][P];for(C=P+1;C<v;C++)for(_[P][C]=p(u(m).map(function(M){return f[M][P]*f[M][C]})),w=0;w<m;w++)f[w][C]=f[w][C]-f[w][P]*_[P][C]}return[f,_]}return l}(),lstsq:function(){function p(l){l=t.copy(l);var f=l.length,m=t.identity(f);return t.arange(f-1,-1,-1).forEach(function(v){t.sliceAssign(m,{row:v},t.divide(t.slice(m,{row:v}),l[v][v])),t.sliceAssign(l,{row:v},t.divide(t.slice(l,{row:v}),l[v][v])),t.arange(v).forEach(function(_){var w=t.multiply(l[_][v],-1),P=t.slice(l,{row:_}),C=t.multiply(t.slice(l,{row:v}),w);t.sliceAssign(l,{row:_},t.add(P,C));var M=t.slice(m,{row:_}),O=t.multiply(t.slice(m,{row:v}),w);t.sliceAssign(m,{row:_},t.add(M,O))})}),m}function u(l,f){var m=!1;f[0].length===void 0&&(f=f.map(function(E){return[E]}),m=!0);var v=t.QR(l),_=v[0],w=v[1],P=l[0].length,C=t.slice(_,{col:{end:P}}),M=t.slice(w,{row:{end:P}}),O=p(M),A=t.transpose(C);A[0].length===void 0&&(A=[A]);var L=t.multiply(t.multiply(O,A),f);return L.length===void 0&&(L=[[L]]),m?L.map(function(E){return E[0]}):L}return u}(),jacobi:function(u){for(var l=1,f=u.length,m=t.identity(f,f),v=[],_,w,P,C,M,O,A,L;l===1;){for(O=u[0][1],C=0,M=1,w=0;w<f;w++)for(P=0;P<f;P++)w!=P&&O<e.abs(u[w][P])&&(O=e.abs(u[w][P]),C=w,M=P);for(u[C][C]===u[M][M]?A=u[C][M]>0?e.PI/4:-e.PI/4:A=e.atan(2*u[C][M]/(u[C][C]-u[M][M]))/2,L=t.identity(f,f),L[C][C]=e.cos(A),L[C][M]=-e.sin(A),L[M][C]=e.sin(A),L[M][M]=e.cos(A),m=t.multiply(m,L),_=t.multiply(t.multiply(t.inv(L),u),L),u=_,l=0,w=1;w<f;w++)for(P=1;P<f;P++)w!=P&&e.abs(u[w][P])>.001&&(l=1)}for(w=0;w<f;w++)v.push(u[w][w]);return[m,v]},rungekutta:function(u,l,f,m,v,_){var w,P,C,M,O;if(_===2)for(;m<=f;)w=l*u(m,v),P=l*u(m+l,v+w),C=v+(w+P)/2,v=C,m=m+l;if(_===4)for(;m<=f;)w=l*u(m,v),P=l*u(m+l/2,v+w/2),M=l*u(m+l/2,v+P/2),O=l*u(m+l,v+M),C=v+(w+2*P+2*M+O)/6,v=C,m=m+l;return v},romberg:function(u,l,f,m){for(var v=0,_=(f-l)/2,w=[],P=[],C=[],M,O,A,L,E;v<m/2;){for(E=u(l),A=l,L=0;A<=f;A=A+_,L++)w[L]=A;for(M=w.length,A=1;A<M-1;A++)E+=(A%2!==0?4:2)*u(w[A]);E=_/3*(E+u(f)),C[v]=E,_/=2,v++}for(O=C.length,M=1;O!==1;){for(A=0;A<O-1;A++)P[A]=(e.pow(4,M)*C[A+1]-C[A])/(e.pow(4,M)-1);O=P.length,C=P,P=[],M++}return C},richardson:function(u,l,f,m){function v(F,N){for(var H=0,$=F.length,G;H<$;H++)F[H]===N&&(G=H);return G}for(var _=e.abs(f-u[v(u,f)+1]),w=0,P=[],C=[],M,O,A,L,E;m>=_;)M=v(u,f+m),O=v(u,f),P[w]=(l[M]-2*l[O]+l[2*O-M])/(m*m),m/=2,w++;for(L=P.length,A=1;L!=1;){for(E=0;E<L-1;E++)C[E]=(e.pow(4,A)*P[E+1]-P[E])/(e.pow(4,A)-1);L=C.length,P=C,C=[],A++}return P},simpson:function(u,l,f,m){for(var v=(f-l)/m,_=u(l),w=[],P=l,C=0,M=1,O;P<=f;P=P+v,C++)w[C]=P;for(O=w.length;M<O-1;M++)_+=(M%2!==0?4:2)*u(w[M]);return v/3*(_+u(f))},hermite:function(u,l,f,m){for(var v=u.length,_=0,w=0,P=[],C=[],M=[],O=[],A;w<v;w++){for(P[w]=1,A=0;A<v;A++)w!=A&&(P[w]*=(m-u[A])/(u[w]-u[A]));for(C[w]=0,A=0;A<v;A++)w!=A&&(C[w]+=1/(u[w]-u[A]));M[w]=(1-2*(m-u[w])*C[w])*(P[w]*P[w]),O[w]=(m-u[w])*(P[w]*P[w]),_+=M[w]*l[w]+O[w]*f[w]}return _},lagrange:function(u,l,f){for(var m=0,v=0,_,w,P=u.length;v<P;v++){for(w=l[v],_=0;_<P;_++)v!=_&&(w*=(f-u[_])/(u[v]-u[_]));m+=w}return m},cubic_spline:function(u,l,f){for(var m=u.length,v=0,_,w=[],P=[],C=[],M=[],O=[],A=[],L=[];v<m-1;v++)O[v]=u[v+1]-u[v];for(C[0]=0,v=1;v<m-1;v++)C[v]=3/O[v]*(l[v+1]-l[v])-3/O[v-1]*(l[v]-l[v-1]);for(v=1;v<m-1;v++)w[v]=[],P[v]=[],w[v][v-1]=O[v-1],w[v][v]=2*(O[v-1]+O[v]),w[v][v+1]=O[v],P[v][0]=C[v];for(M=t.multiply(t.inv(w),P),_=0;_<m-1;_++)A[_]=(l[_+1]-l[_])/O[_]-O[_]*(M[_+1][0]+2*M[_][0])/3,L[_]=(M[_+1][0]-M[_][0])/(3*O[_]);for(_=0;_<m&&!(u[_]>f);_++);return _-=1,l[_]+(f-u[_])*A[_]+t.sq(f-u[_])*M[_]+(f-u[_])*t.sq(f-u[_])*L[_]},gauss_quadrature:function(){throw new Error("gauss_quadrature not yet implemented")},PCA:function(u){var l=u.length,f=u[0].length,m=0,v,_,w=[],P=[],C=[],M=[],O=[],A=[],L=[],E=[],F=[],N=[];for(m=0;m<l;m++)w[m]=t.sum(u[m])/f;for(m=0;m<f;m++)for(L[m]=[],v=0;v<l;v++)L[m][v]=u[v][m]-w[v];for(L=t.transpose(L),m=0;m<l;m++)for(E[m]=[],v=0;v<l;v++)E[m][v]=t.dot([L[m]],[L[v]])/(f-1);for(C=t.jacobi(E),F=C[0],P=C[1],N=t.transpose(F),m=0;m<P.length;m++)for(v=m;v<P.length;v++)P[m]<P[v]&&(_=P[m],P[m]=P[v],P[v]=_,M=N[m],N[m]=N[v],N[v]=M);for(A=t.transpose(L),m=0;m<l;m++)for(O[m]=[],v=0;v<A.length;v++)O[m][v]=t.dot([N[m]],[A[v]]);return[u,P,N,O]}}),function(p){for(var u=0;u<p.length;u++)(function(l){t.fn[l]=function(f,m){var v=this;return m?(setTimeout(function(){m.call(v,t.fn[l].call(v,f))},15),this):typeof t[l](this,f)=="number"?t[l](this,f):t(t[l](this,f))}})(p[u])}("add divide multiply subtract dot pow exp log abs norm angle".split(" "))}(i,Math),function(t,e){var o=[].slice,a=t.utils.isNumber,h=t.utils.isArray;t.extend({zscore:function(){var l=o.call(arguments);return a(l[1])?(l[0]-l[1])/l[2]:(l[0]-t.mean(l[1]))/t.stdev(l[1],l[2])},ztest:function(){var l=o.call(arguments),f;return h(l[1])?(f=t.zscore(l[0],l[1],l[3]),l[2]===1?t.normal.cdf(-e.abs(f),0,1):t.normal.cdf(-e.abs(f),0,1)*2):l.length>2?(f=t.zscore(l[0],l[1],l[2]),l[3]===1?t.normal.cdf(-e.abs(f),0,1):t.normal.cdf(-e.abs(f),0,1)*2):(f=l[0],l[1]===1?t.normal.cdf(-e.abs(f),0,1):t.normal.cdf(-e.abs(f),0,1)*2)}}),t.extend(t.fn,{zscore:function(l,f){return(l-this.mean())/this.stdev(f)},ztest:function(l,f,m){var v=e.abs(this.zscore(l,m));return f===1?t.normal.cdf(-v,0,1):t.normal.cdf(-v,0,1)*2}}),t.extend({tscore:function(){var l=o.call(arguments);return l.length===4?(l[0]-l[1])/(l[2]/e.sqrt(l[3])):(l[0]-t.mean(l[1]))/(t.stdev(l[1],!0)/e.sqrt(l[1].length))},ttest:function(){var l=o.call(arguments),f;return l.length===5?(f=e.abs(t.tscore(l[0],l[1],l[2],l[3])),l[4]===1?t.studentt.cdf(-f,l[3]-1):t.studentt.cdf(-f,l[3]-1)*2):a(l[1])?(f=e.abs(l[0]),l[2]==1?t.studentt.cdf(-f,l[1]-1):t.studentt.cdf(-f,l[1]-1)*2):(f=e.abs(t.tscore(l[0],l[1])),l[2]==1?t.studentt.cdf(-f,l[1].length-1):t.studentt.cdf(-f,l[1].length-1)*2)}}),t.extend(t.fn,{tscore:function(l){return(l-this.mean())/(this.stdev(!0)/e.sqrt(this.cols()))},ttest:function(l,f){return f===1?1-t.studentt.cdf(e.abs(this.tscore(l)),this.cols()-1):t.studentt.cdf(-e.abs(this.tscore(l)),this.cols()-1)*2}}),t.extend({anovafscore:function(){var l=o.call(arguments),f,m,v,_,w,P,C,M;if(l.length===1){for(w=new Array(l[0].length),C=0;C<l[0].length;C++)w[C]=l[0][C];l=w}for(m=new Array,C=0;C<l.length;C++)m=m.concat(l[C]);for(v=t.mean(m),f=0,C=0;C<l.length;C++)f=f+l[C].length*e.pow(t.mean(l[C])-v,2);for(f/=l.length-1,P=0,C=0;C<l.length;C++)for(_=t.mean(l[C]),M=0;M<l[C].length;M++)P+=e.pow(l[C][M]-_,2);return P/=m.length-l.length,f/P},anovaftest:function(){var l=o.call(arguments),f,m,v,_;if(a(l[0]))return 1-t.centralF.cdf(l[0],l[1],l[2]);var w=t.anovafscore(l);for(f=l.length-1,v=0,_=0;_<l.length;_++)v=v+l[_].length;return m=v-f-1,1-t.centralF.cdf(w,f,m)},ftest:function(l,f,m){return 1-t.centralF.cdf(l,f,m)}}),t.extend(t.fn,{anovafscore:function(){return t.anovafscore(this.toArray())},anovaftes:function(){var l=0,f;for(f=0;f<this.length;f++)l=l+this[f].length;return t.ftest(this.anovafscore(),this.length-1,l-this.length)}}),t.extend({qscore:function(){var l=o.call(arguments),f,m,v,_,w;return a(l[0])?(f=l[0],m=l[1],v=l[2],_=l[3],w=l[4]):(f=t.mean(l[0]),m=t.mean(l[1]),v=l[0].length,_=l[1].length,w=l[2]),e.abs(f-m)/(w*e.sqrt((1/v+1/_)/2))},qtest:function(){var l=o.call(arguments),f;l.length===3?(f=l[0],l=l.slice(1)):l.length===7?(f=t.qscore(l[0],l[1],l[2],l[3],l[4]),l=l.slice(5)):(f=t.qscore(l[0],l[1],l[2]),l=l.slice(3));var m=l[0],v=l[1];return 1-t.tukey.cdf(f,v,m-v)},tukeyhsd:function(l){for(var f=t.pooledstdev(l),m=l.map(function(M){return t.mean(M)}),v=l.reduce(function(M,O){return M+O.length},0),_=[],w=0;w<l.length;++w)for(var P=w+1;P<l.length;++P){var C=t.qtest(m[w],m[P],l[w].length,l[P].length,f,v,l.length);_.push([[w,P],C])}return _}}),t.extend({normalci:function(){var l=o.call(arguments),f=new Array(2),m;return l.length===4?m=e.abs(t.normal.inv(l[1]/2,0,1)*l[2]/e.sqrt(l[3])):m=e.abs(t.normal.inv(l[1]/2,0,1)*t.stdev(l[2])/e.sqrt(l[2].length)),f[0]=l[0]-m,f[1]=l[0]+m,f},tci:function(){var l=o.call(arguments),f=new Array(2),m;return l.length===4?m=e.abs(t.studentt.inv(l[1]/2,l[3]-1)*l[2]/e.sqrt(l[3])):m=e.abs(t.studentt.inv(l[1]/2,l[2].length-1)*t.stdev(l[2],!0)/e.sqrt(l[2].length)),f[0]=l[0]-m,f[1]=l[0]+m,f},significant:function(l,f){return l<f}}),t.extend(t.fn,{normalci:function(l,f){return t.normalci(l,f,this.toArray())},tci:function(l,f){return t.tci(l,f,this.toArray())}});function p(u,l,f,m){if(u>1||f>1||u<=0||f<=0)throw new Error("Proportions should be greater than 0 and less than 1");var v=(u*l+f*m)/(l+m),_=e.sqrt(v*(1-v)*(1/l+1/m));return(u-f)/_}t.extend(t.fn,{oneSidedDifferenceOfProportions:function(l,f,m,v){var _=p(l,f,m,v);return t.ztest(_,1)},twoSidedDifferenceOfProportions:function(l,f,m,v){var _=p(l,f,m,v);return t.ztest(_,2)}})}(i,Math),i.models=function(){function t(p){var u=p[0].length,l=i.arange(u).map(function(f){var m=i.arange(u).filter(function(v){return v!==f});return e(i.col(p,f).map(function(v){return v[0]}),i.col(p,m))});return l}function e(p,u){var l=p.length,f=u[0].length-1,m=l-f-1,v=i.lstsq(u,p),_=i.multiply(u,v.map(function(L){return[L]})).map(function(L){return L[0]}),w=i.subtract(p,_),P=i.mean(p),C=i.sum(_.map(function(L){return Math.pow(L-P,2)})),M=i.sum(p.map(function(L,E){return Math.pow(L-_[E],2)})),O=C+M,A=C/O;return{exog:u,endog:p,nobs:l,df_model:f,df_resid:m,coef:v,predict:_,resid:w,ybar:P,SST:O,SSE:C,SSR:M,R2:A}}function o(p){var u=t(p.exog),l=Math.sqrt(p.SSR/p.df_resid),f=u.map(function(P){var C=P.SST,M=P.R2;return l/Math.sqrt(C*(1-M))}),m=p.coef.map(function(P,C){return(P-0)/f[C]}),v=m.map(function(P){var C=i.studentt.cdf(P,p.df_resid);return(C>.5?1-C:C)*2}),_=i.studentt.inv(.975,p.df_resid),w=p.coef.map(function(P,C){var M=_*f[C];return[P-M,P+M]});return{se:f,t:m,p:v,sigmaHat:l,interval95:w}}function a(p){var u=p.R2/p.df_model/((1-p.R2)/p.df_resid),l=function(m,v,_){return i.beta.cdf(m/(_/v+m),v/2,_/2)},f=1-l(u,p.df_model,p.df_resid);return{F_statistic:u,pvalue:f}}function h(p,u){var l=e(p,u),f=o(l),m=a(l),v=1-(1-l.R2)*((l.nobs-1)/l.df_resid);return l.t=f,l.f=m,l.adjust_R2=v,l}return{ols:h}}(),i.extend({buildxmatrix:function(){for(var e=new Array(arguments.length),o=0;o<arguments.length;o++){var a=[1];e[o]=a.concat(arguments[o])}return i(e)},builddxmatrix:function(){for(var e=new Array(arguments[0].length),o=0;o<arguments[0].length;o++){var a=[1];e[o]=a.concat(arguments[0][o])}return i(e)},buildjxmatrix:function(e){for(var o=new Array(e.length),a=0;a<e.length;a++)o[a]=e[a];return i.builddxmatrix(o)},buildymatrix:function(e){return i(e).transpose()},buildjymatrix:function(e){return e.transpose()},matrixmult:function(e,o){var a,h,p,u,l;if(e.cols()==o.rows()){if(o.rows()>1){for(u=[],a=0;a<e.rows();a++)for(u[a]=[],h=0;h<o.cols();h++){for(l=0,p=0;p<e.cols();p++)l+=e.toArray()[a][p]*o.toArray()[p][h];u[a][h]=l}return i(u)}for(u=[],a=0;a<e.rows();a++)for(u[a]=[],h=0;h<o.cols();h++){for(l=0,p=0;p<e.cols();p++)l+=e.toArray()[a][p]*o.toArray()[h];u[a][h]=l}return i(u)}},regress:function(e,o){var a=i.xtranspxinv(e),h=e.transpose(),p=i.matrixmult(i(a),h);return i.matrixmult(p,o)},regresst:function(e,o,a){var h=i.regress(e,o),p={};p.anova={};var u=i.jMatYBar(e,h);p.yBar=u;var l=o.mean();p.anova.residuals=i.residuals(o,u),p.anova.ssr=i.ssr(u,l),p.anova.msr=p.anova.ssr/(e[0].length-1),p.anova.sse=i.sse(o,u),p.anova.mse=p.anova.sse/(o.length-(e[0].length-1)-1),p.anova.sst=i.sst(o,l),p.anova.mst=p.anova.sst/(o.length-1),p.anova.r2=1-p.anova.sse/p.anova.sst,p.anova.r2<0&&(p.anova.r2=0),p.anova.fratio=p.anova.msr/p.anova.mse,p.anova.pvalue=i.anovaftest(p.anova.fratio,e[0].length-1,o.length-(e[0].length-1)-1),p.anova.rmse=Math.sqrt(p.anova.mse),p.anova.r2adj=1-p.anova.mse/p.anova.mst,p.anova.r2adj<0&&(p.anova.r2adj=0),p.stats=new Array(e[0].length);for(var f=i.xtranspxinv(e),m,v,_,w=0;w<h.length;w++)m=Math.sqrt(p.anova.mse*Math.abs(f[w][w])),v=Math.abs(h[w]/m),_=i.ttest(v,o.length-e[0].length-1,a),p.stats[w]=[h[w],m,v,_];return p.regress=h,p},xtranspx:function(e){return i.matrixmult(e.transpose(),e)},xtranspxinv:function(e){var o=i.matrixmult(e.transpose(),e),a=i.inv(o);return a},jMatYBar:function(e,o){var a=i.matrixmult(e,o);return new i(a)},residuals:function(e,o){return i.matrixsubtract(e,o)},ssr:function(e,o){for(var a=0,h=0;h<e.length;h++)a+=Math.pow(e[h]-o,2);return a},sse:function(e,o){for(var a=0,h=0;h<e.length;h++)a+=Math.pow(e[h]-o[h],2);return a},sst:function(e,o){for(var a=0,h=0;h<e.length;h++)a+=Math.pow(e[h]-o,2);return a},matrixsubtract:function(e,o){for(var a=new Array(e.length),h=0;h<e.length;h++){a[h]=new Array(e[h].length);for(var p=0;p<e[h].length;p++)a[h][p]=e[h][p]-o[h][p]}return i(a)}}),i.jStat=i,i})});var lf=Rr((Lw,Ol)=>{(function(i,t){typeof Ol<"u"?Ol.exports=t():typeof define=="function"&&typeof define.amd=="object"?define(t):this[i]=t()})("Clusterize",function(){"use strict";var i=function(){for(var u=3,l=document.createElement("b"),f=l.all||[];l.innerHTML="<!--[if gt IE "+ ++u+"]><i><![endif]-->",f[0];);return u>4?u:document.documentMode}(),t=navigator.platform.toLowerCase().indexOf("mac")+1,e=function(u){if(!(this instanceof e))return new e(u);var l=this,f={rows_in_block:50,blocks_in_cluster:4,tag:null,show_no_data_row:!0,no_data_class:"clusterize-no-data",no_data_text:"No data",keep_parity:!0,callbacks:{}};l.options={};for(var m=["rows_in_block","blocks_in_cluster","show_no_data_row","no_data_class","no_data_text","keep_parity","tag","callbacks"],v=0,_;_=m[v];v++)l.options[_]=typeof u[_]<"u"&&u[_]!=null?u[_]:f[_];for(var w=["scroll","content"],v=0,P;P=w[v];v++)if(l[P+"_elem"]=u[P+"Id"]?document.getElementById(u[P+"Id"]):u[P+"Elem"],!l[P+"_elem"])throw new Error("Error! Could not find "+P+" element");l.content_elem.hasAttribute("tabindex")||l.content_elem.setAttribute("tabindex",0);var C=h(u.rows)?u.rows:l.fetchMarkup(),M={},O=l.scroll_elem.scrollTop;l.insertToDOM(C,M),l.scroll_elem.scrollTop=O;var A=!1,L=0,E=!1,F=function(){t&&(E||(l.content_elem.style.pointerEvents="none"),E=!0,clearTimeout(L),L=setTimeout(function(){l.content_elem.style.pointerEvents="auto",E=!1},50)),A!=(A=l.getClusterNum(C))&&l.insertToDOM(C,M),l.options.callbacks.scrollingProgress&&l.options.callbacks.scrollingProgress(l.getScrollProgress())},N=0,H=function(){clearTimeout(N),N=setTimeout(l.refresh,100)};o("scroll",l.scroll_elem,F),o("resize",window,H),l.destroy=function(G){a("scroll",l.scroll_elem,F),a("resize",window,H),l.html((G?l.generateEmptyRow():C).join(""))},l.refresh=function(G){(l.getRowsHeight(C)||G)&&l.update(C)},l.update=function(G){C=h(G)?G:[];var tt=l.scroll_elem.scrollTop;C.length*l.options.item_height<tt&&(l.scroll_elem.scrollTop=0,A=0),l.insertToDOM(C,M),l.scroll_elem.scrollTop=tt},l.clear=function(){l.update([])},l.getRowsAmount=function(){return C.length},l.getScrollProgress=function(){return this.options.scroll_top/(C.length*this.options.item_height)*100||0};var $=function(G,tt){var et=h(tt)?tt:[];et.length&&(C=G=="append"?C.concat(et):et.concat(C),l.insertToDOM(C,M))};l.append=function(G){$("append",G)},l.prepend=function(G){$("prepend",G)}};e.prototype={constructor:e,fetchMarkup:function(){for(var u=[],l=this.getChildNodes(this.content_elem);l.length;)u.push(l.shift().outerHTML);return u},exploreEnvironment:function(u,l){var f=this.options;f.content_tag=this.content_elem.tagName.toLowerCase(),u.length&&(i&&i<=9&&!f.tag&&(f.tag=u[0].match(/<([^>\s/]*)/)[1].toLowerCase()),this.content_elem.children.length<=1&&(l.data=this.html(u[0]+u[0]+u[0])),f.tag||(f.tag=this.content_elem.children[0].tagName.toLowerCase()),this.getRowsHeight(u))},getRowsHeight:function(u){var l=this.options,f=l.item_height;if(l.cluster_height=0,!!u.length){var m=this.content_elem.children;if(m.length){var v=m[Math.floor(m.length/2)];if(l.item_height=v.offsetHeight,l.tag=="tr"&&p("borderCollapse",this.content_elem)!="collapse"&&(l.item_height+=parseInt(p("borderSpacing",this.content_elem),10)||0),l.tag!="tr"){var _=parseInt(p("marginTop",v),10)||0,w=parseInt(p("marginBottom",v),10)||0;l.item_height+=Math.max(_,w)}return l.block_height=l.item_height*l.rows_in_block,l.rows_in_cluster=l.blocks_in_cluster*l.rows_in_block,l.cluster_height=l.blocks_in_cluster*l.block_height,f!=l.item_height}}},getClusterNum:function(u){var l=this.options;l.scroll_top=this.scroll_elem.scrollTop;var f=l.cluster_height-l.block_height,m=Math.floor(l.scroll_top/f),v=Math.floor(u.length*l.item_height/f);return Math.min(m,v)},generateEmptyRow:function(){var u=this.options;if(!u.tag||!u.show_no_data_row)return[];var l=document.createElement(u.tag),f=document.createTextNode(u.no_data_text),m;return l.className=u.no_data_class,u.tag=="tr"&&(m=document.createElement("td"),m.colSpan=100,m.appendChild(f)),l.appendChild(m||f),[l.outerHTML]},generate:function(u){var l=this.options,f=u.length;if(f<l.rows_in_block)return{top_offset:0,bottom_offset:0,rows_above:0,rows:f?u:this.generateEmptyRow()};var m=Math.max((l.rows_in_cluster-l.rows_in_block)*this.getClusterNum(u),0),v=m+l.rows_in_cluster,_=Math.max(m*l.item_height,0),w=Math.max((f-v)*l.item_height,0),P=[],C=m;_<1&&C++;for(var M=m;M<v;M++)u[M]&&P.push(u[M]);return{top_offset:_,bottom_offset:w,rows_above:C,rows:P}},renderExtraTag:function(u,l){var f=document.createElement(this.options.tag),m="clusterize-";return f.className=[m+"extra-row",m+u].join(" "),l&&(f.style.height=l+"px"),f.outerHTML},insertToDOM:function(u,l){this.options.cluster_height||this.exploreEnvironment(u,l);var f=this.generate(u),m=f.rows.join(""),v=this.checkChanges("data",m,l),_=this.checkChanges("top",f.top_offset,l),w=this.checkChanges("bottom",f.bottom_offset,l),P=this.options.callbacks,C=[];v||_?(f.top_offset&&(this.options.keep_parity&&C.push(this.renderExtraTag("keep-parity")),C.push(this.renderExtraTag("top-space",f.top_offset))),C.push(m),f.bottom_offset&&C.push(this.renderExtraTag("bottom-space",f.bottom_offset)),P.clusterWillChange&&P.clusterWillChange(),this.html(C.join("")),this.options.content_tag=="ol"&&this.content_elem.setAttribute("start",f.rows_above),this.content_elem.style["counter-increment"]="clusterize-counter "+(f.rows_above-1),P.clusterChanged&&P.clusterChanged()):w&&(this.content_elem.lastChild.style.height=f.bottom_offset+"px")},html:function(u){var l=this.content_elem;if(i&&i<=9&&this.options.tag=="tr"){var f=document.createElement("div"),m;for(f.innerHTML="<table><tbody>"+u+"</tbody></table>";m=l.lastChild;)l.removeChild(m);for(var v=this.getChildNodes(f.firstChild.firstChild);v.length;)l.appendChild(v.shift())}else l.innerHTML=u},getChildNodes:function(u){for(var l=u.children,f=[],m=0,v=l.length;m<v;m++)f.push(l[m]);return f},checkChanges:function(u,l,f){var m=l!=f[u];return f[u]=l,m}};function o(u,l,f){return l.addEventListener?l.addEventListener(u,f,!1):l.attachEvent("on"+u,f)}function a(u,l,f){return l.removeEventListener?l.removeEventListener(u,f,!1):l.detachEvent("on"+u,f)}function h(u){return Object.prototype.toString.call(u)==="[object Array]"}function p(u,l){return window.getComputedStyle?window.getComputedStyle(l)[u]:l.currentStyle[u]}return e})});var xp=Rr((Dc,Lc)=>{(function(i,t){typeof Dc=="object"&&typeof Lc<"u"?Lc.exports=t():typeof define=="function"&&define.amd?define(t):(i=typeof globalThis<"u"?globalThis:i||self,i.Chart=t())})(Dc,function(){"use strict";function i(){}let t=function(){let r=0;return function(){return r++}}();function e(r){return r===null||typeof r>"u"}function o(r){if(Array.isArray&&Array.isArray(r))return!0;let n=Object.prototype.toString.call(r);return n.slice(0,7)==="[object"&&n.slice(-6)==="Array]"}function a(r){return r!==null&&Object.prototype.toString.call(r)==="[object Object]"}let h=r=>(typeof r=="number"||r instanceof Number)&&isFinite(+r);function p(r,n){return h(r)?r:n}function u(r,n){return typeof r>"u"?n:r}let l=(r,n)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100:r/n,f=(r,n)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100*n:+r;function m(r,n,s){if(r&&typeof r.call=="function")return r.apply(s,n)}function v(r,n,s,c){let d,g,b;if(o(r))if(g=r.length,c)for(d=g-1;d>=0;d--)n.call(s,r[d],d);else for(d=0;d<g;d++)n.call(s,r[d],d);else if(a(r))for(b=Object.keys(r),g=b.length,d=0;d<g;d++)n.call(s,r[b[d]],b[d])}function _(r,n){let s,c,d,g;if(!r||!n||r.length!==n.length)return!1;for(s=0,c=r.length;s<c;++s)if(d=r[s],g=n[s],d.datasetIndex!==g.datasetIndex||d.index!==g.index)return!1;return!0}function w(r){if(o(r))return r.map(w);if(a(r)){let n=Object.create(null),s=Object.keys(r),c=s.length,d=0;for(;d<c;++d)n[s[d]]=w(r[s[d]]);return n}return r}function P(r){return["__proto__","prototype","constructor"].indexOf(r)===-1}function C(r,n,s,c){if(!P(r))return;let d=n[r],g=s[r];a(d)&&a(g)?M(d,g,c):n[r]=w(g)}function M(r,n,s){let c=o(n)?n:[n],d=c.length;if(!a(r))return r;s=s||{};let g=s.merger||C;for(let b=0;b<d;++b){if(n=c[b],!a(n))continue;let x=Object.keys(n);for(let y=0,k=x.length;y<k;++y)g(x[y],r,n,s)}return r}function O(r,n){return M(r,n,{merger:A})}function A(r,n,s){if(!P(r))return;let c=n[r],d=s[r];a(c)&&a(d)?O(c,d):Object.prototype.hasOwnProperty.call(n,r)||(n[r]=w(d))}function L(r,n,s,c){n!==void 0&&console.warn(r+': "'+s+'" is deprecated. Please use "'+c+'" instead')}let E={"":r=>r,x:r=>r.x,y:r=>r.y};function F(r,n){return(E[n]||(E[n]=N(n)))(r)}function N(r){let n=H(r);return s=>{for(let c of n){if(c==="")break;s=s&&s[c]}return s}}function H(r){let n=r.split("."),s=[],c="";for(let d of n)c+=d,c.endsWith("\\")?c=c.slice(0,-1)+".":(s.push(c),c="");return s}function $(r){return r.charAt(0).toUpperCase()+r.slice(1)}let G=r=>typeof r<"u",tt=r=>typeof r=="function",et=(r,n)=>{if(r.size!==n.size)return!1;for(let s of r)if(!n.has(s))return!1;return!0};function at(r){return r.type==="mouseup"||r.type==="click"||r.type==="contextmenu"}let ct=Math.PI,rt=2*ct,ot=rt+ct,lt=Number.POSITIVE_INFINITY,bt=ct/180,ht=ct/2,kt=ct/4,Rt=ct*2/3,Pt=Math.log10,Ot=Math.sign;function Gt(r){let n=Math.round(r);r=Kt(r,n,r/1e3)?n:r;let s=Math.pow(10,Math.floor(Pt(r))),c=r/s;return(c<=1?1:c<=2?2:c<=5?5:10)*s}function jt(r){let n=[],s=Math.sqrt(r),c;for(c=1;c<s;c++)r%c===0&&(n.push(c),n.push(r/c));return s===(s|0)&&n.push(s),n.sort((d,g)=>d-g).pop(),n}function It(r){return!isNaN(parseFloat(r))&&isFinite(r)}function Kt(r,n,s){return Math.abs(r-n)<s}function Ve(r,n){let s=Math.round(r);return s-n<=r&&s+n>=r}function re(r,n,s){let c,d,g;for(c=0,d=r.length;c<d;c++)g=r[c][s],isNaN(g)||(n.min=Math.min(n.min,g),n.max=Math.max(n.max,g))}function Mt(r){return r*(ct/180)}function Ae(r){return r*(180/ct)}function qe(r){if(!h(r))return;let n=1,s=0;for(;Math.round(r*n)/n!==r;)n*=10,s++;return s}function pn(r,n){let s=n.x-r.x,c=n.y-r.y,d=Math.sqrt(s*s+c*c),g=Math.atan2(c,s);return g<-.5*ct&&(g+=rt),{angle:g,distance:d}}function en(r,n){return Math.sqrt(Math.pow(n.x-r.x,2)+Math.pow(n.y-r.y,2))}function Bn(r,n){return(r-n+ot)%rt-ct}function he(r){return(r%rt+rt)%rt}function Ue(r,n,s,c){let d=he(r),g=he(n),b=he(s),x=he(g-d),y=he(b-d),k=he(d-g),T=he(d-b);return d===g||d===b||c&&g===b||x>y&&k<T}function qt(r,n,s){return Math.max(n,Math.min(s,r))}function zn(r){return qt(r,-32768,32767)}function Ee(r,n,s,c=1e-6){return r>=Math.min(n,s)-c&&r<=Math.max(n,s)+c}function Fe(r,n,s){s=s||(b=>r[b]<n);let c=r.length-1,d=0,g;for(;c-d>1;)g=d+c>>1,s(g)?d=g:c=g;return{lo:d,hi:c}}let fe=(r,n,s,c)=>Fe(r,s,c?d=>r[d][n]<=s:d=>r[d][n]<s),Pn=(r,n,s)=>Fe(r,s,c=>r[c][n]>=s);function nn(r,n,s){let c=0,d=r.length;for(;c<d&&r[c]<n;)c++;for(;d>c&&r[d-1]>s;)d--;return c>0||d<r.length?r.slice(c,d):r}let Cn=["push","pop","shift","splice","unshift"];function Nn(r,n){if(r._chartjs){r._chartjs.listeners.push(n);return}Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[n]}}),Cn.forEach(s=>{let c="_onData"+$(s),d=r[s];Object.defineProperty(r,s,{configurable:!0,enumerable:!1,value(...g){let b=d.apply(this,g);return r._chartjs.listeners.forEach(x=>{typeof x[c]=="function"&&x[c](...g)}),b}})})}function Mn(r,n){let s=r._chartjs;if(!s)return;let c=s.listeners,d=c.indexOf(n);d!==-1&&c.splice(d,1),!(c.length>0)&&(Cn.forEach(g=>{delete r[g]}),delete r._chartjs)}function On(r){let n=new Set,s,c;for(s=0,c=r.length;s<c;++s)n.add(r[s]);return n.size===c?r:Array.from(n)}function ii(r,n,s){return n+" "+r+"px "+s}let Li=function(){return typeof window>"u"?function(r){return r()}:window.requestAnimationFrame}();function Si(r,n,s){let c=s||(b=>Array.prototype.slice.call(b)),d=!1,g=[];return function(...b){g=c(b),d||(d=!0,Li.call(window,()=>{d=!1,r.apply(n,g)}))}}function Ri(r,n){let s;return function(...c){return n?(clearTimeout(s),s=setTimeout(r,n,c)):r.apply(this,c),n}}let si=r=>r==="start"?"left":r==="end"?"right":"center",de=(r,n,s)=>r==="start"?n:r==="end"?s:(n+s)/2,K=(r,n,s,c)=>r===(c?"left":"right")?s:r==="center"?(n+s)/2:n;function ut(r,n,s){let c=n.length,d=0,g=c;if(r._sorted){let{iScale:b,_parsed:x}=r,y=b.axis,{min:k,max:T,minDefined:D,maxDefined:R}=b.getUserBounds();D&&(d=qt(Math.min(fe(x,b.axis,k).lo,s?c:fe(n,y,b.getPixelForValue(k)).lo),0,c-1)),R?g=qt(Math.max(fe(x,b.axis,T,!0).hi+1,s?0:fe(n,y,b.getPixelForValue(T),!0).hi+1),d,c)-d:g=c-d}return{start:d,count:g}}function _t(r){let{xScale:n,yScale:s,_scaleRanges:c}=r,d={xmin:n.min,xmax:n.max,ymin:s.min,ymax:s.max};if(!c)return r._scaleRanges=d,!0;let g=c.xmin!==n.min||c.xmax!==n.max||c.ymin!==s.min||c.ymax!==s.max;return Object.assign(c,d),g}class Bt{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(n,s,c,d){let g=s.listeners[d],b=s.duration;g.forEach(x=>x({chart:n,initial:s.initial,numSteps:b,currentStep:Math.min(c-s.start,b)}))}_refresh(){this._request||(this._running=!0,this._request=Li.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(n=Date.now()){let s=0;this._charts.forEach((c,d)=>{if(!c.running||!c.items.length)return;let g=c.items,b=g.length-1,x=!1,y;for(;b>=0;--b)y=g[b],y._active?(y._total>c.duration&&(c.duration=y._total),y.tick(n),x=!0):(g[b]=g[g.length-1],g.pop());x&&(d.draw(),this._notify(d,c,n,"progress")),g.length||(c.running=!1,this._notify(d,c,n,"complete"),c.initial=!1),s+=g.length}),this._lastDate=n,s===0&&(this._running=!1)}_getAnims(n){let s=this._charts,c=s.get(n);return c||(c={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(n,c)),c}listen(n,s,c){this._getAnims(n).listeners[s].push(c)}add(n,s){!s||!s.length||this._getAnims(n).items.push(...s)}has(n){return this._getAnims(n).items.length>0}start(n){let s=this._charts.get(n);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((c,d)=>Math.max(c,d._duration),0),this._refresh())}running(n){if(!this._running)return!1;let s=this._charts.get(n);return!(!s||!s.running||!s.items.length)}stop(n){let s=this._charts.get(n);if(!s||!s.items.length)return;let c=s.items,d=c.length-1;for(;d>=0;--d)c[d].cancel();s.items=[],this._notify(n,s,Date.now(),"complete")}remove(n){return this._charts.delete(n)}}var Ct=new Bt;function Ut(r){return r+.5|0}let te=(r,n,s)=>Math.max(Math.min(r,s),n);function we(r){return te(Ut(r*2.55),0,255)}function Be(r){return te(Ut(r*255),0,255)}function pe(r){return te(Ut(r/2.55)/100,0,1)}function oi(r){return te(Ut(r*100),0,100)}let ke={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},sn=[..."0123456789ABCDEF"],Zs=r=>sn[r&15],Ii=r=>sn[(r&240)>>4]+sn[r&15],ne=r=>(r&240)>>4===(r&15),gn=r=>ne(r.r)&&ne(r.g)&&ne(r.b)&&ne(r.a);function on(r){var n=r.length,s;return r[0]==="#"&&(n===4||n===5?s={r:255&ke[r[1]]*17,g:255&ke[r[2]]*17,b:255&ke[r[3]]*17,a:n===5?ke[r[4]]*17:255}:(n===7||n===9)&&(s={r:ke[r[1]]<<4|ke[r[2]],g:ke[r[3]]<<4|ke[r[4]],b:ke[r[5]]<<4|ke[r[6]],a:n===9?ke[r[7]]<<4|ke[r[8]]:255})),s}let Tn=(r,n)=>r<255?n(r):"";function cs(r){var n=gn(r)?Zs:Ii;return r?"#"+n(r.r)+n(r.g)+n(r.b)+Tn(r.a,n):void 0}let nr=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Js(r,n,s){let c=n*Math.min(s,1-s),d=(g,b=(g+r/30)%12)=>s-c*Math.max(Math.min(b-3,9-b,1),-1);return[d(0),d(8),d(4)]}function ir(r,n,s){let c=(d,g=(d+r/60)%6)=>s-s*n*Math.max(Math.min(g,4-g,1),0);return[c(5),c(3),c(1)]}function ri(r,n,s){let c=Js(r,1,.5),d;for(n+s>1&&(d=1/(n+s),n*=d,s*=d),d=0;d<3;d++)c[d]*=1-n-s,c[d]+=n;return c}function Vn(r,n,s,c,d){return r===d?(n-s)/c+(n<s?6:0):n===d?(s-r)/c+2:(r-n)/c+4}function us(r){let s=r.r/255,c=r.g/255,d=r.b/255,g=Math.max(s,c,d),b=Math.min(s,c,d),x=(g+b)/2,y,k,T;return g!==b&&(T=g-b,k=x>.5?T/(2-g-b):T/(g+b),y=Vn(s,c,d,T,g),y=y*60+.5),[y|0,k||0,x]}function Fi(r,n,s,c){return(Array.isArray(n)?r(n[0],n[1],n[2]):r(n,s,c)).map(Be)}function ai(r,n,s){return Fi(Js,r,n,s)}function js(r,n,s){return Fi(ri,r,n,s)}function Ea(r,n,s){return Fi(ir,r,n,s)}function to(r){return(r%360+360)%360}function S(r){let n=nr.exec(r),s=255,c;if(!n)return;n[5]!==c&&(s=n[6]?we(+n[5]):Be(+n[5]));let d=to(+n[2]),g=+n[3]/100,b=+n[4]/100;return n[1]==="hwb"?c=js(d,g,b):n[1]==="hsv"?c=Ea(d,g,b):c=ai(d,g,b),{r:c[0],g:c[1],b:c[2],a:s}}function z(r,n){var s=us(r);s[0]=to(s[0]+n),s=ai(s),r.r=s[0],r.g=s[1],r.b=s[2]}function Y(r){if(!r)return;let n=us(r),s=n[0],c=oi(n[1]),d=oi(n[2]);return r.a<255?`hsla(${s}, ${c}%, ${d}%, ${pe(r.a)})`:`hsl(${s}, ${c}%, ${d}%)`}let q={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},X={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Z(){let r={},n=Object.keys(X),s=Object.keys(q),c,d,g,b,x;for(c=0;c<n.length;c++){for(b=x=n[c],d=0;d<s.length;d++)g=s[d],x=x.replace(g,q[g]);g=parseInt(X[b],16),r[x]=[g>>16&255,g>>8&255,g&255]}return r}let J;function st(r){J||(J=Z(),J.transparent=[0,0,0,0]);let n=J[r.toLowerCase()];return n&&{r:n[0],g:n[1],b:n[2],a:n.length===4?n[3]:255}}let mt=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function gt(r){let n=mt.exec(r),s=255,c,d,g;if(n){if(n[7]!==c){let b=+n[7];s=n[8]?we(b):te(b*255,0,255)}return c=+n[1],d=+n[3],g=+n[5],c=255&(n[2]?we(c):te(c,0,255)),d=255&(n[4]?we(d):te(d,0,255)),g=255&(n[6]?we(g):te(g,0,255)),{r:c,g:d,b:g,a:s}}}function xt(r){return r&&(r.a<255?`rgba(${r.r}, ${r.g}, ${r.b}, ${pe(r.a)})`:`rgb(${r.r}, ${r.g}, ${r.b})`)}let Nt=r=>r<=.0031308?r*12.92:Math.pow(r,1/2.4)*1.055-.055,Et=r=>r<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4);function He(r,n,s){let c=Et(pe(r.r)),d=Et(pe(r.g)),g=Et(pe(r.b));return{r:Be(Nt(c+s*(Et(pe(n.r))-c))),g:Be(Nt(d+s*(Et(pe(n.g))-d))),b:Be(Nt(g+s*(Et(pe(n.b))-g))),a:r.a+s*(n.a-r.a)}}function ae(r,n,s){if(r){let c=us(r);c[n]=Math.max(0,Math.min(c[n]+c[n]*s,n===0?360:1)),c=ai(c),r.r=c[0],r.g=c[1],r.b=c[2]}}function Bi(r,n){return r&&Object.assign(n||{},r)}function zi(r){var n={r:0,g:0,b:0,a:255};return Array.isArray(r)?r.length>=3&&(n={r:r[0],g:r[1],b:r[2],a:255},r.length>3&&(n.a=Be(r[3]))):(n=Bi(r,{r:0,g:0,b:0,a:1}),n.a=Be(n.a)),n}function eo(r){return r.charAt(0)==="r"?gt(r):S(r)}class Hn{constructor(n){if(n instanceof Hn)return n;let s=typeof n,c;s==="object"?c=zi(n):s==="string"&&(c=on(n)||st(n)||eo(n)),this._rgb=c,this._valid=!!c}get valid(){return this._valid}get rgb(){var n=Bi(this._rgb);return n&&(n.a=pe(n.a)),n}set rgb(n){this._rgb=zi(n)}rgbString(){return this._valid?xt(this._rgb):void 0}hexString(){return this._valid?cs(this._rgb):void 0}hslString(){return this._valid?Y(this._rgb):void 0}mix(n,s){if(n){let c=this.rgb,d=n.rgb,g,b=s===g?.5:s,x=2*b-1,y=c.a-d.a,k=((x*y===-1?x:(x+y)/(1+x*y))+1)/2;g=1-k,c.r=255&k*c.r+g*d.r+.5,c.g=255&k*c.g+g*d.g+.5,c.b=255&k*c.b+g*d.b+.5,c.a=b*c.a+(1-b)*d.a,this.rgb=c}return this}interpolate(n,s){return n&&(this._rgb=He(this._rgb,n._rgb,s)),this}clone(){return new Hn(this.rgb)}alpha(n){return this._rgb.a=Be(n),this}clearer(n){let s=this._rgb;return s.a*=1-n,this}greyscale(){let n=this._rgb,s=Ut(n.r*.3+n.g*.59+n.b*.11);return n.r=n.g=n.b=s,this}opaquer(n){let s=this._rgb;return s.a*=1+n,this}negate(){let n=this._rgb;return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,this}lighten(n){return ae(this._rgb,2,n),this}darken(n){return ae(this._rgb,2,-n),this}saturate(n){return ae(this._rgb,1,n),this}desaturate(n){return ae(this._rgb,1,-n),this}rotate(n){return z(this._rgb,n),this}}function li(r){return new Hn(r)}function pt(r){if(r&&typeof r=="object"){let n=r.toString();return n==="[object CanvasPattern]"||n==="[object CanvasGradient]"}return!1}function Lt(r){return pt(r)?r:li(r)}function Yt(r){return pt(r)?r:li(r).saturate(.5).darken(.1).hexString()}let $t=Object.create(null),Qt=Object.create(null);function mn(r,n){if(!n)return r;let s=n.split(".");for(let c=0,d=s.length;c<d;++c){let g=s[c];r=r[g]||(r[g]=Object.create(null))}return r}function ci(r,n,s){return typeof n=="string"?M(mn(r,n),s):M(mn(r,""),n)}class sr{constructor(n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,c)=>Yt(c.backgroundColor),this.hoverBorderColor=(s,c)=>Yt(c.borderColor),this.hoverColor=(s,c)=>Yt(c.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(n)}set(n,s){return ci(this,n,s)}get(n){return mn(this,n)}describe(n,s){return ci(Qt,n,s)}override(n,s){return ci($t,n,s)}route(n,s,c,d){let g=mn(this,n),b=mn(this,c),x="_"+s;Object.defineProperties(g,{[x]:{value:g[s],writable:!0},[s]:{enumerable:!0,get(){let y=this[x],k=b[d];return a(y)?Object.assign({},k,y):u(y,k)},set(y){this[x]=y}}})}}var Dt=new sr({_scriptable:r=>!r.startsWith("on"),_indexable:r=>r!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function Ni(){return typeof window<"u"&&typeof document<"u"}function We(r){let n=r.parentNode;return n&&n.toString()==="[object ShadowRoot]"&&(n=n.host),n}function hs(r,n,s){let c;return typeof r=="string"?(c=parseInt(r,10),r.indexOf("%")!==-1&&(c=c/100*n.parentNode[s])):c=r,c}let ui=r=>window.getComputedStyle(r,null);function no(r,n){return ui(r).getPropertyValue(n)}let Da=["top","right","bottom","left"];function bn(r,n,s){let c={};s=s?"-"+s:"";for(let d=0;d<4;d++){let g=Da[d];c[g]=parseFloat(r[n+"-"+g+s])||0}return c.width=c.left+c.right,c.height=c.top+c.bottom,c}let or=(r,n,s)=>(r>0||n>0)&&(!s||!s.shadowRoot);function ug(r,n){let s=r.touches,c=s&&s.length?s[0]:r,{offsetX:d,offsetY:g}=c,b=!1,x,y;if(or(d,g,r.target))x=d,y=g;else{let k=n.getBoundingClientRect();x=c.clientX-k.left,y=c.clientY-k.top,b=!0}return{x,y,box:b}}function hi(r,n){if("native"in r)return r;let{canvas:s,currentDevicePixelRatio:c}=n,d=ui(s),g=d.boxSizing==="border-box",b=bn(d,"padding"),x=bn(d,"border","width"),{x:y,y:k,box:T}=ug(r,s),D=b.left+(T&&x.left),R=b.top+(T&&x.top),{width:I,height:B}=n;return g&&(I-=b.width+x.width,B-=b.height+x.height),{x:Math.round((y-D)/I*s.width/c),y:Math.round((k-R)/B*s.height/c)}}function hg(r,n,s){let c,d;if(n===void 0||s===void 0){let g=We(r);if(!g)n=r.clientWidth,s=r.clientHeight;else{let b=g.getBoundingClientRect(),x=ui(g),y=bn(x,"border","width"),k=bn(x,"padding");n=b.width-k.width-y.width,s=b.height-k.height-y.height,c=hs(x.maxWidth,g,"clientWidth"),d=hs(x.maxHeight,g,"clientHeight")}}return{width:n,height:s,maxWidth:c||lt,maxHeight:d||lt}}let La=r=>Math.round(r*10)/10;function au(r,n,s,c){let d=ui(r),g=bn(d,"margin"),b=hs(d.maxWidth,r,"clientWidth")||lt,x=hs(d.maxHeight,r,"clientHeight")||lt,y=hg(r,n,s),{width:k,height:T}=y;if(d.boxSizing==="content-box"){let D=bn(d,"border","width"),R=bn(d,"padding");k-=R.width+D.width,T-=R.height+D.height}return k=Math.max(0,k-g.width),T=Math.max(0,c?Math.floor(k/c):T-g.height),k=La(Math.min(k,b,y.maxWidth)),T=La(Math.min(T,x,y.maxHeight)),k&&!T&&(T=La(k/2)),{width:k,height:T}}function Sa(r,n,s){let c=n||1,d=Math.floor(r.height*c),g=Math.floor(r.width*c);r.height=d/c,r.width=g/c;let b=r.canvas;return b.style&&(s||!b.style.height&&!b.style.width)&&(b.style.height=`${r.height}px`,b.style.width=`${r.width}px`),r.currentDevicePixelRatio!==c||b.height!==d||b.width!==g?(r.currentDevicePixelRatio=c,b.height=d,b.width=g,r.ctx.setTransform(c,0,0,c,0,0),!0):!1}let lu=function(){let r=!1;try{let n={get passive(){return r=!0,!1}};window.addEventListener("test",null,n),window.removeEventListener("test",null,n)}catch{}return r}();function Ra(r,n){let s=no(r,n),c=s&&s.match(/^(\d+)(\.\d+)?px$/);return c?+c[1]:void 0}function cu(r){return!r||e(r.size)||e(r.family)?null:(r.style?r.style+" ":"")+(r.weight?r.weight+" ":"")+r.size+"px "+r.family}function io(r,n,s,c,d){let g=n[d];return g||(g=n[d]=r.measureText(d).width,s.push(d)),g>c&&(c=g),c}function uu(r,n,s,c){c=c||{};let d=c.data=c.data||{},g=c.garbageCollect=c.garbageCollect||[];c.font!==n&&(d=c.data={},g=c.garbageCollect=[],c.font=n),r.save(),r.font=n;let b=0,x=s.length,y,k,T,D,R;for(y=0;y<x;y++)if(D=s[y],D!=null&&o(D)!==!0)b=io(r,d,g,b,D);else if(o(D))for(k=0,T=D.length;k<T;k++)R=D[k],R!=null&&!o(R)&&(b=io(r,d,g,b,R));r.restore();let I=g.length/2;if(I>s.length){for(y=0;y<I;y++)delete d[g[y]];g.splice(0,I)}return b}function fi(r,n,s){let c=r.currentDevicePixelRatio,d=s!==0?Math.max(s/2,.5):0;return Math.round((n-d)*c)/c+d}function Ia(r,n){n=n||r.getContext("2d"),n.save(),n.resetTransform(),n.clearRect(0,0,r.width,r.height),n.restore()}function rr(r,n,s,c){Fa(r,n,s,c,null)}function Fa(r,n,s,c,d){let g,b,x,y,k,T,D=n.pointStyle,R=n.rotation,I=n.radius,B=(R||0)*bt;if(D&&typeof D=="object"&&(g=D.toString(),g==="[object HTMLImageElement]"||g==="[object HTMLCanvasElement]")){r.save(),r.translate(s,c),r.rotate(B),r.drawImage(D,-D.width/2,-D.height/2,D.width,D.height),r.restore();return}if(!(isNaN(I)||I<=0)){switch(r.beginPath(),D){default:d?r.ellipse(s,c,d/2,I,0,0,rt):r.arc(s,c,I,0,rt),r.closePath();break;case"triangle":r.moveTo(s+Math.sin(B)*I,c-Math.cos(B)*I),B+=Rt,r.lineTo(s+Math.sin(B)*I,c-Math.cos(B)*I),B+=Rt,r.lineTo(s+Math.sin(B)*I,c-Math.cos(B)*I),r.closePath();break;case"rectRounded":k=I*.516,y=I-k,b=Math.cos(B+kt)*y,x=Math.sin(B+kt)*y,r.arc(s-b,c-x,k,B-ct,B-ht),r.arc(s+x,c-b,k,B-ht,B),r.arc(s+b,c+x,k,B,B+ht),r.arc(s-x,c+b,k,B+ht,B+ct),r.closePath();break;case"rect":if(!R){y=Math.SQRT1_2*I,T=d?d/2:y,r.rect(s-T,c-y,2*T,2*y);break}B+=kt;case"rectRot":b=Math.cos(B)*I,x=Math.sin(B)*I,r.moveTo(s-b,c-x),r.lineTo(s+x,c-b),r.lineTo(s+b,c+x),r.lineTo(s-x,c+b),r.closePath();break;case"crossRot":B+=kt;case"cross":b=Math.cos(B)*I,x=Math.sin(B)*I,r.moveTo(s-b,c-x),r.lineTo(s+b,c+x),r.moveTo(s+x,c-b),r.lineTo(s-x,c+b);break;case"star":b=Math.cos(B)*I,x=Math.sin(B)*I,r.moveTo(s-b,c-x),r.lineTo(s+b,c+x),r.moveTo(s+x,c-b),r.lineTo(s-x,c+b),B+=kt,b=Math.cos(B)*I,x=Math.sin(B)*I,r.moveTo(s-b,c-x),r.lineTo(s+b,c+x),r.moveTo(s+x,c-b),r.lineTo(s-x,c+b);break;case"line":b=d?d/2:Math.cos(B)*I,x=Math.sin(B)*I,r.moveTo(s-b,c-x),r.lineTo(s+b,c+x);break;case"dash":r.moveTo(s,c),r.lineTo(s+Math.cos(B)*I,c+Math.sin(B)*I);break}r.fill(),n.borderWidth>0&&r.stroke()}}function fs(r,n,s){return s=s||.5,!n||r&&r.x>n.left-s&&r.x<n.right+s&&r.y>n.top-s&&r.y<n.bottom+s}function so(r,n){r.save(),r.beginPath(),r.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),r.clip()}function oo(r){r.restore()}function hu(r,n,s,c,d){if(!n)return r.lineTo(s.x,s.y);if(d==="middle"){let g=(n.x+s.x)/2;r.lineTo(g,n.y),r.lineTo(g,s.y)}else d==="after"!=!!c?r.lineTo(n.x,s.y):r.lineTo(s.x,n.y);r.lineTo(s.x,s.y)}function fu(r,n,s,c){if(!n)return r.lineTo(s.x,s.y);r.bezierCurveTo(c?n.cp1x:n.cp2x,c?n.cp1y:n.cp2y,c?s.cp2x:s.cp1x,c?s.cp2y:s.cp1y,s.x,s.y)}function di(r,n,s,c,d,g={}){let b=o(n)?n:[n],x=g.strokeWidth>0&&g.strokeColor!=="",y,k;for(r.save(),r.font=d.string,fg(r,g),y=0;y<b.length;++y)k=b[y],x&&(g.strokeColor&&(r.strokeStyle=g.strokeColor),e(g.strokeWidth)||(r.lineWidth=g.strokeWidth),r.strokeText(k,s,c,g.maxWidth)),r.fillText(k,s,c,g.maxWidth),dg(r,s,c,k,g),c+=d.lineHeight;r.restore()}function fg(r,n){n.translation&&r.translate(n.translation[0],n.translation[1]),e(n.rotation)||r.rotate(n.rotation),n.color&&(r.fillStyle=n.color),n.textAlign&&(r.textAlign=n.textAlign),n.textBaseline&&(r.textBaseline=n.textBaseline)}function dg(r,n,s,c,d){if(d.strikethrough||d.underline){let g=r.measureText(c),b=n-g.actualBoundingBoxLeft,x=n+g.actualBoundingBoxRight,y=s-g.actualBoundingBoxAscent,k=s+g.actualBoundingBoxDescent,T=d.strikethrough?(y+k)/2:k;r.strokeStyle=r.fillStyle,r.beginPath(),r.lineWidth=d.decorationWidth||2,r.moveTo(b,T),r.lineTo(x,T),r.stroke()}}function ds(r,n){let{x:s,y:c,w:d,h:g,radius:b}=n;r.arc(s+b.topLeft,c+b.topLeft,b.topLeft,-ht,ct,!0),r.lineTo(s,c+g-b.bottomLeft),r.arc(s+b.bottomLeft,c+g-b.bottomLeft,b.bottomLeft,ct,ht,!0),r.lineTo(s+d-b.bottomRight,c+g),r.arc(s+d-b.bottomRight,c+g-b.bottomRight,b.bottomRight,ht,0,!0),r.lineTo(s+d,c+b.topRight),r.arc(s+d-b.topRight,c+b.topRight,b.topRight,0,-ht,!0),r.lineTo(s+b.topLeft,c)}function ar(r,n=[""],s=r,c,d=()=>r[0]){G(c)||(c=mu("_fallback",r));let g={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:r,_rootScopes:s,_fallback:c,_getTarget:d,override:b=>ar([b,...r],n,s,c)};return new Proxy(g,{deleteProperty(b,x){return delete b[x],delete b._keys,delete r[0][x],!0},get(b,x){return du(b,x,()=>_g(x,n,r,b))},getOwnPropertyDescriptor(b,x){return Reflect.getOwnPropertyDescriptor(b._scopes[0],x)},getPrototypeOf(){return Reflect.getPrototypeOf(r[0])},has(b,x){return bu(b).includes(x)},ownKeys(b){return bu(b)},set(b,x,y){let k=b._storage||(b._storage=d());return b[x]=k[x]=y,delete b._keys,!0}})}function Vi(r,n,s,c){let d={_cacheable:!1,_proxy:r,_context:n,_subProxy:s,_stack:new Set,_descriptors:Ba(r,c),setContext:g=>Vi(r,g,s,c),override:g=>Vi(r.override(g),n,s,c)};return new Proxy(d,{deleteProperty(g,b){return delete g[b],delete r[b],!0},get(g,b,x){return du(g,b,()=>gg(g,b,x))},getOwnPropertyDescriptor(g,b){return g._descriptors.allKeys?Reflect.has(r,b)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(r,b)},getPrototypeOf(){return Reflect.getPrototypeOf(r)},has(g,b){return Reflect.has(r,b)},ownKeys(){return Reflect.ownKeys(r)},set(g,b,x){return r[b]=x,delete g[b],!0}})}function Ba(r,n={scriptable:!0,indexable:!0}){let{_scriptable:s=n.scriptable,_indexable:c=n.indexable,_allKeys:d=n.allKeys}=r;return{allKeys:d,scriptable:s,indexable:c,isScriptable:tt(s)?s:()=>s,isIndexable:tt(c)?c:()=>c}}let pg=(r,n)=>r?r+$(n):n,za=(r,n)=>a(n)&&r!=="adapters"&&(Object.getPrototypeOf(n)===null||n.constructor===Object);function du(r,n,s){if(Object.prototype.hasOwnProperty.call(r,n))return r[n];let c=s();return r[n]=c,c}function gg(r,n,s){let{_proxy:c,_context:d,_subProxy:g,_descriptors:b}=r,x=c[n];return tt(x)&&b.isScriptable(n)&&(x=mg(n,x,r,s)),o(x)&&x.length&&(x=bg(n,x,r,b.isIndexable)),za(n,x)&&(x=Vi(x,d,g&&g[n],b)),x}function mg(r,n,s,c){let{_proxy:d,_context:g,_subProxy:b,_stack:x}=s;if(x.has(r))throw new Error("Recursion detected: "+Array.from(x).join("->")+"->"+r);return x.add(r),n=n(g,b||c),x.delete(r),za(r,n)&&(n=Na(d._scopes,d,r,n)),n}function bg(r,n,s,c){let{_proxy:d,_context:g,_subProxy:b,_descriptors:x}=s;if(G(g.index)&&c(r))n=n[g.index%n.length];else if(a(n[0])){let y=n,k=d._scopes.filter(T=>T!==y);n=[];for(let T of y){let D=Na(k,d,r,T);n.push(Vi(D,g,b&&b[r],x))}}return n}function pu(r,n,s){return tt(r)?r(n,s):r}let vg=(r,n)=>r===!0?n:typeof r=="string"?F(n,r):void 0;function xg(r,n,s,c,d){for(let g of n){let b=vg(s,g);if(b){r.add(b);let x=pu(b._fallback,s,d);if(G(x)&&x!==s&&x!==c)return x}else if(b===!1&&G(c)&&s!==c)return null}return!1}function Na(r,n,s,c){let d=n._rootScopes,g=pu(n._fallback,s,c),b=[...r,...d],x=new Set;x.add(c);let y=gu(x,b,s,g||s,c);return y===null||G(g)&&g!==s&&(y=gu(x,b,g,y,c),y===null)?!1:ar(Array.from(x),[""],d,g,()=>yg(n,s,c))}function gu(r,n,s,c,d){for(;s;)s=xg(r,n,s,c,d);return s}function yg(r,n,s){let c=r._getTarget();n in c||(c[n]={});let d=c[n];return o(d)&&a(s)?s:d}function _g(r,n,s,c){let d;for(let g of n)if(d=mu(pg(g,r),s),G(d))return za(r,d)?Na(s,c,r,d):d}function mu(r,n){for(let s of n){if(!s)continue;let c=s[r];if(G(c))return c}}function bu(r){let n=r._keys;return n||(n=r._keys=wg(r._scopes)),n}function wg(r){let n=new Set;for(let s of r)for(let c of Object.keys(s).filter(d=>!d.startsWith("_")))n.add(c);return Array.from(n)}function Va(r,n,s,c){let{iScale:d}=r,{key:g="r"}=this._parsing,b=new Array(c),x,y,k,T;for(x=0,y=c;x<y;++x)k=x+s,T=n[k],b[x]={r:d.parse(F(T,g),k)};return b}let kg=Number.EPSILON||1e-14,ps=(r,n)=>n<r.length&&!r[n].skip&&r[n],vu=r=>r==="x"?"y":"x";function xu(r,n,s,c){let d=r.skip?n:r,g=n,b=s.skip?n:s,x=en(g,d),y=en(b,g),k=x/(x+y),T=y/(x+y);k=isNaN(k)?0:k,T=isNaN(T)?0:T;let D=c*k,R=c*T;return{previous:{x:g.x-D*(b.x-d.x),y:g.y-D*(b.y-d.y)},next:{x:g.x+R*(b.x-d.x),y:g.y+R*(b.y-d.y)}}}function Pg(r,n,s){let c=r.length,d,g,b,x,y,k=ps(r,0);for(let T=0;T<c-1;++T)if(y=k,k=ps(r,T+1),!(!y||!k)){if(Kt(n[T],0,kg)){s[T]=s[T+1]=0;continue}d=s[T]/n[T],g=s[T+1]/n[T],x=Math.pow(d,2)+Math.pow(g,2),!(x<=9)&&(b=3/Math.sqrt(x),s[T]=d*b*n[T],s[T+1]=g*b*n[T])}}function Cg(r,n,s="x"){let c=vu(s),d=r.length,g,b,x,y=ps(r,0);for(let k=0;k<d;++k){if(b=x,x=y,y=ps(r,k+1),!x)continue;let T=x[s],D=x[c];b&&(g=(T-b[s])/3,x[`cp1${s}`]=T-g,x[`cp1${c}`]=D-g*n[k]),y&&(g=(y[s]-T)/3,x[`cp2${s}`]=T+g,x[`cp2${c}`]=D+g*n[k])}}function yu(r,n="x"){let s=vu(n),c=r.length,d=Array(c).fill(0),g=Array(c),b,x,y,k=ps(r,0);for(b=0;b<c;++b)if(x=y,y=k,k=ps(r,b+1),!!y){if(k){let T=k[n]-y[n];d[b]=T!==0?(k[s]-y[s])/T:0}g[b]=x?k?Ot(d[b-1])!==Ot(d[b])?0:(d[b-1]+d[b])/2:d[b-1]:d[b]}Pg(r,d,g),Cg(r,g,n)}function lr(r,n,s){return Math.max(Math.min(r,s),n)}function Mg(r,n){let s,c,d,g,b,x=fs(r[0],n);for(s=0,c=r.length;s<c;++s)b=g,g=x,x=s<c-1&&fs(r[s+1],n),g&&(d=r[s],b&&(d.cp1x=lr(d.cp1x,n.left,n.right),d.cp1y=lr(d.cp1y,n.top,n.bottom)),x&&(d.cp2x=lr(d.cp2x,n.left,n.right),d.cp2y=lr(d.cp2y,n.top,n.bottom)))}function _u(r,n,s,c,d){let g,b,x,y;if(n.spanGaps&&(r=r.filter(k=>!k.skip)),n.cubicInterpolationMode==="monotone")yu(r,d);else{let k=c?r[r.length-1]:r[0];for(g=0,b=r.length;g<b;++g)x=r[g],y=xu(k,x,r[Math.min(g+1,b-(c?0:1))%b],n.tension),x.cp1x=y.previous.x,x.cp1y=y.previous.y,x.cp2x=y.next.x,x.cp2y=y.next.y,k=x}n.capBezierPoints&&Mg(r,s)}let cr=r=>r===0||r===1,wu=(r,n,s)=>-(Math.pow(2,10*(r-=1))*Math.sin((r-n)*rt/s)),ku=(r,n,s)=>Math.pow(2,-10*r)*Math.sin((r-n)*rt/s)+1,gs={linear:r=>r,easeInQuad:r=>r*r,easeOutQuad:r=>-r*(r-2),easeInOutQuad:r=>(r/=.5)<1?.5*r*r:-.5*(--r*(r-2)-1),easeInCubic:r=>r*r*r,easeOutCubic:r=>(r-=1)*r*r+1,easeInOutCubic:r=>(r/=.5)<1?.5*r*r*r:.5*((r-=2)*r*r+2),easeInQuart:r=>r*r*r*r,easeOutQuart:r=>-((r-=1)*r*r*r-1),easeInOutQuart:r=>(r/=.5)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2),easeInQuint:r=>r*r*r*r*r,easeOutQuint:r=>(r-=1)*r*r*r*r+1,easeInOutQuint:r=>(r/=.5)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2),easeInSine:r=>-Math.cos(r*ht)+1,easeOutSine:r=>Math.sin(r*ht),easeInOutSine:r=>-.5*(Math.cos(ct*r)-1),easeInExpo:r=>r===0?0:Math.pow(2,10*(r-1)),easeOutExpo:r=>r===1?1:-Math.pow(2,-10*r)+1,easeInOutExpo:r=>cr(r)?r:r<.5?.5*Math.pow(2,10*(r*2-1)):.5*(-Math.pow(2,-10*(r*2-1))+2),easeInCirc:r=>r>=1?r:-(Math.sqrt(1-r*r)-1),easeOutCirc:r=>Math.sqrt(1-(r-=1)*r),easeInOutCirc:r=>(r/=.5)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1),easeInElastic:r=>cr(r)?r:wu(r,.075,.3),easeOutElastic:r=>cr(r)?r:ku(r,.075,.3),easeInOutElastic(r){return cr(r)?r:r<.5?.5*wu(r*2,.1125,.45):.5+.5*ku(r*2-1,.1125,.45)},easeInBack(r){return r*r*((1.70158+1)*r-1.70158)},easeOutBack(r){return(r-=1)*r*((1.70158+1)*r+1.70158)+1},easeInOutBack(r){let n=1.70158;return(r/=.5)<1?.5*(r*r*(((n*=1.525)+1)*r-n)):.5*((r-=2)*r*(((n*=1.525)+1)*r+n)+2)},easeInBounce:r=>1-gs.easeOutBounce(1-r),easeOutBounce(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},easeInOutBounce:r=>r<.5?gs.easeInBounce(r*2)*.5:gs.easeOutBounce(r*2-1)*.5+.5};function pi(r,n,s,c){return{x:r.x+s*(n.x-r.x),y:r.y+s*(n.y-r.y)}}function Pu(r,n,s,c){return{x:r.x+s*(n.x-r.x),y:c==="middle"?s<.5?r.y:n.y:c==="after"?s<1?r.y:n.y:s>0?n.y:r.y}}function Cu(r,n,s,c){let d={x:r.cp2x,y:r.cp2y},g={x:n.cp1x,y:n.cp1y},b=pi(r,d,s),x=pi(d,g,s),y=pi(g,n,s),k=pi(b,x,s),T=pi(x,y,s);return pi(k,T,s)}let Mu=new Map;function Og(r,n){n=n||{};let s=r+JSON.stringify(n),c=Mu.get(s);return c||(c=new Intl.NumberFormat(r,n),Mu.set(s,c)),c}function ms(r,n,s){return Og(n,s).format(r)}let Tg=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),Ag=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function Ou(r,n){let s=(""+r).match(Tg);if(!s||s[1]==="normal")return n*1.2;switch(r=+s[2],s[3]){case"px":return r;case"%":r/=100;break}return n*r}let Eg=r=>+r||0;function ur(r,n){let s={},c=a(n),d=c?Object.keys(n):n,g=a(r)?c?b=>u(r[b],r[n[b]]):b=>r[b]:()=>r;for(let b of d)s[b]=Eg(g(b));return s}function Ha(r){return ur(r,{top:"y",right:"x",bottom:"y",left:"x"})}function gi(r){return ur(r,["topLeft","topRight","bottomLeft","bottomRight"])}function De(r){let n=Ha(r);return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function be(r,n){r=r||{},n=n||Dt.font;let s=u(r.size,n.size);typeof s=="string"&&(s=parseInt(s,10));let c=u(r.style,n.style);c&&!(""+c).match(Ag)&&(console.warn('Invalid font style specified: "'+c+'"'),c="");let d={family:u(r.family,n.family),lineHeight:Ou(u(r.lineHeight,n.lineHeight),s),size:s,style:c,weight:u(r.weight,n.weight),string:""};return d.string=cu(d),d}function bs(r,n,s,c){let d=!0,g,b,x;for(g=0,b=r.length;g<b;++g)if(x=r[g],x!==void 0&&(n!==void 0&&typeof x=="function"&&(x=x(n),d=!1),s!==void 0&&o(x)&&(x=x[s%x.length],d=!1),x!==void 0))return c&&!d&&(c.cacheable=!1),x}function Tu(r,n,s){let{min:c,max:d}=r,g=f(n,(d-c)/2),b=(x,y)=>s&&x===0?0:x+y;return{min:b(c,-Math.abs(g)),max:b(d,g)}}function Wn(r,n){return Object.assign(Object.create(r),n)}let Dg=function(r,n){return{x(s){return r+r+n-s},setWidth(s){n=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,c){return s-c},leftForLtr(s,c){return s-c}}},Lg=function(){return{x(r){return r},setWidth(r){},textAlign(r){return r},xPlus(r,n){return r+n},leftForLtr(r,n){return r}}};function Hi(r,n,s){return r?Dg(n,s):Lg()}function Wa(r,n){let s,c;(n==="ltr"||n==="rtl")&&(s=r.canvas.style,c=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",n,"important"),r.prevTextDirection=c)}function $a(r,n){n!==void 0&&(delete r.prevTextDirection,r.canvas.style.setProperty("direction",n[0],n[1]))}function Au(r){return r==="angle"?{between:Ue,compare:Bn,normalize:he}:{between:Ee,compare:(n,s)=>n-s,normalize:n=>n}}function Eu({start:r,end:n,count:s,loop:c,style:d}){return{start:r%s,end:n%s,loop:c&&(n-r+1)%s===0,style:d}}function Sg(r,n,s){let{property:c,start:d,end:g}=s,{between:b,normalize:x}=Au(c),y=n.length,{start:k,end:T,loop:D}=r,R,I;if(D){for(k+=y,T+=y,R=0,I=y;R<I&&b(x(n[k%y][c]),d,g);++R)k--,T--;k%=y,T%=y}return T<k&&(T+=y),{start:k,end:T,loop:D,style:r.style}}function Ya(r,n,s){if(!s)return[r];let{property:c,start:d,end:g}=s,b=n.length,{compare:x,between:y,normalize:k}=Au(c),{start:T,end:D,loop:R,style:I}=Sg(r,n,s),B=[],V=!1,W=null,U,Q,it,nt=()=>y(d,it,U)&&x(d,it)!==0,j=()=>x(g,U)===0||y(g,it,U),ft=()=>V||nt(),dt=()=>!V||j();for(let wt=T,yt=T;wt<=D;++wt)Q=n[wt%b],!Q.skip&&(U=k(Q[c]),U!==it&&(V=y(U,d,g),W===null&&ft()&&(W=x(U,d)===0?wt:yt),W!==null&&dt()&&(B.push(Eu({start:W,end:wt,loop:R,count:b,style:I})),W=null),yt=wt,it=U));return W!==null&&B.push(Eu({start:W,end:D,loop:R,count:b,style:I})),B}function qa(r,n){let s=[],c=r.segments;for(let d=0;d<c.length;d++){let g=Ya(c[d],r.points,n);g.length&&s.push(...g)}return s}function Rg(r,n,s,c){let d=0,g=n-1;if(s&&!c)for(;d<n&&!r[d].skip;)d++;for(;d<n&&r[d].skip;)d++;for(d%=n,s&&(g+=d);g>d&&r[g%n].skip;)g--;return g%=n,{start:d,end:g}}function Ig(r,n,s,c){let d=r.length,g=[],b=n,x=r[n],y;for(y=n+1;y<=s;++y){let k=r[y%d];k.skip||k.stop?x.skip||(c=!1,g.push({start:n%d,end:(y-1)%d,loop:c}),n=b=k.stop?y:null):(b=y,x.skip&&(n=y)),x=k}return b!==null&&g.push({start:n%d,end:b%d,loop:c}),g}function Du(r,n){let s=r.points,c=r.options.spanGaps,d=s.length;if(!d)return[];let g=!!r._loop,{start:b,end:x}=Rg(s,d,g,c);if(c===!0)return Lu(r,[{start:b,end:x,loop:g}],s,n);let y=x<b?x+d:x,k=!!r._fullLoop&&b===0&&x===d-1;return Lu(r,Ig(s,b,y,k),s,n)}function Lu(r,n,s,c){return!c||!c.setContext||!s?n:Fg(r,n,s,c)}function Fg(r,n,s,c){let d=r._chart.getContext(),g=Su(r.options),{_datasetIndex:b,options:{spanGaps:x}}=r,y=s.length,k=[],T=g,D=n[0].start,R=D;function I(B,V,W,U){let Q=x?-1:1;if(B!==V){for(B+=y;s[B%y].skip;)B-=Q;for(;s[V%y].skip;)V+=Q;B%y!==V%y&&(k.push({start:B%y,end:V%y,loop:W,style:U}),T=U,D=V%y)}}for(let B of n){D=x?D:B.start;let V=s[D%y],W;for(R=D+1;R<=B.end;R++){let U=s[R%y];W=Su(c.setContext(Wn(d,{type:"segment",p0:V,p1:U,p0DataIndex:(R-1)%y,p1DataIndex:R%y,datasetIndex:b}))),Bg(W,T)&&I(D,R-1,B.loop,T),V=U,T=W}D<R-1&&I(D,R-1,B.loop,T)}return k}function Su(r){return{backgroundColor:r.backgroundColor,borderCapStyle:r.borderCapStyle,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderJoinStyle:r.borderJoinStyle,borderWidth:r.borderWidth,borderColor:r.borderColor}}function Bg(r,n){return n&&JSON.stringify(r)!==JSON.stringify(n)}var zg=Object.freeze({__proto__:null,easingEffects:gs,isPatternOrGradient:pt,color:Lt,getHoverColor:Yt,noop:i,uid:t,isNullOrUndef:e,isArray:o,isObject:a,isFinite:h,finiteOrDefault:p,valueOrDefault:u,toPercentage:l,toDimension:f,callback:m,each:v,_elementsEqual:_,clone:w,_merger:C,merge:M,mergeIf:O,_mergerIf:A,_deprecated:L,resolveObjectKey:F,_splitKey:H,_capitalize:$,defined:G,isFunction:tt,setsEqual:et,_isClickEvent:at,toFontString:cu,_measureText:io,_longestText:uu,_alignPixel:fi,clearCanvas:Ia,drawPoint:rr,drawPointLegend:Fa,_isPointInArea:fs,clipArea:so,unclipArea:oo,_steppedLineTo:hu,_bezierCurveTo:fu,renderText:di,addRoundedRectPath:ds,_lookup:Fe,_lookupByKey:fe,_rlookupByKey:Pn,_filterBetween:nn,listenArrayEvents:Nn,unlistenArrayEvents:Mn,_arrayUnique:On,_createResolver:ar,_attachContext:Vi,_descriptors:Ba,_parseObjectDataRadialScale:Va,splineCurve:xu,splineCurveMonotone:yu,_updateBezierControlPoints:_u,_isDomSupported:Ni,_getParentNode:We,getStyle:no,getRelativePosition:hi,getMaximumSize:au,retinaScale:Sa,supportsEventListenerOptions:lu,readUsedSize:Ra,fontString:ii,requestAnimFrame:Li,throttled:Si,debounce:Ri,_toLeftRightCenter:si,_alignStartEnd:de,_textX:K,_getStartAndCountOfVisiblePoints:ut,_scaleRangesChanged:_t,_pointInLine:pi,_steppedInterpolation:Pu,_bezierInterpolation:Cu,formatNumber:ms,toLineHeight:Ou,_readValueToProps:ur,toTRBL:Ha,toTRBLCorners:gi,toPadding:De,toFont:be,resolve:bs,_addGrace:Tu,createContext:Wn,PI:ct,TAU:rt,PITAU:ot,INFINITY:lt,RAD_PER_DEG:bt,HALF_PI:ht,QUARTER_PI:kt,TWO_THIRDS_PI:Rt,log10:Pt,sign:Ot,niceNum:Gt,_factorize:jt,isNumber:It,almostEquals:Kt,almostWhole:Ve,_setMinAndMaxByKey:re,toRadians:Mt,toDegrees:Ae,_decimalPlaces:qe,getAngleFromPoint:pn,distanceBetweenPoints:en,_angleDiff:Bn,_normalizeAngle:he,_angleBetween:Ue,_limitValue:qt,_int16Range:zn,_isBetween:Ee,getRtlAdapter:Hi,overrideTextDirection:Wa,restoreTextDirection:$a,_boundSegment:Ya,_boundSegments:qa,_computeSegments:Du});function Ng(r,n,s,c){let{controller:d,data:g,_sorted:b}=r,x=d._cachedMeta.iScale;if(x&&n===x.axis&&n!=="r"&&b&&g.length){let y=x._reversePixels?Pn:fe;if(c){if(d._sharedOptions){let k=g[0],T=typeof k.getRange=="function"&&k.getRange(n);if(T){let D=y(g,n,s-T),R=y(g,n,s+T);return{lo:D.lo,hi:R.hi}}}}else return y(g,n,s)}return{lo:0,hi:g.length-1}}function ro(r,n,s,c,d){let g=r.getSortedVisibleDatasetMetas(),b=s[n];for(let x=0,y=g.length;x<y;++x){let{index:k,data:T}=g[x],{lo:D,hi:R}=Ng(g[x],n,b,d);for(let I=D;I<=R;++I){let B=T[I];B.skip||c(B,k,I)}}}function Vg(r){let n=r.indexOf("x")!==-1,s=r.indexOf("y")!==-1;return function(c,d){let g=n?Math.abs(c.x-d.x):0,b=s?Math.abs(c.y-d.y):0;return Math.sqrt(Math.pow(g,2)+Math.pow(b,2))}}function Ua(r,n,s,c,d){let g=[];return!d&&!r.isPointInArea(n)||ro(r,s,n,function(x,y,k){!d&&!fs(x,r.chartArea,0)||x.inRange(n.x,n.y,c)&&g.push({element:x,datasetIndex:y,index:k})},!0),g}function Hg(r,n,s,c){let d=[];function g(b,x,y){let{startAngle:k,endAngle:T}=b.getProps(["startAngle","endAngle"],c),{angle:D}=pn(b,{x:n.x,y:n.y});Ue(D,k,T)&&d.push({element:b,datasetIndex:x,index:y})}return ro(r,s,n,g),d}function Wg(r,n,s,c,d,g){let b=[],x=Vg(s),y=Number.POSITIVE_INFINITY;function k(T,D,R){let I=T.inRange(n.x,n.y,d);if(c&&!I)return;let B=T.getCenterPoint(d);if(!(!!g||r.isPointInArea(B))&&!I)return;let W=x(n,B);W<y?(b=[{element:T,datasetIndex:D,index:R}],y=W):W===y&&b.push({element:T,datasetIndex:D,index:R})}return ro(r,s,n,k),b}function Xa(r,n,s,c,d,g){return!g&&!r.isPointInArea(n)?[]:s==="r"&&!c?Hg(r,n,s,d):Wg(r,n,s,c,d,g)}function Ru(r,n,s,c,d){let g=[],b=s==="x"?"inXRange":"inYRange",x=!1;return ro(r,s,n,(y,k,T)=>{y[b](n[s],d)&&(g.push({element:y,datasetIndex:k,index:T}),x=x||y.inRange(n.x,n.y,d))}),c&&!x?[]:g}var Iu={evaluateInteractionItems:ro,modes:{index(r,n,s,c){let d=hi(n,r),g=s.axis||"x",b=s.includeInvisible||!1,x=s.intersect?Ua(r,d,g,c,b):Xa(r,d,g,!1,c,b),y=[];return x.length?(r.getSortedVisibleDatasetMetas().forEach(k=>{let T=x[0].index,D=k.data[T];D&&!D.skip&&y.push({element:D,datasetIndex:k.index,index:T})}),y):[]},dataset(r,n,s,c){let d=hi(n,r),g=s.axis||"xy",b=s.includeInvisible||!1,x=s.intersect?Ua(r,d,g,c,b):Xa(r,d,g,!1,c,b);if(x.length>0){let y=x[0].datasetIndex,k=r.getDatasetMeta(y).data;x=[];for(let T=0;T<k.length;++T)x.push({element:k[T],datasetIndex:y,index:T})}return x},point(r,n,s,c){let d=hi(n,r),g=s.axis||"xy",b=s.includeInvisible||!1;return Ua(r,d,g,c,b)},nearest(r,n,s,c){let d=hi(n,r),g=s.axis||"xy",b=s.includeInvisible||!1;return Xa(r,d,g,s.intersect,c,b)},x(r,n,s,c){let d=hi(n,r);return Ru(r,d,"x",s.intersect,c)},y(r,n,s,c){let d=hi(n,r);return Ru(r,d,"y",s.intersect,c)}}};let Fu=["left","top","right","bottom"];function ao(r,n){return r.filter(s=>s.pos===n)}function Bu(r,n){return r.filter(s=>Fu.indexOf(s.pos)===-1&&s.box.axis===n)}function lo(r,n){return r.sort((s,c)=>{let d=n?c:s,g=n?s:c;return d.weight===g.weight?d.index-g.index:d.weight-g.weight})}function $g(r){let n=[],s,c,d,g,b,x;for(s=0,c=(r||[]).length;s<c;++s)d=r[s],{position:g,options:{stack:b,stackWeight:x=1}}=d,n.push({index:s,box:d,pos:g,horizontal:d.isHorizontal(),weight:d.weight,stack:b&&g+b,stackWeight:x});return n}function Yg(r){let n={};for(let s of r){let{stack:c,pos:d,stackWeight:g}=s;if(!c||!Fu.includes(d))continue;let b=n[c]||(n[c]={count:0,placed:0,weight:0,size:0});b.count++,b.weight+=g}return n}function qg(r,n){let s=Yg(r),{vBoxMaxWidth:c,hBoxMaxHeight:d}=n,g,b,x;for(g=0,b=r.length;g<b;++g){x=r[g];let{fullSize:y}=x.box,k=s[x.stack],T=k&&x.stackWeight/k.weight;x.horizontal?(x.width=T?T*c:y&&n.availableWidth,x.height=d):(x.width=c,x.height=T?T*d:y&&n.availableHeight)}return s}function Ug(r){let n=$g(r),s=lo(n.filter(k=>k.box.fullSize),!0),c=lo(ao(n,"left"),!0),d=lo(ao(n,"right")),g=lo(ao(n,"top"),!0),b=lo(ao(n,"bottom")),x=Bu(n,"x"),y=Bu(n,"y");return{fullSize:s,leftAndTop:c.concat(g),rightAndBottom:d.concat(y).concat(b).concat(x),chartArea:ao(n,"chartArea"),vertical:c.concat(d).concat(y),horizontal:g.concat(b).concat(x)}}function zu(r,n,s,c){return Math.max(r[s],n[s])+Math.max(r[c],n[c])}function Nu(r,n){r.top=Math.max(r.top,n.top),r.left=Math.max(r.left,n.left),r.bottom=Math.max(r.bottom,n.bottom),r.right=Math.max(r.right,n.right)}function Xg(r,n,s,c){let{pos:d,box:g}=s,b=r.maxPadding;if(!a(d)){s.size&&(r[d]-=s.size);let D=c[s.stack]||{size:0,count:1};D.size=Math.max(D.size,s.horizontal?g.height:g.width),s.size=D.size/D.count,r[d]+=s.size}g.getPadding&&Nu(b,g.getPadding());let x=Math.max(0,n.outerWidth-zu(b,r,"left","right")),y=Math.max(0,n.outerHeight-zu(b,r,"top","bottom")),k=x!==r.w,T=y!==r.h;return r.w=x,r.h=y,s.horizontal?{same:k,other:T}:{same:T,other:k}}function Gg(r){let n=r.maxPadding;function s(c){let d=Math.max(n[c]-r[c],0);return r[c]+=d,d}r.y+=s("top"),r.x+=s("left"),s("right"),s("bottom")}function Kg(r,n){let s=n.maxPadding;function c(d){let g={left:0,top:0,right:0,bottom:0};return d.forEach(b=>{g[b]=Math.max(n[b],s[b])}),g}return c(r?["left","right"]:["top","bottom"])}function co(r,n,s,c){let d=[],g,b,x,y,k,T;for(g=0,b=r.length,k=0;g<b;++g){x=r[g],y=x.box,y.update(x.width||n.w,x.height||n.h,Kg(x.horizontal,n));let{same:D,other:R}=Xg(n,s,x,c);k|=D&&d.length,T=T||R,y.fullSize||d.push(x)}return k&&co(d,n,s,c)||T}function hr(r,n,s,c,d){r.top=s,r.left=n,r.right=n+c,r.bottom=s+d,r.width=c,r.height=d}function Vu(r,n,s,c){let d=s.padding,{x:g,y:b}=n;for(let x of r){let y=x.box,k=c[x.stack]||{count:1,placed:0,weight:1},T=x.stackWeight/k.weight||1;if(x.horizontal){let D=n.w*T,R=k.size||y.height;G(k.start)&&(b=k.start),y.fullSize?hr(y,d.left,b,s.outerWidth-d.right-d.left,R):hr(y,n.left+k.placed,b,D,R),k.start=b,k.placed+=D,b=y.bottom}else{let D=n.h*T,R=k.size||y.width;G(k.start)&&(g=k.start),y.fullSize?hr(y,g,d.top,R,s.outerHeight-d.bottom-d.top):hr(y,g,n.top+k.placed,R,D),k.start=g,k.placed+=D,g=y.right}}n.x=g,n.y=b}Dt.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var Le={addBox(r,n){r.boxes||(r.boxes=[]),n.fullSize=n.fullSize||!1,n.position=n.position||"top",n.weight=n.weight||0,n._layers=n._layers||function(){return[{z:0,draw(s){n.draw(s)}}]},r.boxes.push(n)},removeBox(r,n){let s=r.boxes?r.boxes.indexOf(n):-1;s!==-1&&r.boxes.splice(s,1)},configure(r,n,s){n.fullSize=s.fullSize,n.position=s.position,n.weight=s.weight},update(r,n,s,c){if(!r)return;let d=De(r.options.layout.padding),g=Math.max(n-d.width,0),b=Math.max(s-d.height,0),x=Ug(r.boxes),y=x.vertical,k=x.horizontal;v(r.boxes,V=>{typeof V.beforeLayout=="function"&&V.beforeLayout()});let T=y.reduce((V,W)=>W.box.options&&W.box.options.display===!1?V:V+1,0)||1,D=Object.freeze({outerWidth:n,outerHeight:s,padding:d,availableWidth:g,availableHeight:b,vBoxMaxWidth:g/2/T,hBoxMaxHeight:b/2}),R=Object.assign({},d);Nu(R,De(c));let I=Object.assign({maxPadding:R,w:g,h:b,x:d.left,y:d.top},d),B=qg(y.concat(k),D);co(x.fullSize,I,D,B),co(y,I,D,B),co(k,I,D,B)&&co(y,I,D,B),Gg(I),Vu(x.leftAndTop,I,D,B),I.x+=I.w,I.y+=I.h,Vu(x.rightAndBottom,I,D,B),r.chartArea={left:I.left,top:I.top,right:I.left+I.w,bottom:I.top+I.h,height:I.h,width:I.w},v(x.chartArea,V=>{let W=V.box;Object.assign(W,r.chartArea),W.update(I.w,I.h,{left:0,top:0,right:0,bottom:0})})}};class Ga{acquireContext(n,s){}releaseContext(n){return!1}addEventListener(n,s,c){}removeEventListener(n,s,c){}getDevicePixelRatio(){return 1}getMaximumSize(n,s,c,d){return s=Math.max(0,s||n.width),c=c||n.height,{width:s,height:Math.max(0,d?Math.floor(s/d):c)}}isAttached(n){return!0}updateConfig(n){}}class Hu extends Ga{acquireContext(n){return n&&n.getContext&&n.getContext("2d")||null}updateConfig(n){n.options.animation=!1}}let fr="$chartjs",Qg={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Wu=r=>r===null||r==="";function Zg(r,n){let s=r.style,c=r.getAttribute("height"),d=r.getAttribute("width");if(r[fr]={initial:{height:c,width:d,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",Wu(d)){let g=Ra(r,"width");g!==void 0&&(r.width=g)}if(Wu(c))if(r.style.height==="")r.height=r.width/(n||2);else{let g=Ra(r,"height");g!==void 0&&(r.height=g)}return r}let $u=lu?{passive:!0}:!1;function Jg(r,n,s){r.addEventListener(n,s,$u)}function jg(r,n,s){r.canvas.removeEventListener(n,s,$u)}function tm(r,n){let s=Qg[r.type]||r.type,{x:c,y:d}=hi(r,n);return{type:s,chart:n,native:r,x:c!==void 0?c:null,y:d!==void 0?d:null}}function dr(r,n){for(let s of r)if(s===n||s.contains(n))return!0}function em(r,n,s){let c=r.canvas,d=new MutationObserver(g=>{let b=!1;for(let x of g)b=b||dr(x.addedNodes,c),b=b&&!dr(x.removedNodes,c);b&&s()});return d.observe(document,{childList:!0,subtree:!0}),d}function nm(r,n,s){let c=r.canvas,d=new MutationObserver(g=>{let b=!1;for(let x of g)b=b||dr(x.removedNodes,c),b=b&&!dr(x.addedNodes,c);b&&s()});return d.observe(document,{childList:!0,subtree:!0}),d}let uo=new Map,Yu=0;function qu(){let r=window.devicePixelRatio;r!==Yu&&(Yu=r,uo.forEach((n,s)=>{s.currentDevicePixelRatio!==r&&n()}))}function im(r,n){uo.size||window.addEventListener("resize",qu),uo.set(r,n)}function sm(r){uo.delete(r),uo.size||window.removeEventListener("resize",qu)}function om(r,n,s){let c=r.canvas,d=c&&We(c);if(!d)return;let g=Si((x,y)=>{let k=d.clientWidth;s(x,y),k<d.clientWidth&&s()},window),b=new ResizeObserver(x=>{let y=x[0],k=y.contentRect.width,T=y.contentRect.height;k===0&&T===0||g(k,T)});return b.observe(d),im(r,g),b}function Ka(r,n,s){s&&s.disconnect(),n==="resize"&&sm(r)}function rm(r,n,s){let c=r.canvas,d=Si(g=>{r.ctx!==null&&s(tm(g,r))},r,g=>{let b=g[0];return[b,b.offsetX,b.offsetY]});return Jg(c,n,d),d}class Uu extends Ga{acquireContext(n,s){let c=n&&n.getContext&&n.getContext("2d");return c&&c.canvas===n?(Zg(n,s),c):null}releaseContext(n){let s=n.canvas;if(!s[fr])return!1;let c=s[fr].initial;["height","width"].forEach(g=>{let b=c[g];e(b)?s.removeAttribute(g):s.setAttribute(g,b)});let d=c.style||{};return Object.keys(d).forEach(g=>{s.style[g]=d[g]}),s.width=s.width,delete s[fr],!0}addEventListener(n,s,c){this.removeEventListener(n,s);let d=n.$proxies||(n.$proxies={}),b={attach:em,detach:nm,resize:om}[s]||rm;d[s]=b(n,s,c)}removeEventListener(n,s){let c=n.$proxies||(n.$proxies={}),d=c[s];if(!d)return;({attach:Ka,detach:Ka,resize:Ka}[s]||jg)(n,s,d),c[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(n,s,c,d){return au(n,s,c,d)}isAttached(n){let s=We(n);return!!(s&&s.isConnected)}}function Xu(r){return!Ni()||typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas?Hu:Uu}var Gu=Object.freeze({__proto__:null,_detectPlatform:Xu,BasePlatform:Ga,BasicPlatform:Hu,DomPlatform:Uu});let Ku="transparent",am={boolean(r,n,s){return s>.5?n:r},color(r,n,s){let c=Lt(r||Ku),d=c.valid&&Lt(n||Ku);return d&&d.valid?d.mix(c,s).hexString():n},number(r,n,s){return r+(n-r)*s}};class Qu{constructor(n,s,c,d){let g=s[c];d=bs([n.to,d,g,n.from]);let b=bs([n.from,g,d]);this._active=!0,this._fn=n.fn||am[n.type||typeof b],this._easing=gs[n.easing]||gs.linear,this._start=Math.floor(Date.now()+(n.delay||0)),this._duration=this._total=Math.floor(n.duration),this._loop=!!n.loop,this._target=s,this._prop=c,this._from=b,this._to=d,this._promises=void 0}active(){return this._active}update(n,s,c){if(this._active){this._notify(!1);let d=this._target[this._prop],g=c-this._start,b=this._duration-g;this._start=c,this._duration=Math.floor(Math.max(b,n.duration)),this._total+=g,this._loop=!!n.loop,this._to=bs([n.to,s,d,n.from]),this._from=bs([n.from,d,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(n){let s=n-this._start,c=this._duration,d=this._prop,g=this._from,b=this._loop,x=this._to,y;if(this._active=g!==x&&(b||s<c),!this._active){this._target[d]=x,this._notify(!0);return}if(s<0){this._target[d]=g;return}y=s/c%2,y=b&&y>1?2-y:y,y=this._easing(Math.min(1,Math.max(0,y))),this._target[d]=this._fn(g,x,y)}wait(){let n=this._promises||(this._promises=[]);return new Promise((s,c)=>{n.push({res:s,rej:c})})}_notify(n){let s=n?"res":"rej",c=this._promises||[];for(let d=0;d<c.length;d++)c[d][s]()}}let lm=["x","y","borderWidth","radius","tension"],cm=["color","borderColor","backgroundColor"];Dt.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});let um=Object.keys(Dt.animation);Dt.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:r=>r!=="onProgress"&&r!=="onComplete"&&r!=="fn"}),Dt.set("animations",{colors:{type:"color",properties:cm},numbers:{type:"number",properties:lm}}),Dt.describe("animations",{_fallback:"animation"}),Dt.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:r=>r|0}}}});class Qa{constructor(n,s){this._chart=n,this._properties=new Map,this.configure(s)}configure(n){if(!a(n))return;let s=this._properties;Object.getOwnPropertyNames(n).forEach(c=>{let d=n[c];if(!a(d))return;let g={};for(let b of um)g[b]=d[b];(o(d.properties)&&d.properties||[c]).forEach(b=>{(b===c||!s.has(b))&&s.set(b,g)})})}_animateOptions(n,s){let c=s.options,d=fm(n,c);if(!d)return[];let g=this._createAnimations(d,c);return c.$shared&&hm(n.options.$animations,c).then(()=>{n.options=c},()=>{}),g}_createAnimations(n,s){let c=this._properties,d=[],g=n.$animations||(n.$animations={}),b=Object.keys(s),x=Date.now(),y;for(y=b.length-1;y>=0;--y){let k=b[y];if(k.charAt(0)==="$")continue;if(k==="options"){d.push(...this._animateOptions(n,s));continue}let T=s[k],D=g[k],R=c.get(k);if(D)if(R&&D.active()){D.update(R,T,x);continue}else D.cancel();if(!R||!R.duration){n[k]=T;continue}g[k]=D=new Qu(R,n,k,T),d.push(D)}return d}update(n,s){if(this._properties.size===0){Object.assign(n,s);return}let c=this._createAnimations(n,s);if(c.length)return Ct.add(this._chart,c),!0}}function hm(r,n){let s=[],c=Object.keys(n);for(let d=0;d<c.length;d++){let g=r[c[d]];g&&g.active()&&s.push(g.wait())}return Promise.all(s)}function fm(r,n){if(!n)return;let s=r.options;if(!s){r.options=n;return}return s.$shared&&(r.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function Zu(r,n){let s=r&&r.options||{},c=s.reverse,d=s.min===void 0?n:0,g=s.max===void 0?n:0;return{start:c?g:d,end:c?d:g}}function dm(r,n,s){if(s===!1)return!1;let c=Zu(r,s),d=Zu(n,s);return{top:d.end,right:c.end,bottom:d.start,left:c.start}}function pm(r){let n,s,c,d;return a(r)?(n=r.top,s=r.right,c=r.bottom,d=r.left):n=s=c=d=r,{top:n,right:s,bottom:c,left:d,disabled:r===!1}}function Ju(r,n){let s=[],c=r._getSortedDatasetMetas(n),d,g;for(d=0,g=c.length;d<g;++d)s.push(c[d].index);return s}function ju(r,n,s,c={}){let d=r.keys,g=c.mode==="single",b,x,y,k;if(n!==null){for(b=0,x=d.length;b<x;++b){if(y=+d[b],y===s){if(c.all)continue;break}k=r.values[y],h(k)&&(g||n===0||Ot(n)===Ot(k))&&(n+=k)}return n}}function gm(r){let n=Object.keys(r),s=new Array(n.length),c,d,g;for(c=0,d=n.length;c<d;++c)g=n[c],s[c]={x:g,y:r[g]};return s}function th(r,n){let s=r&&r.options.stacked;return s||s===void 0&&n.stack!==void 0}function mm(r,n,s){return`${r.id}.${n.id}.${s.stack||s.type}`}function bm(r){let{min:n,max:s,minDefined:c,maxDefined:d}=r.getUserBounds();return{min:c?n:Number.NEGATIVE_INFINITY,max:d?s:Number.POSITIVE_INFINITY}}function vm(r,n,s){let c=r[n]||(r[n]={});return c[s]||(c[s]={})}function eh(r,n,s,c){for(let d of n.getMatchingVisibleMetas(c).reverse()){let g=r[d.index];if(s&&g>0||!s&&g<0)return d.index}return null}function nh(r,n){let{chart:s,_cachedMeta:c}=r,d=s._stacks||(s._stacks={}),{iScale:g,vScale:b,index:x}=c,y=g.axis,k=b.axis,T=mm(g,b,c),D=n.length,R;for(let I=0;I<D;++I){let B=n[I],{[y]:V,[k]:W}=B,U=B._stacks||(B._stacks={});R=U[k]=vm(d,T,V),R[x]=W,R._top=eh(R,b,!0,c.type),R._bottom=eh(R,b,!1,c.type)}}function Za(r,n){let s=r.scales;return Object.keys(s).filter(c=>s[c].axis===n).shift()}function xm(r,n){return Wn(r,{active:!1,dataset:void 0,datasetIndex:n,index:n,mode:"default",type:"dataset"})}function ym(r,n,s){return Wn(r,{active:!1,dataIndex:n,parsed:void 0,raw:void 0,element:s,index:n,mode:"default",type:"data"})}function ho(r,n){let s=r.controller.index,c=r.vScale&&r.vScale.axis;if(c){n=n||r._parsed;for(let d of n){let g=d._stacks;if(!g||g[c]===void 0||g[c][s]===void 0)return;delete g[c][s]}}}let Ja=r=>r==="reset"||r==="none",ih=(r,n)=>n?r:Object.assign({},r),_m=(r,n,s)=>r&&!n.hidden&&n._stacked&&{keys:Ju(s,!0),values:null};class rn{constructor(n,s){this.chart=n,this._ctx=n.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){let n=this._cachedMeta;this.configure(),this.linkScales(),n._stacked=th(n.vScale,n),this.addElements()}updateIndex(n){this.index!==n&&ho(this._cachedMeta),this.index=n}linkScales(){let n=this.chart,s=this._cachedMeta,c=this.getDataset(),d=(D,R,I,B)=>D==="x"?R:D==="r"?B:I,g=s.xAxisID=u(c.xAxisID,Za(n,"x")),b=s.yAxisID=u(c.yAxisID,Za(n,"y")),x=s.rAxisID=u(c.rAxisID,Za(n,"r")),y=s.indexAxis,k=s.iAxisID=d(y,g,b,x),T=s.vAxisID=d(y,b,g,x);s.xScale=this.getScaleForId(g),s.yScale=this.getScaleForId(b),s.rScale=this.getScaleForId(x),s.iScale=this.getScaleForId(k),s.vScale=this.getScaleForId(T)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(n){return this.chart.scales[n]}_getOtherScale(n){let s=this._cachedMeta;return n===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){let n=this._cachedMeta;this._data&&Mn(this._data,this),n._stacked&&ho(n)}_dataCheck(){let n=this.getDataset(),s=n.data||(n.data=[]),c=this._data;if(a(s))this._data=gm(s);else if(c!==s){if(c){Mn(c,this);let d=this._cachedMeta;ho(d),d._parsed=[]}s&&Object.isExtensible(s)&&Nn(s,this),this._syncList=[],this._data=s}}addElements(){let n=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(n.dataset=new this.datasetElementType)}buildOrUpdateElements(n){let s=this._cachedMeta,c=this.getDataset(),d=!1;this._dataCheck();let g=s._stacked;s._stacked=th(s.vScale,s),s.stack!==c.stack&&(d=!0,ho(s),s.stack=c.stack),this._resyncElements(n),(d||g!==s._stacked)&&nh(this,s._parsed)}configure(){let n=this.chart.config,s=n.datasetScopeKeys(this._type),c=n.getOptionScopes(this.getDataset(),s,!0);this.options=n.createResolver(c,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(n,s){let{_cachedMeta:c,_data:d}=this,{iScale:g,_stacked:b}=c,x=g.axis,y=n===0&&s===d.length?!0:c._sorted,k=n>0&&c._parsed[n-1],T,D,R;if(this._parsing===!1)c._parsed=d,c._sorted=!0,R=d;else{o(d[n])?R=this.parseArrayData(c,d,n,s):a(d[n])?R=this.parseObjectData(c,d,n,s):R=this.parsePrimitiveData(c,d,n,s);let I=()=>D[x]===null||k&&D[x]<k[x];for(T=0;T<s;++T)c._parsed[T+n]=D=R[T],y&&(I()&&(y=!1),k=D);c._sorted=y}b&&nh(this,R)}parsePrimitiveData(n,s,c,d){let{iScale:g,vScale:b}=n,x=g.axis,y=b.axis,k=g.getLabels(),T=g===b,D=new Array(d),R,I,B;for(R=0,I=d;R<I;++R)B=R+c,D[R]={[x]:T||g.parse(k[B],B),[y]:b.parse(s[B],B)};return D}parseArrayData(n,s,c,d){let{xScale:g,yScale:b}=n,x=new Array(d),y,k,T,D;for(y=0,k=d;y<k;++y)T=y+c,D=s[T],x[y]={x:g.parse(D[0],T),y:b.parse(D[1],T)};return x}parseObjectData(n,s,c,d){let{xScale:g,yScale:b}=n,{xAxisKey:x="x",yAxisKey:y="y"}=this._parsing,k=new Array(d),T,D,R,I;for(T=0,D=d;T<D;++T)R=T+c,I=s[R],k[T]={x:g.parse(F(I,x),R),y:b.parse(F(I,y),R)};return k}getParsed(n){return this._cachedMeta._parsed[n]}getDataElement(n){return this._cachedMeta.data[n]}applyStack(n,s,c){let d=this.chart,g=this._cachedMeta,b=s[n.axis],x={keys:Ju(d,!0),values:s._stacks[n.axis]};return ju(x,b,g.index,{mode:c})}updateRangeFromParsed(n,s,c,d){let g=c[s.axis],b=g===null?NaN:g,x=d&&c._stacks[s.axis];d&&x&&(d.values=x,b=ju(d,g,this._cachedMeta.index)),n.min=Math.min(n.min,b),n.max=Math.max(n.max,b)}getMinMax(n,s){let c=this._cachedMeta,d=c._parsed,g=c._sorted&&n===c.iScale,b=d.length,x=this._getOtherScale(n),y=_m(s,c,this.chart),k={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:T,max:D}=bm(x),R,I;function B(){I=d[R];let V=I[x.axis];return!h(I[n.axis])||T>V||D<V}for(R=0;R<b&&!(!B()&&(this.updateRangeFromParsed(k,n,I,y),g));++R);if(g){for(R=b-1;R>=0;--R)if(!B()){this.updateRangeFromParsed(k,n,I,y);break}}return k}getAllParsedValues(n){let s=this._cachedMeta._parsed,c=[],d,g,b;for(d=0,g=s.length;d<g;++d)b=s[d][n.axis],h(b)&&c.push(b);return c}getMaxOverflow(){return!1}getLabelAndValue(n){let s=this._cachedMeta,c=s.iScale,d=s.vScale,g=this.getParsed(n);return{label:c?""+c.getLabelForValue(g[c.axis]):"",value:d?""+d.getLabelForValue(g[d.axis]):""}}_update(n){let s=this._cachedMeta;this.update(n||"default"),s._clip=pm(u(this.options.clip,dm(s.xScale,s.yScale,this.getMaxOverflow())))}update(n){}draw(){let n=this._ctx,s=this.chart,c=this._cachedMeta,d=c.data||[],g=s.chartArea,b=[],x=this._drawStart||0,y=this._drawCount||d.length-x,k=this.options.drawActiveElementsOnTop,T;for(c.dataset&&c.dataset.draw(n,g,x,y),T=x;T<x+y;++T){let D=d[T];D.hidden||(D.active&&k?b.push(D):D.draw(n,g))}for(T=0;T<b.length;++T)b[T].draw(n,g)}getStyle(n,s){let c=s?"active":"default";return n===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(c):this.resolveDataElementOptions(n||0,c)}getContext(n,s,c){let d=this.getDataset(),g;if(n>=0&&n<this._cachedMeta.data.length){let b=this._cachedMeta.data[n];g=b.$context||(b.$context=ym(this.getContext(),n,b)),g.parsed=this.getParsed(n),g.raw=d.data[n],g.index=g.dataIndex=n}else g=this.$context||(this.$context=xm(this.chart.getContext(),this.index)),g.dataset=d,g.index=g.datasetIndex=this.index;return g.active=!!s,g.mode=c,g}resolveDatasetElementOptions(n){return this._resolveElementOptions(this.datasetElementType.id,n)}resolveDataElementOptions(n,s){return this._resolveElementOptions(this.dataElementType.id,s,n)}_resolveElementOptions(n,s="default",c){let d=s==="active",g=this._cachedDataOpts,b=n+"-"+s,x=g[b],y=this.enableOptionSharing&&G(c);if(x)return ih(x,y);let k=this.chart.config,T=k.datasetElementScopeKeys(this._type,n),D=d?[`${n}Hover`,"hover",n,""]:[n,""],R=k.getOptionScopes(this.getDataset(),T),I=Object.keys(Dt.elements[n]),B=()=>this.getContext(c,d),V=k.resolveNamedOptions(R,I,B,D);return V.$shared&&(V.$shared=y,g[b]=Object.freeze(ih(V,y))),V}_resolveAnimations(n,s,c){let d=this.chart,g=this._cachedDataOpts,b=`animation-${s}`,x=g[b];if(x)return x;let y;if(d.options.animation!==!1){let T=this.chart.config,D=T.datasetAnimationScopeKeys(this._type,s),R=T.getOptionScopes(this.getDataset(),D);y=T.createResolver(R,this.getContext(n,c,s))}let k=new Qa(d,y&&y.animations);return y&&y._cacheable&&(g[b]=Object.freeze(k)),k}getSharedOptions(n){if(n.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},n))}includeOptions(n,s){return!s||Ja(n)||this.chart._animationsDisabled}_getSharedOptions(n,s){let c=this.resolveDataElementOptions(n,s),d=this._sharedOptions,g=this.getSharedOptions(c),b=this.includeOptions(s,g)||g!==d;return this.updateSharedOptions(g,s,c),{sharedOptions:g,includeOptions:b}}updateElement(n,s,c,d){Ja(d)?Object.assign(n,c):this._resolveAnimations(s,d).update(n,c)}updateSharedOptions(n,s,c){n&&!Ja(s)&&this._resolveAnimations(void 0,s).update(n,c)}_setStyle(n,s,c,d){n.active=d;let g=this.getStyle(s,d);this._resolveAnimations(s,c,d).update(n,{options:!d&&this.getSharedOptions(g)||g})}removeHoverStyle(n,s,c){this._setStyle(n,c,"active",!1)}setHoverStyle(n,s,c){this._setStyle(n,c,"active",!0)}_removeDatasetHoverStyle(){let n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!1)}_setDatasetHoverStyle(){let n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!0)}_resyncElements(n){let s=this._data,c=this._cachedMeta.data;for(let[x,y,k]of this._syncList)this[x](y,k);this._syncList=[];let d=c.length,g=s.length,b=Math.min(g,d);b&&this.parse(0,b),g>d?this._insertElements(d,g-d,n):g<d&&this._removeElements(g,d-g)}_insertElements(n,s,c=!0){let d=this._cachedMeta,g=d.data,b=n+s,x,y=k=>{for(k.length+=s,x=k.length-1;x>=b;x--)k[x]=k[x-s]};for(y(g),x=n;x<b;++x)g[x]=new this.dataElementType;this._parsing&&y(d._parsed),this.parse(n,s),c&&this.updateElements(g,n,s,"reset")}updateElements(n,s,c,d){}_removeElements(n,s){let c=this._cachedMeta;if(this._parsing){let d=c._parsed.splice(n,s);c._stacked&&ho(c,d)}c.data.splice(n,s)}_sync(n){if(this._parsing)this._syncList.push(n);else{let[s,c,d]=n;this[s](c,d)}this.chart._dataChanges.push([this.index,...n])}_onDataPush(){let n=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-n,n])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(n,s){s&&this._sync(["_removeElements",n,s]);let c=arguments.length-2;c&&this._sync(["_insertElements",n,c])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}rn.defaults={},rn.prototype.datasetElementType=null,rn.prototype.dataElementType=null;class an{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(n){let{x:s,y:c}=this.getProps(["x","y"],n);return{x:s,y:c}}hasValue(){return It(this.x)&&It(this.y)}getProps(n,s){let c=this.$animations;if(!s||!c)return this;let d={};return n.forEach(g=>{d[g]=c[g]&&c[g].active()?c[g]._to:this[g]}),d}}an.defaults={},an.defaultRoutes=void 0;let sh={values(r){return o(r)?r:""+r},numeric(r,n,s){if(r===0)return"0";let c=this.chart.options.locale,d,g=r;if(s.length>1){let k=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(k<1e-4||k>1e15)&&(d="scientific"),g=wm(r,s)}let b=Pt(Math.abs(g)),x=Math.max(Math.min(-1*Math.floor(b),20),0),y={notation:d,minimumFractionDigits:x,maximumFractionDigits:x};return Object.assign(y,this.options.ticks.format),ms(r,c,y)},logarithmic(r,n,s){if(r===0)return"0";let c=r/Math.pow(10,Math.floor(Pt(r)));return c===1||c===2||c===5?sh.numeric.call(this,r,n,s):""}};function wm(r,n){let s=n.length>3?n[2].value-n[1].value:n[1].value-n[0].value;return Math.abs(s)>=1&&r!==Math.floor(r)&&(s=r-Math.floor(r)),s}var fo={formatters:sh};Dt.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(r,n)=>n.lineWidth,tickColor:(r,n)=>n.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:fo.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),Dt.route("scale.ticks","color","","color"),Dt.route("scale.grid","color","","borderColor"),Dt.route("scale.grid","borderColor","","borderColor"),Dt.route("scale.title","color","","color"),Dt.describe("scale",{_fallback:!1,_scriptable:r=>!r.startsWith("before")&&!r.startsWith("after")&&r!=="callback"&&r!=="parser",_indexable:r=>r!=="borderDash"&&r!=="tickBorderDash"}),Dt.describe("scales",{_fallback:"scale"}),Dt.describe("scale.ticks",{_scriptable:r=>r!=="backdropPadding"&&r!=="callback",_indexable:r=>r!=="backdropPadding"});function km(r,n){let s=r.options.ticks,c=s.maxTicksLimit||Pm(r),d=s.major.enabled?Mm(n):[],g=d.length,b=d[0],x=d[g-1],y=[];if(g>c)return Om(n,y,d,g/c),y;let k=Cm(d,n,c);if(g>0){let T,D,R=g>1?Math.round((x-b)/(g-1)):null;for(pr(n,y,k,e(R)?0:b-R,b),T=0,D=g-1;T<D;T++)pr(n,y,k,d[T],d[T+1]);return pr(n,y,k,x,e(R)?n.length:x+R),y}return pr(n,y,k),y}function Pm(r){let n=r.options.offset,s=r._tickSize(),c=r._length/s+(n?0:1),d=r._maxLength/s;return Math.floor(Math.min(c,d))}function Cm(r,n,s){let c=Tm(r),d=n.length/s;if(!c)return Math.max(d,1);let g=jt(c);for(let b=0,x=g.length-1;b<x;b++){let y=g[b];if(y>d)return y}return Math.max(d,1)}function Mm(r){let n=[],s,c;for(s=0,c=r.length;s<c;s++)r[s].major&&n.push(s);return n}function Om(r,n,s,c){let d=0,g=s[0],b;for(c=Math.ceil(c),b=0;b<r.length;b++)b===g&&(n.push(r[b]),d++,g=s[d*c])}function pr(r,n,s,c,d){let g=u(c,0),b=Math.min(u(d,r.length),r.length),x=0,y,k,T;for(s=Math.ceil(s),d&&(y=d-c,s=y/Math.floor(y/s)),T=g;T<0;)x++,T=Math.round(g+x*s);for(k=Math.max(g,0);k<b;k++)k===T&&(n.push(r[k]),x++,T=Math.round(g+x*s))}function Tm(r){let n=r.length,s,c;if(n<2)return!1;for(c=r[0],s=1;s<n;++s)if(r[s]-r[s-1]!==c)return!1;return c}let Am=r=>r==="left"?"right":r==="right"?"left":r,oh=(r,n,s)=>n==="top"||n==="left"?r[n]+s:r[n]-s;function rh(r,n){let s=[],c=r.length/n,d=r.length,g=0;for(;g<d;g+=c)s.push(r[Math.floor(g)]);return s}function Em(r,n,s){let c=r.ticks.length,d=Math.min(n,c-1),g=r._startPixel,b=r._endPixel,x=1e-6,y=r.getPixelForTick(d),k;if(!(s&&(c===1?k=Math.max(y-g,b-y):n===0?k=(r.getPixelForTick(1)-y)/2:k=(y-r.getPixelForTick(d-1))/2,y+=d<n?k:-k,y<g-x||y>b+x)))return y}function Dm(r,n){v(r,s=>{let c=s.gc,d=c.length/2,g;if(d>n){for(g=0;g<d;++g)delete s.data[c[g]];c.splice(0,d)}})}function po(r){return r.drawTicks?r.tickLength:0}function ah(r,n){if(!r.display)return 0;let s=be(r.font,n),c=De(r.padding);return(o(r.text)?r.text.length:1)*s.lineHeight+c.height}function Lm(r,n){return Wn(r,{scale:n,type:"scale"})}function Sm(r,n,s){return Wn(r,{tick:s,index:n,type:"tick"})}function Rm(r,n,s){let c=si(r);return(s&&n!=="right"||!s&&n==="right")&&(c=Am(c)),c}function Im(r,n,s,c){let{top:d,left:g,bottom:b,right:x,chart:y}=r,{chartArea:k,scales:T}=y,D=0,R,I,B,V=b-d,W=x-g;if(r.isHorizontal()){if(I=de(c,g,x),a(s)){let U=Object.keys(s)[0],Q=s[U];B=T[U].getPixelForValue(Q)+V-n}else s==="center"?B=(k.bottom+k.top)/2+V-n:B=oh(r,s,n);R=x-g}else{if(a(s)){let U=Object.keys(s)[0],Q=s[U];I=T[U].getPixelForValue(Q)-W+n}else s==="center"?I=(k.left+k.right)/2-W+n:I=oh(r,s,n);B=de(c,b,d),D=s==="left"?-ht:ht}return{titleX:I,titleY:B,maxWidth:R,rotation:D}}class mi extends an{constructor(n){super(),this.id=n.id,this.type=n.type,this.options=void 0,this.ctx=n.ctx,this.chart=n.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(n){this.options=n.setContext(this.getContext()),this.axis=n.axis,this._userMin=this.parse(n.min),this._userMax=this.parse(n.max),this._suggestedMin=this.parse(n.suggestedMin),this._suggestedMax=this.parse(n.suggestedMax)}parse(n,s){return n}getUserBounds(){let{_userMin:n,_userMax:s,_suggestedMin:c,_suggestedMax:d}=this;return n=p(n,Number.POSITIVE_INFINITY),s=p(s,Number.NEGATIVE_INFINITY),c=p(c,Number.POSITIVE_INFINITY),d=p(d,Number.NEGATIVE_INFINITY),{min:p(n,c),max:p(s,d),minDefined:h(n),maxDefined:h(s)}}getMinMax(n){let{min:s,max:c,minDefined:d,maxDefined:g}=this.getUserBounds(),b;if(d&&g)return{min:s,max:c};let x=this.getMatchingVisibleMetas();for(let y=0,k=x.length;y<k;++y)b=x[y].controller.getMinMax(this,n),d||(s=Math.min(s,b.min)),g||(c=Math.max(c,b.max));return s=g&&s>c?c:s,c=d&&s>c?s:c,{min:p(s,p(c,s)),max:p(c,p(s,c))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let n=this.chart.data;return this.options.labels||(this.isHorizontal()?n.xLabels:n.yLabels)||n.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){m(this.options.beforeUpdate,[this])}update(n,s,c){let{beginAtZero:d,grace:g,ticks:b}=this.options,x=b.sampleSize;this.beforeUpdate(),this.maxWidth=n,this.maxHeight=s,this._margins=c=Object.assign({left:0,right:0,top:0,bottom:0},c),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+c.left+c.right:this.height+c.top+c.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Tu(this,g,d),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let y=x<this.ticks.length;this._convertTicksToLabels(y?rh(this.ticks,x):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),b.display&&(b.autoSkip||b.source==="auto")&&(this.ticks=km(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),y&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let n=this.options.reverse,s,c;this.isHorizontal()?(s=this.left,c=this.right):(s=this.top,c=this.bottom,n=!n),this._startPixel=s,this._endPixel=c,this._reversePixels=n,this._length=c-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){m(this.options.afterUpdate,[this])}beforeSetDimensions(){m(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){m(this.options.afterSetDimensions,[this])}_callHooks(n){this.chart.notifyPlugins(n,this.getContext()),m(this.options[n],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){m(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(n){let s=this.options.ticks,c,d,g;for(c=0,d=n.length;c<d;c++)g=n[c],g.label=m(s.callback,[g.value,c,n],this)}afterTickToLabelConversion(){m(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){m(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let n=this.options,s=n.ticks,c=this.ticks.length,d=s.minRotation||0,g=s.maxRotation,b=d,x,y,k;if(!this._isVisible()||!s.display||d>=g||c<=1||!this.isHorizontal()){this.labelRotation=d;return}let T=this._getLabelSizes(),D=T.widest.width,R=T.highest.height,I=qt(this.chart.width-D,0,this.maxWidth);x=n.offset?this.maxWidth/c:I/(c-1),D+6>x&&(x=I/(c-(n.offset?.5:1)),y=this.maxHeight-po(n.grid)-s.padding-ah(n.title,this.chart.options.font),k=Math.sqrt(D*D+R*R),b=Ae(Math.min(Math.asin(qt((T.highest.height+6)/x,-1,1)),Math.asin(qt(y/k,-1,1))-Math.asin(qt(R/k,-1,1)))),b=Math.max(d,Math.min(g,b))),this.labelRotation=b}afterCalculateLabelRotation(){m(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){m(this.options.beforeFit,[this])}fit(){let n={width:0,height:0},{chart:s,options:{ticks:c,title:d,grid:g}}=this,b=this._isVisible(),x=this.isHorizontal();if(b){let y=ah(d,s.options.font);if(x?(n.width=this.maxWidth,n.height=po(g)+y):(n.height=this.maxHeight,n.width=po(g)+y),c.display&&this.ticks.length){let{first:k,last:T,widest:D,highest:R}=this._getLabelSizes(),I=c.padding*2,B=Mt(this.labelRotation),V=Math.cos(B),W=Math.sin(B);if(x){let U=c.mirror?0:W*D.width+V*R.height;n.height=Math.min(this.maxHeight,n.height+U+I)}else{let U=c.mirror?0:V*D.width+W*R.height;n.width=Math.min(this.maxWidth,n.width+U+I)}this._calculatePadding(k,T,W,V)}}this._handleMargins(),x?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=n.height):(this.width=n.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(n,s,c,d){let{ticks:{align:g,padding:b},position:x}=this.options,y=this.labelRotation!==0,k=x!=="top"&&this.axis==="x";if(this.isHorizontal()){let T=this.getPixelForTick(0)-this.left,D=this.right-this.getPixelForTick(this.ticks.length-1),R=0,I=0;y?k?(R=d*n.width,I=c*s.height):(R=c*n.height,I=d*s.width):g==="start"?I=s.width:g==="end"?R=n.width:g!=="inner"&&(R=n.width/2,I=s.width/2),this.paddingLeft=Math.max((R-T+b)*this.width/(this.width-T),0),this.paddingRight=Math.max((I-D+b)*this.width/(this.width-D),0)}else{let T=s.height/2,D=n.height/2;g==="start"?(T=0,D=n.height):g==="end"&&(T=s.height,D=0),this.paddingTop=T+b,this.paddingBottom=D+b}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){m(this.options.afterFit,[this])}isHorizontal(){let{axis:n,position:s}=this.options;return s==="top"||s==="bottom"||n==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(n){this.beforeTickToLabelConversion(),this.generateTickLabels(n);let s,c;for(s=0,c=n.length;s<c;s++)e(n[s].label)&&(n.splice(s,1),c--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let n=this._labelSizes;if(!n){let s=this.options.ticks.sampleSize,c=this.ticks;s<c.length&&(c=rh(c,s)),this._labelSizes=n=this._computeLabelSizes(c,c.length)}return n}_computeLabelSizes(n,s){let{ctx:c,_longestTextCache:d}=this,g=[],b=[],x=0,y=0,k,T,D,R,I,B,V,W,U,Q,it;for(k=0;k<s;++k){if(R=n[k].label,I=this._resolveTickFontOptions(k),c.font=B=I.string,V=d[B]=d[B]||{data:{},gc:[]},W=I.lineHeight,U=Q=0,!e(R)&&!o(R))U=io(c,V.data,V.gc,U,R),Q=W;else if(o(R))for(T=0,D=R.length;T<D;++T)it=R[T],!e(it)&&!o(it)&&(U=io(c,V.data,V.gc,U,it),Q+=W);g.push(U),b.push(Q),x=Math.max(U,x),y=Math.max(Q,y)}Dm(d,s);let nt=g.indexOf(x),j=b.indexOf(y),ft=dt=>({width:g[dt]||0,height:b[dt]||0});return{first:ft(0),last:ft(s-1),widest:ft(nt),highest:ft(j),widths:g,heights:b}}getLabelForValue(n){return n}getPixelForValue(n,s){return NaN}getValueForPixel(n){}getPixelForTick(n){let s=this.ticks;return n<0||n>s.length-1?null:this.getPixelForValue(s[n].value)}getPixelForDecimal(n){this._reversePixels&&(n=1-n);let s=this._startPixel+n*this._length;return zn(this._alignToPixels?fi(this.chart,s,0):s)}getDecimalForPixel(n){let s=(n-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:n,max:s}=this;return n<0&&s<0?s:n>0&&s>0?n:0}getContext(n){let s=this.ticks||[];if(n>=0&&n<s.length){let c=s[n];return c.$context||(c.$context=Sm(this.getContext(),n,c))}return this.$context||(this.$context=Lm(this.chart.getContext(),this))}_tickSize(){let n=this.options.ticks,s=Mt(this.labelRotation),c=Math.abs(Math.cos(s)),d=Math.abs(Math.sin(s)),g=this._getLabelSizes(),b=n.autoSkipPadding||0,x=g?g.widest.width+b:0,y=g?g.highest.height+b:0;return this.isHorizontal()?y*c>x*d?x/c:y/d:y*d<x*c?y/c:x/d}_isVisible(){let n=this.options.display;return n!=="auto"?!!n:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(n){let s=this.axis,c=this.chart,d=this.options,{grid:g,position:b}=d,x=g.offset,y=this.isHorizontal(),T=this.ticks.length+(x?1:0),D=po(g),R=[],I=g.setContext(this.getContext()),B=I.drawBorder?I.borderWidth:0,V=B/2,W=function(At){return fi(c,At,B)},U,Q,it,nt,j,ft,dt,wt,yt,Vt,Ht,Ft;if(b==="top")U=W(this.bottom),ft=this.bottom-D,wt=U-V,Vt=W(n.top)+V,Ft=n.bottom;else if(b==="bottom")U=W(this.top),Vt=n.top,Ft=W(n.bottom)-V,ft=U+V,wt=this.top+D;else if(b==="left")U=W(this.right),j=this.right-D,dt=U-V,yt=W(n.left)+V,Ht=n.right;else if(b==="right")U=W(this.left),yt=n.left,Ht=W(n.right)-V,j=U+V,dt=this.left+D;else if(s==="x"){if(b==="center")U=W((n.top+n.bottom)/2+.5);else if(a(b)){let At=Object.keys(b)[0],xe=b[At];U=W(this.chart.scales[At].getPixelForValue(xe))}Vt=n.top,Ft=n.bottom,ft=U+V,wt=ft+D}else if(s==="y"){if(b==="center")U=W((n.left+n.right)/2);else if(a(b)){let At=Object.keys(b)[0],xe=b[At];U=W(this.chart.scales[At].getPixelForValue(xe))}j=U-V,dt=j-D,yt=n.left,Ht=n.right}let ve=u(d.ticks.maxTicksLimit,T),$e=Math.max(1,Math.ceil(T/ve));for(Q=0;Q<T;Q+=$e){let At=g.setContext(this.getContext(Q)),xe=At.lineWidth,ge=At.color,$i=At.borderDash||[],vl=At.borderDashOffset,ys=At.tickWidth,Sr=At.tickColor,_s=At.tickBorderDash||[],xo=At.tickBorderDashOffset;it=Em(this,Q,x),it!==void 0&&(nt=fi(c,it,xe),y?j=dt=yt=Ht=nt:ft=wt=Vt=Ft=nt,R.push({tx1:j,ty1:ft,tx2:dt,ty2:wt,x1:yt,y1:Vt,x2:Ht,y2:Ft,width:xe,color:ge,borderDash:$i,borderDashOffset:vl,tickWidth:ys,tickColor:Sr,tickBorderDash:_s,tickBorderDashOffset:xo}))}return this._ticksLength=T,this._borderValue=U,R}_computeLabelItems(n){let s=this.axis,c=this.options,{position:d,ticks:g}=c,b=this.isHorizontal(),x=this.ticks,{align:y,crossAlign:k,padding:T,mirror:D}=g,R=po(c.grid),I=R+T,B=D?-T:I,V=-Mt(this.labelRotation),W=[],U,Q,it,nt,j,ft,dt,wt,yt,Vt,Ht,Ft,ve="middle";if(d==="top")ft=this.bottom-B,dt=this._getXAxisLabelAlignment();else if(d==="bottom")ft=this.top+B,dt=this._getXAxisLabelAlignment();else if(d==="left"){let At=this._getYAxisLabelAlignment(R);dt=At.textAlign,j=At.x}else if(d==="right"){let At=this._getYAxisLabelAlignment(R);dt=At.textAlign,j=At.x}else if(s==="x"){if(d==="center")ft=(n.top+n.bottom)/2+I;else if(a(d)){let At=Object.keys(d)[0],xe=d[At];ft=this.chart.scales[At].getPixelForValue(xe)+I}dt=this._getXAxisLabelAlignment()}else if(s==="y"){if(d==="center")j=(n.left+n.right)/2-I;else if(a(d)){let At=Object.keys(d)[0],xe=d[At];j=this.chart.scales[At].getPixelForValue(xe)}dt=this._getYAxisLabelAlignment(R).textAlign}s==="y"&&(y==="start"?ve="top":y==="end"&&(ve="bottom"));let $e=this._getLabelSizes();for(U=0,Q=x.length;U<Q;++U){it=x[U],nt=it.label;let At=g.setContext(this.getContext(U));wt=this.getPixelForTick(U)+g.labelOffset,yt=this._resolveTickFontOptions(U),Vt=yt.lineHeight,Ht=o(nt)?nt.length:1;let xe=Ht/2,ge=At.color,$i=At.textStrokeColor,vl=At.textStrokeWidth,ys=dt;b?(j=wt,dt==="inner"&&(U===Q-1?ys=this.options.reverse?"left":"right":U===0?ys=this.options.reverse?"right":"left":ys="center"),d==="top"?k==="near"||V!==0?Ft=-Ht*Vt+Vt/2:k==="center"?Ft=-$e.highest.height/2-xe*Vt+Vt:Ft=-$e.highest.height+Vt/2:k==="near"||V!==0?Ft=Vt/2:k==="center"?Ft=$e.highest.height/2-xe*Vt:Ft=$e.highest.height-Ht*Vt,D&&(Ft*=-1)):(ft=wt,Ft=(1-Ht)*Vt/2);let Sr;if(At.showLabelBackdrop){let _s=De(At.backdropPadding),xo=$e.heights[U],xl=$e.widths[U],yl=ft+Ft-_s.top,_l=j-_s.left;switch(ve){case"middle":yl-=xo/2;break;case"bottom":yl-=xo;break}switch(dt){case"center":_l-=xl/2;break;case"right":_l-=xl;break}Sr={left:_l,top:yl,width:xl+_s.width,height:xo+_s.height,color:At.backdropColor}}W.push({rotation:V,label:nt,font:yt,color:ge,strokeColor:$i,strokeWidth:vl,textOffset:Ft,textAlign:ys,textBaseline:ve,translation:[j,ft],backdrop:Sr})}return W}_getXAxisLabelAlignment(){let{position:n,ticks:s}=this.options;if(-Mt(this.labelRotation))return n==="top"?"left":"right";let d="center";return s.align==="start"?d="left":s.align==="end"?d="right":s.align==="inner"&&(d="inner"),d}_getYAxisLabelAlignment(n){let{position:s,ticks:{crossAlign:c,mirror:d,padding:g}}=this.options,b=this._getLabelSizes(),x=n+g,y=b.widest.width,k,T;return s==="left"?d?(T=this.right+g,c==="near"?k="left":c==="center"?(k="center",T+=y/2):(k="right",T+=y)):(T=this.right-x,c==="near"?k="right":c==="center"?(k="center",T-=y/2):(k="left",T=this.left)):s==="right"?d?(T=this.left+g,c==="near"?k="right":c==="center"?(k="center",T-=y/2):(k="left",T-=y)):(T=this.left+x,c==="near"?k="left":c==="center"?(k="center",T+=y/2):(k="right",T=this.right)):k="right",{textAlign:k,x:T}}_computeLabelArea(){if(this.options.ticks.mirror)return;let n=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:n.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:n.width}}drawBackground(){let{ctx:n,options:{backgroundColor:s},left:c,top:d,width:g,height:b}=this;s&&(n.save(),n.fillStyle=s,n.fillRect(c,d,g,b),n.restore())}getLineWidthForValue(n){let s=this.options.grid;if(!this._isVisible()||!s.display)return 0;let d=this.ticks.findIndex(g=>g.value===n);return d>=0?s.setContext(this.getContext(d)).lineWidth:0}drawGrid(n){let s=this.options.grid,c=this.ctx,d=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(n)),g,b,x=(y,k,T)=>{!T.width||!T.color||(c.save(),c.lineWidth=T.width,c.strokeStyle=T.color,c.setLineDash(T.borderDash||[]),c.lineDashOffset=T.borderDashOffset,c.beginPath(),c.moveTo(y.x,y.y),c.lineTo(k.x,k.y),c.stroke(),c.restore())};if(s.display)for(g=0,b=d.length;g<b;++g){let y=d[g];s.drawOnChartArea&&x({x:y.x1,y:y.y1},{x:y.x2,y:y.y2},y),s.drawTicks&&x({x:y.tx1,y:y.ty1},{x:y.tx2,y:y.ty2},{color:y.tickColor,width:y.tickWidth,borderDash:y.tickBorderDash,borderDashOffset:y.tickBorderDashOffset})}}drawBorder(){let{chart:n,ctx:s,options:{grid:c}}=this,d=c.setContext(this.getContext()),g=c.drawBorder?d.borderWidth:0;if(!g)return;let b=c.setContext(this.getContext(0)).lineWidth,x=this._borderValue,y,k,T,D;this.isHorizontal()?(y=fi(n,this.left,g)-g/2,k=fi(n,this.right,b)+b/2,T=D=x):(T=fi(n,this.top,g)-g/2,D=fi(n,this.bottom,b)+b/2,y=k=x),s.save(),s.lineWidth=d.borderWidth,s.strokeStyle=d.borderColor,s.beginPath(),s.moveTo(y,T),s.lineTo(k,D),s.stroke(),s.restore()}drawLabels(n){if(!this.options.ticks.display)return;let c=this.ctx,d=this._computeLabelArea();d&&so(c,d);let g=this._labelItems||(this._labelItems=this._computeLabelItems(n)),b,x;for(b=0,x=g.length;b<x;++b){let y=g[b],k=y.font,T=y.label;y.backdrop&&(c.fillStyle=y.backdrop.color,c.fillRect(y.backdrop.left,y.backdrop.top,y.backdrop.width,y.backdrop.height));let D=y.textOffset;di(c,T,0,D,k,y)}d&&oo(c)}drawTitle(){let{ctx:n,options:{position:s,title:c,reverse:d}}=this;if(!c.display)return;let g=be(c.font),b=De(c.padding),x=c.align,y=g.lineHeight/2;s==="bottom"||s==="center"||a(s)?(y+=b.bottom,o(c.text)&&(y+=g.lineHeight*(c.text.length-1))):y+=b.top;let{titleX:k,titleY:T,maxWidth:D,rotation:R}=Im(this,y,s,x);di(n,c.text,0,0,g,{color:c.color,maxWidth:D,rotation:R,textAlign:Rm(x,s,d),textBaseline:"middle",translation:[k,T]})}draw(n){this._isVisible()&&(this.drawBackground(),this.drawGrid(n),this.drawBorder(),this.drawTitle(),this.drawLabels(n))}_layers(){let n=this.options,s=n.ticks&&n.ticks.z||0,c=u(n.grid&&n.grid.z,-1);return!this._isVisible()||this.draw!==mi.prototype.draw?[{z:s,draw:d=>{this.draw(d)}}]:[{z:c,draw:d=>{this.drawBackground(),this.drawGrid(d),this.drawTitle()}},{z:c+1,draw:()=>{this.drawBorder()}},{z:s,draw:d=>{this.drawLabels(d)}}]}getMatchingVisibleMetas(n){let s=this.chart.getSortedVisibleDatasetMetas(),c=this.axis+"AxisID",d=[],g,b;for(g=0,b=s.length;g<b;++g){let x=s[g];x[c]===this.id&&(!n||x.type===n)&&d.push(x)}return d}_resolveTickFontOptions(n){let s=this.options.ticks.setContext(this.getContext(n));return be(s.font)}_maxDigits(){let n=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/n}}class gr{constructor(n,s,c){this.type=n,this.scope=s,this.override=c,this.items=Object.create(null)}isForType(n){return Object.prototype.isPrototypeOf.call(this.type.prototype,n.prototype)}register(n){let s=Object.getPrototypeOf(n),c;zm(s)&&(c=this.register(s));let d=this.items,g=n.id,b=this.scope+"."+g;if(!g)throw new Error("class does not have id: "+n);return g in d||(d[g]=n,Fm(n,b,c),this.override&&Dt.override(n.id,n.overrides)),b}get(n){return this.items[n]}unregister(n){let s=this.items,c=n.id,d=this.scope;c in s&&delete s[c],d&&c in Dt[d]&&(delete Dt[d][c],this.override&&delete $t[c])}}function Fm(r,n,s){let c=M(Object.create(null),[s?Dt.get(s):{},Dt.get(n),r.defaults]);Dt.set(n,c),r.defaultRoutes&&Bm(n,r.defaultRoutes),r.descriptors&&Dt.describe(n,r.descriptors)}function Bm(r,n){Object.keys(n).forEach(s=>{let c=s.split("."),d=c.pop(),g=[r].concat(c).join("."),b=n[s].split("."),x=b.pop(),y=b.join(".");Dt.route(g,d,y,x)})}function zm(r){return"id"in r&&"defaults"in r}class Nm{constructor(){this.controllers=new gr(rn,"datasets",!0),this.elements=new gr(an,"elements"),this.plugins=new gr(Object,"plugins"),this.scales=new gr(mi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...n){this._each("register",n)}remove(...n){this._each("unregister",n)}addControllers(...n){this._each("register",n,this.controllers)}addElements(...n){this._each("register",n,this.elements)}addPlugins(...n){this._each("register",n,this.plugins)}addScales(...n){this._each("register",n,this.scales)}getController(n){return this._get(n,this.controllers,"controller")}getElement(n){return this._get(n,this.elements,"element")}getPlugin(n){return this._get(n,this.plugins,"plugin")}getScale(n){return this._get(n,this.scales,"scale")}removeControllers(...n){this._each("unregister",n,this.controllers)}removeElements(...n){this._each("unregister",n,this.elements)}removePlugins(...n){this._each("unregister",n,this.plugins)}removeScales(...n){this._each("unregister",n,this.scales)}_each(n,s,c){[...s].forEach(d=>{let g=c||this._getRegistryForType(d);c||g.isForType(d)||g===this.plugins&&d.id?this._exec(n,g,d):v(d,b=>{let x=c||this._getRegistryForType(b);this._exec(n,x,b)})})}_exec(n,s,c){let d=$(n);m(c["before"+d],[],c),s[n](c),m(c["after"+d],[],c)}_getRegistryForType(n){for(let s=0;s<this._typedRegistries.length;s++){let c=this._typedRegistries[s];if(c.isForType(n))return c}return this.plugins}_get(n,s,c){let d=s.get(n);if(d===void 0)throw new Error('"'+n+'" is not a registered '+c+".");return d}}var vn=new Nm;class Vm{constructor(){this._init=[]}notify(n,s,c,d){s==="beforeInit"&&(this._init=this._createDescriptors(n,!0),this._notify(this._init,n,"install"));let g=d?this._descriptors(n).filter(d):this._descriptors(n),b=this._notify(g,n,s,c);return s==="afterDestroy"&&(this._notify(g,n,"stop"),this._notify(this._init,n,"uninstall")),b}_notify(n,s,c,d){d=d||{};for(let g of n){let b=g.plugin,x=b[c],y=[s,d,g.options];if(m(x,y,b)===!1&&d.cancelable)return!1}return!0}invalidate(){e(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(n){if(this._cache)return this._cache;let s=this._cache=this._createDescriptors(n);return this._notifyStateChanges(n),s}_createDescriptors(n,s){let c=n&&n.config,d=u(c.options&&c.options.plugins,{}),g=Hm(c);return d===!1&&!s?[]:$m(n,g,d,s)}_notifyStateChanges(n){let s=this._oldCache||[],c=this._cache,d=(g,b)=>g.filter(x=>!b.some(y=>x.plugin.id===y.plugin.id));this._notify(d(s,c),n,"stop"),this._notify(d(c,s),n,"start")}}function Hm(r){let n={},s=[],c=Object.keys(vn.plugins.items);for(let g=0;g<c.length;g++)s.push(vn.getPlugin(c[g]));let d=r.plugins||[];for(let g=0;g<d.length;g++){let b=d[g];s.indexOf(b)===-1&&(s.push(b),n[b.id]=!0)}return{plugins:s,localIds:n}}function Wm(r,n){return!n&&r===!1?null:r===!0?{}:r}function $m(r,{plugins:n,localIds:s},c,d){let g=[],b=r.getContext();for(let x of n){let y=x.id,k=Wm(c[y],d);k!==null&&g.push({plugin:x,options:Ym(r.config,{plugin:x,local:s[y]},k,b)})}return g}function Ym(r,{plugin:n,local:s},c,d){let g=r.pluginScopeKeys(n),b=r.getOptionScopes(c,g);return s&&n.defaults&&b.push(n.defaults),r.createResolver(b,d,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ja(r,n){let s=Dt.datasets[r]||{};return((n.datasets||{})[r]||{}).indexAxis||n.indexAxis||s.indexAxis||"x"}function qm(r,n){let s=r;return r==="_index_"?s=n:r==="_value_"&&(s=n==="x"?"y":"x"),s}function Um(r,n){return r===n?"_index_":"_value_"}function Xm(r){if(r==="top"||r==="bottom")return"x";if(r==="left"||r==="right")return"y"}function tl(r,n){return r==="x"||r==="y"?r:n.axis||Xm(n.position)||r.charAt(0).toLowerCase()}function Gm(r,n){let s=$t[r.type]||{scales:{}},c=n.scales||{},d=ja(r.type,n),g=Object.create(null),b=Object.create(null);return Object.keys(c).forEach(x=>{let y=c[x];if(!a(y))return console.error(`Invalid scale configuration for scale: ${x}`);if(y._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${x}`);let k=tl(x,y),T=Um(k,d),D=s.scales||{};g[k]=g[k]||x,b[x]=O(Object.create(null),[{axis:k},y,D[k],D[T]])}),r.data.datasets.forEach(x=>{let y=x.type||r.type,k=x.indexAxis||ja(y,n),D=($t[y]||{}).scales||{};Object.keys(D).forEach(R=>{let I=qm(R,k),B=x[I+"AxisID"]||g[I]||I;b[B]=b[B]||Object.create(null),O(b[B],[{axis:I},c[B],D[R]])})}),Object.keys(b).forEach(x=>{let y=b[x];O(y,[Dt.scales[y.type],Dt.scale])}),b}function lh(r){let n=r.options||(r.options={});n.plugins=u(n.plugins,{}),n.scales=Gm(r,n)}function ch(r){return r=r||{},r.datasets=r.datasets||[],r.labels=r.labels||[],r}function Km(r){return r=r||{},r.data=ch(r.data),lh(r),r}let uh=new Map,hh=new Set;function mr(r,n){let s=uh.get(r);return s||(s=n(),uh.set(r,s),hh.add(s)),s}let go=(r,n,s)=>{let c=F(n,s);c!==void 0&&r.add(c)};class Qm{constructor(n){this._config=Km(n),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(n){this._config.type=n}get data(){return this._config.data}set data(n){this._config.data=ch(n)}get options(){return this._config.options}set options(n){this._config.options=n}get plugins(){return this._config.plugins}update(){let n=this._config;this.clearCache(),lh(n)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(n){return mr(n,()=>[[`datasets.${n}`,""]])}datasetAnimationScopeKeys(n,s){return mr(`${n}.transition.${s}`,()=>[[`datasets.${n}.transitions.${s}`,`transitions.${s}`],[`datasets.${n}`,""]])}datasetElementScopeKeys(n,s){return mr(`${n}-${s}`,()=>[[`datasets.${n}.elements.${s}`,`datasets.${n}`,`elements.${s}`,""]])}pluginScopeKeys(n){let s=n.id,c=this.type;return mr(`${c}-plugin-${s}`,()=>[[`plugins.${s}`,...n.additionalOptionScopes||[]]])}_cachedScopes(n,s){let c=this._scopeCache,d=c.get(n);return(!d||s)&&(d=new Map,c.set(n,d)),d}getOptionScopes(n,s,c){let{options:d,type:g}=this,b=this._cachedScopes(n,c),x=b.get(s);if(x)return x;let y=new Set;s.forEach(T=>{n&&(y.add(n),T.forEach(D=>go(y,n,D))),T.forEach(D=>go(y,d,D)),T.forEach(D=>go(y,$t[g]||{},D)),T.forEach(D=>go(y,Dt,D)),T.forEach(D=>go(y,Qt,D))});let k=Array.from(y);return k.length===0&&k.push(Object.create(null)),hh.has(s)&&b.set(s,k),k}chartOptionScopes(){let{options:n,type:s}=this;return[n,$t[s]||{},Dt.datasets[s]||{},{type:s},Dt,Qt]}resolveNamedOptions(n,s,c,d=[""]){let g={$shared:!0},{resolver:b,subPrefixes:x}=fh(this._resolverCache,n,d),y=b;if(Jm(b,s)){g.$shared=!1,c=tt(c)?c():c;let k=this.createResolver(n,c,x);y=Vi(b,c,k)}for(let k of s)g[k]=y[k];return g}createResolver(n,s,c=[""],d){let{resolver:g}=fh(this._resolverCache,n,c);return a(s)?Vi(g,s,void 0,d):g}}function fh(r,n,s){let c=r.get(n);c||(c=new Map,r.set(n,c));let d=s.join(),g=c.get(d);return g||(g={resolver:ar(n,s),subPrefixes:s.filter(x=>!x.toLowerCase().includes("hover"))},c.set(d,g)),g}let Zm=r=>a(r)&&Object.getOwnPropertyNames(r).reduce((n,s)=>n||tt(r[s]),!1);function Jm(r,n){let{isScriptable:s,isIndexable:c}=Ba(r);for(let d of n){let g=s(d),b=c(d),x=(b||g)&&r[d];if(g&&(tt(x)||Zm(x))||b&&o(x))return!0}return!1}var jm="3.9.1";let tb=["top","bottom","left","right","chartArea"];function dh(r,n){return r==="top"||r==="bottom"||tb.indexOf(r)===-1&&n==="x"}function ph(r,n){return function(s,c){return s[r]===c[r]?s[n]-c[n]:s[r]-c[r]}}function gh(r){let n=r.chart,s=n.options.animation;n.notifyPlugins("afterRender"),m(s&&s.onComplete,[r],n)}function eb(r){let n=r.chart,s=n.options.animation;m(s&&s.onProgress,[r],n)}function mh(r){return Ni()&&typeof r=="string"?r=document.getElementById(r):r&&r.length&&(r=r[0]),r&&r.canvas&&(r=r.canvas),r}let br={},bh=r=>{let n=mh(r);return Object.values(br).filter(s=>s.canvas===n).pop()};function nb(r,n,s){let c=Object.keys(r);for(let d of c){let g=+d;if(g>=n){let b=r[d];delete r[d],(s>0||g>n)&&(r[g+s]=b)}}}function ib(r,n,s,c){return!s||r.type==="mouseout"?null:c?n:r}class le{constructor(n,s){let c=this.config=new Qm(s),d=mh(n),g=bh(d);if(g)throw new Error("Canvas is already in use. Chart with ID '"+g.id+"' must be destroyed before the canvas with ID '"+g.canvas.id+"' can be reused.");let b=c.createResolver(c.chartOptionScopes(),this.getContext());this.platform=new(c.platform||Xu(d)),this.platform.updateConfig(c);let x=this.platform.acquireContext(d,b.aspectRatio),y=x&&x.canvas,k=y&&y.height,T=y&&y.width;if(this.id=t(),this.ctx=x,this.canvas=y,this.width=T,this.height=k,this._options=b,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Vm,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Ri(D=>this.update(D),b.resizeDelay||0),this._dataChanges=[],br[this.id]=this,!x||!y){console.error("Failed to create chart: can't acquire context from the given item");return}Ct.listen(this,"complete",gh),Ct.listen(this,"progress",eb),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:n,maintainAspectRatio:s},width:c,height:d,_aspectRatio:g}=this;return e(n)?s&&g?g:d?c/d:null:n}get data(){return this.config.data}set data(n){this.config.data=n}get options(){return this._options}set options(n){this.config.options=n}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Sa(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ia(this.canvas,this.ctx),this}stop(){return Ct.stop(this),this}resize(n,s){Ct.running(this)?this._resizeBeforeDraw={width:n,height:s}:this._resize(n,s)}_resize(n,s){let c=this.options,d=this.canvas,g=c.maintainAspectRatio&&this.aspectRatio,b=this.platform.getMaximumSize(d,n,s,g),x=c.devicePixelRatio||this.platform.getDevicePixelRatio(),y=this.width?"resize":"attach";this.width=b.width,this.height=b.height,this._aspectRatio=this.aspectRatio,Sa(this,x,!0)&&(this.notifyPlugins("resize",{size:b}),m(c.onResize,[this,b],this),this.attached&&this._doResize(y)&&this.render())}ensureScalesHaveIDs(){let s=this.options.scales||{};v(s,(c,d)=>{c.id=d})}buildOrUpdateScales(){let n=this.options,s=n.scales,c=this.scales,d=Object.keys(c).reduce((b,x)=>(b[x]=!1,b),{}),g=[];s&&(g=g.concat(Object.keys(s).map(b=>{let x=s[b],y=tl(b,x),k=y==="r",T=y==="x";return{options:x,dposition:k?"chartArea":T?"bottom":"left",dtype:k?"radialLinear":T?"category":"linear"}}))),v(g,b=>{let x=b.options,y=x.id,k=tl(y,x),T=u(x.type,b.dtype);(x.position===void 0||dh(x.position,k)!==dh(b.dposition))&&(x.position=b.dposition),d[y]=!0;let D=null;if(y in c&&c[y].type===T)D=c[y];else{let R=vn.getScale(T);D=new R({id:y,type:T,ctx:this.ctx,chart:this}),c[D.id]=D}D.init(x,n)}),v(d,(b,x)=>{b||delete c[x]}),v(c,b=>{Le.configure(this,b,b.options),Le.addBox(this,b)})}_updateMetasets(){let n=this._metasets,s=this.data.datasets.length,c=n.length;if(n.sort((d,g)=>d.index-g.index),c>s){for(let d=s;d<c;++d)this._destroyDatasetMeta(d);n.splice(s,c-s)}this._sortedMetasets=n.slice(0).sort(ph("order","index"))}_removeUnreferencedMetasets(){let{_metasets:n,data:{datasets:s}}=this;n.length>s.length&&delete this._stacks,n.forEach((c,d)=>{s.filter(g=>g===c._dataset).length===0&&this._destroyDatasetMeta(d)})}buildOrUpdateControllers(){let n=[],s=this.data.datasets,c,d;for(this._removeUnreferencedMetasets(),c=0,d=s.length;c<d;c++){let g=s[c],b=this.getDatasetMeta(c),x=g.type||this.config.type;if(b.type&&b.type!==x&&(this._destroyDatasetMeta(c),b=this.getDatasetMeta(c)),b.type=x,b.indexAxis=g.indexAxis||ja(x,this.options),b.order=g.order||0,b.index=c,b.label=""+g.label,b.visible=this.isDatasetVisible(c),b.controller)b.controller.updateIndex(c),b.controller.linkScales();else{let y=vn.getController(x),{datasetElementType:k,dataElementType:T}=Dt.datasets[x];Object.assign(y.prototype,{dataElementType:vn.getElement(T),datasetElementType:k&&vn.getElement(k)}),b.controller=new y(this,c),n.push(b.controller)}}return this._updateMetasets(),n}_resetElements(){v(this.data.datasets,(n,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(n){let s=this.config;s.update();let c=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),d=this._animationsDisabled=!c.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:n,cancelable:!0})===!1)return;let g=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let b=0;for(let k=0,T=this.data.datasets.length;k<T;k++){let{controller:D}=this.getDatasetMeta(k),R=!d&&g.indexOf(D)===-1;D.buildOrUpdateElements(R),b=Math.max(+D.getMaxOverflow(),b)}b=this._minPadding=c.layout.autoPadding?b:0,this._updateLayout(b),d||v(g,k=>{k.reset()}),this._updateDatasets(n),this.notifyPlugins("afterUpdate",{mode:n}),this._layers.sort(ph("z","_idx"));let{_active:x,_lastEvent:y}=this;y?this._eventHandler(y,!0):x.length&&this._updateHoverStyles(x,x,!0),this.render()}_updateScales(){v(this.scales,n=>{Le.removeBox(this,n)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let n=this.options,s=new Set(Object.keys(this._listeners)),c=new Set(n.events);(!et(s,c)||!!this._responsiveListeners!==n.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:n}=this,s=this._getUniformDataChanges()||[];for(let{method:c,start:d,count:g}of s){let b=c==="_removeElements"?-g:g;nb(n,d,b)}}_getUniformDataChanges(){let n=this._dataChanges;if(!n||!n.length)return;this._dataChanges=[];let s=this.data.datasets.length,c=g=>new Set(n.filter(b=>b[0]===g).map((b,x)=>x+","+b.splice(1).join(","))),d=c(0);for(let g=1;g<s;g++)if(!et(d,c(g)))return;return Array.from(d).map(g=>g.split(",")).map(g=>({method:g[1],start:+g[2],count:+g[3]}))}_updateLayout(n){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Le.update(this,this.width,this.height,n);let s=this.chartArea,c=s.width<=0||s.height<=0;this._layers=[],v(this.boxes,d=>{c&&d.position==="chartArea"||(d.configure&&d.configure(),this._layers.push(...d._layers()))},this),this._layers.forEach((d,g)=>{d._idx=g}),this.notifyPlugins("afterLayout")}_updateDatasets(n){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:n,cancelable:!0})!==!1){for(let s=0,c=this.data.datasets.length;s<c;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,c=this.data.datasets.length;s<c;++s)this._updateDataset(s,tt(n)?n({datasetIndex:s}):n);this.notifyPlugins("afterDatasetsUpdate",{mode:n})}}_updateDataset(n,s){let c=this.getDatasetMeta(n),d={meta:c,index:n,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",d)!==!1&&(c.controller._update(s),d.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",d))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ct.has(this)?this.attached&&!Ct.running(this)&&Ct.start(this):(this.draw(),gh({chart:this})))}draw(){let n;if(this._resizeBeforeDraw){let{width:c,height:d}=this._resizeBeforeDraw;this._resize(c,d),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let s=this._layers;for(n=0;n<s.length&&s[n].z<=0;++n)s[n].draw(this.chartArea);for(this._drawDatasets();n<s.length;++n)s[n].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(n){let s=this._sortedMetasets,c=[],d,g;for(d=0,g=s.length;d<g;++d){let b=s[d];(!n||b.visible)&&c.push(b)}return c}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let n=this.getSortedVisibleDatasetMetas();for(let s=n.length-1;s>=0;--s)this._drawDataset(n[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(n){let s=this.ctx,c=n._clip,d=!c.disabled,g=this.chartArea,b={meta:n,index:n.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",b)!==!1&&(d&&so(s,{left:c.left===!1?0:g.left-c.left,right:c.right===!1?this.width:g.right+c.right,top:c.top===!1?0:g.top-c.top,bottom:c.bottom===!1?this.height:g.bottom+c.bottom}),n.controller.draw(),d&&oo(s),b.cancelable=!1,this.notifyPlugins("afterDatasetDraw",b))}isPointInArea(n){return fs(n,this.chartArea,this._minPadding)}getElementsAtEventForMode(n,s,c,d){let g=Iu.modes[s];return typeof g=="function"?g(this,n,c,d):[]}getDatasetMeta(n){let s=this.data.datasets[n],c=this._metasets,d=c.filter(g=>g&&g._dataset===s).pop();return d||(d={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:n,_dataset:s,_parsed:[],_sorted:!1},c.push(d)),d}getContext(){return this.$context||(this.$context=Wn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(n){let s=this.data.datasets[n];if(!s)return!1;let c=this.getDatasetMeta(n);return typeof c.hidden=="boolean"?!c.hidden:!s.hidden}setDatasetVisibility(n,s){let c=this.getDatasetMeta(n);c.hidden=!s}toggleDataVisibility(n){this._hiddenIndices[n]=!this._hiddenIndices[n]}getDataVisibility(n){return!this._hiddenIndices[n]}_updateVisibility(n,s,c){let d=c?"show":"hide",g=this.getDatasetMeta(n),b=g.controller._resolveAnimations(void 0,d);G(s)?(g.data[s].hidden=!c,this.update()):(this.setDatasetVisibility(n,c),b.update(g,{visible:c}),this.update(x=>x.datasetIndex===n?d:void 0))}hide(n,s){this._updateVisibility(n,s,!1)}show(n,s){this._updateVisibility(n,s,!0)}_destroyDatasetMeta(n){let s=this._metasets[n];s&&s.controller&&s.controller._destroy(),delete this._metasets[n]}_stop(){let n,s;for(this.stop(),Ct.remove(this),n=0,s=this.data.datasets.length;n<s;++n)this._destroyDatasetMeta(n)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:n,ctx:s}=this;this._stop(),this.config.clearCache(),n&&(this.unbindEvents(),Ia(n,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete br[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...n){return this.canvas.toDataURL(...n)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let n=this._listeners,s=this.platform,c=(g,b)=>{s.addEventListener(this,g,b),n[g]=b},d=(g,b,x)=>{g.offsetX=b,g.offsetY=x,this._eventHandler(g)};v(this.options.events,g=>c(g,d))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let n=this._responsiveListeners,s=this.platform,c=(y,k)=>{s.addEventListener(this,y,k),n[y]=k},d=(y,k)=>{n[y]&&(s.removeEventListener(this,y,k),delete n[y])},g=(y,k)=>{this.canvas&&this.resize(y,k)},b,x=()=>{d("attach",x),this.attached=!0,this.resize(),c("resize",g),c("detach",b)};b=()=>{this.attached=!1,d("resize",g),this._stop(),this._resize(0,0),c("attach",x)},s.isAttached(this.canvas)?x():b()}unbindEvents(){v(this._listeners,(n,s)=>{this.platform.removeEventListener(this,s,n)}),this._listeners={},v(this._responsiveListeners,(n,s)=>{this.platform.removeEventListener(this,s,n)}),this._responsiveListeners=void 0}updateHoverStyle(n,s,c){let d=c?"set":"remove",g,b,x,y;for(s==="dataset"&&(g=this.getDatasetMeta(n[0].datasetIndex),g.controller["_"+d+"DatasetHoverStyle"]()),x=0,y=n.length;x<y;++x){b=n[x];let k=b&&this.getDatasetMeta(b.datasetIndex).controller;k&&k[d+"HoverStyle"](b.element,b.datasetIndex,b.index)}}getActiveElements(){return this._active||[]}setActiveElements(n){let s=this._active||[],c=n.map(({datasetIndex:g,index:b})=>{let x=this.getDatasetMeta(g);if(!x)throw new Error("No dataset found at index "+g);return{datasetIndex:g,element:x.data[b],index:b}});!_(c,s)&&(this._active=c,this._lastEvent=null,this._updateHoverStyles(c,s))}notifyPlugins(n,s,c){return this._plugins.notify(this,n,s,c)}_updateHoverStyles(n,s,c){let d=this.options.hover,g=(y,k)=>y.filter(T=>!k.some(D=>T.datasetIndex===D.datasetIndex&&T.index===D.index)),b=g(s,n),x=c?n:g(n,s);b.length&&this.updateHoverStyle(b,d.mode,!1),x.length&&d.mode&&this.updateHoverStyle(x,d.mode,!0)}_eventHandler(n,s){let c={event:n,replay:s,cancelable:!0,inChartArea:this.isPointInArea(n)},d=b=>(b.options.events||this.options.events).includes(n.native.type);if(this.notifyPlugins("beforeEvent",c,d)===!1)return;let g=this._handleEvent(n,s,c.inChartArea);return c.cancelable=!1,this.notifyPlugins("afterEvent",c,d),(g||c.changed)&&this.render(),this}_handleEvent(n,s,c){let{_active:d=[],options:g}=this,b=s,x=this._getActiveElements(n,d,c,b),y=at(n),k=ib(n,this._lastEvent,c,y);c&&(this._lastEvent=null,m(g.onHover,[n,x,this],this),y&&m(g.onClick,[n,x,this],this));let T=!_(x,d);return(T||s)&&(this._active=x,this._updateHoverStyles(x,d,s)),this._lastEvent=k,T}_getActiveElements(n,s,c,d){if(n.type==="mouseout")return[];if(!c)return s;let g=this.options.hover;return this.getElementsAtEventForMode(n,g.mode,g,d)}}let vh=()=>v(le.instances,r=>r._plugins.invalidate()),bi=!0;Object.defineProperties(le,{defaults:{enumerable:bi,value:Dt},instances:{enumerable:bi,value:br},overrides:{enumerable:bi,value:$t},registry:{enumerable:bi,value:vn},version:{enumerable:bi,value:jm},getChart:{enumerable:bi,value:bh},register:{enumerable:bi,value:(...r)=>{vn.add(...r),vh()}},unregister:{enumerable:bi,value:(...r)=>{vn.remove(...r),vh()}}});function Wi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class el{constructor(n){this.options=n||{}}init(n){}formats(){return Wi()}parse(n,s){return Wi()}format(n,s){return Wi()}add(n,s,c){return Wi()}diff(n,s,c){return Wi()}startOf(n,s,c){return Wi()}endOf(n,s){return Wi()}}el.override=function(r){Object.assign(el.prototype,r)};var xh={_date:el};function sb(r,n){if(!r._cache.$bar){let s=r.getMatchingVisibleMetas(n),c=[];for(let d=0,g=s.length;d<g;d++)c=c.concat(s[d].controller.getAllParsedValues(r));r._cache.$bar=On(c.sort((d,g)=>d-g))}return r._cache.$bar}function ob(r){let n=r.iScale,s=sb(n,r.type),c=n._length,d,g,b,x,y=()=>{b===32767||b===-32768||(G(x)&&(c=Math.min(c,Math.abs(b-x)||c)),x=b)};for(d=0,g=s.length;d<g;++d)b=n.getPixelForValue(s[d]),y();for(x=void 0,d=0,g=n.ticks.length;d<g;++d)b=n.getPixelForTick(d),y();return c}function rb(r,n,s,c){let d=s.barThickness,g,b;return e(d)?(g=n.min*s.categoryPercentage,b=s.barPercentage):(g=d*c,b=1),{chunk:g/c,ratio:b,start:n.pixels[r]-g/2}}function ab(r,n,s,c){let d=n.pixels,g=d[r],b=r>0?d[r-1]:null,x=r<d.length-1?d[r+1]:null,y=s.categoryPercentage;b===null&&(b=g-(x===null?n.end-n.start:x-g)),x===null&&(x=g+g-b);let k=g-(g-Math.min(b,x))/2*y;return{chunk:Math.abs(x-b)/2*y/c,ratio:s.barPercentage,start:k}}function lb(r,n,s,c){let d=s.parse(r[0],c),g=s.parse(r[1],c),b=Math.min(d,g),x=Math.max(d,g),y=b,k=x;Math.abs(b)>Math.abs(x)&&(y=x,k=b),n[s.axis]=k,n._custom={barStart:y,barEnd:k,start:d,end:g,min:b,max:x}}function yh(r,n,s,c){return o(r)?lb(r,n,s,c):n[s.axis]=s.parse(r,c),n}function _h(r,n,s,c){let d=r.iScale,g=r.vScale,b=d.getLabels(),x=d===g,y=[],k,T,D,R;for(k=s,T=s+c;k<T;++k)R=n[k],D={},D[d.axis]=x||d.parse(b[k],k),y.push(yh(R,D,g,k));return y}function nl(r){return r&&r.barStart!==void 0&&r.barEnd!==void 0}function cb(r,n,s){return r!==0?Ot(r):(n.isHorizontal()?1:-1)*(n.min>=s?1:-1)}function ub(r){let n,s,c,d,g;return r.horizontal?(n=r.base>r.x,s="left",c="right"):(n=r.base<r.y,s="bottom",c="top"),n?(d="end",g="start"):(d="start",g="end"),{start:s,end:c,reverse:n,top:d,bottom:g}}function hb(r,n,s,c){let d=n.borderSkipped,g={};if(!d){r.borderSkipped=g;return}if(d===!0){r.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:b,end:x,reverse:y,top:k,bottom:T}=ub(r);d==="middle"&&s&&(r.enableBorderRadius=!0,(s._top||0)===c?d=k:(s._bottom||0)===c?d=T:(g[wh(T,b,x,y)]=!0,d=k)),g[wh(d,b,x,y)]=!0,r.borderSkipped=g}function wh(r,n,s,c){return c?(r=fb(r,n,s),r=kh(r,s,n)):r=kh(r,n,s),r}function fb(r,n,s){return r===n?s:r===s?n:r}function kh(r,n,s){return r==="start"?n:r==="end"?s:r}function db(r,{inflateAmount:n},s){r.inflateAmount=n==="auto"?s===1?.33:0:n}class vr extends rn{parsePrimitiveData(n,s,c,d){return _h(n,s,c,d)}parseArrayData(n,s,c,d){return _h(n,s,c,d)}parseObjectData(n,s,c,d){let{iScale:g,vScale:b}=n,{xAxisKey:x="x",yAxisKey:y="y"}=this._parsing,k=g.axis==="x"?x:y,T=b.axis==="x"?x:y,D=[],R,I,B,V;for(R=c,I=c+d;R<I;++R)V=s[R],B={},B[g.axis]=g.parse(F(V,k),R),D.push(yh(F(V,T),B,b,R));return D}updateRangeFromParsed(n,s,c,d){super.updateRangeFromParsed(n,s,c,d);let g=c._custom;g&&s===this._cachedMeta.vScale&&(n.min=Math.min(n.min,g.min),n.max=Math.max(n.max,g.max))}getMaxOverflow(){return 0}getLabelAndValue(n){let s=this._cachedMeta,{iScale:c,vScale:d}=s,g=this.getParsed(n),b=g._custom,x=nl(b)?"["+b.start+", "+b.end+"]":""+d.getLabelForValue(g[d.axis]);return{label:""+c.getLabelForValue(g[c.axis]),value:x}}initialize(){this.enableOptionSharing=!0,super.initialize();let n=this._cachedMeta;n.stack=this.getDataset().stack}update(n){let s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,n)}updateElements(n,s,c,d){let g=d==="reset",{index:b,_cachedMeta:{vScale:x}}=this,y=x.getBasePixel(),k=x.isHorizontal(),T=this._getRuler(),{sharedOptions:D,includeOptions:R}=this._getSharedOptions(s,d);for(let I=s;I<s+c;I++){let B=this.getParsed(I),V=g||e(B[x.axis])?{base:y,head:y}:this._calculateBarValuePixels(I),W=this._calculateBarIndexPixels(I,T),U=(B._stacks||{})[x.axis],Q={horizontal:k,base:V.base,enableBorderRadius:!U||nl(B._custom)||b===U._top||b===U._bottom,x:k?V.head:W.center,y:k?W.center:V.head,height:k?W.size:Math.abs(V.size),width:k?Math.abs(V.size):W.size};R&&(Q.options=D||this.resolveDataElementOptions(I,n[I].active?"active":d));let it=Q.options||n[I].options;hb(Q,it,U,b),db(Q,it,T.ratio),this.updateElement(n[I],I,Q,d)}}_getStacks(n,s){let{iScale:c}=this._cachedMeta,d=c.getMatchingVisibleMetas(this._type).filter(y=>y.controller.options.grouped),g=c.options.stacked,b=[],x=y=>{let k=y.controller.getParsed(s),T=k&&k[y.vScale.axis];if(e(T)||isNaN(T))return!0};for(let y of d)if(!(s!==void 0&&x(y))&&((g===!1||b.indexOf(y.stack)===-1||g===void 0&&y.stack===void 0)&&b.push(y.stack),y.index===n))break;return b.length||b.push(void 0),b}_getStackCount(n){return this._getStacks(void 0,n).length}_getStackIndex(n,s,c){let d=this._getStacks(n,c),g=s!==void 0?d.indexOf(s):-1;return g===-1?d.length-1:g}_getRuler(){let n=this.options,s=this._cachedMeta,c=s.iScale,d=[],g,b;for(g=0,b=s.data.length;g<b;++g)d.push(c.getPixelForValue(this.getParsed(g)[c.axis],g));let x=n.barThickness;return{min:x||ob(s),pixels:d,start:c._startPixel,end:c._endPixel,stackCount:this._getStackCount(),scale:c,grouped:n.grouped,ratio:x?1:n.categoryPercentage*n.barPercentage}}_calculateBarValuePixels(n){let{_cachedMeta:{vScale:s,_stacked:c},options:{base:d,minBarLength:g}}=this,b=d||0,x=this.getParsed(n),y=x._custom,k=nl(y),T=x[s.axis],D=0,R=c?this.applyStack(s,x,c):T,I,B;R!==T&&(D=R-T,R=T),k&&(T=y.barStart,R=y.barEnd-y.barStart,T!==0&&Ot(T)!==Ot(y.barEnd)&&(D=0),D+=T);let V=!e(d)&&!k?d:D,W=s.getPixelForValue(V);if(this.chart.getDataVisibility(n)?I=s.getPixelForValue(D+R):I=W,B=I-W,Math.abs(B)<g){B=cb(B,s,b)*g,T===b&&(W-=B/2);let U=s.getPixelForDecimal(0),Q=s.getPixelForDecimal(1),it=Math.min(U,Q),nt=Math.max(U,Q);W=Math.max(Math.min(W,nt),it),I=W+B}if(W===s.getPixelForValue(b)){let U=Ot(B)*s.getLineWidthForValue(b)/2;W+=U,B-=U}return{size:B,base:W,head:I,center:I+B/2}}_calculateBarIndexPixels(n,s){let c=s.scale,d=this.options,g=d.skipNull,b=u(d.maxBarThickness,1/0),x,y;if(s.grouped){let k=g?this._getStackCount(n):s.stackCount,T=d.barThickness==="flex"?ab(n,s,d,k):rb(n,s,d,k),D=this._getStackIndex(this.index,this._cachedMeta.stack,g?n:void 0);x=T.start+T.chunk*D+T.chunk/2,y=Math.min(b,T.chunk*T.ratio)}else x=c.getPixelForValue(this.getParsed(n)[c.axis],n),y=Math.min(b,s.min*s.ratio);return{base:x-y/2,head:x+y/2,center:x,size:y}}draw(){let n=this._cachedMeta,s=n.vScale,c=n.data,d=c.length,g=0;for(;g<d;++g)this.getParsed(g)[s.axis]!==null&&c[g].draw(this._ctx)}}vr.id="bar",vr.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},vr.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class xr extends rn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(n,s,c,d){let g=super.parsePrimitiveData(n,s,c,d);for(let b=0;b<g.length;b++)g[b]._custom=this.resolveDataElementOptions(b+c).radius;return g}parseArrayData(n,s,c,d){let g=super.parseArrayData(n,s,c,d);for(let b=0;b<g.length;b++){let x=s[c+b];g[b]._custom=u(x[2],this.resolveDataElementOptions(b+c).radius)}return g}parseObjectData(n,s,c,d){let g=super.parseObjectData(n,s,c,d);for(let b=0;b<g.length;b++){let x=s[c+b];g[b]._custom=u(x&&x.r&&+x.r,this.resolveDataElementOptions(b+c).radius)}return g}getMaxOverflow(){let n=this._cachedMeta.data,s=0;for(let c=n.length-1;c>=0;--c)s=Math.max(s,n[c].size(this.resolveDataElementOptions(c))/2);return s>0&&s}getLabelAndValue(n){let s=this._cachedMeta,{xScale:c,yScale:d}=s,g=this.getParsed(n),b=c.getLabelForValue(g.x),x=d.getLabelForValue(g.y),y=g._custom;return{label:s.label,value:"("+b+", "+x+(y?", "+y:"")+")"}}update(n){let s=this._cachedMeta.data;this.updateElements(s,0,s.length,n)}updateElements(n,s,c,d){let g=d==="reset",{iScale:b,vScale:x}=this._cachedMeta,{sharedOptions:y,includeOptions:k}=this._getSharedOptions(s,d),T=b.axis,D=x.axis;for(let R=s;R<s+c;R++){let I=n[R],B=!g&&this.getParsed(R),V={},W=V[T]=g?b.getPixelForDecimal(.5):b.getPixelForValue(B[T]),U=V[D]=g?x.getBasePixel():x.getPixelForValue(B[D]);V.skip=isNaN(W)||isNaN(U),k&&(V.options=y||this.resolveDataElementOptions(R,I.active?"active":d),g&&(V.options.radius=0)),this.updateElement(I,R,V,d)}}resolveDataElementOptions(n,s){let c=this.getParsed(n),d=super.resolveDataElementOptions(n,s);d.$shared&&(d=Object.assign({},d,{$shared:!1}));let g=d.radius;return s!=="active"&&(d.radius=0),d.radius+=u(c&&c._custom,g),d}}xr.id="bubble",xr.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},xr.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function pb(r,n,s){let c=1,d=1,g=0,b=0;if(n<rt){let x=r,y=x+n,k=Math.cos(x),T=Math.sin(x),D=Math.cos(y),R=Math.sin(y),I=(it,nt,j)=>Ue(it,x,y,!0)?1:Math.max(nt,nt*s,j,j*s),B=(it,nt,j)=>Ue(it,x,y,!0)?-1:Math.min(nt,nt*s,j,j*s),V=I(0,k,D),W=I(ht,T,R),U=B(ct,k,D),Q=B(ct+ht,T,R);c=(V-U)/2,d=(W-Q)/2,g=-(V+U)/2,b=-(W+Q)/2}return{ratioX:c,ratioY:d,offsetX:g,offsetY:b}}class vs extends rn{constructor(n,s){super(n,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(n,s){let c=this.getDataset().data,d=this._cachedMeta;if(this._parsing===!1)d._parsed=c;else{let g=y=>+c[y];if(a(c[n])){let{key:y="value"}=this._parsing;g=k=>+F(c[k],y)}let b,x;for(b=n,x=n+s;b<x;++b)d._parsed[b]=g(b)}}_getRotation(){return Mt(this.options.rotation-90)}_getCircumference(){return Mt(this.options.circumference)}_getRotationExtents(){let n=rt,s=-rt;for(let c=0;c<this.chart.data.datasets.length;++c)if(this.chart.isDatasetVisible(c)){let d=this.chart.getDatasetMeta(c).controller,g=d._getRotation(),b=d._getCircumference();n=Math.min(n,g),s=Math.max(s,g+b)}return{rotation:n,circumference:s-n}}update(n){let s=this.chart,{chartArea:c}=s,d=this._cachedMeta,g=d.data,b=this.getMaxBorderWidth()+this.getMaxOffset(g)+this.options.spacing,x=Math.max((Math.min(c.width,c.height)-b)/2,0),y=Math.min(l(this.options.cutout,x),1),k=this._getRingWeight(this.index),{circumference:T,rotation:D}=this._getRotationExtents(),{ratioX:R,ratioY:I,offsetX:B,offsetY:V}=pb(D,T,y),W=(c.width-b)/R,U=(c.height-b)/I,Q=Math.max(Math.min(W,U)/2,0),it=f(this.options.radius,Q),nt=Math.max(it*y,0),j=(it-nt)/this._getVisibleDatasetWeightTotal();this.offsetX=B*it,this.offsetY=V*it,d.total=this.calculateTotal(),this.outerRadius=it-j*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-j*k,0),this.updateElements(g,0,g.length,n)}_circumference(n,s){let c=this.options,d=this._cachedMeta,g=this._getCircumference();return s&&c.animation.animateRotate||!this.chart.getDataVisibility(n)||d._parsed[n]===null||d.data[n].hidden?0:this.calculateCircumference(d._parsed[n]*g/rt)}updateElements(n,s,c,d){let g=d==="reset",b=this.chart,x=b.chartArea,k=b.options.animation,T=(x.left+x.right)/2,D=(x.top+x.bottom)/2,R=g&&k.animateScale,I=R?0:this.innerRadius,B=R?0:this.outerRadius,{sharedOptions:V,includeOptions:W}=this._getSharedOptions(s,d),U=this._getRotation(),Q;for(Q=0;Q<s;++Q)U+=this._circumference(Q,g);for(Q=s;Q<s+c;++Q){let it=this._circumference(Q,g),nt=n[Q],j={x:T+this.offsetX,y:D+this.offsetY,startAngle:U,endAngle:U+it,circumference:it,outerRadius:B,innerRadius:I};W&&(j.options=V||this.resolveDataElementOptions(Q,nt.active?"active":d)),U+=it,this.updateElement(nt,Q,j,d)}}calculateTotal(){let n=this._cachedMeta,s=n.data,c=0,d;for(d=0;d<s.length;d++){let g=n._parsed[d];g!==null&&!isNaN(g)&&this.chart.getDataVisibility(d)&&!s[d].hidden&&(c+=Math.abs(g))}return c}calculateCircumference(n){let s=this._cachedMeta.total;return s>0&&!isNaN(n)?rt*(Math.abs(n)/s):0}getLabelAndValue(n){let s=this._cachedMeta,c=this.chart,d=c.data.labels||[],g=ms(s._parsed[n],c.options.locale);return{label:d[n]||"",value:g}}getMaxBorderWidth(n){let s=0,c=this.chart,d,g,b,x,y;if(!n){for(d=0,g=c.data.datasets.length;d<g;++d)if(c.isDatasetVisible(d)){b=c.getDatasetMeta(d),n=b.data,x=b.controller;break}}if(!n)return 0;for(d=0,g=n.length;d<g;++d)y=x.resolveDataElementOptions(d),y.borderAlign!=="inner"&&(s=Math.max(s,y.borderWidth||0,y.hoverBorderWidth||0));return s}getMaxOffset(n){let s=0;for(let c=0,d=n.length;c<d;++c){let g=this.resolveDataElementOptions(c);s=Math.max(s,g.offset||0,g.hoverOffset||0)}return s}_getRingWeightOffset(n){let s=0;for(let c=0;c<n;++c)this.chart.isDatasetVisible(c)&&(s+=this._getRingWeight(c));return s}_getRingWeight(n){return Math.max(u(this.chart.data.datasets[n].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}vs.id="doughnut",vs.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},vs.descriptors={_scriptable:r=>r!=="spacing",_indexable:r=>r!=="spacing"},vs.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(r){let n=r.data;if(n.labels.length&&n.datasets.length){let{labels:{pointStyle:s}}=r.legend.options;return n.labels.map((c,d)=>{let b=r.getDatasetMeta(0).controller.getStyle(d);return{text:c,fillStyle:b.backgroundColor,strokeStyle:b.borderColor,lineWidth:b.borderWidth,pointStyle:s,hidden:!r.getDataVisibility(d),index:d}})}return[]}},onClick(r,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}},tooltip:{callbacks:{title(){return""},label(r){let n=r.label,s=": "+r.formattedValue;return o(n)?(n=n.slice(),n[0]+=s):n+=s,n}}}}};class yr extends rn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(n){let s=this._cachedMeta,{dataset:c,data:d=[],_dataset:g}=s,b=this.chart._animationsDisabled,{start:x,count:y}=ut(s,d,b);this._drawStart=x,this._drawCount=y,_t(s)&&(x=0,y=d.length),c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!g._decimated,c.points=d;let k=this.resolveDatasetElementOptions(n);this.options.showLine||(k.borderWidth=0),k.segment=this.options.segment,this.updateElement(c,void 0,{animated:!b,options:k},n),this.updateElements(d,x,y,n)}updateElements(n,s,c,d){let g=d==="reset",{iScale:b,vScale:x,_stacked:y,_dataset:k}=this._cachedMeta,{sharedOptions:T,includeOptions:D}=this._getSharedOptions(s,d),R=b.axis,I=x.axis,{spanGaps:B,segment:V}=this.options,W=It(B)?B:Number.POSITIVE_INFINITY,U=this.chart._animationsDisabled||g||d==="none",Q=s>0&&this.getParsed(s-1);for(let it=s;it<s+c;++it){let nt=n[it],j=this.getParsed(it),ft=U?nt:{},dt=e(j[I]),wt=ft[R]=b.getPixelForValue(j[R],it),yt=ft[I]=g||dt?x.getBasePixel():x.getPixelForValue(y?this.applyStack(x,j,y):j[I],it);ft.skip=isNaN(wt)||isNaN(yt)||dt,ft.stop=it>0&&Math.abs(j[R]-Q[R])>W,V&&(ft.parsed=j,ft.raw=k.data[it]),D&&(ft.options=T||this.resolveDataElementOptions(it,nt.active?"active":d)),U||this.updateElement(nt,it,ft,d),Q=j}}getMaxOverflow(){let n=this._cachedMeta,s=n.dataset,c=s.options&&s.options.borderWidth||0,d=n.data||[];if(!d.length)return c;let g=d[0].size(this.resolveDataElementOptions(0)),b=d[d.length-1].size(this.resolveDataElementOptions(d.length-1));return Math.max(c,g,b)/2}draw(){let n=this._cachedMeta;n.dataset.updateControlPoints(this.chart.chartArea,n.iScale.axis),super.draw()}}yr.id="line",yr.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},yr.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class _r extends rn{constructor(n,s){super(n,s),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(n){let s=this._cachedMeta,c=this.chart,d=c.data.labels||[],g=ms(s._parsed[n].r,c.options.locale);return{label:d[n]||"",value:g}}parseObjectData(n,s,c,d){return Va.bind(this)(n,s,c,d)}update(n){let s=this._cachedMeta.data;this._updateRadius(),this.updateElements(s,0,s.length,n)}getMinMax(){let n=this._cachedMeta,s={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return n.data.forEach((c,d)=>{let g=this.getParsed(d).r;!isNaN(g)&&this.chart.getDataVisibility(d)&&(g<s.min&&(s.min=g),g>s.max&&(s.max=g))}),s}_updateRadius(){let n=this.chart,s=n.chartArea,c=n.options,d=Math.min(s.right-s.left,s.bottom-s.top),g=Math.max(d/2,0),b=Math.max(c.cutoutPercentage?g/100*c.cutoutPercentage:1,0),x=(g-b)/n.getVisibleDatasetCount();this.outerRadius=g-x*this.index,this.innerRadius=this.outerRadius-x}updateElements(n,s,c,d){let g=d==="reset",b=this.chart,y=b.options.animation,k=this._cachedMeta.rScale,T=k.xCenter,D=k.yCenter,R=k.getIndexAngle(0)-.5*ct,I=R,B,V=360/this.countVisibleElements();for(B=0;B<s;++B)I+=this._computeAngle(B,d,V);for(B=s;B<s+c;B++){let W=n[B],U=I,Q=I+this._computeAngle(B,d,V),it=b.getDataVisibility(B)?k.getDistanceFromCenterForValue(this.getParsed(B).r):0;I=Q,g&&(y.animateScale&&(it=0),y.animateRotate&&(U=Q=R));let nt={x:T,y:D,innerRadius:0,outerRadius:it,startAngle:U,endAngle:Q,options:this.resolveDataElementOptions(B,W.active?"active":d)};this.updateElement(W,B,nt,d)}}countVisibleElements(){let n=this._cachedMeta,s=0;return n.data.forEach((c,d)=>{!isNaN(this.getParsed(d).r)&&this.chart.getDataVisibility(d)&&s++}),s}_computeAngle(n,s,c){return this.chart.getDataVisibility(n)?Mt(this.resolveDataElementOptions(n,s).angle||c):0}}_r.id="polarArea",_r.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},_r.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(r){let n=r.data;if(n.labels.length&&n.datasets.length){let{labels:{pointStyle:s}}=r.legend.options;return n.labels.map((c,d)=>{let b=r.getDatasetMeta(0).controller.getStyle(d);return{text:c,fillStyle:b.backgroundColor,strokeStyle:b.borderColor,lineWidth:b.borderWidth,pointStyle:s,hidden:!r.getDataVisibility(d),index:d}})}return[]}},onClick(r,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}},tooltip:{callbacks:{title(){return""},label(r){return r.chart.data.labels[r.dataIndex]+": "+r.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class il extends vs{}il.id="pie",il.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class wr extends rn{getLabelAndValue(n){let s=this._cachedMeta.vScale,c=this.getParsed(n);return{label:s.getLabels()[n],value:""+s.getLabelForValue(c[s.axis])}}parseObjectData(n,s,c,d){return Va.bind(this)(n,s,c,d)}update(n){let s=this._cachedMeta,c=s.dataset,d=s.data||[],g=s.iScale.getLabels();if(c.points=d,n!=="resize"){let b=this.resolveDatasetElementOptions(n);this.options.showLine||(b.borderWidth=0);let x={_loop:!0,_fullLoop:g.length===d.length,options:b};this.updateElement(c,void 0,x,n)}this.updateElements(d,0,d.length,n)}updateElements(n,s,c,d){let g=this._cachedMeta.rScale,b=d==="reset";for(let x=s;x<s+c;x++){let y=n[x],k=this.resolveDataElementOptions(x,y.active?"active":d),T=g.getPointPositionForValue(x,this.getParsed(x).r),D=b?g.xCenter:T.x,R=b?g.yCenter:T.y,I={x:D,y:R,angle:T.angle,skip:isNaN(D)||isNaN(R),options:k};this.updateElement(y,x,I,d)}}}wr.id="radar",wr.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},wr.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class kr extends rn{update(n){let s=this._cachedMeta,{data:c=[]}=s,d=this.chart._animationsDisabled,{start:g,count:b}=ut(s,c,d);if(this._drawStart=g,this._drawCount=b,_t(s)&&(g=0,b=c.length),this.options.showLine){let{dataset:x,_dataset:y}=s;x._chart=this.chart,x._datasetIndex=this.index,x._decimated=!!y._decimated,x.points=c;let k=this.resolveDatasetElementOptions(n);k.segment=this.options.segment,this.updateElement(x,void 0,{animated:!d,options:k},n)}this.updateElements(c,g,b,n)}addElements(){let{showLine:n}=this.options;!this.datasetElementType&&n&&(this.datasetElementType=vn.getElement("line")),super.addElements()}updateElements(n,s,c,d){let g=d==="reset",{iScale:b,vScale:x,_stacked:y,_dataset:k}=this._cachedMeta,T=this.resolveDataElementOptions(s,d),D=this.getSharedOptions(T),R=this.includeOptions(d,D),I=b.axis,B=x.axis,{spanGaps:V,segment:W}=this.options,U=It(V)?V:Number.POSITIVE_INFINITY,Q=this.chart._animationsDisabled||g||d==="none",it=s>0&&this.getParsed(s-1);for(let nt=s;nt<s+c;++nt){let j=n[nt],ft=this.getParsed(nt),dt=Q?j:{},wt=e(ft[B]),yt=dt[I]=b.getPixelForValue(ft[I],nt),Vt=dt[B]=g||wt?x.getBasePixel():x.getPixelForValue(y?this.applyStack(x,ft,y):ft[B],nt);dt.skip=isNaN(yt)||isNaN(Vt)||wt,dt.stop=nt>0&&Math.abs(ft[I]-it[I])>U,W&&(dt.parsed=ft,dt.raw=k.data[nt]),R&&(dt.options=D||this.resolveDataElementOptions(nt,j.active?"active":d)),Q||this.updateElement(j,nt,dt,d),it=ft}this.updateSharedOptions(D,d,T)}getMaxOverflow(){let n=this._cachedMeta,s=n.data||[];if(!this.options.showLine){let x=0;for(let y=s.length-1;y>=0;--y)x=Math.max(x,s[y].size(this.resolveDataElementOptions(y))/2);return x>0&&x}let c=n.dataset,d=c.options&&c.options.borderWidth||0;if(!s.length)return d;let g=s[0].size(this.resolveDataElementOptions(0)),b=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(d,g,b)/2}}kr.id="scatter",kr.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},kr.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(r){return"("+r.label+", "+r.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var Ph=Object.freeze({__proto__:null,BarController:vr,BubbleController:xr,DoughnutController:vs,LineController:yr,PolarAreaController:_r,PieController:il,RadarController:wr,ScatterController:kr});function Ch(r,n,s){let{startAngle:c,pixelMargin:d,x:g,y:b,outerRadius:x,innerRadius:y}=n,k=d/x;r.beginPath(),r.arc(g,b,x,c-k,s+k),y>d?(k=d/y,r.arc(g,b,y,s+k,c-k,!0)):r.arc(g,b,d,s+ht,c-ht),r.closePath(),r.clip()}function gb(r){return ur(r,["outerStart","outerEnd","innerStart","innerEnd"])}function mb(r,n,s,c){let d=gb(r.options.borderRadius),g=(s-n)/2,b=Math.min(g,c*n/2),x=y=>{let k=(s-Math.min(g,y))*c/2;return qt(y,0,Math.min(g,k))};return{outerStart:x(d.outerStart),outerEnd:x(d.outerEnd),innerStart:qt(d.innerStart,0,b),innerEnd:qt(d.innerEnd,0,b)}}function xs(r,n,s,c){return{x:s+r*Math.cos(n),y:c+r*Math.sin(n)}}function sl(r,n,s,c,d,g){let{x:b,y:x,startAngle:y,pixelMargin:k,innerRadius:T}=n,D=Math.max(n.outerRadius+c+s-k,0),R=T>0?T+c+s+k:0,I=0,B=d-y;if(c){let At=T>0?T-c:0,xe=D>0?D-c:0,ge=(At+xe)/2,$i=ge!==0?B*ge/(ge+c):B;I=(B-$i)/2}let V=Math.max(.001,B*D-s/ct)/D,W=(B-V)/2,U=y+W+I,Q=d-W-I,{outerStart:it,outerEnd:nt,innerStart:j,innerEnd:ft}=mb(n,R,D,Q-U),dt=D-it,wt=D-nt,yt=U+it/dt,Vt=Q-nt/wt,Ht=R+j,Ft=R+ft,ve=U+j/Ht,$e=Q-ft/Ft;if(r.beginPath(),g){if(r.arc(b,x,D,yt,Vt),nt>0){let ge=xs(wt,Vt,b,x);r.arc(ge.x,ge.y,nt,Vt,Q+ht)}let At=xs(Ft,Q,b,x);if(r.lineTo(At.x,At.y),ft>0){let ge=xs(Ft,$e,b,x);r.arc(ge.x,ge.y,ft,Q+ht,$e+Math.PI)}if(r.arc(b,x,R,Q-ft/R,U+j/R,!0),j>0){let ge=xs(Ht,ve,b,x);r.arc(ge.x,ge.y,j,ve+Math.PI,U-ht)}let xe=xs(dt,U,b,x);if(r.lineTo(xe.x,xe.y),it>0){let ge=xs(dt,yt,b,x);r.arc(ge.x,ge.y,it,U-ht,yt)}}else{r.moveTo(b,x);let At=Math.cos(yt)*D+b,xe=Math.sin(yt)*D+x;r.lineTo(At,xe);let ge=Math.cos(Vt)*D+b,$i=Math.sin(Vt)*D+x;r.lineTo(ge,$i)}r.closePath()}function bb(r,n,s,c,d){let{fullCircles:g,startAngle:b,circumference:x}=n,y=n.endAngle;if(g){sl(r,n,s,c,b+rt,d);for(let k=0;k<g;++k)r.fill();isNaN(x)||(y=b+x%rt,x%rt===0&&(y+=rt))}return sl(r,n,s,c,y,d),r.fill(),y}function vb(r,n,s){let{x:c,y:d,startAngle:g,pixelMargin:b,fullCircles:x}=n,y=Math.max(n.outerRadius-b,0),k=n.innerRadius+b,T;for(s&&Ch(r,n,g+rt),r.beginPath(),r.arc(c,d,k,g+rt,g,!0),T=0;T<x;++T)r.stroke();for(r.beginPath(),r.arc(c,d,y,g,g+rt),T=0;T<x;++T)r.stroke()}function xb(r,n,s,c,d,g){let{options:b}=n,{borderWidth:x,borderJoinStyle:y}=b,k=b.borderAlign==="inner";x&&(k?(r.lineWidth=x*2,r.lineJoin=y||"round"):(r.lineWidth=x,r.lineJoin=y||"bevel"),n.fullCircles&&vb(r,n,k),k&&Ch(r,n,d),sl(r,n,s,c,d,g),r.stroke())}class Pr extends an{constructor(n){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,c){let d=this.getProps(["x","y"],c),{angle:g,distance:b}=pn(d,{x:n,y:s}),{startAngle:x,endAngle:y,innerRadius:k,outerRadius:T,circumference:D}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],c),R=this.options.spacing/2,B=u(D,y-x)>=rt||Ue(g,x,y),V=Ee(b,k+R,T+R);return B&&V}getCenterPoint(n){let{x:s,y:c,startAngle:d,endAngle:g,innerRadius:b,outerRadius:x}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],n),{offset:y,spacing:k}=this.options,T=(d+g)/2,D=(b+x+k+y)/2;return{x:s+Math.cos(T)*D,y:c+Math.sin(T)*D}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){let{options:s,circumference:c}=this,d=(s.offset||0)/2,g=(s.spacing||0)/2,b=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=c>rt?Math.floor(c/rt):0,c===0||this.innerRadius<0||this.outerRadius<0)return;n.save();let x=0;if(d){x=d/2;let k=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(k)*x,Math.sin(k)*x),this.circumference>=ct&&(x=d)}n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor;let y=bb(n,this,x,g,b);xb(n,this,x,g,y,b),n.restore()}}Pr.id="arc",Pr.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0},Pr.defaultRoutes={backgroundColor:"backgroundColor"};function Mh(r,n,s=n){r.lineCap=u(s.borderCapStyle,n.borderCapStyle),r.setLineDash(u(s.borderDash,n.borderDash)),r.lineDashOffset=u(s.borderDashOffset,n.borderDashOffset),r.lineJoin=u(s.borderJoinStyle,n.borderJoinStyle),r.lineWidth=u(s.borderWidth,n.borderWidth),r.strokeStyle=u(s.borderColor,n.borderColor)}function yb(r,n,s){r.lineTo(s.x,s.y)}function _b(r){return r.stepped?hu:r.tension||r.cubicInterpolationMode==="monotone"?fu:yb}function Oh(r,n,s={}){let c=r.length,{start:d=0,end:g=c-1}=s,{start:b,end:x}=n,y=Math.max(d,b),k=Math.min(g,x),T=d<b&&g<b||d>x&&g>x;return{count:c,start:y,loop:n.loop,ilen:k<y&&!T?c+k-y:k-y}}function wb(r,n,s,c){let{points:d,options:g}=n,{count:b,start:x,loop:y,ilen:k}=Oh(d,s,c),T=_b(g),{move:D=!0,reverse:R}=c||{},I,B,V;for(I=0;I<=k;++I)B=d[(x+(R?k-I:I))%b],!B.skip&&(D?(r.moveTo(B.x,B.y),D=!1):T(r,V,B,R,g.stepped),V=B);return y&&(B=d[(x+(R?k:0))%b],T(r,V,B,R,g.stepped)),!!y}function kb(r,n,s,c){let d=n.points,{count:g,start:b,ilen:x}=Oh(d,s,c),{move:y=!0,reverse:k}=c||{},T=0,D=0,R,I,B,V,W,U,Q=nt=>(b+(k?x-nt:nt))%g,it=()=>{V!==W&&(r.lineTo(T,W),r.lineTo(T,V),r.lineTo(T,U))};for(y&&(I=d[Q(0)],r.moveTo(I.x,I.y)),R=0;R<=x;++R){if(I=d[Q(R)],I.skip)continue;let nt=I.x,j=I.y,ft=nt|0;ft===B?(j<V?V=j:j>W&&(W=j),T=(D*T+nt)/++D):(it(),r.lineTo(nt,j),B=ft,D=0,V=W=j),U=j}it()}function ol(r){let n=r.options,s=n.borderDash&&n.borderDash.length;return!r._decimated&&!r._loop&&!n.tension&&n.cubicInterpolationMode!=="monotone"&&!n.stepped&&!s?kb:wb}function Pb(r){return r.stepped?Pu:r.tension||r.cubicInterpolationMode==="monotone"?Cu:pi}function Cb(r,n,s,c){let d=n._path;d||(d=n._path=new Path2D,n.path(d,s,c)&&d.closePath()),Mh(r,n.options),r.stroke(d)}function Mb(r,n,s,c){let{segments:d,options:g}=n,b=ol(n);for(let x of d)Mh(r,g,x.style),r.beginPath(),b(r,n,x,{start:s,end:s+c-1})&&r.closePath(),r.stroke()}let Ob=typeof Path2D=="function";function Tb(r,n,s,c){Ob&&!n.options.segment?Cb(r,n,s,c):Mb(r,n,s,c)}class vi extends an{constructor(n){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,n&&Object.assign(this,n)}updateControlPoints(n,s){let c=this.options;if((c.tension||c.cubicInterpolationMode==="monotone")&&!c.stepped&&!this._pointsUpdated){let d=c.spanGaps?this._loop:this._fullLoop;_u(this._points,c,n,d,s),this._pointsUpdated=!0}}set points(n){this._points=n,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Du(this,this.options.segment))}first(){let n=this.segments,s=this.points;return n.length&&s[n[0].start]}last(){let n=this.segments,s=this.points,c=n.length;return c&&s[n[c-1].end]}interpolate(n,s){let c=this.options,d=n[s],g=this.points,b=qa(this,{property:s,start:d,end:d});if(!b.length)return;let x=[],y=Pb(c),k,T;for(k=0,T=b.length;k<T;++k){let{start:D,end:R}=b[k],I=g[D],B=g[R];if(I===B){x.push(I);continue}let V=Math.abs((d-I[s])/(B[s]-I[s])),W=y(I,B,V,c.stepped);W[s]=n[s],x.push(W)}return x.length===1?x[0]:x}pathSegment(n,s,c){return ol(this)(n,this,s,c)}path(n,s,c){let d=this.segments,g=ol(this),b=this._loop;s=s||0,c=c||this.points.length-s;for(let x of d)b&=g(n,this,x,{start:s,end:s+c-1});return!!b}draw(n,s,c,d){let g=this.options||{};(this.points||[]).length&&g.borderWidth&&(n.save(),Tb(n,this,c,d),n.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}vi.id="line",vi.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},vi.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},vi.descriptors={_scriptable:!0,_indexable:r=>r!=="borderDash"&&r!=="fill"};function Th(r,n,s,c){let d=r.options,{[s]:g}=r.getProps([s],c);return Math.abs(n-g)<d.radius+d.hitRadius}class Cr extends an{constructor(n){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,s,c){let d=this.options,{x:g,y:b}=this.getProps(["x","y"],c);return Math.pow(n-g,2)+Math.pow(s-b,2)<Math.pow(d.hitRadius+d.radius,2)}inXRange(n,s){return Th(this,n,"x",s)}inYRange(n,s){return Th(this,n,"y",s)}getCenterPoint(n){let{x:s,y:c}=this.getProps(["x","y"],n);return{x:s,y:c}}size(n){n=n||this.options||{};let s=n.radius||0;s=Math.max(s,s&&n.hoverRadius||0);let c=s&&n.borderWidth||0;return(s+c)*2}draw(n,s){let c=this.options;this.skip||c.radius<.1||!fs(this,s,this.size(c)/2)||(n.strokeStyle=c.borderColor,n.lineWidth=c.borderWidth,n.fillStyle=c.backgroundColor,rr(n,c,this.x,this.y))}getRange(){let n=this.options||{};return n.radius+n.hitRadius}}Cr.id="point",Cr.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},Cr.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function Ah(r,n){let{x:s,y:c,base:d,width:g,height:b}=r.getProps(["x","y","base","width","height"],n),x,y,k,T,D;return r.horizontal?(D=b/2,x=Math.min(s,d),y=Math.max(s,d),k=c-D,T=c+D):(D=g/2,x=s-D,y=s+D,k=Math.min(c,d),T=Math.max(c,d)),{left:x,top:k,right:y,bottom:T}}function xi(r,n,s,c){return r?0:qt(n,s,c)}function Ab(r,n,s){let c=r.options.borderWidth,d=r.borderSkipped,g=Ha(c);return{t:xi(d.top,g.top,0,s),r:xi(d.right,g.right,0,n),b:xi(d.bottom,g.bottom,0,s),l:xi(d.left,g.left,0,n)}}function Eb(r,n,s){let{enableBorderRadius:c}=r.getProps(["enableBorderRadius"]),d=r.options.borderRadius,g=gi(d),b=Math.min(n,s),x=r.borderSkipped,y=c||a(d);return{topLeft:xi(!y||x.top||x.left,g.topLeft,0,b),topRight:xi(!y||x.top||x.right,g.topRight,0,b),bottomLeft:xi(!y||x.bottom||x.left,g.bottomLeft,0,b),bottomRight:xi(!y||x.bottom||x.right,g.bottomRight,0,b)}}function Db(r){let n=Ah(r),s=n.right-n.left,c=n.bottom-n.top,d=Ab(r,s/2,c/2),g=Eb(r,s/2,c/2);return{outer:{x:n.left,y:n.top,w:s,h:c,radius:g},inner:{x:n.left+d.l,y:n.top+d.t,w:s-d.l-d.r,h:c-d.t-d.b,radius:{topLeft:Math.max(0,g.topLeft-Math.max(d.t,d.l)),topRight:Math.max(0,g.topRight-Math.max(d.t,d.r)),bottomLeft:Math.max(0,g.bottomLeft-Math.max(d.b,d.l)),bottomRight:Math.max(0,g.bottomRight-Math.max(d.b,d.r))}}}}function rl(r,n,s,c){let d=n===null,g=s===null,x=r&&!(d&&g)&&Ah(r,c);return x&&(d||Ee(n,x.left,x.right))&&(g||Ee(s,x.top,x.bottom))}function Lb(r){return r.topLeft||r.topRight||r.bottomLeft||r.bottomRight}function Sb(r,n){r.rect(n.x,n.y,n.w,n.h)}function al(r,n,s={}){let c=r.x!==s.x?-n:0,d=r.y!==s.y?-n:0,g=(r.x+r.w!==s.x+s.w?n:0)-c,b=(r.y+r.h!==s.y+s.h?n:0)-d;return{x:r.x+c,y:r.y+d,w:r.w+g,h:r.h+b,radius:r.radius}}class Mr extends an{constructor(n){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,n&&Object.assign(this,n)}draw(n){let{inflateAmount:s,options:{borderColor:c,backgroundColor:d}}=this,{inner:g,outer:b}=Db(this),x=Lb(b.radius)?ds:Sb;n.save(),(b.w!==g.w||b.h!==g.h)&&(n.beginPath(),x(n,al(b,s,g)),n.clip(),x(n,al(g,-s,b)),n.fillStyle=c,n.fill("evenodd")),n.beginPath(),x(n,al(g,s)),n.fillStyle=d,n.fill(),n.restore()}inRange(n,s,c){return rl(this,n,s,c)}inXRange(n,s){return rl(this,n,null,s)}inYRange(n,s){return rl(this,null,n,s)}getCenterPoint(n){let{x:s,y:c,base:d,horizontal:g}=this.getProps(["x","y","base","horizontal"],n);return{x:g?(s+d)/2:s,y:g?c:(c+d)/2}}getRange(n){return n==="x"?this.width/2:this.height/2}}Mr.id="bar",Mr.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},Mr.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var ll=Object.freeze({__proto__:null,ArcElement:Pr,LineElement:vi,PointElement:Cr,BarElement:Mr});function Rb(r,n,s,c,d){let g=d.samples||c;if(g>=s)return r.slice(n,n+s);let b=[],x=(s-2)/(g-2),y=0,k=n+s-1,T=n,D,R,I,B,V;for(b[y++]=r[T],D=0;D<g-2;D++){let W=0,U=0,Q,it=Math.floor((D+1)*x)+1+n,nt=Math.min(Math.floor((D+2)*x)+1,s)+n,j=nt-it;for(Q=it;Q<nt;Q++)W+=r[Q].x,U+=r[Q].y;W/=j,U/=j;let ft=Math.floor(D*x)+1+n,dt=Math.min(Math.floor((D+1)*x)+1,s)+n,{x:wt,y:yt}=r[T];for(I=B=-1,Q=ft;Q<dt;Q++)B=.5*Math.abs((wt-W)*(r[Q].y-yt)-(wt-r[Q].x)*(U-yt)),B>I&&(I=B,R=r[Q],V=Q);b[y++]=R,T=V}return b[y++]=r[k],b}function Ib(r,n,s,c){let d=0,g=0,b,x,y,k,T,D,R,I,B,V,W=[],U=n+s-1,Q=r[n].x,nt=r[U].x-Q;for(b=n;b<n+s;++b){x=r[b],y=(x.x-Q)/nt*c,k=x.y;let j=y|0;if(j===T)k<B?(B=k,D=b):k>V&&(V=k,R=b),d=(g*d+x.x)/++g;else{let ft=b-1;if(!e(D)&&!e(R)){let dt=Math.min(D,R),wt=Math.max(D,R);dt!==I&&dt!==ft&&W.push({...r[dt],x:d}),wt!==I&&wt!==ft&&W.push({...r[wt],x:d})}b>0&&ft!==I&&W.push(r[ft]),W.push(x),T=j,g=0,B=V=k,D=R=I=b}}return W}function Eh(r){if(r._decimated){let n=r._data;delete r._decimated,delete r._data,Object.defineProperty(r,"data",{value:n})}}function Dh(r){r.data.datasets.forEach(n=>{Eh(n)})}function Fb(r,n){let s=n.length,c=0,d,{iScale:g}=r,{min:b,max:x,minDefined:y,maxDefined:k}=g.getUserBounds();return y&&(c=qt(fe(n,g.axis,b).lo,0,s-1)),k?d=qt(fe(n,g.axis,x).hi+1,c,s)-c:d=s-c,{start:c,count:d}}var Bb={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(r,n,s)=>{if(!s.enabled){Dh(r);return}let c=r.width;r.data.datasets.forEach((d,g)=>{let{_data:b,indexAxis:x}=d,y=r.getDatasetMeta(g),k=b||d.data;if(bs([x,r.options.indexAxis])==="y"||!y.controller.supportsDecimation)return;let T=r.scales[y.xAxisID];if(T.type!=="linear"&&T.type!=="time"||r.options.parsing)return;let{start:D,count:R}=Fb(y,k),I=s.threshold||4*c;if(R<=I){Eh(d);return}e(b)&&(d._data=k,delete d.data,Object.defineProperty(d,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(V){this._data=V}}));let B;switch(s.algorithm){case"lttb":B=Rb(k,D,R,c,s);break;case"min-max":B=Ib(k,D,R,c);break;default:throw new Error(`Unsupported decimation algorithm '${s.algorithm}'`)}d._decimated=B})},destroy(r){Dh(r)}};function zb(r,n,s){let c=r.segments,d=r.points,g=n.points,b=[];for(let x of c){let{start:y,end:k}=x;k=ul(y,k,d);let T=cl(s,d[y],d[k],x.loop);if(!n.segments){b.push({source:x,target:T,start:d[y],end:d[k]});continue}let D=qa(n,T);for(let R of D){let I=cl(s,g[R.start],g[R.end],R.loop),B=Ya(x,d,I);for(let V of B)b.push({source:V,target:R,start:{[s]:Lh(T,I,"start",Math.max)},end:{[s]:Lh(T,I,"end",Math.min)}})}}return b}function cl(r,n,s,c){if(c)return;let d=n[r],g=s[r];return r==="angle"&&(d=he(d),g=he(g)),{property:r,start:d,end:g}}function Nb(r,n){let{x:s=null,y:c=null}=r||{},d=n.points,g=[];return n.segments.forEach(({start:b,end:x})=>{x=ul(b,x,d);let y=d[b],k=d[x];c!==null?(g.push({x:y.x,y:c}),g.push({x:k.x,y:c})):s!==null&&(g.push({x:s,y:y.y}),g.push({x:s,y:k.y}))}),g}function ul(r,n,s){for(;n>r;n--){let c=s[n];if(!isNaN(c.x)&&!isNaN(c.y))break}return n}function Lh(r,n,s,c){return r&&n?c(r[s],n[s]):r?r[s]:n?n[s]:0}function Sh(r,n){let s=[],c=!1;return o(r)?(c=!0,s=r):s=Nb(r,n),s.length?new vi({points:s,options:{tension:0},_loop:c,_fullLoop:c}):null}function Rh(r){return r&&r.fill!==!1}function Vb(r,n,s){let d=r[n].fill,g=[n],b;if(!s)return d;for(;d!==!1&&g.indexOf(d)===-1;){if(!h(d))return d;if(b=r[d],!b)return!1;if(b.visible)return d;g.push(d),d=b.fill}return!1}function Hb(r,n,s){let c=qb(r);if(a(c))return isNaN(c.value)?!1:c;let d=parseFloat(c);return h(d)&&Math.floor(d)===d?Wb(c[0],n,d,s):["origin","start","end","stack","shape"].indexOf(c)>=0&&c}function Wb(r,n,s,c){return(r==="-"||r==="+")&&(s=n+s),s===n||s<0||s>=c?!1:s}function $b(r,n){let s=null;return r==="start"?s=n.bottom:r==="end"?s=n.top:a(r)?s=n.getPixelForValue(r.value):n.getBasePixel&&(s=n.getBasePixel()),s}function Yb(r,n,s){let c;return r==="start"?c=s:r==="end"?c=n.options.reverse?n.min:n.max:a(r)?c=r.value:c=n.getBaseValue(),c}function qb(r){let n=r.options,s=n.fill,c=u(s&&s.target,s);return c===void 0&&(c=!!n.backgroundColor),c===!1||c===null?!1:c===!0?"origin":c}function Ub(r){let{scale:n,index:s,line:c}=r,d=[],g=c.segments,b=c.points,x=Xb(n,s);x.push(Sh({x:null,y:n.bottom},c));for(let y=0;y<g.length;y++){let k=g[y];for(let T=k.start;T<=k.end;T++)Gb(d,b[T],x)}return new vi({points:d,options:{}})}function Xb(r,n){let s=[],c=r.getMatchingVisibleMetas("line");for(let d=0;d<c.length;d++){let g=c[d];if(g.index===n)break;g.hidden||s.unshift(g.dataset)}return s}function Gb(r,n,s){let c=[];for(let d=0;d<s.length;d++){let g=s[d],{first:b,last:x,point:y}=Kb(g,n,"x");if(!(!y||b&&x)){if(b)c.unshift(y);else if(r.push(y),!x)break}}r.push(...c)}function Kb(r,n,s){let c=r.interpolate(n,s);if(!c)return{};let d=c[s],g=r.segments,b=r.points,x=!1,y=!1;for(let k=0;k<g.length;k++){let T=g[k],D=b[T.start][s],R=b[T.end][s];if(Ee(d,D,R)){x=d===D,y=d===R;break}}return{first:x,last:y,point:c}}class Ih{constructor(n){this.x=n.x,this.y=n.y,this.radius=n.radius}pathSegment(n,s,c){let{x:d,y:g,radius:b}=this;return s=s||{start:0,end:rt},n.arc(d,g,b,s.end,s.start,!0),!c.bounds}interpolate(n){let{x:s,y:c,radius:d}=this,g=n.angle;return{x:s+Math.cos(g)*d,y:c+Math.sin(g)*d,angle:g}}}function Qb(r){let{chart:n,fill:s,line:c}=r;if(h(s))return Zb(n,s);if(s==="stack")return Ub(r);if(s==="shape")return!0;let d=Jb(r);return d instanceof Ih?d:Sh(d,c)}function Zb(r,n){let s=r.getDatasetMeta(n);return s&&r.isDatasetVisible(n)?s.dataset:null}function Jb(r){return(r.scale||{}).getPointPositionForValue?t0(r):jb(r)}function jb(r){let{scale:n={},fill:s}=r,c=$b(s,n);if(h(c)){let d=n.isHorizontal();return{x:d?c:null,y:d?null:c}}return null}function t0(r){let{scale:n,fill:s}=r,c=n.options,d=n.getLabels().length,g=c.reverse?n.max:n.min,b=Yb(s,n,g),x=[];if(c.grid.circular){let y=n.getPointPositionForValue(0,g);return new Ih({x:y.x,y:y.y,radius:n.getDistanceFromCenterForValue(b)})}for(let y=0;y<d;++y)x.push(n.getPointPositionForValue(y,b));return x}function hl(r,n,s){let c=Qb(n),{line:d,scale:g,axis:b}=n,x=d.options,y=x.fill,k=x.backgroundColor,{above:T=k,below:D=k}=y||{};c&&d.points.length&&(so(r,s),e0(r,{line:d,target:c,above:T,below:D,area:s,scale:g,axis:b}),oo(r))}function e0(r,n){let{line:s,target:c,above:d,below:g,area:b,scale:x}=n,y=s._loop?"angle":n.axis;r.save(),y==="x"&&g!==d&&(Fh(r,c,b.top),Bh(r,{line:s,target:c,color:d,scale:x,property:y}),r.restore(),r.save(),Fh(r,c,b.bottom)),Bh(r,{line:s,target:c,color:g,scale:x,property:y}),r.restore()}function Fh(r,n,s){let{segments:c,points:d}=n,g=!0,b=!1;r.beginPath();for(let x of c){let{start:y,end:k}=x,T=d[y],D=d[ul(y,k,d)];g?(r.moveTo(T.x,T.y),g=!1):(r.lineTo(T.x,s),r.lineTo(T.x,T.y)),b=!!n.pathSegment(r,x,{move:b}),b?r.closePath():r.lineTo(D.x,s)}r.lineTo(n.first().x,s),r.closePath(),r.clip()}function Bh(r,n){let{line:s,target:c,property:d,color:g,scale:b}=n,x=zb(s,c,d);for(let{source:y,target:k,start:T,end:D}of x){let{style:{backgroundColor:R=g}={}}=y,I=c!==!0;r.save(),r.fillStyle=R,n0(r,b,I&&cl(d,T,D)),r.beginPath();let B=!!s.pathSegment(r,y),V;if(I){B?r.closePath():zh(r,c,D,d);let W=!!c.pathSegment(r,k,{move:B,reverse:!0});V=B&&W,V||zh(r,c,T,d)}r.closePath(),r.fill(V?"evenodd":"nonzero"),r.restore()}}function n0(r,n,s){let{top:c,bottom:d}=n.chart.chartArea,{property:g,start:b,end:x}=s||{};g==="x"&&(r.beginPath(),r.rect(b,c,x-b,d-c),r.clip())}function zh(r,n,s,c){let d=n.interpolate(s,c);d&&r.lineTo(d.x,d.y)}var i0={id:"filler",afterDatasetsUpdate(r,n,s){let c=(r.data.datasets||[]).length,d=[],g,b,x,y;for(b=0;b<c;++b)g=r.getDatasetMeta(b),x=g.dataset,y=null,x&&x.options&&x instanceof vi&&(y={visible:r.isDatasetVisible(b),index:b,fill:Hb(x,b,c),chart:r,axis:g.controller.options.indexAxis,scale:g.vScale,line:x}),g.$filler=y,d.push(y);for(b=0;b<c;++b)y=d[b],!(!y||y.fill===!1)&&(y.fill=Vb(d,b,s.propagate))},beforeDraw(r,n,s){let c=s.drawTime==="beforeDraw",d=r.getSortedVisibleDatasetMetas(),g=r.chartArea;for(let b=d.length-1;b>=0;--b){let x=d[b].$filler;x&&(x.line.updateControlPoints(g,x.axis),c&&x.fill&&hl(r.ctx,x,g))}},beforeDatasetsDraw(r,n,s){if(s.drawTime!=="beforeDatasetsDraw")return;let c=r.getSortedVisibleDatasetMetas();for(let d=c.length-1;d>=0;--d){let g=c[d].$filler;Rh(g)&&hl(r.ctx,g,r.chartArea)}},beforeDatasetDraw(r,n,s){let c=n.meta.$filler;!Rh(c)||s.drawTime!=="beforeDatasetDraw"||hl(r.ctx,c,r.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};let Nh=(r,n)=>{let{boxHeight:s=n,boxWidth:c=n}=r;return r.usePointStyle&&(s=Math.min(s,n),c=r.pointStyleWidth||Math.min(c,n)),{boxWidth:c,boxHeight:s,itemHeight:Math.max(n,s)}},s0=(r,n)=>r!==null&&n!==null&&r.datasetIndex===n.datasetIndex&&r.index===n.index;class Vh extends an{constructor(n){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,s,c){this.maxWidth=n,this.maxHeight=s,this._margins=c,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let n=this.options.labels||{},s=m(n.generateLabels,[this.chart],this)||[];n.filter&&(s=s.filter(c=>n.filter(c,this.chart.data))),n.sort&&(s=s.sort((c,d)=>n.sort(c,d,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){let{options:n,ctx:s}=this;if(!n.display){this.width=this.height=0;return}let c=n.labels,d=be(c.font),g=d.size,b=this._computeTitleHeight(),{boxWidth:x,itemHeight:y}=Nh(c,g),k,T;s.font=d.string,this.isHorizontal()?(k=this.maxWidth,T=this._fitRows(b,g,x,y)+10):(T=this.maxHeight,k=this._fitCols(b,g,x,y)+10),this.width=Math.min(k,n.maxWidth||this.maxWidth),this.height=Math.min(T,n.maxHeight||this.maxHeight)}_fitRows(n,s,c,d){let{ctx:g,maxWidth:b,options:{labels:{padding:x}}}=this,y=this.legendHitBoxes=[],k=this.lineWidths=[0],T=d+x,D=n;g.textAlign="left",g.textBaseline="middle";let R=-1,I=-T;return this.legendItems.forEach((B,V)=>{let W=c+s/2+g.measureText(B.text).width;(V===0||k[k.length-1]+W+2*x>b)&&(D+=T,k[k.length-(V>0?0:1)]=0,I+=T,R++),y[V]={left:0,top:I,row:R,width:W,height:d},k[k.length-1]+=W+x}),D}_fitCols(n,s,c,d){let{ctx:g,maxHeight:b,options:{labels:{padding:x}}}=this,y=this.legendHitBoxes=[],k=this.columnSizes=[],T=b-n,D=x,R=0,I=0,B=0,V=0;return this.legendItems.forEach((W,U)=>{let Q=c+s/2+g.measureText(W.text).width;U>0&&I+d+2*x>T&&(D+=R+x,k.push({width:R,height:I}),B+=R+x,V++,R=I=0),y[U]={left:B,top:I,col:V,width:Q,height:d},R=Math.max(R,Q),I+=d+x}),D+=R,k.push({width:R,height:I}),D}adjustHitBoxes(){if(!this.options.display)return;let n=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:c,labels:{padding:d},rtl:g}}=this,b=Hi(g,this.left,this.width);if(this.isHorizontal()){let x=0,y=de(c,this.left+d,this.right-this.lineWidths[x]);for(let k of s)x!==k.row&&(x=k.row,y=de(c,this.left+d,this.right-this.lineWidths[x])),k.top+=this.top+n+d,k.left=b.leftForLtr(b.x(y),k.width),y+=k.width+d}else{let x=0,y=de(c,this.top+n+d,this.bottom-this.columnSizes[x].height);for(let k of s)k.col!==x&&(x=k.col,y=de(c,this.top+n+d,this.bottom-this.columnSizes[x].height)),k.top=y,k.left+=this.left+d,k.left=b.leftForLtr(b.x(k.left),k.width),y+=k.height+d}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let n=this.ctx;so(n,this),this._draw(),oo(n)}}_draw(){let{options:n,columnSizes:s,lineWidths:c,ctx:d}=this,{align:g,labels:b}=n,x=Dt.color,y=Hi(n.rtl,this.left,this.width),k=be(b.font),{color:T,padding:D}=b,R=k.size,I=R/2,B;this.drawTitle(),d.textAlign=y.textAlign("left"),d.textBaseline="middle",d.lineWidth=.5,d.font=k.string;let{boxWidth:V,boxHeight:W,itemHeight:U}=Nh(b,R),Q=function(dt,wt,yt){if(isNaN(V)||V<=0||isNaN(W)||W<0)return;d.save();let Vt=u(yt.lineWidth,1);if(d.fillStyle=u(yt.fillStyle,x),d.lineCap=u(yt.lineCap,"butt"),d.lineDashOffset=u(yt.lineDashOffset,0),d.lineJoin=u(yt.lineJoin,"miter"),d.lineWidth=Vt,d.strokeStyle=u(yt.strokeStyle,x),d.setLineDash(u(yt.lineDash,[])),b.usePointStyle){let Ht={radius:W*Math.SQRT2/2,pointStyle:yt.pointStyle,rotation:yt.rotation,borderWidth:Vt},Ft=y.xPlus(dt,V/2),ve=wt+I;Fa(d,Ht,Ft,ve,b.pointStyleWidth&&V)}else{let Ht=wt+Math.max((R-W)/2,0),Ft=y.leftForLtr(dt,V),ve=gi(yt.borderRadius);d.beginPath(),Object.values(ve).some($e=>$e!==0)?ds(d,{x:Ft,y:Ht,w:V,h:W,radius:ve}):d.rect(Ft,Ht,V,W),d.fill(),Vt!==0&&d.stroke()}d.restore()},it=function(dt,wt,yt){di(d,yt.text,dt,wt+U/2,k,{strikethrough:yt.hidden,textAlign:y.textAlign(yt.textAlign)})},nt=this.isHorizontal(),j=this._computeTitleHeight();nt?B={x:de(g,this.left+D,this.right-c[0]),y:this.top+D+j,line:0}:B={x:this.left+D,y:de(g,this.top+j+D,this.bottom-s[0].height),line:0},Wa(this.ctx,n.textDirection);let ft=U+D;this.legendItems.forEach((dt,wt)=>{d.strokeStyle=dt.fontColor||T,d.fillStyle=dt.fontColor||T;let yt=d.measureText(dt.text).width,Vt=y.textAlign(dt.textAlign||(dt.textAlign=b.textAlign)),Ht=V+I+yt,Ft=B.x,ve=B.y;y.setWidth(this.width),nt?wt>0&&Ft+Ht+D>this.right&&(ve=B.y+=ft,B.line++,Ft=B.x=de(g,this.left+D,this.right-c[B.line])):wt>0&&ve+ft>this.bottom&&(Ft=B.x=Ft+s[B.line].width+D,B.line++,ve=B.y=de(g,this.top+j+D,this.bottom-s[B.line].height));let $e=y.x(Ft);Q($e,ve,dt),Ft=K(Vt,Ft+V+I,nt?Ft+Ht:this.right,n.rtl),it(y.x(Ft),ve,dt),nt?B.x+=Ht+D:B.y+=ft}),$a(this.ctx,n.textDirection)}drawTitle(){let n=this.options,s=n.title,c=be(s.font),d=De(s.padding);if(!s.display)return;let g=Hi(n.rtl,this.left,this.width),b=this.ctx,x=s.position,y=c.size/2,k=d.top+y,T,D=this.left,R=this.width;if(this.isHorizontal())R=Math.max(...this.lineWidths),T=this.top+k,D=de(n.align,D,this.right-R);else{let B=this.columnSizes.reduce((V,W)=>Math.max(V,W.height),0);T=k+de(n.align,this.top,this.bottom-B-n.labels.padding-this._computeTitleHeight())}let I=de(x,D,D+R);b.textAlign=g.textAlign(si(x)),b.textBaseline="middle",b.strokeStyle=s.color,b.fillStyle=s.color,b.font=c.string,di(b,s.text,I,T,c)}_computeTitleHeight(){let n=this.options.title,s=be(n.font),c=De(n.padding);return n.display?s.lineHeight+c.height:0}_getLegendItemAt(n,s){let c,d,g;if(Ee(n,this.left,this.right)&&Ee(s,this.top,this.bottom)){for(g=this.legendHitBoxes,c=0;c<g.length;++c)if(d=g[c],Ee(n,d.left,d.left+d.width)&&Ee(s,d.top,d.top+d.height))return this.legendItems[c]}return null}handleEvent(n){let s=this.options;if(!o0(n.type,s))return;let c=this._getLegendItemAt(n.x,n.y);if(n.type==="mousemove"||n.type==="mouseout"){let d=this._hoveredItem,g=s0(d,c);d&&!g&&m(s.onLeave,[n,d,this],this),this._hoveredItem=c,c&&!g&&m(s.onHover,[n,c,this],this)}else c&&m(s.onClick,[n,c,this],this)}}function o0(r,n){return!!((r==="mousemove"||r==="mouseout")&&(n.onHover||n.onLeave)||n.onClick&&(r==="click"||r==="mouseup"))}var r0={id:"legend",_element:Vh,start(r,n,s){let c=r.legend=new Vh({ctx:r.ctx,options:s,chart:r});Le.configure(r,c,s),Le.addBox(r,c)},stop(r){Le.removeBox(r,r.legend),delete r.legend},beforeUpdate(r,n,s){let c=r.legend;Le.configure(r,c,s),c.options=s},afterUpdate(r){let n=r.legend;n.buildLabels(),n.adjustHitBoxes()},afterEvent(r,n){n.replay||r.legend.handleEvent(n.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(r,n,s){let c=n.datasetIndex,d=s.chart;d.isDatasetVisible(c)?(d.hide(c),n.hidden=!0):(d.show(c),n.hidden=!1)},onHover:null,onLeave:null,labels:{color:r=>r.chart.options.color,boxWidth:40,padding:10,generateLabels(r){let n=r.data.datasets,{labels:{usePointStyle:s,pointStyle:c,textAlign:d,color:g}}=r.legend.options;return r._getSortedDatasetMetas().map(b=>{let x=b.controller.getStyle(s?0:void 0),y=De(x.borderWidth);return{text:n[b.index].label,fillStyle:x.backgroundColor,fontColor:g,hidden:!b.visible,lineCap:x.borderCapStyle,lineDash:x.borderDash,lineDashOffset:x.borderDashOffset,lineJoin:x.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:x.borderColor,pointStyle:c||x.pointStyle,rotation:x.rotation,textAlign:d||x.textAlign,borderRadius:0,datasetIndex:b.index}},this)}},title:{color:r=>r.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:r=>!r.startsWith("on"),labels:{_scriptable:r=>!["generateLabels","filter","sort"].includes(r)}}};class fl extends an{constructor(n){super(),this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,s){let c=this.options;if(this.left=0,this.top=0,!c.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=n,this.height=this.bottom=s;let d=o(c.text)?c.text.length:1;this._padding=De(c.padding);let g=d*be(c.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=g:this.width=g}isHorizontal(){let n=this.options.position;return n==="top"||n==="bottom"}_drawArgs(n){let{top:s,left:c,bottom:d,right:g,options:b}=this,x=b.align,y=0,k,T,D;return this.isHorizontal()?(T=de(x,c,g),D=s+n,k=g-c):(b.position==="left"?(T=c+n,D=de(x,d,s),y=ct*-.5):(T=g-n,D=de(x,s,d),y=ct*.5),k=d-s),{titleX:T,titleY:D,maxWidth:k,rotation:y}}draw(){let n=this.ctx,s=this.options;if(!s.display)return;let c=be(s.font),g=c.lineHeight/2+this._padding.top,{titleX:b,titleY:x,maxWidth:y,rotation:k}=this._drawArgs(g);di(n,s.text,0,0,c,{color:s.color,maxWidth:y,rotation:k,textAlign:si(s.align),textBaseline:"middle",translation:[b,x]})}}function a0(r,n){let s=new fl({ctx:r.ctx,options:n,chart:r});Le.configure(r,s,n),Le.addBox(r,s),r.titleBlock=s}var l0={id:"title",_element:fl,start(r,n,s){a0(r,s)},stop(r){let n=r.titleBlock;Le.removeBox(r,n),delete r.titleBlock},beforeUpdate(r,n,s){let c=r.titleBlock;Le.configure(r,c,s),c.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};let Or=new WeakMap;var c0={id:"subtitle",start(r,n,s){let c=new fl({ctx:r.ctx,options:s,chart:r});Le.configure(r,c,s),Le.addBox(r,c),Or.set(r,c)},stop(r){Le.removeBox(r,Or.get(r)),Or.delete(r)},beforeUpdate(r,n,s){let c=Or.get(r);Le.configure(r,c,s),c.options=s},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};let mo={average(r){if(!r.length)return!1;let n,s,c=0,d=0,g=0;for(n=0,s=r.length;n<s;++n){let b=r[n].element;if(b&&b.hasValue()){let x=b.tooltipPosition();c+=x.x,d+=x.y,++g}}return{x:c/g,y:d/g}},nearest(r,n){if(!r.length)return!1;let s=n.x,c=n.y,d=Number.POSITIVE_INFINITY,g,b,x;for(g=0,b=r.length;g<b;++g){let y=r[g].element;if(y&&y.hasValue()){let k=y.getCenterPoint(),T=en(n,k);T<d&&(d=T,x=y)}}if(x){let y=x.tooltipPosition();s=y.x,c=y.y}return{x:s,y:c}}};function An(r,n){return n&&(o(n)?Array.prototype.push.apply(r,n):r.push(n)),r}function $n(r){return(typeof r=="string"||r instanceof String)&&r.indexOf(`
`)>-1?r.split(`
`):r}function u0(r,n){let{element:s,datasetIndex:c,index:d}=n,g=r.getDatasetMeta(c).controller,{label:b,value:x}=g.getLabelAndValue(d);return{chart:r,label:b,parsed:g.getParsed(d),raw:r.data.datasets[c].data[d],formattedValue:x,dataset:g.getDataset(),dataIndex:d,datasetIndex:c,element:s}}function Hh(r,n){let s=r.chart.ctx,{body:c,footer:d,title:g}=r,{boxWidth:b,boxHeight:x}=n,y=be(n.bodyFont),k=be(n.titleFont),T=be(n.footerFont),D=g.length,R=d.length,I=c.length,B=De(n.padding),V=B.height,W=0,U=c.reduce((nt,j)=>nt+j.before.length+j.lines.length+j.after.length,0);if(U+=r.beforeBody.length+r.afterBody.length,D&&(V+=D*k.lineHeight+(D-1)*n.titleSpacing+n.titleMarginBottom),U){let nt=n.displayColors?Math.max(x,y.lineHeight):y.lineHeight;V+=I*nt+(U-I)*y.lineHeight+(U-1)*n.bodySpacing}R&&(V+=n.footerMarginTop+R*T.lineHeight+(R-1)*n.footerSpacing);let Q=0,it=function(nt){W=Math.max(W,s.measureText(nt).width+Q)};return s.save(),s.font=k.string,v(r.title,it),s.font=y.string,v(r.beforeBody.concat(r.afterBody),it),Q=n.displayColors?b+2+n.boxPadding:0,v(c,nt=>{v(nt.before,it),v(nt.lines,it),v(nt.after,it)}),Q=0,s.font=T.string,v(r.footer,it),s.restore(),W+=B.width,{width:W,height:V}}function h0(r,n){let{y:s,height:c}=n;return s<c/2?"top":s>r.height-c/2?"bottom":"center"}function f0(r,n,s,c){let{x:d,width:g}=c,b=s.caretSize+s.caretPadding;if(r==="left"&&d+g+b>n.width||r==="right"&&d-g-b<0)return!0}function d0(r,n,s,c){let{x:d,width:g}=s,{width:b,chartArea:{left:x,right:y}}=r,k="center";return c==="center"?k=d<=(x+y)/2?"left":"right":d<=g/2?k="left":d>=b-g/2&&(k="right"),f0(k,r,n,s)&&(k="center"),k}function Wh(r,n,s){let c=s.yAlign||n.yAlign||h0(r,s);return{xAlign:s.xAlign||n.xAlign||d0(r,n,s,c),yAlign:c}}function p0(r,n){let{x:s,width:c}=r;return n==="right"?s-=c:n==="center"&&(s-=c/2),s}function g0(r,n,s){let{y:c,height:d}=r;return n==="top"?c+=s:n==="bottom"?c-=d+s:c-=d/2,c}function $h(r,n,s,c){let{caretSize:d,caretPadding:g,cornerRadius:b}=r,{xAlign:x,yAlign:y}=s,k=d+g,{topLeft:T,topRight:D,bottomLeft:R,bottomRight:I}=gi(b),B=p0(n,x),V=g0(n,y,k);return y==="center"?x==="left"?B+=k:x==="right"&&(B-=k):x==="left"?B-=Math.max(T,R)+d:x==="right"&&(B+=Math.max(D,I)+d),{x:qt(B,0,c.width-n.width),y:qt(V,0,c.height-n.height)}}function Tr(r,n,s){let c=De(s.padding);return n==="center"?r.x+r.width/2:n==="right"?r.x+r.width-c.right:r.x+c.left}function Yh(r){return An([],$n(r))}function m0(r,n,s){return Wn(r,{tooltip:n,tooltipItems:s,type:"tooltip"})}function qh(r,n){let s=n&&n.dataset&&n.dataset.tooltip&&n.dataset.tooltip.callbacks;return s?r.override(s):r}class dl extends an{constructor(n){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=n.chart||n._chart,this._chart=this.chart,this.options=n.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(n){this.options=n,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let n=this._cachedAnimations;if(n)return n;let s=this.chart,c=this.options.setContext(this.getContext()),d=c.enabled&&s.options.animation&&c.animations,g=new Qa(this.chart,d);return d._cacheable&&(this._cachedAnimations=Object.freeze(g)),g}getContext(){return this.$context||(this.$context=m0(this.chart.getContext(),this,this._tooltipItems))}getTitle(n,s){let{callbacks:c}=s,d=c.beforeTitle.apply(this,[n]),g=c.title.apply(this,[n]),b=c.afterTitle.apply(this,[n]),x=[];return x=An(x,$n(d)),x=An(x,$n(g)),x=An(x,$n(b)),x}getBeforeBody(n,s){return Yh(s.callbacks.beforeBody.apply(this,[n]))}getBody(n,s){let{callbacks:c}=s,d=[];return v(n,g=>{let b={before:[],lines:[],after:[]},x=qh(c,g);An(b.before,$n(x.beforeLabel.call(this,g))),An(b.lines,x.label.call(this,g)),An(b.after,$n(x.afterLabel.call(this,g))),d.push(b)}),d}getAfterBody(n,s){return Yh(s.callbacks.afterBody.apply(this,[n]))}getFooter(n,s){let{callbacks:c}=s,d=c.beforeFooter.apply(this,[n]),g=c.footer.apply(this,[n]),b=c.afterFooter.apply(this,[n]),x=[];return x=An(x,$n(d)),x=An(x,$n(g)),x=An(x,$n(b)),x}_createItems(n){let s=this._active,c=this.chart.data,d=[],g=[],b=[],x=[],y,k;for(y=0,k=s.length;y<k;++y)x.push(u0(this.chart,s[y]));return n.filter&&(x=x.filter((T,D,R)=>n.filter(T,D,R,c))),n.itemSort&&(x=x.sort((T,D)=>n.itemSort(T,D,c))),v(x,T=>{let D=qh(n.callbacks,T);d.push(D.labelColor.call(this,T)),g.push(D.labelPointStyle.call(this,T)),b.push(D.labelTextColor.call(this,T))}),this.labelColors=d,this.labelPointStyles=g,this.labelTextColors=b,this.dataPoints=x,x}update(n,s){let c=this.options.setContext(this.getContext()),d=this._active,g,b=[];if(!d.length)this.opacity!==0&&(g={opacity:0});else{let x=mo[c.position].call(this,d,this._eventPosition);b=this._createItems(c),this.title=this.getTitle(b,c),this.beforeBody=this.getBeforeBody(b,c),this.body=this.getBody(b,c),this.afterBody=this.getAfterBody(b,c),this.footer=this.getFooter(b,c);let y=this._size=Hh(this,c),k=Object.assign({},x,y),T=Wh(this.chart,c,k),D=$h(c,k,T,this.chart);this.xAlign=T.xAlign,this.yAlign=T.yAlign,g={opacity:1,x:D.x,y:D.y,width:y.width,height:y.height,caretX:x.x,caretY:x.y}}this._tooltipItems=b,this.$context=void 0,g&&this._resolveAnimations().update(this,g),n&&c.external&&c.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(n,s,c,d){let g=this.getCaretPosition(n,c,d);s.lineTo(g.x1,g.y1),s.lineTo(g.x2,g.y2),s.lineTo(g.x3,g.y3)}getCaretPosition(n,s,c){let{xAlign:d,yAlign:g}=this,{caretSize:b,cornerRadius:x}=c,{topLeft:y,topRight:k,bottomLeft:T,bottomRight:D}=gi(x),{x:R,y:I}=n,{width:B,height:V}=s,W,U,Q,it,nt,j;return g==="center"?(nt=I+V/2,d==="left"?(W=R,U=W-b,it=nt+b,j=nt-b):(W=R+B,U=W+b,it=nt-b,j=nt+b),Q=W):(d==="left"?U=R+Math.max(y,T)+b:d==="right"?U=R+B-Math.max(k,D)-b:U=this.caretX,g==="top"?(it=I,nt=it-b,W=U-b,Q=U+b):(it=I+V,nt=it+b,W=U+b,Q=U-b),j=it),{x1:W,x2:U,x3:Q,y1:it,y2:nt,y3:j}}drawTitle(n,s,c){let d=this.title,g=d.length,b,x,y;if(g){let k=Hi(c.rtl,this.x,this.width);for(n.x=Tr(this,c.titleAlign,c),s.textAlign=k.textAlign(c.titleAlign),s.textBaseline="middle",b=be(c.titleFont),x=c.titleSpacing,s.fillStyle=c.titleColor,s.font=b.string,y=0;y<g;++y)s.fillText(d[y],k.x(n.x),n.y+b.lineHeight/2),n.y+=b.lineHeight+x,y+1===g&&(n.y+=c.titleMarginBottom-x)}}_drawColorBox(n,s,c,d,g){let b=this.labelColors[c],x=this.labelPointStyles[c],{boxHeight:y,boxWidth:k,boxPadding:T}=g,D=be(g.bodyFont),R=Tr(this,"left",g),I=d.x(R),B=y<D.lineHeight?(D.lineHeight-y)/2:0,V=s.y+B;if(g.usePointStyle){let W={radius:Math.min(k,y)/2,pointStyle:x.pointStyle,rotation:x.rotation,borderWidth:1},U=d.leftForLtr(I,k)+k/2,Q=V+y/2;n.strokeStyle=g.multiKeyBackground,n.fillStyle=g.multiKeyBackground,rr(n,W,U,Q),n.strokeStyle=b.borderColor,n.fillStyle=b.backgroundColor,rr(n,W,U,Q)}else{n.lineWidth=a(b.borderWidth)?Math.max(...Object.values(b.borderWidth)):b.borderWidth||1,n.strokeStyle=b.borderColor,n.setLineDash(b.borderDash||[]),n.lineDashOffset=b.borderDashOffset||0;let W=d.leftForLtr(I,k-T),U=d.leftForLtr(d.xPlus(I,1),k-T-2),Q=gi(b.borderRadius);Object.values(Q).some(it=>it!==0)?(n.beginPath(),n.fillStyle=g.multiKeyBackground,ds(n,{x:W,y:V,w:k,h:y,radius:Q}),n.fill(),n.stroke(),n.fillStyle=b.backgroundColor,n.beginPath(),ds(n,{x:U,y:V+1,w:k-2,h:y-2,radius:Q}),n.fill()):(n.fillStyle=g.multiKeyBackground,n.fillRect(W,V,k,y),n.strokeRect(W,V,k,y),n.fillStyle=b.backgroundColor,n.fillRect(U,V+1,k-2,y-2))}n.fillStyle=this.labelTextColors[c]}drawBody(n,s,c){let{body:d}=this,{bodySpacing:g,bodyAlign:b,displayColors:x,boxHeight:y,boxWidth:k,boxPadding:T}=c,D=be(c.bodyFont),R=D.lineHeight,I=0,B=Hi(c.rtl,this.x,this.width),V=function(wt){s.fillText(wt,B.x(n.x+I),n.y+R/2),n.y+=R+g},W=B.textAlign(b),U,Q,it,nt,j,ft,dt;for(s.textAlign=b,s.textBaseline="middle",s.font=D.string,n.x=Tr(this,W,c),s.fillStyle=c.bodyColor,v(this.beforeBody,V),I=x&&W!=="right"?b==="center"?k/2+T:k+2+T:0,nt=0,ft=d.length;nt<ft;++nt){for(U=d[nt],Q=this.labelTextColors[nt],s.fillStyle=Q,v(U.before,V),it=U.lines,x&&it.length&&(this._drawColorBox(s,n,nt,B,c),R=Math.max(D.lineHeight,y)),j=0,dt=it.length;j<dt;++j)V(it[j]),R=D.lineHeight;v(U.after,V)}I=0,R=D.lineHeight,v(this.afterBody,V),n.y-=g}drawFooter(n,s,c){let d=this.footer,g=d.length,b,x;if(g){let y=Hi(c.rtl,this.x,this.width);for(n.x=Tr(this,c.footerAlign,c),n.y+=c.footerMarginTop,s.textAlign=y.textAlign(c.footerAlign),s.textBaseline="middle",b=be(c.footerFont),s.fillStyle=c.footerColor,s.font=b.string,x=0;x<g;++x)s.fillText(d[x],y.x(n.x),n.y+b.lineHeight/2),n.y+=b.lineHeight+c.footerSpacing}}drawBackground(n,s,c,d){let{xAlign:g,yAlign:b}=this,{x,y}=n,{width:k,height:T}=c,{topLeft:D,topRight:R,bottomLeft:I,bottomRight:B}=gi(d.cornerRadius);s.fillStyle=d.backgroundColor,s.strokeStyle=d.borderColor,s.lineWidth=d.borderWidth,s.beginPath(),s.moveTo(x+D,y),b==="top"&&this.drawCaret(n,s,c,d),s.lineTo(x+k-R,y),s.quadraticCurveTo(x+k,y,x+k,y+R),b==="center"&&g==="right"&&this.drawCaret(n,s,c,d),s.lineTo(x+k,y+T-B),s.quadraticCurveTo(x+k,y+T,x+k-B,y+T),b==="bottom"&&this.drawCaret(n,s,c,d),s.lineTo(x+I,y+T),s.quadraticCurveTo(x,y+T,x,y+T-I),b==="center"&&g==="left"&&this.drawCaret(n,s,c,d),s.lineTo(x,y+D),s.quadraticCurveTo(x,y,x+D,y),s.closePath(),s.fill(),d.borderWidth>0&&s.stroke()}_updateAnimationTarget(n){let s=this.chart,c=this.$animations,d=c&&c.x,g=c&&c.y;if(d||g){let b=mo[n.position].call(this,this._active,this._eventPosition);if(!b)return;let x=this._size=Hh(this,n),y=Object.assign({},b,this._size),k=Wh(s,n,y),T=$h(n,y,k,s);(d._to!==T.x||g._to!==T.y)&&(this.xAlign=k.xAlign,this.yAlign=k.yAlign,this.width=x.width,this.height=x.height,this.caretX=b.x,this.caretY=b.y,this._resolveAnimations().update(this,T))}}_willRender(){return!!this.opacity}draw(n){let s=this.options.setContext(this.getContext()),c=this.opacity;if(!c)return;this._updateAnimationTarget(s);let d={width:this.width,height:this.height},g={x:this.x,y:this.y};c=Math.abs(c)<.001?0:c;let b=De(s.padding),x=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&x&&(n.save(),n.globalAlpha=c,this.drawBackground(g,n,d,s),Wa(n,s.textDirection),g.y+=b.top,this.drawTitle(g,n,s),this.drawBody(g,n,s),this.drawFooter(g,n,s),$a(n,s.textDirection),n.restore())}getActiveElements(){return this._active||[]}setActiveElements(n,s){let c=this._active,d=n.map(({datasetIndex:x,index:y})=>{let k=this.chart.getDatasetMeta(x);if(!k)throw new Error("Cannot find a dataset at index "+x);return{datasetIndex:x,element:k.data[y],index:y}}),g=!_(c,d),b=this._positionChanged(d,s);(g||b)&&(this._active=d,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(n,s,c=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let d=this.options,g=this._active||[],b=this._getActiveElements(n,g,s,c),x=this._positionChanged(b,n),y=s||!_(b,g)||x;return y&&(this._active=b,(d.enabled||d.external)&&(this._eventPosition={x:n.x,y:n.y},this.update(!0,s))),y}_getActiveElements(n,s,c,d){let g=this.options;if(n.type==="mouseout")return[];if(!d)return s;let b=this.chart.getElementsAtEventForMode(n,g.mode,g,c);return g.reverse&&b.reverse(),b}_positionChanged(n,s){let{caretX:c,caretY:d,options:g}=this,b=mo[g.position].call(this,n,s);return b!==!1&&(c!==b.x||d!==b.y)}}dl.positioners=mo;var b0={id:"tooltip",_element:dl,positioners:mo,afterInit(r,n,s){s&&(r.tooltip=new dl({chart:r,options:s}))},beforeUpdate(r,n,s){r.tooltip&&r.tooltip.initialize(s)},reset(r,n,s){r.tooltip&&r.tooltip.initialize(s)},afterDraw(r){let n=r.tooltip;if(n&&n._willRender()){let s={tooltip:n};if(r.notifyPlugins("beforeTooltipDraw",s)===!1)return;n.draw(r.ctx),r.notifyPlugins("afterTooltipDraw",s)}},afterEvent(r,n){if(r.tooltip){let s=n.replay;r.tooltip.handleEvent(n.event,s,n.inChartArea)&&(n.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(r,n)=>n.bodyFont.size,boxWidth:(r,n)=>n.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:i,title(r){if(r.length>0){let n=r[0],s=n.chart.data.labels,c=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return n.dataset.label||"";if(n.label)return n.label;if(c>0&&n.dataIndex<c)return s[n.dataIndex]}return""},afterTitle:i,beforeBody:i,beforeLabel:i,label(r){if(this&&this.options&&this.options.mode==="dataset")return r.label+": "+r.formattedValue||r.formattedValue;let n=r.dataset.label||"";n&&(n+=": ");let s=r.formattedValue;return e(s)||(n+=s),n},labelColor(r){let s=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(r){let s=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:i,afterBody:i,beforeFooter:i,footer:i,afterFooter:i}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:r=>r!=="filter"&&r!=="itemSort"&&r!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Uh=Object.freeze({__proto__:null,Decimation:Bb,Filler:i0,Legend:r0,SubTitle:c0,Title:l0,Tooltip:b0});let v0=(r,n,s,c)=>(typeof n=="string"?(s=r.push(n)-1,c.unshift({index:s,label:n})):isNaN(n)&&(s=null),s);function x0(r,n,s,c){let d=r.indexOf(n);if(d===-1)return v0(r,n,s,c);let g=r.lastIndexOf(n);return d!==g?s:d}let y0=(r,n)=>r===null?null:qt(Math.round(r),0,n);class Ar extends mi{constructor(n){super(n),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(n){let s=this._addedLabels;if(s.length){let c=this.getLabels();for(let{index:d,label:g}of s)c[d]===g&&c.splice(d,1);this._addedLabels=[]}super.init(n)}parse(n,s){if(e(n))return null;let c=this.getLabels();return s=isFinite(s)&&c[s]===n?s:x0(c,n,u(s,n),this._addedLabels),y0(s,c.length-1)}determineDataLimits(){let{minDefined:n,maxDefined:s}=this.getUserBounds(),{min:c,max:d}=this.getMinMax(!0);this.options.bounds==="ticks"&&(n||(c=0),s||(d=this.getLabels().length-1)),this.min=c,this.max=d}buildTicks(){let n=this.min,s=this.max,c=this.options.offset,d=[],g=this.getLabels();g=n===0&&s===g.length-1?g:g.slice(n,s+1),this._valueRange=Math.max(g.length-(c?0:1),1),this._startValue=this.min-(c?.5:0);for(let b=n;b<=s;b++)d.push({value:b});return d}getLabelForValue(n){let s=this.getLabels();return n>=0&&n<s.length?s[n]:n}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(n){return typeof n!="number"&&(n=this.parse(n)),n===null?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getPixelForTick(n){let s=this.ticks;return n<0||n>s.length-1?null:this.getPixelForValue(s[n].value)}getValueForPixel(n){return Math.round(this._startValue+this.getDecimalForPixel(n)*this._valueRange)}getBasePixel(){return this.bottom}}Ar.id="category",Ar.defaults={ticks:{callback:Ar.prototype.getLabelForValue}};function _0(r,n){let s=[],{bounds:d,step:g,min:b,max:x,precision:y,count:k,maxTicks:T,maxDigits:D,includeBounds:R}=r,I=g||1,B=T-1,{min:V,max:W}=n,U=!e(b),Q=!e(x),it=!e(k),nt=(W-V)/(D+1),j=Gt((W-V)/B/I)*I,ft,dt,wt,yt;if(j<1e-14&&!U&&!Q)return[{value:V},{value:W}];yt=Math.ceil(W/j)-Math.floor(V/j),yt>B&&(j=Gt(yt*j/B/I)*I),e(y)||(ft=Math.pow(10,y),j=Math.ceil(j*ft)/ft),d==="ticks"?(dt=Math.floor(V/j)*j,wt=Math.ceil(W/j)*j):(dt=V,wt=W),U&&Q&&g&&Ve((x-b)/g,j/1e3)?(yt=Math.round(Math.min((x-b)/j,T)),j=(x-b)/yt,dt=b,wt=x):it?(dt=U?b:dt,wt=Q?x:wt,yt=k-1,j=(wt-dt)/yt):(yt=(wt-dt)/j,Kt(yt,Math.round(yt),j/1e3)?yt=Math.round(yt):yt=Math.ceil(yt));let Vt=Math.max(qe(j),qe(dt));ft=Math.pow(10,e(y)?Vt:y),dt=Math.round(dt*ft)/ft,wt=Math.round(wt*ft)/ft;let Ht=0;for(U&&(R&&dt!==b?(s.push({value:b}),dt<b&&Ht++,Kt(Math.round((dt+Ht*j)*ft)/ft,b,Xh(b,nt,r))&&Ht++):dt<b&&Ht++);Ht<yt;++Ht)s.push({value:Math.round((dt+Ht*j)*ft)/ft});return Q&&R&&wt!==x?s.length&&Kt(s[s.length-1].value,x,Xh(x,nt,r))?s[s.length-1].value=x:s.push({value:x}):(!Q||wt===x)&&s.push({value:wt}),s}function Xh(r,n,{horizontal:s,minRotation:c}){let d=Mt(c),g=(s?Math.sin(d):Math.cos(d))||.001,b=.75*n*(""+r).length;return Math.min(n/g,b)}class Er extends mi{constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(n,s){return e(n)||(typeof n=="number"||n instanceof Number)&&!isFinite(+n)?null:+n}handleTickRangeOptions(){let{beginAtZero:n}=this.options,{minDefined:s,maxDefined:c}=this.getUserBounds(),{min:d,max:g}=this,b=y=>d=s?d:y,x=y=>g=c?g:y;if(n){let y=Ot(d),k=Ot(g);y<0&&k<0?x(0):y>0&&k>0&&b(0)}if(d===g){let y=1;(g>=Number.MAX_SAFE_INTEGER||d<=Number.MIN_SAFE_INTEGER)&&(y=Math.abs(g*.05)),x(g+y),n||b(d-y)}this.min=d,this.max=g}getTickLimit(){let n=this.options.ticks,{maxTicksLimit:s,stepSize:c}=n,d;return c?(d=Math.ceil(this.max/c)-Math.floor(this.min/c)+1,d>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${c} would result generating up to ${d} ticks. Limiting to 1000.`),d=1e3)):(d=this.computeTickLimit(),s=s||11),s&&(d=Math.min(s,d)),d}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let n=this.options,s=n.ticks,c=this.getTickLimit();c=Math.max(2,c);let d={maxTicks:c,bounds:n.bounds,min:n.min,max:n.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},g=this._range||this,b=_0(d,g);return n.bounds==="ticks"&&re(b,this,"value"),n.reverse?(b.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),b}configure(){let n=this.ticks,s=this.min,c=this.max;if(super.configure(),this.options.offset&&n.length){let d=(c-s)/Math.max(n.length-1,1)/2;s-=d,c+=d}this._startValue=s,this._endValue=c,this._valueRange=c-s}getLabelForValue(n){return ms(n,this.chart.options.locale,this.options.ticks.format)}}class pl extends Er{determineDataLimits(){let{min:n,max:s}=this.getMinMax(!0);this.min=h(n)?n:0,this.max=h(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){let n=this.isHorizontal(),s=n?this.width:this.height,c=Mt(this.options.ticks.minRotation),d=(n?Math.sin(c):Math.cos(c))||.001,g=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,g.lineHeight/d))}getPixelForValue(n){return n===null?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getValueForPixel(n){return this._startValue+this.getDecimalForPixel(n)*this._valueRange}}pl.id="linear",pl.defaults={ticks:{callback:fo.formatters.numeric}};function Gh(r){return r/Math.pow(10,Math.floor(Pt(r)))===1}function w0(r,n){let s=Math.floor(Pt(n.max)),c=Math.ceil(n.max/Math.pow(10,s)),d=[],g=p(r.min,Math.pow(10,Math.floor(Pt(n.min)))),b=Math.floor(Pt(g)),x=Math.floor(g/Math.pow(10,b)),y=b<0?Math.pow(10,Math.abs(b)):1;do d.push({value:g,major:Gh(g)}),++x,x===10&&(x=1,++b,y=b>=0?1:y),g=Math.round(x*Math.pow(10,b)*y)/y;while(b<s||b===s&&x<c);let k=p(r.max,g);return d.push({value:k,major:Gh(g)}),d}class gl extends mi{constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(n,s){let c=Er.prototype.parse.apply(this,[n,s]);if(c===0){this._zero=!0;return}return h(c)&&c>0?c:null}determineDataLimits(){let{min:n,max:s}=this.getMinMax(!0);this.min=h(n)?Math.max(0,n):null,this.max=h(s)?Math.max(0,s):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:n,maxDefined:s}=this.getUserBounds(),c=this.min,d=this.max,g=y=>c=n?c:y,b=y=>d=s?d:y,x=(y,k)=>Math.pow(10,Math.floor(Pt(y))+k);c===d&&(c<=0?(g(1),b(10)):(g(x(c,-1)),b(x(d,1)))),c<=0&&g(x(d,-1)),d<=0&&b(x(c,1)),this._zero&&this.min!==this._suggestedMin&&c===x(this.min,0)&&g(x(c,-1)),this.min=c,this.max=d}buildTicks(){let n=this.options,s={min:this._userMin,max:this._userMax},c=w0(s,this);return n.bounds==="ticks"&&re(c,this,"value"),n.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}getLabelForValue(n){return n===void 0?"0":ms(n,this.chart.options.locale,this.options.ticks.format)}configure(){let n=this.min;super.configure(),this._startValue=Pt(n),this._valueRange=Pt(this.max)-Pt(n)}getPixelForValue(n){return(n===void 0||n===0)&&(n=this.min),n===null||isNaN(n)?NaN:this.getPixelForDecimal(n===this.min?0:(Pt(n)-this._startValue)/this._valueRange)}getValueForPixel(n){let s=this.getDecimalForPixel(n);return Math.pow(10,this._startValue+s*this._valueRange)}}gl.id="logarithmic",gl.defaults={ticks:{callback:fo.formatters.logarithmic,major:{enabled:!0}}};function ml(r){let n=r.ticks;if(n.display&&r.display){let s=De(n.backdropPadding);return u(n.font&&n.font.size,Dt.font.size)+s.height}return 0}function k0(r,n,s){return s=o(s)?s:[s],{w:uu(r,n.string,s),h:s.length*n.lineHeight}}function Kh(r,n,s,c,d){return r===c||r===d?{start:n-s/2,end:n+s/2}:r<c||r>d?{start:n-s,end:n}:{start:n,end:n+s}}function P0(r){let n={l:r.left+r._padding.left,r:r.right-r._padding.right,t:r.top+r._padding.top,b:r.bottom-r._padding.bottom},s=Object.assign({},n),c=[],d=[],g=r._pointLabels.length,b=r.options.pointLabels,x=b.centerPointLabels?ct/g:0;for(let y=0;y<g;y++){let k=b.setContext(r.getPointLabelContext(y));d[y]=k.padding;let T=r.getPointPosition(y,r.drawingArea+d[y],x),D=be(k.font),R=k0(r.ctx,D,r._pointLabels[y]);c[y]=R;let I=he(r.getIndexAngle(y)+x),B=Math.round(Ae(I)),V=Kh(B,T.x,R.w,0,180),W=Kh(B,T.y,R.h,90,270);C0(s,n,I,V,W)}r.setCenterPoint(n.l-s.l,s.r-n.r,n.t-s.t,s.b-n.b),r._pointLabelItems=M0(r,c,d)}function C0(r,n,s,c,d){let g=Math.abs(Math.sin(s)),b=Math.abs(Math.cos(s)),x=0,y=0;c.start<n.l?(x=(n.l-c.start)/g,r.l=Math.min(r.l,n.l-x)):c.end>n.r&&(x=(c.end-n.r)/g,r.r=Math.max(r.r,n.r+x)),d.start<n.t?(y=(n.t-d.start)/b,r.t=Math.min(r.t,n.t-y)):d.end>n.b&&(y=(d.end-n.b)/b,r.b=Math.max(r.b,n.b+y))}function M0(r,n,s){let c=[],d=r._pointLabels.length,g=r.options,b=ml(g)/2,x=r.drawingArea,y=g.pointLabels.centerPointLabels?ct/d:0;for(let k=0;k<d;k++){let T=r.getPointPosition(k,x+b+s[k],y),D=Math.round(Ae(he(T.angle+ht))),R=n[k],I=A0(T.y,R.h,D),B=O0(D),V=T0(T.x,R.w,B);c.push({x:T.x,y:I,textAlign:B,left:V,top:I,right:V+R.w,bottom:I+R.h})}return c}function O0(r){return r===0||r===180?"center":r<180?"left":"right"}function T0(r,n,s){return s==="right"?r-=n:s==="center"&&(r-=n/2),r}function A0(r,n,s){return s===90||s===270?r-=n/2:(s>270||s<90)&&(r-=n),r}function E0(r,n){let{ctx:s,options:{pointLabels:c}}=r;for(let d=n-1;d>=0;d--){let g=c.setContext(r.getPointLabelContext(d)),b=be(g.font),{x,y,textAlign:k,left:T,top:D,right:R,bottom:I}=r._pointLabelItems[d],{backdropColor:B}=g;if(!e(B)){let V=gi(g.borderRadius),W=De(g.backdropPadding);s.fillStyle=B;let U=T-W.left,Q=D-W.top,it=R-T+W.width,nt=I-D+W.height;Object.values(V).some(j=>j!==0)?(s.beginPath(),ds(s,{x:U,y:Q,w:it,h:nt,radius:V}),s.fill()):s.fillRect(U,Q,it,nt)}di(s,r._pointLabels[d],x,y+b.lineHeight/2,b,{color:g.color,textAlign:k,textBaseline:"middle"})}}function Qh(r,n,s,c){let{ctx:d}=r;if(s)d.arc(r.xCenter,r.yCenter,n,0,rt);else{let g=r.getPointPosition(0,n);d.moveTo(g.x,g.y);for(let b=1;b<c;b++)g=r.getPointPosition(b,n),d.lineTo(g.x,g.y)}}function D0(r,n,s,c){let d=r.ctx,g=n.circular,{color:b,lineWidth:x}=n;!g&&!c||!b||!x||s<0||(d.save(),d.strokeStyle=b,d.lineWidth=x,d.setLineDash(n.borderDash),d.lineDashOffset=n.borderDashOffset,d.beginPath(),Qh(r,s,g,c),d.closePath(),d.stroke(),d.restore())}function L0(r,n,s){return Wn(r,{label:s,index:n,type:"pointLabel"})}class bo extends Er{constructor(n){super(n),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let n=this._padding=De(ml(this.options)/2),s=this.width=this.maxWidth-n.width,c=this.height=this.maxHeight-n.height;this.xCenter=Math.floor(this.left+s/2+n.left),this.yCenter=Math.floor(this.top+c/2+n.top),this.drawingArea=Math.floor(Math.min(s,c)/2)}determineDataLimits(){let{min:n,max:s}=this.getMinMax(!1);this.min=h(n)&&!isNaN(n)?n:0,this.max=h(s)&&!isNaN(s)?s:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ml(this.options))}generateTickLabels(n){Er.prototype.generateTickLabels.call(this,n),this._pointLabels=this.getLabels().map((s,c)=>{let d=m(this.options.pointLabels.callback,[s,c],this);return d||d===0?d:""}).filter((s,c)=>this.chart.getDataVisibility(c))}fit(){let n=this.options;n.display&&n.pointLabels.display?P0(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(n,s,c,d){this.xCenter+=Math.floor((n-s)/2),this.yCenter+=Math.floor((c-d)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(n,s,c,d))}getIndexAngle(n){let s=rt/(this._pointLabels.length||1),c=this.options.startAngle||0;return he(n*s+Mt(c))}getDistanceFromCenterForValue(n){if(e(n))return NaN;let s=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-n)*s:(n-this.min)*s}getValueForDistanceFromCenter(n){if(e(n))return NaN;let s=n/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-s:this.min+s}getPointLabelContext(n){let s=this._pointLabels||[];if(n>=0&&n<s.length){let c=s[n];return L0(this.getContext(),n,c)}}getPointPosition(n,s,c=0){let d=this.getIndexAngle(n)-ht+c;return{x:Math.cos(d)*s+this.xCenter,y:Math.sin(d)*s+this.yCenter,angle:d}}getPointPositionForValue(n,s){return this.getPointPosition(n,this.getDistanceFromCenterForValue(s))}getBasePosition(n){return this.getPointPositionForValue(n||0,this.getBaseValue())}getPointLabelPosition(n){let{left:s,top:c,right:d,bottom:g}=this._pointLabelItems[n];return{left:s,top:c,right:d,bottom:g}}drawBackground(){let{backgroundColor:n,grid:{circular:s}}=this.options;if(n){let c=this.ctx;c.save(),c.beginPath(),Qh(this,this.getDistanceFromCenterForValue(this._endValue),s,this._pointLabels.length),c.closePath(),c.fillStyle=n,c.fill(),c.restore()}}drawGrid(){let n=this.ctx,s=this.options,{angleLines:c,grid:d}=s,g=this._pointLabels.length,b,x,y;if(s.pointLabels.display&&E0(this,g),d.display&&this.ticks.forEach((k,T)=>{if(T!==0){x=this.getDistanceFromCenterForValue(k.value);let D=d.setContext(this.getContext(T-1));D0(this,D,x,g)}}),c.display){for(n.save(),b=g-1;b>=0;b--){let k=c.setContext(this.getPointLabelContext(b)),{color:T,lineWidth:D}=k;!D||!T||(n.lineWidth=D,n.strokeStyle=T,n.setLineDash(k.borderDash),n.lineDashOffset=k.borderDashOffset,x=this.getDistanceFromCenterForValue(s.ticks.reverse?this.min:this.max),y=this.getPointPosition(b,x),n.beginPath(),n.moveTo(this.xCenter,this.yCenter),n.lineTo(y.x,y.y),n.stroke())}n.restore()}}drawBorder(){}drawLabels(){let n=this.ctx,s=this.options,c=s.ticks;if(!c.display)return;let d=this.getIndexAngle(0),g,b;n.save(),n.translate(this.xCenter,this.yCenter),n.rotate(d),n.textAlign="center",n.textBaseline="middle",this.ticks.forEach((x,y)=>{if(y===0&&!s.reverse)return;let k=c.setContext(this.getContext(y)),T=be(k.font);if(g=this.getDistanceFromCenterForValue(this.ticks[y].value),k.showLabelBackdrop){n.font=T.string,b=n.measureText(x.label).width,n.fillStyle=k.backdropColor;let D=De(k.backdropPadding);n.fillRect(-b/2-D.left,-g-T.size/2-D.top,b+D.width,T.size+D.height)}di(n,x.label,0,-g,T,{color:k.color})}),n.restore()}drawTitle(){}}bo.id="radialLinear",bo.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:fo.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(r){return r},padding:5,centerPointLabels:!1}},bo.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},bo.descriptors={angleLines:{_fallback:"grid"}};let Dr={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Xe=Object.keys(Dr);function S0(r,n){return r-n}function Zh(r,n){if(e(n))return null;let s=r._adapter,{parser:c,round:d,isoWeekday:g}=r._parseOpts,b=n;return typeof c=="function"&&(b=c(b)),h(b)||(b=typeof c=="string"?s.parse(b,c):s.parse(b)),b===null?null:(d&&(b=d==="week"&&(It(g)||g===!0)?s.startOf(b,"isoWeek",g):s.startOf(b,d)),+b)}function Jh(r,n,s,c){let d=Xe.length;for(let g=Xe.indexOf(r);g<d-1;++g){let b=Dr[Xe[g]],x=b.steps?b.steps:Number.MAX_SAFE_INTEGER;if(b.common&&Math.ceil((s-n)/(x*b.size))<=c)return Xe[g]}return Xe[d-1]}function R0(r,n,s,c,d){for(let g=Xe.length-1;g>=Xe.indexOf(s);g--){let b=Xe[g];if(Dr[b].common&&r._adapter.diff(d,c,b)>=n-1)return b}return Xe[s?Xe.indexOf(s):0]}function I0(r){for(let n=Xe.indexOf(r)+1,s=Xe.length;n<s;++n)if(Dr[Xe[n]].common)return Xe[n]}function jh(r,n,s){if(!s)r[n]=!0;else if(s.length){let{lo:c,hi:d}=Fe(s,n),g=s[c]>=n?s[c]:s[d];r[g]=!0}}function F0(r,n,s,c){let d=r._adapter,g=+d.startOf(n[0].value,c),b=n[n.length-1].value,x,y;for(x=g;x<=b;x=+d.add(x,1,c))y=s[x],y>=0&&(n[y].major=!0);return n}function tf(r,n,s){let c=[],d={},g=n.length,b,x;for(b=0;b<g;++b)x=n[b],d[x]=b,c.push({value:x,major:!1});return g===0||!s?c:F0(r,c,d,s)}class vo extends mi{constructor(n){super(n),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(n,s){let c=n.time||(n.time={}),d=this._adapter=new xh._date(n.adapters.date);d.init(s),O(c.displayFormats,d.formats()),this._parseOpts={parser:c.parser,round:c.round,isoWeekday:c.isoWeekday},super.init(n),this._normalized=s.normalized}parse(n,s){return n===void 0?null:Zh(this,n)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let n=this.options,s=this._adapter,c=n.time.unit||"day",{min:d,max:g,minDefined:b,maxDefined:x}=this.getUserBounds();function y(k){!b&&!isNaN(k.min)&&(d=Math.min(d,k.min)),!x&&!isNaN(k.max)&&(g=Math.max(g,k.max))}(!b||!x)&&(y(this._getLabelBounds()),(n.bounds!=="ticks"||n.ticks.source!=="labels")&&y(this.getMinMax(!1))),d=h(d)&&!isNaN(d)?d:+s.startOf(Date.now(),c),g=h(g)&&!isNaN(g)?g:+s.endOf(Date.now(),c)+1,this.min=Math.min(d,g-1),this.max=Math.max(d+1,g)}_getLabelBounds(){let n=this.getLabelTimestamps(),s=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY;return n.length&&(s=n[0],c=n[n.length-1]),{min:s,max:c}}buildTicks(){let n=this.options,s=n.time,c=n.ticks,d=c.source==="labels"?this.getLabelTimestamps():this._generate();n.bounds==="ticks"&&d.length&&(this.min=this._userMin||d[0],this.max=this._userMax||d[d.length-1]);let g=this.min,b=this.max,x=nn(d,g,b);return this._unit=s.unit||(c.autoSkip?Jh(s.minUnit,this.min,this.max,this._getLabelCapacity(g)):R0(this,x.length,s.minUnit,this.min,this.max)),this._majorUnit=!c.major.enabled||this._unit==="year"?void 0:I0(this._unit),this.initOffsets(d),n.reverse&&x.reverse(),tf(this,x,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(n=>+n.value))}initOffsets(n){let s=0,c=0,d,g;this.options.offset&&n.length&&(d=this.getDecimalForValue(n[0]),n.length===1?s=1-d:s=(this.getDecimalForValue(n[1])-d)/2,g=this.getDecimalForValue(n[n.length-1]),n.length===1?c=g:c=(g-this.getDecimalForValue(n[n.length-2]))/2);let b=n.length<3?.5:.25;s=qt(s,0,b),c=qt(c,0,b),this._offsets={start:s,end:c,factor:1/(s+1+c)}}_generate(){let n=this._adapter,s=this.min,c=this.max,d=this.options,g=d.time,b=g.unit||Jh(g.minUnit,s,c,this._getLabelCapacity(s)),x=u(g.stepSize,1),y=b==="week"?g.isoWeekday:!1,k=It(y)||y===!0,T={},D=s,R,I;if(k&&(D=+n.startOf(D,"isoWeek",y)),D=+n.startOf(D,k?"day":b),n.diff(c,s,b)>1e5*x)throw new Error(s+" and "+c+" are too far apart with stepSize of "+x+" "+b);let B=d.ticks.source==="data"&&this.getDataTimestamps();for(R=D,I=0;R<c;R=+n.add(R,x,b),I++)jh(T,R,B);return(R===c||d.bounds==="ticks"||I===1)&&jh(T,R,B),Object.keys(T).sort((V,W)=>V-W).map(V=>+V)}getLabelForValue(n){let s=this._adapter,c=this.options.time;return c.tooltipFormat?s.format(n,c.tooltipFormat):s.format(n,c.displayFormats.datetime)}_tickFormatFunction(n,s,c,d){let g=this.options,b=g.time.displayFormats,x=this._unit,y=this._majorUnit,k=x&&b[x],T=y&&b[y],D=c[s],R=y&&T&&D&&D.major,I=this._adapter.format(n,d||(R?T:k)),B=g.ticks.callback;return B?m(B,[I,s,c],this):I}generateTickLabels(n){let s,c,d;for(s=0,c=n.length;s<c;++s)d=n[s],d.label=this._tickFormatFunction(d.value,s,n)}getDecimalForValue(n){return n===null?NaN:(n-this.min)/(this.max-this.min)}getPixelForValue(n){let s=this._offsets,c=this.getDecimalForValue(n);return this.getPixelForDecimal((s.start+c)*s.factor)}getValueForPixel(n){let s=this._offsets,c=this.getDecimalForPixel(n)/s.factor-s.end;return this.min+c*(this.max-this.min)}_getLabelSize(n){let s=this.options.ticks,c=this.ctx.measureText(n).width,d=Mt(this.isHorizontal()?s.maxRotation:s.minRotation),g=Math.cos(d),b=Math.sin(d),x=this._resolveTickFontOptions(0).size;return{w:c*g+x*b,h:c*b+x*g}}_getLabelCapacity(n){let s=this.options.time,c=s.displayFormats,d=c[s.unit]||c.millisecond,g=this._tickFormatFunction(n,0,tf(this,[n],this._majorUnit),d),b=this._getLabelSize(g),x=Math.floor(this.isHorizontal()?this.width/b.w:this.height/b.h)-1;return x>0?x:1}getDataTimestamps(){let n=this._cache.data||[],s,c;if(n.length)return n;let d=this.getMatchingVisibleMetas();if(this._normalized&&d.length)return this._cache.data=d[0].controller.getAllParsedValues(this);for(s=0,c=d.length;s<c;++s)n=n.concat(d[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){let n=this._cache.labels||[],s,c;if(n.length)return n;let d=this.getLabels();for(s=0,c=d.length;s<c;++s)n.push(Zh(this,d[s]));return this._cache.labels=this._normalized?n:this.normalize(n)}normalize(n){return On(n.sort(S0))}}vo.id="time",vo.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function Lr(r,n,s){let c=0,d=r.length-1,g,b,x,y;s?(n>=r[c].pos&&n<=r[d].pos&&({lo:c,hi:d}=fe(r,"pos",n)),{pos:g,time:x}=r[c],{pos:b,time:y}=r[d]):(n>=r[c].time&&n<=r[d].time&&({lo:c,hi:d}=fe(r,"time",n)),{time:g,pos:x}=r[c],{time:b,pos:y}=r[d]);let k=b-g;return k?x+(y-x)*(n-g)/k:x}class bl extends vo{constructor(n){super(n),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let n=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(n);this._minPos=Lr(s,this.min),this._tableRange=Lr(s,this.max)-this._minPos,super.initOffsets(n)}buildLookupTable(n){let{min:s,max:c}=this,d=[],g=[],b,x,y,k,T;for(b=0,x=n.length;b<x;++b)k=n[b],k>=s&&k<=c&&d.push(k);if(d.length<2)return[{time:s,pos:0},{time:c,pos:1}];for(b=0,x=d.length;b<x;++b)T=d[b+1],y=d[b-1],k=d[b],Math.round((T+y)/2)!==k&&g.push({time:k,pos:b/(x-1)});return g}_getTimestampsForTable(){let n=this._cache.all||[];if(n.length)return n;let s=this.getDataTimestamps(),c=this.getLabelTimestamps();return s.length&&c.length?n=this.normalize(s.concat(c)):n=s.length?s:c,n=this._cache.all=n,n}getDecimalForValue(n){return(Lr(this._table,n)-this._minPos)/this._tableRange}getValueForPixel(n){let s=this._offsets,c=this.getDecimalForPixel(n)/s.factor-s.end;return Lr(this._table,c*this._tableRange+this._minPos,!0)}}bl.id="timeseries",bl.defaults=vo.defaults;var ef=Object.freeze({__proto__:null,CategoryScale:Ar,LinearScale:pl,LogarithmicScale:gl,RadialLinearScale:bo,TimeScale:vo,TimeSeriesScale:bl});return le.register(Ph,ef,ll,Uh),le.helpers={...zg},le._adapters=xh,le.Animation=Qu,le.Animations=Qa,le.animator=Ct,le.controllers=vn.controllers.items,le.DatasetController=rn,le.Element=an,le.elements=ll,le.Interaction=Iu,le.layouts=Le,le.platforms=Gu,le.Scale=mi,le.Ticks=fo,Object.assign(le,Ph,ef,ll,Uh,Gu),le.Chart=le,typeof window<"u"&&(window.Chart=le),le})});var yp=Rr((Sc,Rc)=>{(function(i,t){typeof Sc=="object"&&typeof Rc<"u"?Rc.exports=t(xp()):typeof define=="function"&&define.amd?define(["chart.js"],t):(i=typeof globalThis<"u"?globalThis:i||self).index=t(i.Chart)})(Sc,function(i){"use strict";var t={value:()=>{}};function e(){for(var S,z=0,Y=arguments.length,q={};z<Y;++z){if(!(S=arguments[z]+"")||S in q||/[\s.]/.test(S))throw new Error("illegal type: "+S);q[S]=[]}return new o(q)}function o(S){this._=S}function a(S,z){return S.trim().split(/^|\s+/).map(function(Y){var q="",X=Y.indexOf(".");if(X>=0&&(q=Y.slice(X+1),Y=Y.slice(0,X)),Y&&!z.hasOwnProperty(Y))throw new Error("unknown type: "+Y);return{type:Y,name:q}})}function h(S,z){for(var Y,q=0,X=S.length;q<X;++q)if((Y=S[q]).name===z)return Y.value}function p(S,z,Y){for(var q=0,X=S.length;q<X;++q)if(S[q].name===z){S[q]=t,S=S.slice(0,q).concat(S.slice(q+1));break}return Y!=null&&S.push({name:z,value:Y}),S}o.prototype=e.prototype={constructor:o,on:function(S,z){var Y,q=this._,X=a(S+"",q),Z=-1,J=X.length;if(!(arguments.length<2)){if(z!=null&&typeof z!="function")throw new Error("invalid callback: "+z);for(;++Z<J;)if(Y=(S=X[Z]).type)q[Y]=p(q[Y],S.name,z);else if(z==null)for(Y in q)q[Y]=p(q[Y],S.name,null);return this}for(;++Z<J;)if((Y=(S=X[Z]).type)&&(Y=h(q[Y],S.name)))return Y},copy:function(){var S={},z=this._;for(var Y in z)S[Y]=z[Y].slice();return new o(S)},call:function(S,z){if((Y=arguments.length-2)>0)for(var Y,q,X=new Array(Y),Z=0;Z<Y;++Z)X[Z]=arguments[Z+2];if(!this._.hasOwnProperty(S))throw new Error("unknown type: "+S);for(Z=0,Y=(q=this._[S]).length;Z<Y;++Z)q[Z].value.apply(z,X)},apply:function(S,z,Y){if(!this._.hasOwnProperty(S))throw new Error("unknown type: "+S);for(var q=this._[S],X=0,Z=q.length;X<Z;++X)q[X].value.apply(z,Y)}};var u="http://www.w3.org/1999/xhtml",l={svg:"http://www.w3.org/2000/svg",xhtml:u,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function f(S){var z=S+="",Y=z.indexOf(":");return Y>=0&&(z=S.slice(0,Y))!=="xmlns"&&(S=S.slice(Y+1)),l.hasOwnProperty(z)?{space:l[z],local:S}:S}function m(S){return function(){var z=this.ownerDocument,Y=this.namespaceURI;return Y===u&&z.documentElement.namespaceURI===u?z.createElement(S):z.createElementNS(Y,S)}}function v(S){return function(){return this.ownerDocument.createElementNS(S.space,S.local)}}function _(S){var z=f(S);return(z.local?v:m)(z)}function w(){}function P(S){return S==null?w:function(){return this.querySelector(S)}}function C(S){return S==null?[]:Array.isArray(S)?S:Array.from(S)}function M(){return[]}function O(S){return function(z){return z.matches(S)}}var A=Array.prototype.find;function L(){return this.firstElementChild}var E=Array.prototype.filter;function F(){return Array.from(this.children)}function N(S){return new Array(S.length)}function H(S,z){this.ownerDocument=S.ownerDocument,this.namespaceURI=S.namespaceURI,this._next=null,this._parent=S,this.__data__=z}function $(S){return function(){return S}}function G(S,z,Y,q,X,Z){for(var J,st=0,mt=z.length,gt=Z.length;st<gt;++st)(J=z[st])?(J.__data__=Z[st],q[st]=J):Y[st]=new H(S,Z[st]);for(;st<mt;++st)(J=z[st])&&(X[st]=J)}function tt(S,z,Y,q,X,Z,J){var st,mt,gt,xt=new Map,Nt=z.length,Et=Z.length,He=new Array(Nt);for(st=0;st<Nt;++st)(mt=z[st])&&(He[st]=gt=J.call(mt,mt.__data__,st,z)+"",xt.has(gt)?X[st]=mt:xt.set(gt,mt));for(st=0;st<Et;++st)gt=J.call(S,Z[st],st,Z)+"",(mt=xt.get(gt))?(q[st]=mt,mt.__data__=Z[st],xt.delete(gt)):Y[st]=new H(S,Z[st]);for(st=0;st<Nt;++st)(mt=z[st])&&xt.get(He[st])===mt&&(X[st]=mt)}function et(S){return S.__data__}function at(S){return typeof S=="object"&&"length"in S?S:Array.from(S)}function ct(S,z){return S<z?-1:S>z?1:S>=z?0:NaN}function rt(S){return function(){this.removeAttribute(S)}}function ot(S){return function(){this.removeAttributeNS(S.space,S.local)}}function lt(S,z){return function(){this.setAttribute(S,z)}}function bt(S,z){return function(){this.setAttributeNS(S.space,S.local,z)}}function ht(S,z){return function(){var Y=z.apply(this,arguments);Y==null?this.removeAttribute(S):this.setAttribute(S,Y)}}function kt(S,z){return function(){var Y=z.apply(this,arguments);Y==null?this.removeAttributeNS(S.space,S.local):this.setAttributeNS(S.space,S.local,Y)}}function Rt(S){return S.ownerDocument&&S.ownerDocument.defaultView||S.document&&S||S.defaultView}function Pt(S){return function(){this.style.removeProperty(S)}}function Ot(S,z,Y){return function(){this.style.setProperty(S,z,Y)}}function Gt(S,z,Y){return function(){var q=z.apply(this,arguments);q==null?this.style.removeProperty(S):this.style.setProperty(S,q,Y)}}function jt(S,z){return S.style.getPropertyValue(z)||Rt(S).getComputedStyle(S,null).getPropertyValue(z)}function It(S){return function(){delete this[S]}}function Kt(S,z){return function(){this[S]=z}}function Ve(S,z){return function(){var Y=z.apply(this,arguments);Y==null?delete this[S]:this[S]=Y}}function re(S){return S.trim().split(/^|\s+/)}function Mt(S){return S.classList||new Ae(S)}function Ae(S){this._node=S,this._names=re(S.getAttribute("class")||"")}function qe(S,z){for(var Y=Mt(S),q=-1,X=z.length;++q<X;)Y.add(z[q])}function pn(S,z){for(var Y=Mt(S),q=-1,X=z.length;++q<X;)Y.remove(z[q])}function en(S){return function(){qe(this,S)}}function Bn(S){return function(){pn(this,S)}}function he(S,z){return function(){(z.apply(this,arguments)?qe:pn)(this,S)}}function Ue(){this.textContent=""}function qt(S){return function(){this.textContent=S}}function zn(S){return function(){var z=S.apply(this,arguments);this.textContent=z??""}}function Ee(){this.innerHTML=""}function Fe(S){return function(){this.innerHTML=S}}function fe(S){return function(){var z=S.apply(this,arguments);this.innerHTML=z??""}}function Pn(){this.nextSibling&&this.parentNode.appendChild(this)}function nn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Cn(){return null}function Nn(){var S=this.parentNode;S&&S.removeChild(this)}function Mn(){var S=this.cloneNode(!1),z=this.parentNode;return z?z.insertBefore(S,this.nextSibling):S}function On(){var S=this.cloneNode(!0),z=this.parentNode;return z?z.insertBefore(S,this.nextSibling):S}function ii(S){return S.trim().split(/^|\s+/).map(function(z){var Y="",q=z.indexOf(".");return q>=0&&(Y=z.slice(q+1),z=z.slice(0,q)),{type:z,name:Y}})}function Li(S){return function(){var z=this.__on;if(z){for(var Y,q=0,X=-1,Z=z.length;q<Z;++q)Y=z[q],S.type&&Y.type!==S.type||Y.name!==S.name?z[++X]=Y:this.removeEventListener(Y.type,Y.listener,Y.options);++X?z.length=X:delete this.__on}}}function Si(S,z,Y){return function(){var q,X=this.__on,Z=function(mt){return function(gt){mt.call(this,gt,this.__data__)}}(z);if(X){for(var J=0,st=X.length;J<st;++J)if((q=X[J]).type===S.type&&q.name===S.name)return this.removeEventListener(q.type,q.listener,q.options),this.addEventListener(q.type,q.listener=Z,q.options=Y),void(q.value=z)}this.addEventListener(S.type,Z,Y),q={type:S.type,name:S.name,value:z,listener:Z,options:Y},X?X.push(q):this.__on=[q]}}function Ri(S,z,Y){var q=Rt(S),X=q.CustomEvent;typeof X=="function"?X=new X(z,Y):(X=q.document.createEvent("Event"),Y?(X.initEvent(z,Y.bubbles,Y.cancelable),X.detail=Y.detail):X.initEvent(z,!1,!1)),S.dispatchEvent(X)}function si(S,z){return function(){return Ri(this,S,z)}}function de(S,z){return function(){return Ri(this,S,z.apply(this,arguments))}}H.prototype={constructor:H,appendChild:function(S){return this._parent.insertBefore(S,this._next)},insertBefore:function(S,z){return this._parent.insertBefore(S,z)},querySelector:function(S){return this._parent.querySelector(S)},querySelectorAll:function(S){return this._parent.querySelectorAll(S)}},Ae.prototype={add:function(S){this._names.indexOf(S)<0&&(this._names.push(S),this._node.setAttribute("class",this._names.join(" ")))},remove:function(S){var z=this._names.indexOf(S);z>=0&&(this._names.splice(z,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(S){return this._names.indexOf(S)>=0}};var K=[null];function ut(S,z){this._groups=S,this._parents=z}function _t(S){return typeof S=="string"?new ut([[document.querySelector(S)]],[document.documentElement]):new ut([[S]],K)}function Bt(S,z){if(S=function(Z){let J;for(;J=Z.sourceEvent;)Z=J;return Z}(S),z===void 0&&(z=S.currentTarget),z){var Y=z.ownerSVGElement||z;if(Y.createSVGPoint){var q=Y.createSVGPoint();return q.x=S.clientX,q.y=S.clientY,[(q=q.matrixTransform(z.getScreenCTM().inverse())).x,q.y]}if(z.getBoundingClientRect){var X=z.getBoundingClientRect();return[S.clientX-X.left-z.clientLeft,S.clientY-X.top-z.clientTop]}}return[S.pageX,S.pageY]}ut.prototype={constructor:ut,select:function(S){typeof S!="function"&&(S=P(S));for(var z=this._groups,Y=z.length,q=new Array(Y),X=0;X<Y;++X)for(var Z,J,st=z[X],mt=st.length,gt=q[X]=new Array(mt),xt=0;xt<mt;++xt)(Z=st[xt])&&(J=S.call(Z,Z.__data__,xt,st))&&("__data__"in Z&&(J.__data__=Z.__data__),gt[xt]=J);return new ut(q,this._parents)},selectAll:function(S){S=typeof S=="function"?function(xt){return function(){return C(xt.apply(this,arguments))}}(S):function(xt){return xt==null?M:function(){return this.querySelectorAll(xt)}}(S);for(var z=this._groups,Y=z.length,q=[],X=[],Z=0;Z<Y;++Z)for(var J,st=z[Z],mt=st.length,gt=0;gt<mt;++gt)(J=st[gt])&&(q.push(S.call(J,J.__data__,gt,st)),X.push(J));return new ut(q,X)},selectChild:function(S){return this.select(S==null?L:function(z){return function(){return A.call(this.children,z)}}(typeof S=="function"?S:O(S)))},selectChildren:function(S){return this.selectAll(S==null?F:function(z){return function(){return E.call(this.children,z)}}(typeof S=="function"?S:O(S)))},filter:function(S){typeof S!="function"&&(S=function(xt){return function(){return this.matches(xt)}}(S));for(var z=this._groups,Y=z.length,q=new Array(Y),X=0;X<Y;++X)for(var Z,J=z[X],st=J.length,mt=q[X]=[],gt=0;gt<st;++gt)(Z=J[gt])&&S.call(Z,Z.__data__,gt,J)&&mt.push(Z);return new ut(q,this._parents)},data:function(S,z){if(!arguments.length)return Array.from(this,et);var Y=z?tt:G,q=this._parents,X=this._groups;typeof S!="function"&&(S=$(S));for(var Z=X.length,J=new Array(Z),st=new Array(Z),mt=new Array(Z),gt=0;gt<Z;++gt){var xt=q[gt],Nt=X[gt],Et=Nt.length,He=at(S.call(xt,xt&&xt.__data__,gt,q)),ae=He.length,Bi=st[gt]=new Array(ae),zi=J[gt]=new Array(ae),eo=mt[gt]=new Array(Et);Y(xt,Nt,Bi,zi,eo,He,z);for(var Hn,li,pt=0,Lt=0;pt<ae;++pt)if(Hn=Bi[pt]){for(pt>=Lt&&(Lt=pt+1);!(li=zi[Lt])&&++Lt<ae;);Hn._next=li||null}}return(J=new ut(J,q))._enter=st,J._exit=mt,J},enter:function(){return new ut(this._enter||this._groups.map(N),this._parents)},exit:function(){return new ut(this._exit||this._groups.map(N),this._parents)},join:function(S,z,Y){var q=this.enter(),X=this,Z=this.exit();return typeof S=="function"?(q=S(q))&&(q=q.selection()):q=q.append(S+""),z!=null&&(X=z(X))&&(X=X.selection()),Y==null?Z.remove():Y(Z),q&&X?q.merge(X).order():X},merge:function(S){for(var z=S.selection?S.selection():S,Y=this._groups,q=z._groups,X=Y.length,Z=q.length,J=Math.min(X,Z),st=new Array(X),mt=0;mt<J;++mt)for(var gt,xt=Y[mt],Nt=q[mt],Et=xt.length,He=st[mt]=new Array(Et),ae=0;ae<Et;++ae)(gt=xt[ae]||Nt[ae])&&(He[ae]=gt);for(;mt<X;++mt)st[mt]=Y[mt];return new ut(st,this._parents)},selection:function(){return this},order:function(){for(var S=this._groups,z=-1,Y=S.length;++z<Y;)for(var q,X=S[z],Z=X.length-1,J=X[Z];--Z>=0;)(q=X[Z])&&(J&&4^q.compareDocumentPosition(J)&&J.parentNode.insertBefore(q,J),J=q);return this},sort:function(S){function z(Nt,Et){return Nt&&Et?S(Nt.__data__,Et.__data__):!Nt-!Et}S||(S=ct);for(var Y=this._groups,q=Y.length,X=new Array(q),Z=0;Z<q;++Z){for(var J,st=Y[Z],mt=st.length,gt=X[Z]=new Array(mt),xt=0;xt<mt;++xt)(J=st[xt])&&(gt[xt]=J);gt.sort(z)}return new ut(X,this._parents).order()},call:function(){var S=arguments[0];return arguments[0]=this,S.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var S=this._groups,z=0,Y=S.length;z<Y;++z)for(var q=S[z],X=0,Z=q.length;X<Z;++X){var J=q[X];if(J)return J}return null},size:function(){let S=0;for(let z of this)++S;return S},empty:function(){return!this.node()},each:function(S){for(var z=this._groups,Y=0,q=z.length;Y<q;++Y)for(var X,Z=z[Y],J=0,st=Z.length;J<st;++J)(X=Z[J])&&S.call(X,X.__data__,J,Z);return this},attr:function(S,z){var Y=f(S);if(arguments.length<2){var q=this.node();return Y.local?q.getAttributeNS(Y.space,Y.local):q.getAttribute(Y)}return this.each((z==null?Y.local?ot:rt:typeof z=="function"?Y.local?kt:ht:Y.local?bt:lt)(Y,z))},style:function(S,z,Y){return arguments.length>1?this.each((z==null?Pt:typeof z=="function"?Gt:Ot)(S,z,Y??"")):jt(this.node(),S)},property:function(S,z){return arguments.length>1?this.each((z==null?It:typeof z=="function"?Ve:Kt)(S,z)):this.node()[S]},classed:function(S,z){var Y=re(S+"");if(arguments.length<2){for(var q=Mt(this.node()),X=-1,Z=Y.length;++X<Z;)if(!q.contains(Y[X]))return!1;return!0}return this.each((typeof z=="function"?he:z?en:Bn)(Y,z))},text:function(S){return arguments.length?this.each(S==null?Ue:(typeof S=="function"?zn:qt)(S)):this.node().textContent},html:function(S){return arguments.length?this.each(S==null?Ee:(typeof S=="function"?fe:Fe)(S)):this.node().innerHTML},raise:function(){return this.each(Pn)},lower:function(){return this.each(nn)},append:function(S){var z=typeof S=="function"?S:_(S);return this.select(function(){return this.appendChild(z.apply(this,arguments))})},insert:function(S,z){var Y=typeof S=="function"?S:_(S),q=z==null?Cn:typeof z=="function"?z:P(z);return this.select(function(){return this.insertBefore(Y.apply(this,arguments),q.apply(this,arguments)||null)})},remove:function(){return this.each(Nn)},clone:function(S){return this.select(S?On:Mn)},datum:function(S){return arguments.length?this.property("__data__",S):this.node().__data__},on:function(S,z,Y){var q,X,Z=ii(S+""),J=Z.length;if(!(arguments.length<2)){for(st=z?Si:Li,q=0;q<J;++q)this.each(st(Z[q],z,Y));return this}var st=this.node().__on;if(st){for(var mt,gt=0,xt=st.length;gt<xt;++gt)for(q=0,mt=st[gt];q<J;++q)if((X=Z[q]).type===mt.type&&X.name===mt.name)return mt.value}},dispatch:function(S,z){return this.each((typeof z=="function"?de:si)(S,z))},[Symbol.iterator]:function*(){for(var S=this._groups,z=0,Y=S.length;z<Y;++z)for(var q,X=S[z],Z=0,J=X.length;Z<J;++Z)(q=X[Z])&&(yield q)}};let Ct={passive:!1},Ut={capture:!0,passive:!1};function te(S){S.stopImmediatePropagation()}function we(S){S.preventDefault(),S.stopImmediatePropagation()}var Be=S=>()=>S;function pe(S,{sourceEvent:z,subject:Y,target:q,identifier:X,active:Z,x:J,y:st,dx:mt,dy:gt,dispatch:xt}){Object.defineProperties(this,{type:{value:S,enumerable:!0,configurable:!0},sourceEvent:{value:z,enumerable:!0,configurable:!0},subject:{value:Y,enumerable:!0,configurable:!0},target:{value:q,enumerable:!0,configurable:!0},identifier:{value:X,enumerable:!0,configurable:!0},active:{value:Z,enumerable:!0,configurable:!0},x:{value:J,enumerable:!0,configurable:!0},y:{value:st,enumerable:!0,configurable:!0},dx:{value:mt,enumerable:!0,configurable:!0},dy:{value:gt,enumerable:!0,configurable:!0},_:{value:xt}})}function oi(S){return!S.ctrlKey&&!S.button}function ke(){return this.parentNode}function sn(S,z){return z??{x:S.x,y:S.y}}function Zs(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ii(){var S,z,Y,q,X=oi,Z=ke,J=sn,st=Zs,mt={},gt=e("start","drag","end"),xt=0,Nt=0;function Et(pt){pt.on("mousedown.drag",He).filter(st).on("touchstart.drag",zi).on("touchmove.drag",eo,Ct).on("touchend.drag touchcancel.drag",Hn).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function He(pt,Lt){if(!q&&X.call(this,pt,Lt)){var Yt=li(this,Z.call(this,pt,Lt),pt,Lt,"mouse");Yt&&(_t(pt.view).on("mousemove.drag",ae,Ut).on("mouseup.drag",Bi,Ut),function($t){var Qt=$t.document.documentElement,mn=_t($t).on("dragstart.drag",we,Ut);"onselectstart"in Qt?mn.on("selectstart.drag",we,Ut):(Qt.__noselect=Qt.style.MozUserSelect,Qt.style.MozUserSelect="none")}(pt.view),te(pt),Y=!1,S=pt.clientX,z=pt.clientY,Yt("start",pt))}}function ae(pt){if(we(pt),!Y){var Lt=pt.clientX-S,Yt=pt.clientY-z;Y=Lt*Lt+Yt*Yt>Nt}mt.mouse("drag",pt)}function Bi(pt){_t(pt.view).on("mousemove.drag mouseup.drag",null),function(Lt,Yt){var $t=Lt.document.documentElement,Qt=_t(Lt).on("dragstart.drag",null);Yt&&(Qt.on("click.drag",we,Ut),setTimeout(function(){Qt.on("click.drag",null)},0)),"onselectstart"in $t?Qt.on("selectstart.drag",null):($t.style.MozUserSelect=$t.__noselect,delete $t.__noselect)}(pt.view,Y),we(pt),mt.mouse("end",pt)}function zi(pt,Lt){if(X.call(this,pt,Lt)){var Yt,$t,Qt=pt.changedTouches,mn=Z.call(this,pt,Lt),ci=Qt.length;for(Yt=0;Yt<ci;++Yt)($t=li(this,mn,pt,Lt,Qt[Yt].identifier,Qt[Yt]))&&(te(pt),$t("start",pt,Qt[Yt]))}}function eo(pt){var Lt,Yt,$t=pt.changedTouches,Qt=$t.length;for(Lt=0;Lt<Qt;++Lt)(Yt=mt[$t[Lt].identifier])&&(we(pt),Yt("drag",pt,$t[Lt]))}function Hn(pt){var Lt,Yt,$t=pt.changedTouches,Qt=$t.length;for(q&&clearTimeout(q),q=setTimeout(function(){q=null},500),Lt=0;Lt<Qt;++Lt)(Yt=mt[$t[Lt].identifier])&&(te(pt),Yt("end",pt,$t[Lt]))}function li(pt,Lt,Yt,$t,Qt,mn){var ci,sr,Dt,Ni=gt.copy(),We=Bt(mn||Yt,Lt);if((Dt=J.call(pt,new pe("beforestart",{sourceEvent:Yt,target:Et,identifier:Qt,active:xt,x:We[0],y:We[1],dx:0,dy:0,dispatch:Ni}),$t))!=null)return ci=Dt.x-We[0]||0,sr=Dt.y-We[1]||0,function hs(ui,no,Da){var bn,or=We;switch(ui){case"start":mt[Qt]=hs,bn=xt++;break;case"end":delete mt[Qt],--xt;case"drag":We=Bt(Da||no,Lt),bn=xt}Ni.call(ui,pt,new pe(ui,{sourceEvent:no,subject:Dt,target:Et,identifier:Qt,active:bn,x:We[0]+ci,y:We[1]+sr,dx:We[0]-or[0],dy:We[1]-or[1],dispatch:Ni}),$t)}}return Et.filter=function(pt){return arguments.length?(X=typeof pt=="function"?pt:Be(!!pt),Et):X},Et.container=function(pt){return arguments.length?(Z=typeof pt=="function"?pt:Be(pt),Et):Z},Et.subject=function(pt){return arguments.length?(J=typeof pt=="function"?pt:Be(pt),Et):J},Et.touchable=function(pt){return arguments.length?(st=typeof pt=="function"?pt:Be(!!pt),Et):st},Et.on=function(){var pt=gt.on.apply(gt,arguments);return pt===gt?Et:pt},Et.clickDistance=function(pt){return arguments.length?(Nt=(pt=+pt)*pt,Et):Math.sqrt(Nt)},Et}let ne,gn,on,Tn,cs,nr,Js,ir,ri,Vn,us;pe.prototype.on=function(){var S=this._.on.apply(this._,arguments);return S===this._?this:S};let Fi=!1;function ai(S,z){return isNaN(z)?S:Math.round(S*Math.pow(10,z))/Math.pow(10,z)}function js(S,z,Y,q,X){let Z,J,st=z.data.datasets[Y].data[q];if(S.touches?(Z=z.scales[on].getValueForPixel(S.touches[0].clientX-z.canvas.getBoundingClientRect().left),J=z.scales[gn].getValueForPixel(S.touches[0].clientY-z.canvas.getBoundingClientRect().top)):(Z=z.scales[on].getValueForPixel(S.clientX-z.canvas.getBoundingClientRect().left),J=z.scales[gn].getValueForPixel(S.clientY-z.canvas.getBoundingClientRect().top)),Z=ai(Z,z.config.options.plugins.dragData.round),J=ai(J,z.config.options.plugins.dragData.round),Z=Z>z.scales[on].max?z.scales[on].max:Z,Z=Z<z.scales[on].min?z.scales[on].min:Z,J=J>z.scales[gn].max?z.scales[gn].max:J,J=J<z.scales[gn].min?z.scales[gn].min:J,Js){let mt;return mt=z.config.options.indexAxis==="y"?Z:J,Math.abs(mt-st[0])<=Math.abs(mt-st[1])?[mt,st[1]]:[st[0],mt]}return st.x!==void 0&&z.config.options.plugins.dragData.dragX&&(st.x=Z),st.y!==void 0?(z.config.options.plugins.dragData.dragY!==!1&&(st.y=J),st):z.config.options.indexAxis==="y"?Z:J}let Ea=(S,z,Y,q)=>{if(ne){ri=ne.datasetIndex,Vn=ne.index,Fi=!0;let X=z.data.datasets[ri].data[Vn];cs==="radar"||cs==="polarArea"?X=function(Z,J){let st,mt,gt;Z.touches?(st=Z.touches[0].clientX-J.canvas.getBoundingClientRect().left,mt=Z.touches[0].clientY-J.canvas.getBoundingClientRect().top):(st=Z.clientX-J.canvas.getBoundingClientRect().left,mt=Z.clientY-J.canvas.getBoundingClientRect().top);let xt=J.scales[Tn],Nt=Math.sqrt(Math.pow(st-xt.xCenter,2)+Math.pow(mt-xt.yCenter,2)),Et=xt.drawingArea/(xt.max-xt.min);return gt=xt.options.ticks.reverse?xt.max-Nt/Et:xt.min+Nt/Et,gt=ai(gt,J.config.options.plugins.dragData.round),gt=gt>J.scales[Tn].max?J.scales[Tn].max:gt,gt=gt<J.scales[Tn].min?J.scales[Tn].min:gt,gt}(S,z):nr?X=ai(js(S,z,ri,Vn)-ir,Y.round):X=js(S,z,ri,Vn),(!q||typeof q=="function"&&q(S,ri,Vn,X)!==!1)&&(z.data.datasets[ri].data[Vn]=X,z.update("none"))}},to={id:"dragdata",afterInit:function(S){if(S.config.options.plugins&&S.config.options.plugins.dragData){let z=S.config.options.plugins.dragData;_t(S.canvas).call(Ii().container(S.canvas).on("start",Y=>((q,X,Z)=>{if(ne=X.getElementsAtEventForMode(q,"nearest",{intersect:!0},!1)[0],cs=X.config.type,ne){let J=ne.datasetIndex,st=ne.index;us=function(Nt){try{return Nt()}catch{return""}}(()=>X.config.options.plugins.tooltip.animation);let mt=X.data.datasets[J],gt=X.getDatasetMeta(J),xt=mt.data[st];if(on=gt.xAxisID,gn=gt.yAxisID,Tn=gt.rAxisID,mt.dragData===!1||X.config.options.scales[on]&&X.config.options.scales[on].dragData===!1||X.config.options.scales[gn]&&X.config.options.scales[gn].dragData===!1||X.config.options.scales[Tn]&&X.config.options.scales[Tn].rAxisID===!1||mt.data[ne.index].dragData===!1)return void(ne=null);if(cs==="bar"){nr=X.config.options.scales[on].stacked;let Nt=X.data.datasets[0].data[0];Js=Nt!==null&&Array.isArray(Nt)&&Nt.length==2,ir=js(q,X,J,st)-xt}(X.config.options.plugins.dragData.showTooltip===void 0||X.config.options.plugins.dragData.showTooltip)&&(X.config.options.plugins.tooltip||(X.config.options.plugins.tooltip={}),X.config.options.plugins.tooltip.animation=!1),typeof Z=="function"&&ne&&Z(q,J,st,xt)===!1&&(ne=null)}})(Y.sourceEvent,S,z.onDragStart)).on("drag",Y=>Ea(Y.sourceEvent,S,z,z.onDrag)).on("end",Y=>((q,X,Z)=>{if(Vn=void 0,Fi=!1,X.config.options.plugins.tooltip&&(X.config.options.plugins.tooltip.animation=us,X.update("none")),typeof Z=="function"&&ne){let J=ne.datasetIndex,st=ne.index,mt=function(gt,xt,Nt){let Et=gt.config.options.plugins.dragData;if(!Et.magnet)return gt.data.datasets[xt].data[Nt];{let He=Et.magnet;if(He.to&&typeof He.to=="function"){let ae=gt.data.datasets[xt].data[Nt];return ae=He.to(ae),gt.data.datasets[xt].data[Nt]=ae,gt.update("none"),ae}}}(X,J,st);return Z(q,J,st,mt)}})(Y.sourceEvent,S,z.onDragEnd)))}},beforeEvent:function(S){if(Fi)return S.tooltip&&S.tooltip.update(),!1}};return i.Chart.register(to),to})});var rf=kl(of(),1),{jStat:Yn}=rf.default;var ze=.75,Y0=6,Ir=[{name:"TT",guestsAverage:120,guestsCV:.28,wastePerGuestAverage:59.07/ze,wastePerGuestCV:.403,dinerPerGuestProbability:ze},{name:"CHT",guestsAverage:165,guestsCV:.433,wastePerGuestAverage:45.78/ze,wastePerGuestCV:.4089,dinerPerGuestProbability:ze},{name:"QHRS",guestsAverage:150,guestsCV:.5,wastePerGuestAverage:16.08/ze,wastePerGuestCV:.4,dinerPerGuestProbability:ze},{name:"CHUb",guestsAverage:100,guestsCV:.36,wastePerGuestAverage:54.81/ze,wastePerGuestCV:.3,dinerPerGuestProbability:ze},{name:"QAHS",guestsAverage:130,guestsCV:.5,wastePerGuestAverage:31.76/ze,wastePerGuestCV:.4,dinerPerGuestProbability:ze},{name:"CCHT",guestsAverage:100,guestsCV:.49,wastePerGuestAverage:54.67/ze,wastePerGuestCV:.48,dinerPerGuestProbability:ze},{name:"CHCT",guestsAverage:350,guestsCV:.4,wastePerGuestAverage:23.05/ze,wastePerGuestCV:.8515,dinerPerGuestProbability:ze},{name:"CHCOA",guestsAverage:250,guestsCV:.7,wastePerGuestAverage:46.8/ze,wastePerGuestCV:.1,dinerPerGuestProbability:ze}];var ws=[{name:"Control",trueEffectMean:0,trueEffectCV:0,index:0},{name:"Simple Message",trueEffectMean:-.2,trueEffectCV:.1,index:1},{name:"Social Norms Message",trueEffectMean:-.15,trueEffectCV:.01,index:2},{name:"Weak Message",trueEffectMean:-.02,trueEffectCV:.1,index:3}];for(let i=0;i<ws.length;i++)ws[i].index=i;function af(i,t,e,o){return e[Math.floor(Yn.uniform.sample(0,e.length))]}function q0(i,t,e,o){if(t<o.experimentDurationInDays/2)return e[0];{let a=o.hotelIndices[i.name]%e.length;return e[a]}}function U0(i,t,e,o){let a=o.experimentDurationInDays/e.length;return e[Math.floor(t/a)]}var Fr=[{prettyName:"Random Assignment",assignmentStrategy:af,description:"Each day, each hotel randomly picks an experiment"},{prettyName:"Sequential Assignment",assignmentStrategy:U0,description:"All hotels use the same experiment/message for a fixed period of time and then move to the next experiment"},{prettyName:"Diff in Diff Assignment",assignmentStrategy:q0,description:"All hotels start in the control group; after half of the total experiment time passes, some hotels are assigned to experimental groups until time runs out"}];function X0(i,t,e,o,a=1){let h=Math.max(0,Math.floor(Yn.normal.sample(i.guestsAverage*a,i.guestsAverage*a*i.guestsCV))),p=0;for(let l=0;l<h;l++)Yn.uniform.sample(0,1)<i.dinerPerGuestProbability&&(p+=1);console.assert(p>=0);let u=0;for(let l=0;l<p;l++){let f;o.trueEffectCV==0?f=1+o.trueEffectMean:f=Math.max(0,1+Yn.normal(o.trueEffectMean,o.trueEffectCV*o.trueEffectMean).sample());let m=i.wastePerGuestCV>0?Yn.normal.sample(i.wastePerGuestAverage,i.wastePerGuestCV*i.wastePerGuestAverage):i.wastePerGuestAverage;u+=Math.max(m,0)*f}return console.assert(u>=0),{date:t,guests:h,hotel:i,meal:e,stimulus:o,totalFoodWasteObserved:u}}function Cl(i=Y0,t=Ir,e=af,o=ws,a=null,h=0){let p=[],u=i*7,l={experimentDurationInDays:u,hotelList:t,hotelIndices:{}};for(let f=0;f<t.length;f++)l.hotelIndices[t[f].name]=f;for(let f=0;f<u;f++)for(let m of t){let v=e(m,f,o,l);Yn.uniform.sample(0,1)>h&&p.push(X0(m,f,"BREAKFAST",v,a===null?1:a[Math.floor(f/7)]))}return p}function G0(i,t,e,o){let a=Ml(t,i);var h=[],p=[];for(let l of i){let f=Array(t.length+1).fill(0);f[t.length]=l.guests,f[0]=1,f[l.stimulus.index]=1,h.push(f),p.push(l.totalFoodWasteObserved)}let u=Yn.models.ols(p,h);return{averages:a,effects:u.coef,p_values:u.t.p,observations:i}}function K0(i,t,e,o){let a=Ml(t,i);var h=[],p=[];for(let l of i){let f=Array(t.length+1+(e.length-1)).fill(0);f[t.length]=l.guests,f[0]=1,f[l.stimulus.index]=1;let m=o[l.hotel.name];m>0&&(f[t.length+m]=1),h.push(f),p.push(l.totalFoodWasteObserved)}let u=Yn.models.ols(p,h);return{averages:a,effects:u.coef,p_values:u.t.p,observations:i}}function Q0(i,t,e,o){let a=Ml(t,i);var h=[],p=[];for(let l of i){let f=Array(t.length).fill(0);f[0]=1,f[l.stimulus.index]=1,h.push(f),p.push(l.totalFoodWasteObserved)}let u=Yn.models.ols(p,h);return{averages:a,effects:u.coef,p_values:u.t.p,observations:i}}var Br=[{prettyName:"Linear Regression",analysisMethod:G0,description:"Ordinary least squares controlling for number of guests"},{prettyName:"Linear Regression + Hotel Controls",analysisMethod:K0,description:"Ordinary least squares controlling for number of guests and each hotel is a random intercept"},{prettyName:"T-test",analysisMethod:Q0,description:"Pure hypothesis test on averages"}];function Ml(i,t){let e={};for(let a of i)e[a.name]=[];for(let a of t)e[a.stimulus.name].push(a.totalFoodWasteObserved);let o={};for(let a of i){let h=e[a.name];o[a.name]=h.reduce((p,u)=>p+u,0)/h.length}return o}var lg=kl(lf(),1);function _o(i){return i+.5|0}var yi=(i,t,e)=>Math.max(Math.min(i,e),t);function yo(i){return yi(_o(i*2.55),0,255)}function _i(i){return yi(_o(i*255),0,255)}function qn(i){return yi(_o(i/2.55)/100,0,1)}function cf(i){return yi(_o(i*100),0,100)}var ln={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Al=[..."0123456789ABCDEF"],Z0=i=>Al[i&15],J0=i=>Al[(i&240)>>4]+Al[i&15],zr=i=>(i&240)>>4===(i&15),j0=i=>zr(i.r)&&zr(i.g)&&zr(i.b)&&zr(i.a);function tv(i){var t=i.length,e;return i[0]==="#"&&(t===4||t===5?e={r:255&ln[i[1]]*17,g:255&ln[i[2]]*17,b:255&ln[i[3]]*17,a:t===5?ln[i[4]]*17:255}:(t===7||t===9)&&(e={r:ln[i[1]]<<4|ln[i[2]],g:ln[i[3]]<<4|ln[i[4]],b:ln[i[5]]<<4|ln[i[6]],a:t===9?ln[i[7]]<<4|ln[i[8]]:255})),e}var ev=(i,t)=>i<255?t(i):"";function nv(i){var t=j0(i)?Z0:J0;return i?"#"+t(i.r)+t(i.g)+t(i.b)+ev(i.a,t):void 0}var iv=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function df(i,t,e){let o=t*Math.min(e,1-e),a=(h,p=(h+i/30)%12)=>e-o*Math.max(Math.min(p-3,9-p,1),-1);return[a(0),a(8),a(4)]}function sv(i,t,e){let o=(a,h=(a+i/60)%6)=>e-e*t*Math.max(Math.min(h,4-h,1),0);return[o(5),o(3),o(1)]}function ov(i,t,e){let o=df(i,1,.5),a;for(t+e>1&&(a=1/(t+e),t*=a,e*=a),a=0;a<3;a++)o[a]*=1-t-e,o[a]+=t;return o}function rv(i,t,e,o,a){return i===a?(t-e)/o+(t<e?6:0):t===a?(e-i)/o+2:(i-t)/o+4}function El(i){let e=i.r/255,o=i.g/255,a=i.b/255,h=Math.max(e,o,a),p=Math.min(e,o,a),u=(h+p)/2,l,f,m;return h!==p&&(m=h-p,f=u>.5?m/(2-h-p):m/(h+p),l=rv(e,o,a,m,h),l=l*60+.5),[l|0,f||0,u]}function Dl(i,t,e,o){return(Array.isArray(t)?i(t[0],t[1],t[2]):i(t,e,o)).map(_i)}function Ll(i,t,e){return Dl(df,i,t,e)}function av(i,t,e){return Dl(ov,i,t,e)}function lv(i,t,e){return Dl(sv,i,t,e)}function pf(i){return(i%360+360)%360}function cv(i){let t=iv.exec(i),e=255,o;if(!t)return;t[5]!==o&&(e=t[6]?yo(+t[5]):_i(+t[5]));let a=pf(+t[2]),h=+t[3]/100,p=+t[4]/100;return t[1]==="hwb"?o=av(a,h,p):t[1]==="hsv"?o=lv(a,h,p):o=Ll(a,h,p),{r:o[0],g:o[1],b:o[2],a:e}}function uv(i,t){var e=El(i);e[0]=pf(e[0]+t),e=Ll(e),i.r=e[0],i.g=e[1],i.b=e[2]}function hv(i){if(!i)return;let t=El(i),e=t[0],o=cf(t[1]),a=cf(t[2]);return i.a<255?`hsla(${e}, ${o}%, ${a}%, ${qn(i.a)})`:`hsl(${e}, ${o}%, ${a}%)`}var uf={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},hf={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function fv(){let i={},t=Object.keys(hf),e=Object.keys(uf),o,a,h,p,u;for(o=0;o<t.length;o++){for(p=u=t[o],a=0;a<e.length;a++)h=e[a],u=u.replace(h,uf[h]);h=parseInt(hf[p],16),i[u]=[h>>16&255,h>>8&255,h&255]}return i}var Nr;function dv(i){Nr||(Nr=fv(),Nr.transparent=[0,0,0,0]);let t=Nr[i.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}var pv=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function gv(i){let t=pv.exec(i),e=255,o,a,h;if(t){if(t[7]!==o){let p=+t[7];e=t[8]?yo(p):yi(p*255,0,255)}return o=+t[1],a=+t[3],h=+t[5],o=255&(t[2]?yo(o):yi(o,0,255)),a=255&(t[4]?yo(a):yi(a,0,255)),h=255&(t[6]?yo(h):yi(h,0,255)),{r:o,g:a,b:h,a:e}}}function mv(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${qn(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}var Tl=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,ks=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function bv(i,t,e){let o=ks(qn(i.r)),a=ks(qn(i.g)),h=ks(qn(i.b));return{r:_i(Tl(o+e*(ks(qn(t.r))-o))),g:_i(Tl(a+e*(ks(qn(t.g))-a))),b:_i(Tl(h+e*(ks(qn(t.b))-h))),a:i.a+e*(t.a-i.a)}}function Vr(i,t,e){if(i){let o=El(i);o[t]=Math.max(0,Math.min(o[t]+o[t]*e,t===0?360:1)),o=Ll(o),i.r=o[0],i.g=o[1],i.b=o[2]}}function gf(i,t){return i&&Object.assign(t||{},i)}function ff(i){var t={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(t={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(t.a=_i(i[3]))):(t=gf(i,{r:0,g:0,b:0,a:1}),t.a=_i(t.a)),t}function vv(i){return i.charAt(0)==="r"?gv(i):cv(i)}var wi=class{constructor(t){if(t instanceof wi)return t;let e=typeof t,o;e==="object"?o=ff(t):e==="string"&&(o=tv(t)||dv(t)||vv(t)),this._rgb=o,this._valid=!!o}get valid(){return this._valid}get rgb(){var t=gf(this._rgb);return t&&(t.a=qn(t.a)),t}set rgb(t){this._rgb=ff(t)}rgbString(){return this._valid?mv(this._rgb):void 0}hexString(){return this._valid?nv(this._rgb):void 0}hslString(){return this._valid?hv(this._rgb):void 0}mix(t,e){if(t){let o=this.rgb,a=t.rgb,h,p=e===h?.5:e,u=2*p-1,l=o.a-a.a,f=((u*l===-1?u:(u+l)/(1+u*l))+1)/2;h=1-f,o.r=255&f*o.r+h*a.r+.5,o.g=255&f*o.g+h*a.g+.5,o.b=255&f*o.b+h*a.b+.5,o.a=p*o.a+(1-p)*a.a,this.rgb=o}return this}interpolate(t,e){return t&&(this._rgb=bv(this._rgb,t._rgb,e)),this}clone(){return new wi(this.rgb)}alpha(t){return this._rgb.a=_i(t),this}clearer(t){let e=this._rgb;return e.a*=1-t,this}greyscale(){let t=this._rgb,e=_o(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){let e=this._rgb;return e.a*=1+t,this}negate(){let t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Vr(this._rgb,2,t),this}darken(t){return Vr(this._rgb,2,-t),this}saturate(t){return Vr(this._rgb,1,t),this}desaturate(t){return Vr(this._rgb,1,-t),this}rotate(t){return uv(this._rgb,t),this}};function Dn(){}var Mf=(()=>{let i=0;return()=>i++})();function zt(i){return i===null||typeof i>"u"}function Zt(i){if(Array.isArray&&Array.isArray(i))return!0;let t=Object.prototype.toString.call(i);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function St(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function se(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function Ke(i,t){return se(i)?i:t}function Tt(i,t){return typeof i>"u"?t:i}var Of=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/t,Fl=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*t:+i;function Xt(i,t,e){if(i&&typeof i.call=="function")return i.apply(e,t)}function Wt(i,t,e,o){let a,h,p;if(Zt(i))if(h=i.length,o)for(a=h-1;a>=0;a--)t.call(e,i[a],a);else for(a=0;a<h;a++)t.call(e,i[a],a);else if(St(i))for(p=Object.keys(i),h=p.length,a=0;a<h;a++)t.call(e,i[p[a]],p[a])}function Po(i,t){let e,o,a,h;if(!i||!t||i.length!==t.length)return!1;for(e=0,o=i.length;e<o;++e)if(a=i[e],h=t[e],a.datasetIndex!==h.datasetIndex||a.index!==h.index)return!1;return!0}function Yr(i){if(Zt(i))return i.map(Yr);if(St(i)){let t=Object.create(null),e=Object.keys(i),o=e.length,a=0;for(;a<o;++a)t[e[a]]=Yr(i[e[a]]);return t}return i}function Tf(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function xv(i,t,e,o){if(!Tf(i))return;let a=t[i],h=e[i];St(a)&&St(h)?Cs(a,h,o):t[i]=Yr(h)}function Cs(i,t,e){let o=Zt(t)?t:[t],a=o.length;if(!St(i))return i;e=e||{};let h=e.merger||xv,p;for(let u=0;u<a;++u){if(p=o[u],!St(p))continue;let l=Object.keys(p);for(let f=0,m=l.length;f<m;++f)h(l[f],i,p,e)}return i}function Ts(i,t){return Cs(i,t,{merger:yv})}function yv(i,t,e){if(!Tf(i))return;let o=t[i],a=e[i];St(o)&&St(a)?Ts(o,a):Object.prototype.hasOwnProperty.call(t,i)||(t[i]=Yr(a))}var mf={"":i=>i,x:i=>i.x,y:i=>i.y};function _v(i){let t=i.split("."),e=[],o="";for(let a of t)o+=a,o.endsWith("\\")?o=o.slice(0,-1)+".":(e.push(o),o="");return e}function wv(i){let t=_v(i);return e=>{for(let o of t){if(o==="")break;e=e&&e[o]}return e}}function Gn(i,t){return(mf[t]||(mf[t]=wv(t)))(i)}function Gr(i){return i.charAt(0).toUpperCase()+i.slice(1)}var Je=i=>typeof i<"u",Un=i=>typeof i=="function",Bl=(i,t)=>{if(i.size!==t.size)return!1;for(let e of i)if(!t.has(e))return!1;return!0};function Af(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}var ee=Math.PI,Jt=2*ee,kv=Jt+ee,qr=Number.POSITIVE_INFINITY,Pv=ee/180,ie=ee/2,Yi=ee/4,bf=ee*2/3,Xn=Math.log10,xn=Math.sign;function As(i,t,e){return Math.abs(i-t)<e}function zl(i){let t=Math.round(i);i=As(i,t,i/1e3)?t:i;let e=Math.pow(10,Math.floor(Xn(i))),o=i/e;return(o<=1?1:o<=2?2:o<=5?5:10)*e}function Ef(i){let t=[],e=Math.sqrt(i),o;for(o=1;o<e;o++)i%o===0&&(t.push(o),t.push(i/o));return e===(e|0)&&t.push(e),t.sort((a,h)=>a-h).pop(),t}function Xi(i){return!isNaN(parseFloat(i))&&isFinite(i)}function Df(i,t){let e=Math.round(i);return e-t<=i&&e+t>=i}function Nl(i,t,e){let o,a,h;for(o=0,a=i.length;o<a;o++)h=i[o][e],isNaN(h)||(t.min=Math.min(t.min,h),t.max=Math.max(t.max,h))}function cn(i){return i*(ee/180)}function Kr(i){return i*(180/ee)}function Vl(i){if(!se(i))return;let t=1,e=0;for(;Math.round(i*t)/t!==i;)t*=10,e++;return e}function Hl(i,t){let e=t.x-i.x,o=t.y-i.y,a=Math.sqrt(e*e+o*o),h=Math.atan2(o,e);return h<-.5*ee&&(h+=Jt),{angle:h,distance:a}}function Ur(i,t){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}function Cv(i,t){return(i-t+kv)%Jt-ee}function Ge(i){return(i%Jt+Jt)%Jt}function Es(i,t,e,o){let a=Ge(i),h=Ge(t),p=Ge(e),u=Ge(h-a),l=Ge(p-a),f=Ge(a-h),m=Ge(a-p);return a===h||a===p||o&&h===p||u>l&&f<m}function Pe(i,t,e){return Math.max(t,Math.min(e,i))}function Lf(i){return Pe(i,-32768,32767)}function Ln(i,t,e,o=1e-6){return i>=Math.min(t,e)-o&&i<=Math.max(t,e)+o}function Qr(i,t,e){e=e||(p=>i[p]<t);let o=i.length-1,a=0,h;for(;o-a>1;)h=a+o>>1,e(h)?a=h:o=h;return{lo:a,hi:o}}var En=(i,t,e,o)=>Qr(i,e,o?a=>{let h=i[a][t];return h<e||h===e&&i[a+1][t]===e}:a=>i[a][t]<e),Sf=(i,t,e)=>Qr(i,e,o=>i[o][t]>=e);function Rf(i,t,e){let o=0,a=i.length;for(;o<a&&i[o]<t;)o++;for(;a>o&&i[a-1]>e;)a--;return o>0||a<i.length?i.slice(o,a):i}var If=["push","pop","shift","splice","unshift"];function Ff(i,t){if(i._chartjs){i._chartjs.listeners.push(t);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),If.forEach(e=>{let o="_onData"+Gr(e),a=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(...h){let p=a.apply(this,h);return i._chartjs.listeners.forEach(u=>{typeof u[o]=="function"&&u[o](...h)}),p}})})}function Wl(i,t){let e=i._chartjs;if(!e)return;let o=e.listeners,a=o.indexOf(t);a!==-1&&o.splice(a,1),!(o.length>0)&&(If.forEach(h=>{delete i[h]}),delete i._chartjs)}function $l(i){let t=new Set,e,o;for(e=0,o=i.length;e<o;++e)t.add(i[e]);return t.size===o?i:Array.from(t)}var Yl=function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame}();function ql(i,t){let e=[],o=!1;return function(...a){e=a,o||(o=!0,Yl.call(window,()=>{o=!1,i.apply(t,e)}))}}function Bf(i,t){let e;return function(...o){return t?(clearTimeout(e),e=setTimeout(i,t,o)):i.apply(this,o),t}}var Zr=i=>i==="start"?"left":i==="end"?"right":"center",Se=(i,t,e)=>i==="start"?t:i==="end"?e:(t+e)/2,zf=(i,t,e,o)=>i===(o?"left":"right")?e:i==="center"?(t+e)/2:t;function Ul(i,t,e){let o=t.length,a=0,h=o;if(i._sorted){let{iScale:p,_parsed:u}=i,l=p.axis,{min:f,max:m,minDefined:v,maxDefined:_}=p.getUserBounds();v&&(a=Pe(Math.min(En(u,p.axis,f).lo,e?o:En(t,l,p.getPixelForValue(f)).lo),0,o-1)),_?h=Pe(Math.max(En(u,p.axis,m,!0).hi+1,e?0:En(t,l,p.getPixelForValue(m),!0).hi+1),a,o)-a:h=o-a}return{start:a,count:h}}function Xl(i){let{xScale:t,yScale:e,_scaleRanges:o}=i,a={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!o)return i._scaleRanges=a,!0;let h=o.xmin!==t.min||o.xmax!==t.max||o.ymin!==e.min||o.ymax!==e.max;return Object.assign(o,a),h}var Hr=i=>i===0||i===1,vf=(i,t,e)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-t)*Jt/e)),xf=(i,t,e)=>Math.pow(2,-10*i)*Math.sin((i-t)*Jt/e)+1,Ps={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*ie)+1,easeOutSine:i=>Math.sin(i*ie),easeInOutSine:i=>-.5*(Math.cos(ee*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>Hr(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>Hr(i)?i:vf(i,.075,.3),easeOutElastic:i=>Hr(i)?i:xf(i,.075,.3),easeInOutElastic(i){return Hr(i)?i:i<.5?.5*vf(i*2,.1125,.45):.5+.5*xf(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let t=1.70158;return(i/=.5)<1?.5*(i*i*(((t*=1.525)+1)*i-t)):.5*((i-=2)*i*(((t*=1.525)+1)*i+t)+2)},easeInBounce:i=>1-Ps.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?Ps.easeInBounce(i*2)*.5:Ps.easeOutBounce(i*2-1)*.5+.5};function Nf(i){if(i&&typeof i=="object"){let t=i.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Gl(i){return Nf(i)?i:new wi(i)}function Sl(i){return Nf(i)?i:new wi(i).saturate(.5).darken(.1).hexString()}var Mv=["x","y","borderWidth","radius","tension"],Ov=["color","borderColor","backgroundColor"];function Tv(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),i.set("animations",{colors:{type:"color",properties:Ov},numbers:{type:"number",properties:Mv}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Av(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var yf=new Map;function Ev(i,t){t=t||{};let e=i+JSON.stringify(t),o=yf.get(e);return o||(o=new Intl.NumberFormat(i,t),yf.set(e,o)),o}function Ds(i,t,e){return Ev(t,e).format(i)}var Vf={values(i){return Zt(i)?i:""+i},numeric(i,t,e){if(i===0)return"0";let o=this.chart.options.locale,a,h=i;if(e.length>1){let f=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(f<1e-4||f>1e15)&&(a="scientific"),h=Dv(i,e)}let p=Xn(Math.abs(h)),u=Math.max(Math.min(-1*Math.floor(p),20),0),l={notation:a,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(l,this.options.ticks.format),Ds(i,o,l)},logarithmic(i,t,e){if(i===0)return"0";let o=e[t].significand||i/Math.pow(10,Math.floor(Xn(i)));return[1,2,3,5,10,15].includes(o)||t>.8*e.length?Vf.numeric.call(this,i,t,e):""}};function Dv(i,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&i!==Math.floor(i)&&(e=i-Math.floor(i)),e}var Co={formatters:Vf};function Lv(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Co.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}var Pi=Object.create(null),Jr=Object.create(null);function wo(i,t){if(!t)return i;let e=t.split(".");for(let o=0,a=e.length;o<a;++o){let h=e[o];i=i[h]||(i[h]=Object.create(null))}return i}function Rl(i,t,e){return typeof t=="string"?Cs(wo(i,t),e):Cs(wo(i,""),t)}var Il=class{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=o=>o.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(o,a)=>Sl(a.backgroundColor),this.hoverBorderColor=(o,a)=>Sl(a.borderColor),this.hoverColor=(o,a)=>Sl(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Rl(this,t,e)}get(t){return wo(this,t)}describe(t,e){return Rl(Jr,t,e)}override(t,e){return Rl(Pi,t,e)}route(t,e,o,a){let h=wo(this,t),p=wo(this,o),u="_"+e;Object.defineProperties(h,{[u]:{value:h[e],writable:!0},[e]:{enumerable:!0,get(){let l=this[u],f=p[a];return St(l)?Object.assign({},f,l):Tt(l,f)},set(l){this[u]=l}}})}apply(t){t.forEach(e=>e(this))}},ce=new Il({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Tv,Av,Lv]);function Sv(i){return!i||zt(i.size)||zt(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function ko(i,t,e,o,a){let h=t[a];return h||(h=t[a]=i.measureText(a).width,e.push(a)),h>o&&(o=h),o}function Hf(i,t,e,o){o=o||{};let a=o.data=o.data||{},h=o.garbageCollect=o.garbageCollect||[];o.font!==t&&(a=o.data={},h=o.garbageCollect=[],o.font=t),i.save(),i.font=t;let p=0,u=e.length,l,f,m,v,_;for(l=0;l<u;l++)if(v=e[l],v!=null&&Zt(v)!==!0)p=ko(i,a,h,p,v);else if(Zt(v))for(f=0,m=v.length;f<m;f++)_=v[f],_!=null&&!Zt(_)&&(p=ko(i,a,h,p,_));i.restore();let w=h.length/2;if(w>e.length){for(l=0;l<w;l++)delete a[h[l]];h.splice(0,w)}return p}function Ci(i,t,e){let o=i.currentDevicePixelRatio,a=e!==0?Math.max(e/2,.5):0;return Math.round((t-a)*o)/o+a}function Kl(i,t){t=t||i.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,i.width,i.height),t.restore()}function jr(i,t,e,o){Ql(i,t,e,o,null)}function Ql(i,t,e,o,a){let h,p,u,l,f,m,v,_,w=t.pointStyle,P=t.rotation,C=t.radius,M=(P||0)*Pv;if(w&&typeof w=="object"&&(h=w.toString(),h==="[object HTMLImageElement]"||h==="[object HTMLCanvasElement]")){i.save(),i.translate(e,o),i.rotate(M),i.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),i.restore();return}if(!(isNaN(C)||C<=0)){switch(i.beginPath(),w){default:a?i.ellipse(e,o,a/2,C,0,0,Jt):i.arc(e,o,C,0,Jt),i.closePath();break;case"triangle":m=a?a/2:C,i.moveTo(e+Math.sin(M)*m,o-Math.cos(M)*C),M+=bf,i.lineTo(e+Math.sin(M)*m,o-Math.cos(M)*C),M+=bf,i.lineTo(e+Math.sin(M)*m,o-Math.cos(M)*C),i.closePath();break;case"rectRounded":f=C*.516,l=C-f,p=Math.cos(M+Yi)*l,v=Math.cos(M+Yi)*(a?a/2-f:l),u=Math.sin(M+Yi)*l,_=Math.sin(M+Yi)*(a?a/2-f:l),i.arc(e-v,o-u,f,M-ee,M-ie),i.arc(e+_,o-p,f,M-ie,M),i.arc(e+v,o+u,f,M,M+ie),i.arc(e-_,o+p,f,M+ie,M+ee),i.closePath();break;case"rect":if(!P){l=Math.SQRT1_2*C,m=a?a/2:l,i.rect(e-m,o-l,2*m,2*l);break}M+=Yi;case"rectRot":v=Math.cos(M)*(a?a/2:C),p=Math.cos(M)*C,u=Math.sin(M)*C,_=Math.sin(M)*(a?a/2:C),i.moveTo(e-v,o-u),i.lineTo(e+_,o-p),i.lineTo(e+v,o+u),i.lineTo(e-_,o+p),i.closePath();break;case"crossRot":M+=Yi;case"cross":v=Math.cos(M)*(a?a/2:C),p=Math.cos(M)*C,u=Math.sin(M)*C,_=Math.sin(M)*(a?a/2:C),i.moveTo(e-v,o-u),i.lineTo(e+v,o+u),i.moveTo(e+_,o-p),i.lineTo(e-_,o+p);break;case"star":v=Math.cos(M)*(a?a/2:C),p=Math.cos(M)*C,u=Math.sin(M)*C,_=Math.sin(M)*(a?a/2:C),i.moveTo(e-v,o-u),i.lineTo(e+v,o+u),i.moveTo(e+_,o-p),i.lineTo(e-_,o+p),M+=Yi,v=Math.cos(M)*(a?a/2:C),p=Math.cos(M)*C,u=Math.sin(M)*C,_=Math.sin(M)*(a?a/2:C),i.moveTo(e-v,o-u),i.lineTo(e+v,o+u),i.moveTo(e+_,o-p),i.lineTo(e-_,o+p);break;case"line":p=a?a/2:Math.cos(M)*C,u=Math.sin(M)*C,i.moveTo(e-p,o-u),i.lineTo(e+p,o+u);break;case"dash":i.moveTo(e,o),i.lineTo(e+Math.cos(M)*(a?a/2:C),o+Math.sin(M)*C);break;case!1:i.closePath();break}i.fill(),t.borderWidth>0&&i.stroke()}}function Ms(i,t,e){return e=e||.5,!t||i&&i.x>t.left-e&&i.x<t.right+e&&i.y>t.top-e&&i.y<t.bottom+e}function Mo(i,t){i.save(),i.beginPath(),i.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),i.clip()}function Oo(i){i.restore()}function Wf(i,t,e,o,a){if(!t)return i.lineTo(e.x,e.y);if(a==="middle"){let h=(t.x+e.x)/2;i.lineTo(h,t.y),i.lineTo(h,e.y)}else a==="after"!=!!o?i.lineTo(t.x,e.y):i.lineTo(e.x,t.y);i.lineTo(e.x,e.y)}function $f(i,t,e,o){if(!t)return i.lineTo(e.x,e.y);i.bezierCurveTo(o?t.cp1x:t.cp2x,o?t.cp1y:t.cp2y,o?e.cp2x:e.cp1x,o?e.cp2y:e.cp1y,e.x,e.y)}function Mi(i,t,e,o,a,h={}){let p=Zt(t)?t:[t],u=h.strokeWidth>0&&h.strokeColor!=="",l,f;for(i.save(),i.font=a.string,Rv(i,h),l=0;l<p.length;++l)f=p[l],h.backdrop&&Fv(i,h.backdrop),u&&(h.strokeColor&&(i.strokeStyle=h.strokeColor),zt(h.strokeWidth)||(i.lineWidth=h.strokeWidth),i.strokeText(f,e,o,h.maxWidth)),i.fillText(f,e,o,h.maxWidth),Iv(i,e,o,f,h),o+=a.lineHeight;i.restore()}function Rv(i,t){t.translation&&i.translate(t.translation[0],t.translation[1]),zt(t.rotation)||i.rotate(t.rotation),t.color&&(i.fillStyle=t.color),t.textAlign&&(i.textAlign=t.textAlign),t.textBaseline&&(i.textBaseline=t.textBaseline)}function Iv(i,t,e,o,a){if(a.strikethrough||a.underline){let h=i.measureText(o),p=t-h.actualBoundingBoxLeft,u=t+h.actualBoundingBoxRight,l=e-h.actualBoundingBoxAscent,f=e+h.actualBoundingBoxDescent,m=a.strikethrough?(l+f)/2:f;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=a.decorationWidth||2,i.moveTo(p,m),i.lineTo(u,m),i.stroke()}}function Fv(i,t){let e=i.fillStyle;i.fillStyle=t.color,i.fillRect(t.left,t.top,t.width,t.height),i.fillStyle=e}function Ls(i,t){let{x:e,y:o,w:a,h,radius:p}=t;i.arc(e+p.topLeft,o+p.topLeft,p.topLeft,-ie,ee,!0),i.lineTo(e,o+h-p.bottomLeft),i.arc(e+p.bottomLeft,o+h-p.bottomLeft,p.bottomLeft,ee,ie,!0),i.lineTo(e+a-p.bottomRight,o+h),i.arc(e+a-p.bottomRight,o+h-p.bottomRight,p.bottomRight,ie,0,!0),i.lineTo(e+a,o+p.topRight),i.arc(e+a-p.topRight,o+p.topRight,p.topRight,0,-ie,!0),i.lineTo(e+p.topLeft,o)}var Bv=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,zv=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Nv(i,t){let e=(""+i).match(Bv);if(!e||e[1]==="normal")return t*1.2;switch(i=+e[2],e[3]){case"px":return i;case"%":i/=100;break}return t*i}var Vv=i=>+i||0;function ta(i,t){let e={},o=St(t),a=o?Object.keys(t):t,h=St(i)?o?p=>Tt(i[p],i[t[p]]):p=>i[p]:()=>i;for(let p of a)e[p]=Vv(h(p));return e}function Zl(i){return ta(i,{top:"y",right:"x",bottom:"y",left:"x"})}function Oi(i){return ta(i,["topLeft","topRight","bottomLeft","bottomRight"])}function Re(i){let t=Zl(i);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ye(i,t){i=i||{},t=t||ce.font;let e=Tt(i.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let o=Tt(i.style,t.style);o&&!(""+o).match(zv)&&(console.warn('Invalid font style specified: "'+o+'"'),o=void 0);let a={family:Tt(i.family,t.family),lineHeight:Nv(Tt(i.lineHeight,t.lineHeight),e),size:e,style:o,weight:Tt(i.weight,t.weight),string:""};return a.string=Sv(a),a}function Ss(i,t,e,o){let a=!0,h,p,u;for(h=0,p=i.length;h<p;++h)if(u=i[h],u!==void 0&&(t!==void 0&&typeof u=="function"&&(u=u(t),a=!1),e!==void 0&&Zt(u)&&(u=u[e%u.length],a=!1),u!==void 0))return o&&!a&&(o.cacheable=!1),u}function Yf(i,t,e){let{min:o,max:a}=i,h=Fl(t,(a-o)/2),p=(u,l)=>e&&u===0?0:u+l;return{min:p(o,-Math.abs(h)),max:p(a,h)}}function Kn(i,t){return Object.assign(Object.create(i),t)}function ea(i,t=[""],e=i,o,a=()=>i[0]){Je(o)||(o=Xf("_fallback",i));let h={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:e,_fallback:o,_getTarget:a,override:p=>ea([p,...i],t,e,o)};return new Proxy(h,{deleteProperty(p,u){return delete p[u],delete p._keys,delete i[0][u],!0},get(p,u){return qf(p,u,()=>Gv(u,t,i,p))},getOwnPropertyDescriptor(p,u){return Reflect.getOwnPropertyDescriptor(p._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(p,u){return wf(p).includes(u)},ownKeys(p){return wf(p)},set(p,u,l){let f=p._storage||(p._storage=a());return p[u]=f[u]=l,delete p._keys,!0}})}function Ui(i,t,e,o){let a={_cacheable:!1,_proxy:i,_context:t,_subProxy:e,_stack:new Set,_descriptors:Jl(i,o),setContext:h=>Ui(i,h,e,o),override:h=>Ui(i.override(h),t,e,o)};return new Proxy(a,{deleteProperty(h,p){return delete h[p],delete i[p],!0},get(h,p,u){return qf(h,p,()=>Wv(h,p,u))},getOwnPropertyDescriptor(h,p){return h._descriptors.allKeys?Reflect.has(i,p)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,p)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(h,p){return Reflect.has(i,p)},ownKeys(){return Reflect.ownKeys(i)},set(h,p,u){return i[p]=u,delete h[p],!0}})}function Jl(i,t={scriptable:!0,indexable:!0}){let{_scriptable:e=t.scriptable,_indexable:o=t.indexable,_allKeys:a=t.allKeys}=i;return{allKeys:a,scriptable:e,indexable:o,isScriptable:Un(e)?e:()=>e,isIndexable:Un(o)?o:()=>o}}var Hv=(i,t)=>i?i+Gr(t):t,jl=(i,t)=>St(t)&&i!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function qf(i,t,e){if(Object.prototype.hasOwnProperty.call(i,t))return i[t];let o=e();return i[t]=o,o}function Wv(i,t,e){let{_proxy:o,_context:a,_subProxy:h,_descriptors:p}=i,u=o[t];return Un(u)&&p.isScriptable(t)&&(u=$v(t,u,i,e)),Zt(u)&&u.length&&(u=Yv(t,u,i,p.isIndexable)),jl(t,u)&&(u=Ui(u,a,h&&h[t],p)),u}function $v(i,t,e,o){let{_proxy:a,_context:h,_subProxy:p,_stack:u}=e;if(u.has(i))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+i);return u.add(i),t=t(h,p||o),u.delete(i),jl(i,t)&&(t=tc(a._scopes,a,i,t)),t}function Yv(i,t,e,o){let{_proxy:a,_context:h,_subProxy:p,_descriptors:u}=e;if(Je(h.index)&&o(i))t=t[h.index%t.length];else if(St(t[0])){let l=t,f=a._scopes.filter(m=>m!==l);t=[];for(let m of l){let v=tc(f,a,i,m);t.push(Ui(v,h,p&&p[i],u))}}return t}function Uf(i,t,e){return Un(i)?i(t,e):i}var qv=(i,t)=>i===!0?t:typeof i=="string"?Gn(t,i):void 0;function Uv(i,t,e,o,a){for(let h of t){let p=qv(e,h);if(p){i.add(p);let u=Uf(p._fallback,e,a);if(Je(u)&&u!==e&&u!==o)return u}else if(p===!1&&Je(o)&&e!==o)return null}return!1}function tc(i,t,e,o){let a=t._rootScopes,h=Uf(t._fallback,e,o),p=[...i,...a],u=new Set;u.add(o);let l=_f(u,p,e,h||e,o);return l===null||Je(h)&&h!==e&&(l=_f(u,p,h,l,o),l===null)?!1:ea(Array.from(u),[""],a,h,()=>Xv(t,e,o))}function _f(i,t,e,o,a){for(;e;)e=Uv(i,t,e,o,a);return e}function Xv(i,t,e){let o=i._getTarget();t in o||(o[t]={});let a=o[t];return Zt(a)&&St(e)?e:a||{}}function Gv(i,t,e,o){let a;for(let h of t)if(a=Xf(Hv(h,i),e),Je(a))return jl(i,a)?tc(e,o,i,a):a}function Xf(i,t){for(let e of t){if(!e)continue;let o=e[i];if(Je(o))return o}}function wf(i){let t=i._keys;return t||(t=i._keys=Kv(i._scopes)),t}function Kv(i){let t=new Set;for(let e of i)for(let o of Object.keys(e).filter(a=>!a.startsWith("_")))t.add(o);return Array.from(t)}function ec(i,t,e,o){let{iScale:a}=i,{key:h="r"}=this._parsing,p=new Array(o),u,l,f,m;for(u=0,l=o;u<l;++u)f=u+e,m=t[f],p[u]={r:a.parse(Gn(m,h),f)};return p}var Qv=Number.EPSILON||1e-14,Os=(i,t)=>t<i.length&&!i[t].skip&&i[t],Gf=i=>i==="x"?"y":"x";function Zv(i,t,e,o){let a=i.skip?t:i,h=t,p=e.skip?t:e,u=Ur(h,a),l=Ur(p,h),f=u/(u+l),m=l/(u+l);f=isNaN(f)?0:f,m=isNaN(m)?0:m;let v=o*f,_=o*m;return{previous:{x:h.x-v*(p.x-a.x),y:h.y-v*(p.y-a.y)},next:{x:h.x+_*(p.x-a.x),y:h.y+_*(p.y-a.y)}}}function Jv(i,t,e){let o=i.length,a,h,p,u,l,f=Os(i,0);for(let m=0;m<o-1;++m)if(l=f,f=Os(i,m+1),!(!l||!f)){if(As(t[m],0,Qv)){e[m]=e[m+1]=0;continue}a=e[m]/t[m],h=e[m+1]/t[m],u=Math.pow(a,2)+Math.pow(h,2),!(u<=9)&&(p=3/Math.sqrt(u),e[m]=a*p*t[m],e[m+1]=h*p*t[m])}}function jv(i,t,e="x"){let o=Gf(e),a=i.length,h,p,u,l=Os(i,0);for(let f=0;f<a;++f){if(p=u,u=l,l=Os(i,f+1),!u)continue;let m=u[e],v=u[o];p&&(h=(m-p[e])/3,u[`cp1${e}`]=m-h,u[`cp1${o}`]=v-h*t[f]),l&&(h=(l[e]-m)/3,u[`cp2${e}`]=m+h,u[`cp2${o}`]=v+h*t[f])}}function tx(i,t="x"){let e=Gf(t),o=i.length,a=Array(o).fill(0),h=Array(o),p,u,l,f=Os(i,0);for(p=0;p<o;++p)if(u=l,l=f,f=Os(i,p+1),!!l){if(f){let m=f[t]-l[t];a[p]=m!==0?(f[e]-l[e])/m:0}h[p]=u?f?xn(a[p-1])!==xn(a[p])?0:(a[p-1]+a[p])/2:a[p-1]:a[p]}Jv(i,a,h),jv(i,h,t)}function Wr(i,t,e){return Math.max(Math.min(i,e),t)}function ex(i,t){let e,o,a,h,p,u=Ms(i[0],t);for(e=0,o=i.length;e<o;++e)p=h,h=u,u=e<o-1&&Ms(i[e+1],t),h&&(a=i[e],p&&(a.cp1x=Wr(a.cp1x,t.left,t.right),a.cp1y=Wr(a.cp1y,t.top,t.bottom)),u&&(a.cp2x=Wr(a.cp2x,t.left,t.right),a.cp2y=Wr(a.cp2y,t.top,t.bottom)))}function Kf(i,t,e,o,a){let h,p,u,l;if(t.spanGaps&&(i=i.filter(f=>!f.skip)),t.cubicInterpolationMode==="monotone")tx(i,a);else{let f=o?i[i.length-1]:i[0];for(h=0,p=i.length;h<p;++h)u=i[h],l=Zv(f,u,i[Math.min(h+1,p-(o?0:1))%p],t.tension),u.cp1x=l.previous.x,u.cp1y=l.previous.y,u.cp2x=l.next.x,u.cp2y=l.next.y,f=u}t.capBezierPoints&&ex(i,e)}function nc(){return typeof window<"u"&&typeof document<"u"}function na(i){let t=i.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Xr(i,t,e){let o;return typeof i=="string"?(o=parseInt(i,10),i.indexOf("%")!==-1&&(o=o/100*t.parentNode[e])):o=i,o}var ia=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function nx(i,t){return ia(i).getPropertyValue(t)}var ix=["top","right","bottom","left"];function qi(i,t,e){let o={};e=e?"-"+e:"";for(let a=0;a<4;a++){let h=ix[a];o[h]=parseFloat(i[t+"-"+h+e])||0}return o.width=o.left+o.right,o.height=o.top+o.bottom,o}var sx=(i,t,e)=>(i>0||t>0)&&(!e||!e.shadowRoot);function ox(i,t){let e=i.touches,o=e&&e.length?e[0]:i,{offsetX:a,offsetY:h}=o,p=!1,u,l;if(sx(a,h,i.target))u=a,l=h;else{let f=t.getBoundingClientRect();u=o.clientX-f.left,l=o.clientY-f.top,p=!0}return{x:u,y:l,box:p}}function Ti(i,t){if("native"in i)return i;let{canvas:e,currentDevicePixelRatio:o}=t,a=ia(e),h=a.boxSizing==="border-box",p=qi(a,"padding"),u=qi(a,"border","width"),{x:l,y:f,box:m}=ox(i,e),v=p.left+(m&&u.left),_=p.top+(m&&u.top),{width:w,height:P}=t;return h&&(w-=p.width+u.width,P-=p.height+u.height),{x:Math.round((l-v)/w*e.width/o),y:Math.round((f-_)/P*e.height/o)}}function rx(i,t,e){let o,a;if(t===void 0||e===void 0){let h=na(i);if(!h)t=i.clientWidth,e=i.clientHeight;else{let p=h.getBoundingClientRect(),u=ia(h),l=qi(u,"border","width"),f=qi(u,"padding");t=p.width-f.width-l.width,e=p.height-f.height-l.height,o=Xr(u.maxWidth,h,"clientWidth"),a=Xr(u.maxHeight,h,"clientHeight")}}return{width:t,height:e,maxWidth:o||qr,maxHeight:a||qr}}var $r=i=>Math.round(i*10)/10;function Qf(i,t,e,o){let a=ia(i),h=qi(a,"margin"),p=Xr(a.maxWidth,i,"clientWidth")||qr,u=Xr(a.maxHeight,i,"clientHeight")||qr,l=rx(i,t,e),{width:f,height:m}=l;if(a.boxSizing==="content-box"){let _=qi(a,"border","width"),w=qi(a,"padding");f-=w.width+_.width,m-=w.height+_.height}return f=Math.max(0,f-h.width),m=Math.max(0,o?f/o:m-h.height),f=$r(Math.min(f,p,l.maxWidth)),m=$r(Math.min(m,u,l.maxHeight)),f&&!m&&(m=$r(f/2)),(t!==void 0||e!==void 0)&&o&&l.height&&m>l.height&&(m=l.height,f=$r(Math.floor(m*o))),{width:f,height:m}}function ic(i,t,e){let o=t||1,a=Math.floor(i.height*o),h=Math.floor(i.width*o);i.height=Math.floor(i.height),i.width=Math.floor(i.width);let p=i.canvas;return p.style&&(e||!p.style.height&&!p.style.width)&&(p.style.height=`${i.height}px`,p.style.width=`${i.width}px`),i.currentDevicePixelRatio!==o||p.height!==a||p.width!==h?(i.currentDevicePixelRatio=o,p.height=a,p.width=h,i.ctx.setTransform(o,0,0,o,0,0),!0):!1}var Zf=function(){let i=!1;try{let t={get passive(){return i=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return i}();function sc(i,t){let e=nx(i,t),o=e&&e.match(/^(\d+)(\.\d+)?px$/);return o?+o[1]:void 0}function ki(i,t,e,o){return{x:i.x+e*(t.x-i.x),y:i.y+e*(t.y-i.y)}}function Jf(i,t,e,o){return{x:i.x+e*(t.x-i.x),y:o==="middle"?e<.5?i.y:t.y:o==="after"?e<1?i.y:t.y:e>0?t.y:i.y}}function jf(i,t,e,o){let a={x:i.cp2x,y:i.cp2y},h={x:t.cp1x,y:t.cp1y},p=ki(i,a,e),u=ki(a,h,e),l=ki(h,t,e),f=ki(p,u,e),m=ki(u,l,e);return ki(f,m,e)}var ax=function(i,t){return{x(e){return i+i+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,o){return e-o},leftForLtr(e,o){return e-o}}},lx=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,t){return i+t},leftForLtr(i,t){return i}}};function Gi(i,t,e){return i?ax(t,e):lx()}function oc(i,t){let e,o;(t==="ltr"||t==="rtl")&&(e=i.canvas.style,o=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),i.prevTextDirection=o)}function rc(i,t){t!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",t[0],t[1]))}function td(i){return i==="angle"?{between:Es,compare:Cv,normalize:Ge}:{between:Ln,compare:(t,e)=>t-e,normalize:t=>t}}function kf({start:i,end:t,count:e,loop:o,style:a}){return{start:i%e,end:t%e,loop:o&&(t-i+1)%e===0,style:a}}function cx(i,t,e){let{property:o,start:a,end:h}=e,{between:p,normalize:u}=td(o),l=t.length,{start:f,end:m,loop:v}=i,_,w;if(v){for(f+=l,m+=l,_=0,w=l;_<w&&p(u(t[f%l][o]),a,h);++_)f--,m--;f%=l,m%=l}return m<f&&(m+=l),{start:f,end:m,loop:v,style:i.style}}function ac(i,t,e){if(!e)return[i];let{property:o,start:a,end:h}=e,p=t.length,{compare:u,between:l,normalize:f}=td(o),{start:m,end:v,loop:_,style:w}=cx(i,t,e),P=[],C=!1,M=null,O,A,L,E=()=>l(a,L,O)&&u(a,L)!==0,F=()=>u(h,O)===0||l(h,L,O),N=()=>C||E(),H=()=>!C||F();for(let $=m,G=m;$<=v;++$)A=t[$%p],!A.skip&&(O=f(A[o]),O!==L&&(C=l(O,a,h),M===null&&N()&&(M=u(O,a)===0?$:G),M!==null&&H()&&(P.push(kf({start:M,end:$,loop:_,count:p,style:w})),M=null),G=$,L=O));return M!==null&&P.push(kf({start:M,end:v,loop:_,count:p,style:w})),P}function lc(i,t){let e=[],o=i.segments;for(let a=0;a<o.length;a++){let h=ac(o[a],i.points,t);h.length&&e.push(...h)}return e}function ux(i,t,e,o){let a=0,h=t-1;if(e&&!o)for(;a<t&&!i[a].skip;)a++;for(;a<t&&i[a].skip;)a++;for(a%=t,e&&(h+=a);h>a&&i[h%t].skip;)h--;return h%=t,{start:a,end:h}}function hx(i,t,e,o){let a=i.length,h=[],p=t,u=i[t],l;for(l=t+1;l<=e;++l){let f=i[l%a];f.skip||f.stop?u.skip||(o=!1,h.push({start:t%a,end:(l-1)%a,loop:o}),t=p=f.stop?l:null):(p=l,u.skip&&(t=l)),u=f}return p!==null&&h.push({start:t%a,end:p%a,loop:o}),h}function ed(i,t){let e=i.points,o=i.options.spanGaps,a=e.length;if(!a)return[];let h=!!i._loop,{start:p,end:u}=ux(e,a,h,o);if(o===!0)return Pf(i,[{start:p,end:u,loop:h}],e,t);let l=u<p?u+a:u,f=!!i._fullLoop&&p===0&&u===a-1;return Pf(i,hx(e,p,l,f),e,t)}function Pf(i,t,e,o){return!o||!o.setContext||!e?t:fx(i,t,e,o)}function fx(i,t,e,o){let a=i._chart.getContext(),h=Cf(i.options),{_datasetIndex:p,options:{spanGaps:u}}=i,l=e.length,f=[],m=h,v=t[0].start,_=v;function w(P,C,M,O){let A=u?-1:1;if(P!==C){for(P+=l;e[P%l].skip;)P-=A;for(;e[C%l].skip;)C+=A;P%l!==C%l&&(f.push({start:P%l,end:C%l,loop:M,style:O}),m=O,v=C%l)}}for(let P of t){v=u?v:P.start;let C=e[v%l],M;for(_=v+1;_<=P.end;_++){let O=e[_%l];M=Cf(o.setContext(Kn(a,{type:"segment",p0:C,p1:O,p0DataIndex:(_-1)%l,p1DataIndex:_%l,datasetIndex:p}))),dx(M,m)&&w(v,_-1,P.loop,m),C=O,m=M}v<_-1&&w(v,_-1,P.loop,m)}return f}function Cf(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function dx(i,t){return t&&JSON.stringify(i)!==JSON.stringify(t)}var vc=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,o,a){let h=e.listeners[a],p=e.duration;h.forEach(u=>u({chart:t,initial:e.initial,numSteps:p,currentStep:Math.min(o-e.start,p)}))}_refresh(){this._request||(this._running=!0,this._request=Yl.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((o,a)=>{if(!o.running||!o.items.length)return;let h=o.items,p=h.length-1,u=!1,l;for(;p>=0;--p)l=h[p],l._active?(l._total>o.duration&&(o.duration=l._total),l.tick(t),u=!0):(h[p]=h[h.length-1],h.pop());u&&(a.draw(),this._notify(a,o,t,"progress")),h.length||(o.running=!1,this._notify(a,o,t,"complete"),o.initial=!1),e+=h.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){let e=this._charts,o=e.get(t);return o||(o={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,o)),o}listen(t,e,o){this._getAnims(t).listeners[e].push(o)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){let e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((o,a)=>Math.max(o,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;let e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){let e=this._charts.get(t);if(!e||!e.items.length)return;let o=e.items,a=o.length-1;for(;a>=0;--a)o[a].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}},Qn=new vc,nd="transparent",px={boolean(i,t,e){return e>.5?t:i},color(i,t,e){let o=Gl(i||nd),a=o.valid&&Gl(t||nd);return a&&a.valid?a.mix(o,e).hexString():t},number(i,t,e){return i+(t-i)*e}},xc=class{constructor(t,e,o,a){let h=e[o];a=Ss([t.to,a,h,t.from]);let p=Ss([t.from,h,a]);this._active=!0,this._fn=t.fn||px[t.type||typeof p],this._easing=Ps[t.easing]||Ps.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=o,this._from=p,this._to=a,this._promises=void 0}active(){return this._active}update(t,e,o){if(this._active){this._notify(!1);let a=this._target[this._prop],h=o-this._start,p=this._duration-h;this._start=o,this._duration=Math.floor(Math.max(p,t.duration)),this._total+=h,this._loop=!!t.loop,this._to=Ss([t.to,e,a,t.from]),this._from=Ss([t.from,a,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){let e=t-this._start,o=this._duration,a=this._prop,h=this._from,p=this._loop,u=this._to,l;if(this._active=h!==u&&(p||e<o),!this._active){this._target[a]=u,this._notify(!0);return}if(e<0){this._target[a]=h;return}l=e/o%2,l=p&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[a]=this._fn(h,u,l)}wait(){let t=this._promises||(this._promises=[]);return new Promise((e,o)=>{t.push({res:e,rej:o})})}_notify(t){let e=t?"res":"rej",o=this._promises||[];for(let a=0;a<o.length;a++)o[a][e]()}},fa=class{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!St(t))return;let e=Object.keys(ce.animation),o=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{let h=t[a];if(!St(h))return;let p={};for(let u of e)p[u]=h[u];(Zt(h.properties)&&h.properties||[a]).forEach(u=>{(u===a||!o.has(u))&&o.set(u,p)})})}_animateOptions(t,e){let o=e.options,a=mx(t,o);if(!a)return[];let h=this._createAnimations(a,o);return o.$shared&&gx(t.options.$animations,o).then(()=>{t.options=o},()=>{}),h}_createAnimations(t,e){let o=this._properties,a=[],h=t.$animations||(t.$animations={}),p=Object.keys(e),u=Date.now(),l;for(l=p.length-1;l>=0;--l){let f=p[l];if(f.charAt(0)==="$")continue;if(f==="options"){a.push(...this._animateOptions(t,e));continue}let m=e[f],v=h[f],_=o.get(f);if(v)if(_&&v.active()){v.update(_,m,u);continue}else v.cancel();if(!_||!_.duration){t[f]=m;continue}h[f]=v=new xc(_,t,f,m),a.push(v)}return a}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}let o=this._createAnimations(t,e);if(o.length)return Qn.add(this._chart,o),!0}};function gx(i,t){let e=[],o=Object.keys(t);for(let a=0;a<o.length;a++){let h=i[o[a]];h&&h.active()&&e.push(h.wait())}return Promise.all(e)}function mx(i,t){if(!t)return;let e=i.options;if(!e){i.options=t;return}return e.$shared&&(i.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function id(i,t){let e=i&&i.options||{},o=e.reverse,a=e.min===void 0?t:0,h=e.max===void 0?t:0;return{start:o?h:a,end:o?a:h}}function bx(i,t,e){if(e===!1)return!1;let o=id(i,e),a=id(t,e);return{top:a.end,right:o.end,bottom:a.start,left:o.start}}function vx(i){let t,e,o,a;return St(i)?(t=i.top,e=i.right,o=i.bottom,a=i.left):t=e=o=a=i,{top:t,right:e,bottom:o,left:a,disabled:i===!1}}function jd(i,t){let e=[],o=i._getSortedDatasetMetas(t),a,h;for(a=0,h=o.length;a<h;++a)e.push(o[a].index);return e}function sd(i,t,e,o={}){let a=i.keys,h=o.mode==="single",p,u,l,f;if(t!==null){for(p=0,u=a.length;p<u;++p){if(l=+a[p],l===e){if(o.all)continue;break}f=i.values[l],se(f)&&(h||t===0||xn(t)===xn(f))&&(t+=f)}return t}}function xx(i){let t=Object.keys(i),e=new Array(t.length),o,a,h;for(o=0,a=t.length;o<a;++o)h=t[o],e[o]={x:h,y:i[h]};return e}function od(i,t){let e=i&&i.options.stacked;return e||e===void 0&&t.stack!==void 0}function yx(i,t,e){return`${i.id}.${t.id}.${e.stack||e.type}`}function _x(i){let{min:t,max:e,minDefined:o,maxDefined:a}=i.getUserBounds();return{min:o?t:Number.NEGATIVE_INFINITY,max:a?e:Number.POSITIVE_INFINITY}}function wx(i,t,e){let o=i[t]||(i[t]={});return o[e]||(o[e]={})}function rd(i,t,e,o){for(let a of t.getMatchingVisibleMetas(o).reverse()){let h=i[a.index];if(e&&h>0||!e&&h<0)return a.index}return null}function ad(i,t){let{chart:e,_cachedMeta:o}=i,a=e._stacks||(e._stacks={}),{iScale:h,vScale:p,index:u}=o,l=h.axis,f=p.axis,m=yx(h,p,o),v=t.length,_;for(let w=0;w<v;++w){let P=t[w],{[l]:C,[f]:M}=P,O=P._stacks||(P._stacks={});_=O[f]=wx(a,m,C),_[u]=M,_._top=rd(_,p,!0,o.type),_._bottom=rd(_,p,!1,o.type);let A=_._visualValues||(_._visualValues={});A[u]=M}}function cc(i,t){let e=i.scales;return Object.keys(e).filter(o=>e[o].axis===t).shift()}function kx(i,t){return Kn(i,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Px(i,t,e){return Kn(i,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function To(i,t){let e=i.controller.index,o=i.vScale&&i.vScale.axis;if(o){t=t||i._parsed;for(let a of t){let h=a._stacks;if(!h||h[o]===void 0||h[o][e]===void 0)return;delete h[o][e],h[o]._visualValues!==void 0&&h[o]._visualValues[e]!==void 0&&delete h[o]._visualValues[e]}}}var uc=i=>i==="reset"||i==="none",ld=(i,t)=>t?i:Object.assign({},i),Cx=(i,t,e)=>i&&!t.hidden&&t._stacked&&{keys:jd(e,!0),values:null},je=class{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=od(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&To(this._cachedMeta),this.index=t}linkScales(){let t=this.chart,e=this._cachedMeta,o=this.getDataset(),a=(v,_,w,P)=>v==="x"?_:v==="r"?P:w,h=e.xAxisID=Tt(o.xAxisID,cc(t,"x")),p=e.yAxisID=Tt(o.yAxisID,cc(t,"y")),u=e.rAxisID=Tt(o.rAxisID,cc(t,"r")),l=e.indexAxis,f=e.iAxisID=a(l,h,p,u),m=e.vAxisID=a(l,p,h,u);e.xScale=this.getScaleForId(h),e.yScale=this.getScaleForId(p),e.rScale=this.getScaleForId(u),e.iScale=this.getScaleForId(f),e.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){let e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){let t=this._cachedMeta;this._data&&Wl(this._data,this),t._stacked&&To(t)}_dataCheck(){let t=this.getDataset(),e=t.data||(t.data=[]),o=this._data;if(St(e))this._data=xx(e);else if(o!==e){if(o){Wl(o,this);let a=this._cachedMeta;To(a),a._parsed=[]}e&&Object.isExtensible(e)&&Ff(e,this),this._syncList=[],this._data=e}}addElements(){let t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){let e=this._cachedMeta,o=this.getDataset(),a=!1;this._dataCheck();let h=e._stacked;e._stacked=od(e.vScale,e),e.stack!==o.stack&&(a=!0,To(e),e.stack=o.stack),this._resyncElements(t),(a||h!==e._stacked)&&ad(this,e._parsed)}configure(){let t=this.chart.config,e=t.datasetScopeKeys(this._type),o=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(o,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){let{_cachedMeta:o,_data:a}=this,{iScale:h,_stacked:p}=o,u=h.axis,l=t===0&&e===a.length?!0:o._sorted,f=t>0&&o._parsed[t-1],m,v,_;if(this._parsing===!1)o._parsed=a,o._sorted=!0,_=a;else{Zt(a[t])?_=this.parseArrayData(o,a,t,e):St(a[t])?_=this.parseObjectData(o,a,t,e):_=this.parsePrimitiveData(o,a,t,e);let w=()=>v[u]===null||f&&v[u]<f[u];for(m=0;m<e;++m)o._parsed[m+t]=v=_[m],l&&(w()&&(l=!1),f=v);o._sorted=l}p&&ad(this,_)}parsePrimitiveData(t,e,o,a){let{iScale:h,vScale:p}=t,u=h.axis,l=p.axis,f=h.getLabels(),m=h===p,v=new Array(a),_,w,P;for(_=0,w=a;_<w;++_)P=_+o,v[_]={[u]:m||h.parse(f[P],P),[l]:p.parse(e[P],P)};return v}parseArrayData(t,e,o,a){let{xScale:h,yScale:p}=t,u=new Array(a),l,f,m,v;for(l=0,f=a;l<f;++l)m=l+o,v=e[m],u[l]={x:h.parse(v[0],m),y:p.parse(v[1],m)};return u}parseObjectData(t,e,o,a){let{xScale:h,yScale:p}=t,{xAxisKey:u="x",yAxisKey:l="y"}=this._parsing,f=new Array(a),m,v,_,w;for(m=0,v=a;m<v;++m)_=m+o,w=e[_],f[m]={x:h.parse(Gn(w,u),_),y:p.parse(Gn(w,l),_)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,o){let a=this.chart,h=this._cachedMeta,p=e[t.axis],u={keys:jd(a,!0),values:e._stacks[t.axis]._visualValues};return sd(u,p,h.index,{mode:o})}updateRangeFromParsed(t,e,o,a){let h=o[e.axis],p=h===null?NaN:h,u=a&&o._stacks[e.axis];a&&u&&(a.values=u,p=sd(a,h,this._cachedMeta.index)),t.min=Math.min(t.min,p),t.max=Math.max(t.max,p)}getMinMax(t,e){let o=this._cachedMeta,a=o._parsed,h=o._sorted&&t===o.iScale,p=a.length,u=this._getOtherScale(t),l=Cx(e,o,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:v}=_x(u),_,w;function P(){w=a[_];let C=w[u.axis];return!se(w[t.axis])||m>C||v<C}for(_=0;_<p&&!(!P()&&(this.updateRangeFromParsed(f,t,w,l),h));++_);if(h){for(_=p-1;_>=0;--_)if(!P()){this.updateRangeFromParsed(f,t,w,l);break}}return f}getAllParsedValues(t){let e=this._cachedMeta._parsed,o=[],a,h,p;for(a=0,h=e.length;a<h;++a)p=e[a][t.axis],se(p)&&o.push(p);return o}getMaxOverflow(){return!1}getLabelAndValue(t){let e=this._cachedMeta,o=e.iScale,a=e.vScale,h=this.getParsed(t);return{label:o?""+o.getLabelForValue(h[o.axis]):"",value:a?""+a.getLabelForValue(h[a.axis]):""}}_update(t){let e=this._cachedMeta;this.update(t||"default"),e._clip=vx(Tt(this.options.clip,bx(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){let t=this._ctx,e=this.chart,o=this._cachedMeta,a=o.data||[],h=e.chartArea,p=[],u=this._drawStart||0,l=this._drawCount||a.length-u,f=this.options.drawActiveElementsOnTop,m;for(o.dataset&&o.dataset.draw(t,h,u,l),m=u;m<u+l;++m){let v=a[m];v.hidden||(v.active&&f?p.push(v):v.draw(t,h))}for(m=0;m<p.length;++m)p[m].draw(t,h)}getStyle(t,e){let o=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(o):this.resolveDataElementOptions(t||0,o)}getContext(t,e,o){let a=this.getDataset(),h;if(t>=0&&t<this._cachedMeta.data.length){let p=this._cachedMeta.data[t];h=p.$context||(p.$context=Px(this.getContext(),t,p)),h.parsed=this.getParsed(t),h.raw=a.data[t],h.index=h.dataIndex=t}else h=this.$context||(this.$context=kx(this.chart.getContext(),this.index)),h.dataset=a,h.index=h.datasetIndex=this.index;return h.active=!!e,h.mode=o,h}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",o){let a=e==="active",h=this._cachedDataOpts,p=t+"-"+e,u=h[p],l=this.enableOptionSharing&&Je(o);if(u)return ld(u,l);let f=this.chart.config,m=f.datasetElementScopeKeys(this._type,t),v=a?[`${t}Hover`,"hover",t,""]:[t,""],_=f.getOptionScopes(this.getDataset(),m),w=Object.keys(ce.elements[t]),P=()=>this.getContext(o,a,e),C=f.resolveNamedOptions(_,w,P,v);return C.$shared&&(C.$shared=l,h[p]=Object.freeze(ld(C,l))),C}_resolveAnimations(t,e,o){let a=this.chart,h=this._cachedDataOpts,p=`animation-${e}`,u=h[p];if(u)return u;let l;if(a.options.animation!==!1){let m=this.chart.config,v=m.datasetAnimationScopeKeys(this._type,e),_=m.getOptionScopes(this.getDataset(),v);l=m.createResolver(_,this.getContext(t,o,e))}let f=new fa(a,l&&l.animations);return l&&l._cacheable&&(h[p]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||uc(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){let o=this.resolveDataElementOptions(t,e),a=this._sharedOptions,h=this.getSharedOptions(o),p=this.includeOptions(e,h)||h!==a;return this.updateSharedOptions(h,e,o),{sharedOptions:h,includeOptions:p}}updateElement(t,e,o,a){uc(a)?Object.assign(t,o):this._resolveAnimations(e,a).update(t,o)}updateSharedOptions(t,e,o){t&&!uc(e)&&this._resolveAnimations(void 0,e).update(t,o)}_setStyle(t,e,o,a){t.active=a;let h=this.getStyle(e,a);this._resolveAnimations(e,o,a).update(t,{options:!a&&this.getSharedOptions(h)||h})}removeHoverStyle(t,e,o){this._setStyle(t,o,"active",!1)}setHoverStyle(t,e,o){this._setStyle(t,o,"active",!0)}_removeDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){let e=this._data,o=this._cachedMeta.data;for(let[u,l,f]of this._syncList)this[u](l,f);this._syncList=[];let a=o.length,h=e.length,p=Math.min(h,a);p&&this.parse(0,p),h>a?this._insertElements(a,h-a,t):h<a&&this._removeElements(h,a-h)}_insertElements(t,e,o=!0){let a=this._cachedMeta,h=a.data,p=t+e,u,l=f=>{for(f.length+=e,u=f.length-1;u>=p;u--)f[u]=f[u-e]};for(l(h),u=t;u<p;++u)h[u]=new this.dataElementType;this._parsing&&l(a._parsed),this.parse(t,e),o&&this.updateElements(h,t,e,"reset")}updateElements(t,e,o,a){}_removeElements(t,e){let o=this._cachedMeta;if(this._parsing){let a=o._parsed.splice(t,e);o._stacked&&To(o,a)}o.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{let[e,o,a]=t;this[e](o,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){let t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);let o=arguments.length-2;o&&this._sync(["_insertElements",t,o])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}};vt(je,"defaults",{}),vt(je,"datasetElementType",null),vt(je,"dataElementType",null);function Mx(i,t){if(!i._cache.$bar){let e=i.getMatchingVisibleMetas(t),o=[];for(let a=0,h=e.length;a<h;a++)o=o.concat(e[a].controller.getAllParsedValues(i));i._cache.$bar=$l(o.sort((a,h)=>a-h))}return i._cache.$bar}function Ox(i){let t=i.iScale,e=Mx(t,i.type),o=t._length,a,h,p,u,l=()=>{p===32767||p===-32768||(Je(u)&&(o=Math.min(o,Math.abs(p-u)||o)),u=p)};for(a=0,h=e.length;a<h;++a)p=t.getPixelForValue(e[a]),l();for(u=void 0,a=0,h=t.ticks.length;a<h;++a)p=t.getPixelForTick(a),l();return o}function Tx(i,t,e,o){let a=e.barThickness,h,p;return zt(a)?(h=t.min*e.categoryPercentage,p=e.barPercentage):(h=a*o,p=1),{chunk:h/o,ratio:p,start:t.pixels[i]-h/2}}function Ax(i,t,e,o){let a=t.pixels,h=a[i],p=i>0?a[i-1]:null,u=i<a.length-1?a[i+1]:null,l=e.categoryPercentage;p===null&&(p=h-(u===null?t.end-t.start:u-h)),u===null&&(u=h+h-p);let f=h-(h-Math.min(p,u))/2*l;return{chunk:Math.abs(u-p)/2*l/o,ratio:e.barPercentage,start:f}}function Ex(i,t,e,o){let a=e.parse(i[0],o),h=e.parse(i[1],o),p=Math.min(a,h),u=Math.max(a,h),l=p,f=u;Math.abs(p)>Math.abs(u)&&(l=u,f=p),t[e.axis]=f,t._custom={barStart:l,barEnd:f,start:a,end:h,min:p,max:u}}function tp(i,t,e,o){return Zt(i)?Ex(i,t,e,o):t[e.axis]=e.parse(i,o),t}function cd(i,t,e,o){let a=i.iScale,h=i.vScale,p=a.getLabels(),u=a===h,l=[],f,m,v,_;for(f=e,m=e+o;f<m;++f)_=t[f],v={},v[a.axis]=u||a.parse(p[f],f),l.push(tp(_,v,h,f));return l}function hc(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function Dx(i,t,e){return i!==0?xn(i):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function Lx(i){let t,e,o,a,h;return i.horizontal?(t=i.base>i.x,e="left",o="right"):(t=i.base<i.y,e="bottom",o="top"),t?(a="end",h="start"):(a="start",h="end"),{start:e,end:o,reverse:t,top:a,bottom:h}}function Sx(i,t,e,o){let a=t.borderSkipped,h={};if(!a){i.borderSkipped=h;return}if(a===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:p,end:u,reverse:l,top:f,bottom:m}=Lx(i);a==="middle"&&e&&(i.enableBorderRadius=!0,(e._top||0)===o?a=f:(e._bottom||0)===o?a=m:(h[ud(m,p,u,l)]=!0,a=f)),h[ud(a,p,u,l)]=!0,i.borderSkipped=h}function ud(i,t,e,o){return o?(i=Rx(i,t,e),i=hd(i,e,t)):i=hd(i,t,e),i}function Rx(i,t,e){return i===t?e:i===e?t:i}function hd(i,t,e){return i==="start"?t:i==="end"?e:i}function Ix(i,{inflateAmount:t},e){i.inflateAmount=t==="auto"?e===1?.33:0:t}var Is=class extends je{parsePrimitiveData(t,e,o,a){return cd(t,e,o,a)}parseArrayData(t,e,o,a){return cd(t,e,o,a)}parseObjectData(t,e,o,a){let{iScale:h,vScale:p}=t,{xAxisKey:u="x",yAxisKey:l="y"}=this._parsing,f=h.axis==="x"?u:l,m=p.axis==="x"?u:l,v=[],_,w,P,C;for(_=o,w=o+a;_<w;++_)C=e[_],P={},P[h.axis]=h.parse(Gn(C,f),_),v.push(tp(Gn(C,m),P,p,_));return v}updateRangeFromParsed(t,e,o,a){super.updateRangeFromParsed(t,e,o,a);let h=o._custom;h&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,h.min),t.max=Math.max(t.max,h.max))}getMaxOverflow(){return 0}getLabelAndValue(t){let e=this._cachedMeta,{iScale:o,vScale:a}=e,h=this.getParsed(t),p=h._custom,u=hc(p)?"["+p.start+", "+p.end+"]":""+a.getLabelForValue(h[a.axis]);return{label:""+o.getLabelForValue(h[o.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();let t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){let e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,o,a){let h=a==="reset",{index:p,_cachedMeta:{vScale:u}}=this,l=u.getBasePixel(),f=u.isHorizontal(),m=this._getRuler(),{sharedOptions:v,includeOptions:_}=this._getSharedOptions(e,a);for(let w=e;w<e+o;w++){let P=this.getParsed(w),C=h||zt(P[u.axis])?{base:l,head:l}:this._calculateBarValuePixels(w),M=this._calculateBarIndexPixels(w,m),O=(P._stacks||{})[u.axis],A={horizontal:f,base:C.base,enableBorderRadius:!O||hc(P._custom)||p===O._top||p===O._bottom,x:f?C.head:M.center,y:f?M.center:C.head,height:f?M.size:Math.abs(C.size),width:f?Math.abs(C.size):M.size};_&&(A.options=v||this.resolveDataElementOptions(w,t[w].active?"active":a));let L=A.options||t[w].options;Sx(A,L,O,p),Ix(A,L,m.ratio),this.updateElement(t[w],w,A,a)}}_getStacks(t,e){let{iScale:o}=this._cachedMeta,a=o.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),h=o.options.stacked,p=[],u=l=>{let f=l.controller.getParsed(e),m=f&&f[l.vScale.axis];if(zt(m)||isNaN(m))return!0};for(let l of a)if(!(e!==void 0&&u(l))&&((h===!1||p.indexOf(l.stack)===-1||h===void 0&&l.stack===void 0)&&p.push(l.stack),l.index===t))break;return p.length||p.push(void 0),p}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,o){let a=this._getStacks(t,o),h=e!==void 0?a.indexOf(e):-1;return h===-1?a.length-1:h}_getRuler(){let t=this.options,e=this._cachedMeta,o=e.iScale,a=[],h,p;for(h=0,p=e.data.length;h<p;++h)a.push(o.getPixelForValue(this.getParsed(h)[o.axis],h));let u=t.barThickness;return{min:u||Ox(e),pixels:a,start:o._startPixel,end:o._endPixel,stackCount:this._getStackCount(),scale:o,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){let{_cachedMeta:{vScale:e,_stacked:o,index:a},options:{base:h,minBarLength:p}}=this,u=h||0,l=this.getParsed(t),f=l._custom,m=hc(f),v=l[e.axis],_=0,w=o?this.applyStack(e,l,o):v,P,C;w!==v&&(_=w-v,w=v),m&&(v=f.barStart,w=f.barEnd-f.barStart,v!==0&&xn(v)!==xn(f.barEnd)&&(_=0),_+=v);let M=!zt(h)&&!m?h:_,O=e.getPixelForValue(M);if(this.chart.getDataVisibility(t)?P=e.getPixelForValue(_+w):P=O,C=P-O,Math.abs(C)<p){C=Dx(C,e,u)*p,v===u&&(O-=C/2);let A=e.getPixelForDecimal(0),L=e.getPixelForDecimal(1),E=Math.min(A,L),F=Math.max(A,L);O=Math.max(Math.min(O,F),E),P=O+C,o&&!m&&(l._stacks[e.axis]._visualValues[a]=e.getValueForPixel(P)-e.getValueForPixel(O))}if(O===e.getPixelForValue(u)){let A=xn(C)*e.getLineWidthForValue(u)/2;O+=A,C-=A}return{size:C,base:O,head:P,center:P+C/2}}_calculateBarIndexPixels(t,e){let o=e.scale,a=this.options,h=a.skipNull,p=Tt(a.maxBarThickness,1/0),u,l;if(e.grouped){let f=h?this._getStackCount(t):e.stackCount,m=a.barThickness==="flex"?Ax(t,e,a,f):Tx(t,e,a,f),v=this._getStackIndex(this.index,this._cachedMeta.stack,h?t:void 0);u=m.start+m.chunk*v+m.chunk/2,l=Math.min(p,m.chunk*m.ratio)}else u=o.getPixelForValue(this.getParsed(t)[o.axis],t),l=Math.min(p,e.min*e.ratio);return{base:u-l/2,head:u+l/2,center:u,size:l}}draw(){let t=this._cachedMeta,e=t.vScale,o=t.data,a=o.length,h=0;for(;h<a;++h)this.getParsed(h)[e.axis]!==null&&o[h].draw(this._ctx)}};vt(Is,"id","bar"),vt(Is,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),vt(Is,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});var Fs=class extends je{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,o,a){let h=super.parsePrimitiveData(t,e,o,a);for(let p=0;p<h.length;p++)h[p]._custom=this.resolveDataElementOptions(p+o).radius;return h}parseArrayData(t,e,o,a){let h=super.parseArrayData(t,e,o,a);for(let p=0;p<h.length;p++){let u=e[o+p];h[p]._custom=Tt(u[2],this.resolveDataElementOptions(p+o).radius)}return h}parseObjectData(t,e,o,a){let h=super.parseObjectData(t,e,o,a);for(let p=0;p<h.length;p++){let u=e[o+p];h[p]._custom=Tt(u&&u.r&&+u.r,this.resolveDataElementOptions(p+o).radius)}return h}getMaxOverflow(){let t=this._cachedMeta.data,e=0;for(let o=t.length-1;o>=0;--o)e=Math.max(e,t[o].size(this.resolveDataElementOptions(o))/2);return e>0&&e}getLabelAndValue(t){let e=this._cachedMeta,o=this.chart.data.labels||[],{xScale:a,yScale:h}=e,p=this.getParsed(t),u=a.getLabelForValue(p.x),l=h.getLabelForValue(p.y),f=p._custom;return{label:o[t]||"",value:"("+u+", "+l+(f?", "+f:"")+")"}}update(t){let e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,o,a){let h=a==="reset",{iScale:p,vScale:u}=this._cachedMeta,{sharedOptions:l,includeOptions:f}=this._getSharedOptions(e,a),m=p.axis,v=u.axis;for(let _=e;_<e+o;_++){let w=t[_],P=!h&&this.getParsed(_),C={},M=C[m]=h?p.getPixelForDecimal(.5):p.getPixelForValue(P[m]),O=C[v]=h?u.getBasePixel():u.getPixelForValue(P[v]);C.skip=isNaN(M)||isNaN(O),f&&(C.options=l||this.resolveDataElementOptions(_,w.active?"active":a),h&&(C.options.radius=0)),this.updateElement(w,_,C,a)}}resolveDataElementOptions(t,e){let o=this.getParsed(t),a=super.resolveDataElementOptions(t,e);a.$shared&&(a=Object.assign({},a,{$shared:!1}));let h=a.radius;return e!=="active"&&(a.radius=0),a.radius+=Tt(o&&o._custom,h),a}};vt(Fs,"id","bubble"),vt(Fs,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),vt(Fs,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Fx(i,t,e){let o=1,a=1,h=0,p=0;if(t<Jt){let u=i,l=u+t,f=Math.cos(u),m=Math.sin(u),v=Math.cos(l),_=Math.sin(l),w=(L,E,F)=>Es(L,u,l,!0)?1:Math.max(E,E*e,F,F*e),P=(L,E,F)=>Es(L,u,l,!0)?-1:Math.min(E,E*e,F,F*e),C=w(0,f,v),M=w(ie,m,_),O=P(ee,f,v),A=P(ee+ie,m,_);o=(C-O)/2,a=(M-A)/2,h=-(C+O)/2,p=-(M+A)/2}return{ratioX:o,ratioY:a,offsetX:h,offsetY:p}}var Jn=class extends je{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){let o=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=o;else{let h=l=>+o[l];if(St(o[t])){let{key:l="value"}=this._parsing;h=f=>+Gn(o[f],l)}let p,u;for(p=t,u=t+e;p<u;++p)a._parsed[p]=h(p)}}_getRotation(){return cn(this.options.rotation-90)}_getCircumference(){return cn(this.options.circumference)}_getRotationExtents(){let t=Jt,e=-Jt;for(let o=0;o<this.chart.data.datasets.length;++o)if(this.chart.isDatasetVisible(o)&&this.chart.getDatasetMeta(o).type===this._type){let a=this.chart.getDatasetMeta(o).controller,h=a._getRotation(),p=a._getCircumference();t=Math.min(t,h),e=Math.max(e,h+p)}return{rotation:t,circumference:e-t}}update(t){let e=this.chart,{chartArea:o}=e,a=this._cachedMeta,h=a.data,p=this.getMaxBorderWidth()+this.getMaxOffset(h)+this.options.spacing,u=Math.max((Math.min(o.width,o.height)-p)/2,0),l=Math.min(Of(this.options.cutout,u),1),f=this._getRingWeight(this.index),{circumference:m,rotation:v}=this._getRotationExtents(),{ratioX:_,ratioY:w,offsetX:P,offsetY:C}=Fx(v,m,l),M=(o.width-p)/_,O=(o.height-p)/w,A=Math.max(Math.min(M,O)/2,0),L=Fl(this.options.radius,A),E=Math.max(L*l,0),F=(L-E)/this._getVisibleDatasetWeightTotal();this.offsetX=P*L,this.offsetY=C*L,a.total=this.calculateTotal(),this.outerRadius=L-F*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-F*f,0),this.updateElements(h,0,h.length,t)}_circumference(t,e){let o=this.options,a=this._cachedMeta,h=this._getCircumference();return e&&o.animation.animateRotate||!this.chart.getDataVisibility(t)||a._parsed[t]===null||a.data[t].hidden?0:this.calculateCircumference(a._parsed[t]*h/Jt)}updateElements(t,e,o,a){let h=a==="reset",p=this.chart,u=p.chartArea,f=p.options.animation,m=(u.left+u.right)/2,v=(u.top+u.bottom)/2,_=h&&f.animateScale,w=_?0:this.innerRadius,P=_?0:this.outerRadius,{sharedOptions:C,includeOptions:M}=this._getSharedOptions(e,a),O=this._getRotation(),A;for(A=0;A<e;++A)O+=this._circumference(A,h);for(A=e;A<e+o;++A){let L=this._circumference(A,h),E=t[A],F={x:m+this.offsetX,y:v+this.offsetY,startAngle:O,endAngle:O+L,circumference:L,outerRadius:P,innerRadius:w};M&&(F.options=C||this.resolveDataElementOptions(A,E.active?"active":a)),O+=L,this.updateElement(E,A,F,a)}}calculateTotal(){let t=this._cachedMeta,e=t.data,o=0,a;for(a=0;a<e.length;a++){let h=t._parsed[a];h!==null&&!isNaN(h)&&this.chart.getDataVisibility(a)&&!e[a].hidden&&(o+=Math.abs(h))}return o}calculateCircumference(t){let e=this._cachedMeta.total;return e>0&&!isNaN(t)?Jt*(Math.abs(t)/e):0}getLabelAndValue(t){let e=this._cachedMeta,o=this.chart,a=o.data.labels||[],h=Ds(e._parsed[t],o.options.locale);return{label:a[t]||"",value:h}}getMaxBorderWidth(t){let e=0,o=this.chart,a,h,p,u,l;if(!t){for(a=0,h=o.data.datasets.length;a<h;++a)if(o.isDatasetVisible(a)){p=o.getDatasetMeta(a),t=p.data,u=p.controller;break}}if(!t)return 0;for(a=0,h=t.length;a<h;++a)l=u.resolveDataElementOptions(a),l.borderAlign!=="inner"&&(e=Math.max(e,l.borderWidth||0,l.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let o=0,a=t.length;o<a;++o){let h=this.resolveDataElementOptions(o);e=Math.max(e,h.offset||0,h.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let o=0;o<t;++o)this.chart.isDatasetVisible(o)&&(e+=this._getRingWeight(o));return e}_getRingWeight(t){return Math.max(Tt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}};vt(Jn,"id","doughnut"),vt(Jn,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),vt(Jn,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"}),vt(Jn,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let e=t.data;if(e.labels.length&&e.datasets.length){let{labels:{pointStyle:o,color:a}}=t.legend.options;return e.labels.map((h,p)=>{let l=t.getDatasetMeta(0).controller.getStyle(p);return{text:h,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:a,lineWidth:l.borderWidth,pointStyle:o,hidden:!t.getDataVisibility(p),index:p}})}return[]}},onClick(t,e,o){o.chart.toggleDataVisibility(e.index),o.chart.update()}}}});var Bs=class extends je{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){let e=this._cachedMeta,{dataset:o,data:a=[],_dataset:h}=e,p=this.chart._animationsDisabled,{start:u,count:l}=Ul(e,a,p);this._drawStart=u,this._drawCount=l,Xl(e)&&(u=0,l=a.length),o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!h._decimated,o.points=a;let f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(o,void 0,{animated:!p,options:f},t),this.updateElements(a,u,l,t)}updateElements(t,e,o,a){let h=a==="reset",{iScale:p,vScale:u,_stacked:l,_dataset:f}=this._cachedMeta,{sharedOptions:m,includeOptions:v}=this._getSharedOptions(e,a),_=p.axis,w=u.axis,{spanGaps:P,segment:C}=this.options,M=Xi(P)?P:Number.POSITIVE_INFINITY,O=this.chart._animationsDisabled||h||a==="none",A=e+o,L=t.length,E=e>0&&this.getParsed(e-1);for(let F=0;F<L;++F){let N=t[F],H=O?N:{};if(F<e||F>=A){H.skip=!0;continue}let $=this.getParsed(F),G=zt($[w]),tt=H[_]=p.getPixelForValue($[_],F),et=H[w]=h||G?u.getBasePixel():u.getPixelForValue(l?this.applyStack(u,$,l):$[w],F);H.skip=isNaN(tt)||isNaN(et)||G,H.stop=F>0&&Math.abs($[_]-E[_])>M,C&&(H.parsed=$,H.raw=f.data[F]),v&&(H.options=m||this.resolveDataElementOptions(F,N.active?"active":a)),O||this.updateElement(N,F,H,a),E=$}}getMaxOverflow(){let t=this._cachedMeta,e=t.dataset,o=e.options&&e.options.borderWidth||0,a=t.data||[];if(!a.length)return o;let h=a[0].size(this.resolveDataElementOptions(0)),p=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(o,h,p)/2}draw(){let t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}};vt(Bs,"id","line"),vt(Bs,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),vt(Bs,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});var Ji=class extends je{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){let e=this._cachedMeta,o=this.chart,a=o.data.labels||[],h=Ds(e._parsed[t].r,o.options.locale);return{label:a[t]||"",value:h}}parseObjectData(t,e,o,a){return ec.bind(this)(t,e,o,a)}update(t){let e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){let t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((o,a)=>{let h=this.getParsed(a).r;!isNaN(h)&&this.chart.getDataVisibility(a)&&(h<e.min&&(e.min=h),h>e.max&&(e.max=h))}),e}_updateRadius(){let t=this.chart,e=t.chartArea,o=t.options,a=Math.min(e.right-e.left,e.bottom-e.top),h=Math.max(a/2,0),p=Math.max(o.cutoutPercentage?h/100*o.cutoutPercentage:1,0),u=(h-p)/t.getVisibleDatasetCount();this.outerRadius=h-u*this.index,this.innerRadius=this.outerRadius-u}updateElements(t,e,o,a){let h=a==="reset",p=this.chart,l=p.options.animation,f=this._cachedMeta.rScale,m=f.xCenter,v=f.yCenter,_=f.getIndexAngle(0)-.5*ee,w=_,P,C=360/this.countVisibleElements();for(P=0;P<e;++P)w+=this._computeAngle(P,a,C);for(P=e;P<e+o;P++){let M=t[P],O=w,A=w+this._computeAngle(P,a,C),L=p.getDataVisibility(P)?f.getDistanceFromCenterForValue(this.getParsed(P).r):0;w=A,h&&(l.animateScale&&(L=0),l.animateRotate&&(O=A=_));let E={x:m,y:v,innerRadius:0,outerRadius:L,startAngle:O,endAngle:A,options:this.resolveDataElementOptions(P,M.active?"active":a)};this.updateElement(M,P,E,a)}}countVisibleElements(){let t=this._cachedMeta,e=0;return t.data.forEach((o,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&e++}),e}_computeAngle(t,e,o){return this.chart.getDataVisibility(t)?cn(this.resolveDataElementOptions(t,e).angle||o):0}};vt(Ji,"id","polarArea"),vt(Ji,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),vt(Ji,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let e=t.data;if(e.labels.length&&e.datasets.length){let{labels:{pointStyle:o,color:a}}=t.legend.options;return e.labels.map((h,p)=>{let l=t.getDatasetMeta(0).controller.getStyle(p);return{text:h,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:a,lineWidth:l.borderWidth,pointStyle:o,hidden:!t.getDataVisibility(p),index:p}})}return[]}},onClick(t,e,o){o.chart.toggleDataVisibility(e.index),o.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});var So=class extends Jn{};vt(So,"id","pie"),vt(So,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});var zs=class extends je{getLabelAndValue(t){let e=this._cachedMeta.vScale,o=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(o[e.axis])}}parseObjectData(t,e,o,a){return ec.bind(this)(t,e,o,a)}update(t){let e=this._cachedMeta,o=e.dataset,a=e.data||[],h=e.iScale.getLabels();if(o.points=a,t!=="resize"){let p=this.resolveDatasetElementOptions(t);this.options.showLine||(p.borderWidth=0);let u={_loop:!0,_fullLoop:h.length===a.length,options:p};this.updateElement(o,void 0,u,t)}this.updateElements(a,0,a.length,t)}updateElements(t,e,o,a){let h=this._cachedMeta.rScale,p=a==="reset";for(let u=e;u<e+o;u++){let l=t[u],f=this.resolveDataElementOptions(u,l.active?"active":a),m=h.getPointPositionForValue(u,this.getParsed(u).r),v=p?h.xCenter:m.x,_=p?h.yCenter:m.y,w={x:v,y:_,angle:m.angle,skip:isNaN(v)||isNaN(_),options:f};this.updateElement(l,u,w,a)}}};vt(zs,"id","radar"),vt(zs,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),vt(zs,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});var Ns=class extends je{getLabelAndValue(t){let e=this._cachedMeta,o=this.chart.data.labels||[],{xScale:a,yScale:h}=e,p=this.getParsed(t),u=a.getLabelForValue(p.x),l=h.getLabelForValue(p.y);return{label:o[t]||"",value:"("+u+", "+l+")"}}update(t){let e=this._cachedMeta,{data:o=[]}=e,a=this.chart._animationsDisabled,{start:h,count:p}=Ul(e,o,a);if(this._drawStart=h,this._drawCount=p,Xl(e)&&(h=0,p=o.length),this.options.showLine){let{dataset:u,_dataset:l}=e;u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!l._decimated,u.points=o;let f=this.resolveDatasetElementOptions(t);f.segment=this.options.segment,this.updateElement(u,void 0,{animated:!a,options:f},t)}this.updateElements(o,h,p,t)}addElements(){let{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,o,a){let h=a==="reset",{iScale:p,vScale:u,_stacked:l,_dataset:f}=this._cachedMeta,m=this.resolveDataElementOptions(e,a),v=this.getSharedOptions(m),_=this.includeOptions(a,v),w=p.axis,P=u.axis,{spanGaps:C,segment:M}=this.options,O=Xi(C)?C:Number.POSITIVE_INFINITY,A=this.chart._animationsDisabled||h||a==="none",L=e>0&&this.getParsed(e-1);for(let E=e;E<e+o;++E){let F=t[E],N=this.getParsed(E),H=A?F:{},$=zt(N[P]),G=H[w]=p.getPixelForValue(N[w],E),tt=H[P]=h||$?u.getBasePixel():u.getPixelForValue(l?this.applyStack(u,N,l):N[P],E);H.skip=isNaN(G)||isNaN(tt)||$,H.stop=E>0&&Math.abs(N[w]-L[w])>O,M&&(H.parsed=N,H.raw=f.data[E]),_&&(H.options=v||this.resolveDataElementOptions(E,F.active?"active":a)),A||this.updateElement(F,E,H,a),L=N}this.updateSharedOptions(v,a,m)}getMaxOverflow(){let t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let u=0;for(let l=e.length-1;l>=0;--l)u=Math.max(u,e[l].size(this.resolveDataElementOptions(l))/2);return u>0&&u}let o=t.dataset,a=o.options&&o.options.borderWidth||0;if(!e.length)return a;let h=e[0].size(this.resolveDataElementOptions(0)),p=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(a,h,p)/2}};vt(Ns,"id","scatter"),vt(Ns,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),vt(Ns,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Bx=Object.freeze({__proto__:null,BarController:Is,BubbleController:Fs,DoughnutController:Jn,LineController:Bs,PolarAreaController:Ji,PieController:So,RadarController:zs,ScatterController:Ns});function Ki(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var Ho=class{static override(t){Object.assign(Ho.prototype,t)}constructor(t){this.options=t||{}}init(){}formats(){return Ki()}parse(){return Ki()}format(){return Ki()}add(){return Ki()}diff(){return Ki()}startOf(){return Ki()}endOf(){return Ki()}},zx={_date:Ho};function Nx(i,t,e,o){let{controller:a,data:h,_sorted:p}=i,u=a._cachedMeta.iScale;if(u&&t===u.axis&&t!=="r"&&p&&h.length){let l=u._reversePixels?Sf:En;if(o){if(a._sharedOptions){let f=h[0],m=typeof f.getRange=="function"&&f.getRange(t);if(m){let v=l(h,t,e-m),_=l(h,t,e+m);return{lo:v.lo,hi:_.hi}}}}else return l(h,t,e)}return{lo:0,hi:h.length-1}}function qo(i,t,e,o,a){let h=i.getSortedVisibleDatasetMetas(),p=e[t];for(let u=0,l=h.length;u<l;++u){let{index:f,data:m}=h[u],{lo:v,hi:_}=Nx(h[u],t,p,a);for(let w=v;w<=_;++w){let P=m[w];P.skip||o(P,f,w)}}}function Vx(i){let t=i.indexOf("x")!==-1,e=i.indexOf("y")!==-1;return function(o,a){let h=t?Math.abs(o.x-a.x):0,p=e?Math.abs(o.y-a.y):0;return Math.sqrt(Math.pow(h,2)+Math.pow(p,2))}}function fc(i,t,e,o,a){let h=[];return!a&&!i.isPointInArea(t)||qo(i,e,t,function(u,l,f){!a&&!Ms(u,i.chartArea,0)||u.inRange(t.x,t.y,o)&&h.push({element:u,datasetIndex:l,index:f})},!0),h}function Hx(i,t,e,o){let a=[];function h(p,u,l){let{startAngle:f,endAngle:m}=p.getProps(["startAngle","endAngle"],o),{angle:v}=Hl(p,{x:t.x,y:t.y});Es(v,f,m)&&a.push({element:p,datasetIndex:u,index:l})}return qo(i,e,t,h),a}function Wx(i,t,e,o,a,h){let p=[],u=Vx(e),l=Number.POSITIVE_INFINITY;function f(m,v,_){let w=m.inRange(t.x,t.y,a);if(o&&!w)return;let P=m.getCenterPoint(a);if(!(!!h||i.isPointInArea(P))&&!w)return;let M=u(t,P);M<l?(p=[{element:m,datasetIndex:v,index:_}],l=M):M===l&&p.push({element:m,datasetIndex:v,index:_})}return qo(i,e,t,f),p}function dc(i,t,e,o,a,h){return!h&&!i.isPointInArea(t)?[]:e==="r"&&!o?Hx(i,t,e,a):Wx(i,t,e,o,a,h)}function fd(i,t,e,o,a){let h=[],p=e==="x"?"inXRange":"inYRange",u=!1;return qo(i,e,t,(l,f,m)=>{l[p](t[e],a)&&(h.push({element:l,datasetIndex:f,index:m}),u=u||l.inRange(t.x,t.y,a))}),o&&!u?[]:h}var $x={evaluateInteractionItems:qo,modes:{index(i,t,e,o){let a=Ti(t,i),h=e.axis||"x",p=e.includeInvisible||!1,u=e.intersect?fc(i,a,h,o,p):dc(i,a,h,!1,o,p),l=[];return u.length?(i.getSortedVisibleDatasetMetas().forEach(f=>{let m=u[0].index,v=f.data[m];v&&!v.skip&&l.push({element:v,datasetIndex:f.index,index:m})}),l):[]},dataset(i,t,e,o){let a=Ti(t,i),h=e.axis||"xy",p=e.includeInvisible||!1,u=e.intersect?fc(i,a,h,o,p):dc(i,a,h,!1,o,p);if(u.length>0){let l=u[0].datasetIndex,f=i.getDatasetMeta(l).data;u=[];for(let m=0;m<f.length;++m)u.push({element:f[m],datasetIndex:l,index:m})}return u},point(i,t,e,o){let a=Ti(t,i),h=e.axis||"xy",p=e.includeInvisible||!1;return fc(i,a,h,o,p)},nearest(i,t,e,o){let a=Ti(t,i),h=e.axis||"xy",p=e.includeInvisible||!1;return dc(i,a,h,e.intersect,o,p)},x(i,t,e,o){let a=Ti(t,i);return fd(i,a,"x",e.intersect,o)},y(i,t,e,o){let a=Ti(t,i);return fd(i,a,"y",e.intersect,o)}}},ep=["left","top","right","bottom"];function Ao(i,t){return i.filter(e=>e.pos===t)}function dd(i,t){return i.filter(e=>ep.indexOf(e.pos)===-1&&e.box.axis===t)}function Eo(i,t){return i.sort((e,o)=>{let a=t?o:e,h=t?e:o;return a.weight===h.weight?a.index-h.index:a.weight-h.weight})}function Yx(i){let t=[],e,o,a,h,p,u;for(e=0,o=(i||[]).length;e<o;++e)a=i[e],{position:h,options:{stack:p,stackWeight:u=1}}=a,t.push({index:e,box:a,pos:h,horizontal:a.isHorizontal(),weight:a.weight,stack:p&&h+p,stackWeight:u});return t}function qx(i){let t={};for(let e of i){let{stack:o,pos:a,stackWeight:h}=e;if(!o||!ep.includes(a))continue;let p=t[o]||(t[o]={count:0,placed:0,weight:0,size:0});p.count++,p.weight+=h}return t}function Ux(i,t){let e=qx(i),{vBoxMaxWidth:o,hBoxMaxHeight:a}=t,h,p,u;for(h=0,p=i.length;h<p;++h){u=i[h];let{fullSize:l}=u.box,f=e[u.stack],m=f&&u.stackWeight/f.weight;u.horizontal?(u.width=m?m*o:l&&t.availableWidth,u.height=a):(u.width=o,u.height=m?m*a:l&&t.availableHeight)}return e}function Xx(i){let t=Yx(i),e=Eo(t.filter(f=>f.box.fullSize),!0),o=Eo(Ao(t,"left"),!0),a=Eo(Ao(t,"right")),h=Eo(Ao(t,"top"),!0),p=Eo(Ao(t,"bottom")),u=dd(t,"x"),l=dd(t,"y");return{fullSize:e,leftAndTop:o.concat(h),rightAndBottom:a.concat(l).concat(p).concat(u),chartArea:Ao(t,"chartArea"),vertical:o.concat(a).concat(l),horizontal:h.concat(p).concat(u)}}function pd(i,t,e,o){return Math.max(i[e],t[e])+Math.max(i[o],t[o])}function np(i,t){i.top=Math.max(i.top,t.top),i.left=Math.max(i.left,t.left),i.bottom=Math.max(i.bottom,t.bottom),i.right=Math.max(i.right,t.right)}function Gx(i,t,e,o){let{pos:a,box:h}=e,p=i.maxPadding;if(!St(a)){e.size&&(i[a]-=e.size);let v=o[e.stack]||{size:0,count:1};v.size=Math.max(v.size,e.horizontal?h.height:h.width),e.size=v.size/v.count,i[a]+=e.size}h.getPadding&&np(p,h.getPadding());let u=Math.max(0,t.outerWidth-pd(p,i,"left","right")),l=Math.max(0,t.outerHeight-pd(p,i,"top","bottom")),f=u!==i.w,m=l!==i.h;return i.w=u,i.h=l,e.horizontal?{same:f,other:m}:{same:m,other:f}}function Kx(i){let t=i.maxPadding;function e(o){let a=Math.max(t[o]-i[o],0);return i[o]+=a,a}i.y+=e("top"),i.x+=e("left"),e("right"),e("bottom")}function Qx(i,t){let e=t.maxPadding;function o(a){let h={left:0,top:0,right:0,bottom:0};return a.forEach(p=>{h[p]=Math.max(t[p],e[p])}),h}return o(i?["left","right"]:["top","bottom"])}function Ro(i,t,e,o){let a=[],h,p,u,l,f,m;for(h=0,p=i.length,f=0;h<p;++h){u=i[h],l=u.box,l.update(u.width||t.w,u.height||t.h,Qx(u.horizontal,t));let{same:v,other:_}=Gx(t,e,u,o);f|=v&&a.length,m=m||_,l.fullSize||a.push(u)}return f&&Ro(a,t,e,o)||m}function sa(i,t,e,o,a){i.top=e,i.left=t,i.right=t+o,i.bottom=e+a,i.width=o,i.height=a}function gd(i,t,e,o){let a=e.padding,{x:h,y:p}=t;for(let u of i){let l=u.box,f=o[u.stack]||{count:1,placed:0,weight:1},m=u.stackWeight/f.weight||1;if(u.horizontal){let v=t.w*m,_=f.size||l.height;Je(f.start)&&(p=f.start),l.fullSize?sa(l,a.left,p,e.outerWidth-a.right-a.left,_):sa(l,t.left+f.placed,p,v,_),f.start=p,f.placed+=v,p=l.bottom}else{let v=t.h*m,_=f.size||l.width;Je(f.start)&&(h=f.start),l.fullSize?sa(l,h,a.top,_,e.outerHeight-a.bottom-a.top):sa(l,h,t.top+f.placed,_,v),f.start=h,f.placed+=v,h=l.right}}t.x=h,t.y=p}var Ne={addBox(i,t){i.boxes||(i.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},i.boxes.push(t)},removeBox(i,t){let e=i.boxes?i.boxes.indexOf(t):-1;e!==-1&&i.boxes.splice(e,1)},configure(i,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(i,t,e,o){if(!i)return;let a=Re(i.options.layout.padding),h=Math.max(t-a.width,0),p=Math.max(e-a.height,0),u=Xx(i.boxes),l=u.vertical,f=u.horizontal;Wt(i.boxes,C=>{typeof C.beforeLayout=="function"&&C.beforeLayout()});let m=l.reduce((C,M)=>M.box.options&&M.box.options.display===!1?C:C+1,0)||1,v=Object.freeze({outerWidth:t,outerHeight:e,padding:a,availableWidth:h,availableHeight:p,vBoxMaxWidth:h/2/m,hBoxMaxHeight:p/2}),_=Object.assign({},a);np(_,Re(o));let w=Object.assign({maxPadding:_,w:h,h:p,x:a.left,y:a.top},a),P=Ux(l.concat(f),v);Ro(u.fullSize,w,v,P),Ro(l,w,v,P),Ro(f,w,v,P)&&Ro(l,w,v,P),Kx(w),gd(u.leftAndTop,w,v,P),w.x+=w.w,w.y+=w.h,gd(u.rightAndBottom,w,v,P),i.chartArea={left:w.left,top:w.top,right:w.left+w.w,bottom:w.top+w.h,height:w.h,width:w.w},Wt(u.chartArea,C=>{let M=C.box;Object.assign(M,i.chartArea),M.update(w.w,w.h,{left:0,top:0,right:0,bottom:0})})}},da=class{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,o){}removeEventListener(t,e,o){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,o,a){return e=Math.max(0,e||t.width),o=o||t.height,{width:e,height:Math.max(0,a?Math.floor(e/a):o)}}isAttached(t){return!0}updateConfig(t){}},yc=class extends da{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}},ua="$chartjs",Zx={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},md=i=>i===null||i==="";function Jx(i,t){let e=i.style,o=i.getAttribute("height"),a=i.getAttribute("width");if(i[ua]={initial:{height:o,width:a,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",md(a)){let h=sc(i,"width");h!==void 0&&(i.width=h)}if(md(o))if(i.style.height==="")i.height=i.width/(t||2);else{let h=sc(i,"height");h!==void 0&&(i.height=h)}return i}var ip=Zf?{passive:!0}:!1;function jx(i,t,e){i.addEventListener(t,e,ip)}function ty(i,t,e){i.canvas.removeEventListener(t,e,ip)}function ey(i,t){let e=Zx[i.type]||i.type,{x:o,y:a}=Ti(i,t);return{type:e,chart:t,native:i,x:o!==void 0?o:null,y:a!==void 0?a:null}}function pa(i,t){for(let e of i)if(e===t||e.contains(t))return!0}function ny(i,t,e){let o=i.canvas,a=new MutationObserver(h=>{let p=!1;for(let u of h)p=p||pa(u.addedNodes,o),p=p&&!pa(u.removedNodes,o);p&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}function iy(i,t,e){let o=i.canvas,a=new MutationObserver(h=>{let p=!1;for(let u of h)p=p||pa(u.removedNodes,o),p=p&&!pa(u.addedNodes,o);p&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}var Wo=new Map,bd=0;function sp(){let i=window.devicePixelRatio;i!==bd&&(bd=i,Wo.forEach((t,e)=>{e.currentDevicePixelRatio!==i&&t()}))}function sy(i,t){Wo.size||window.addEventListener("resize",sp),Wo.set(i,t)}function oy(i){Wo.delete(i),Wo.size||window.removeEventListener("resize",sp)}function ry(i,t,e){let o=i.canvas,a=o&&na(o);if(!a)return;let h=ql((u,l)=>{let f=a.clientWidth;e(u,l),f<a.clientWidth&&e()},window),p=new ResizeObserver(u=>{let l=u[0],f=l.contentRect.width,m=l.contentRect.height;f===0&&m===0||h(f,m)});return p.observe(a),sy(i,h),p}function pc(i,t,e){e&&e.disconnect(),t==="resize"&&oy(i)}function ay(i,t,e){let o=i.canvas,a=ql(h=>{i.ctx!==null&&e(ey(h,i))},i);return jx(o,t,a),a}var _c=class extends da{acquireContext(t,e){let o=t&&t.getContext&&t.getContext("2d");return o&&o.canvas===t?(Jx(t,e),o):null}releaseContext(t){let e=t.canvas;if(!e[ua])return!1;let o=e[ua].initial;["height","width"].forEach(h=>{let p=o[h];zt(p)?e.removeAttribute(h):e.setAttribute(h,p)});let a=o.style||{};return Object.keys(a).forEach(h=>{e.style[h]=a[h]}),e.width=e.width,delete e[ua],!0}addEventListener(t,e,o){this.removeEventListener(t,e);let a=t.$proxies||(t.$proxies={}),p={attach:ny,detach:iy,resize:ry}[e]||ay;a[e]=p(t,e,o)}removeEventListener(t,e){let o=t.$proxies||(t.$proxies={}),a=o[e];if(!a)return;({attach:pc,detach:pc,resize:pc}[e]||ty)(t,e,a),o[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,o,a){return Qf(t,e,o,a)}isAttached(t){let e=na(t);return!!(e&&e.isConnected)}};function ly(i){return!nc()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?yc:_c}var tn=class{active=!1;tooltipPosition(t){let{x:e,y:o}=this.getProps(["x","y"],t);return{x:e,y:o}}hasValue(){return Xi(this.x)&&Xi(this.y)}getProps(t,e){let o=this.$animations;if(!e||!o)return this;let a={};return t.forEach(h=>{a[h]=o[h]&&o[h].active()?o[h]._to:this[h]}),a}};vt(tn,"defaults",{}),vt(tn,"defaultRoutes");function cy(i,t){let e=i.options.ticks,o=uy(i),a=Math.min(e.maxTicksLimit||o,o),h=e.major.enabled?fy(t):[],p=h.length,u=h[0],l=h[p-1],f=[];if(p>a)return dy(t,f,h,p/a),f;let m=hy(h,t,a);if(p>0){let v,_,w=p>1?Math.round((l-u)/(p-1)):null;for(oa(t,f,m,zt(w)?0:u-w,u),v=0,_=p-1;v<_;v++)oa(t,f,m,h[v],h[v+1]);return oa(t,f,m,l,zt(w)?t.length:l+w),f}return oa(t,f,m),f}function uy(i){let t=i.options.offset,e=i._tickSize(),o=i._length/e+(t?0:1),a=i._maxLength/e;return Math.floor(Math.min(o,a))}function hy(i,t,e){let o=py(i),a=t.length/e;if(!o)return Math.max(a,1);let h=Ef(o);for(let p=0,u=h.length-1;p<u;p++){let l=h[p];if(l>a)return l}return Math.max(a,1)}function fy(i){let t=[],e,o;for(e=0,o=i.length;e<o;e++)i[e].major&&t.push(e);return t}function dy(i,t,e,o){let a=0,h=e[0],p;for(o=Math.ceil(o),p=0;p<i.length;p++)p===h&&(t.push(i[p]),a++,h=e[a*o])}function oa(i,t,e,o,a){let h=Tt(o,0),p=Math.min(Tt(a,i.length),i.length),u=0,l,f,m;for(e=Math.ceil(e),a&&(l=a-o,e=l/Math.floor(l/e)),m=h;m<0;)u++,m=Math.round(h+u*e);for(f=Math.max(h,0);f<p;f++)f===m&&(t.push(i[f]),u++,m=Math.round(h+u*e))}function py(i){let t=i.length,e,o;if(t<2)return!1;for(o=i[0],e=1;e<t;++e)if(i[e]-i[e-1]!==o)return!1;return o}var gy=i=>i==="left"?"right":i==="right"?"left":i,vd=(i,t,e)=>t==="top"||t==="left"?i[t]+e:i[t]-e,xd=(i,t)=>Math.min(t||i,i);function yd(i,t){let e=[],o=i.length/t,a=i.length,h=0;for(;h<a;h+=o)e.push(i[Math.floor(h)]);return e}function my(i,t,e){let o=i.ticks.length,a=Math.min(t,o-1),h=i._startPixel,p=i._endPixel,u=1e-6,l=i.getPixelForTick(a),f;if(!(e&&(o===1?f=Math.max(l-h,p-l):t===0?f=(i.getPixelForTick(1)-l)/2:f=(l-i.getPixelForTick(a-1))/2,l+=a<t?f:-f,l<h-u||l>p+u)))return l}function by(i,t){Wt(i,e=>{let o=e.gc,a=o.length/2,h;if(a>t){for(h=0;h<a;++h)delete e.data[o[h]];o.splice(0,a)}})}function Do(i){return i.drawTicks?i.tickLength:0}function _d(i,t){if(!i.display)return 0;let e=ye(i.font,t),o=Re(i.padding);return(Zt(i.text)?i.text.length:1)*e.lineHeight+o.height}function vy(i,t){return Kn(i,{scale:t,type:"scale"})}function xy(i,t,e){return Kn(i,{tick:e,index:t,type:"tick"})}function yy(i,t,e){let o=Zr(i);return(e&&t!=="right"||!e&&t==="right")&&(o=gy(o)),o}function _y(i,t,e,o){let{top:a,left:h,bottom:p,right:u,chart:l}=i,{chartArea:f,scales:m}=l,v=0,_,w,P,C=p-a,M=u-h;if(i.isHorizontal()){if(w=Se(o,h,u),St(e)){let O=Object.keys(e)[0],A=e[O];P=m[O].getPixelForValue(A)+C-t}else e==="center"?P=(f.bottom+f.top)/2+C-t:P=vd(i,e,t);_=u-h}else{if(St(e)){let O=Object.keys(e)[0],A=e[O];w=m[O].getPixelForValue(A)-M+t}else e==="center"?w=(f.left+f.right)/2-M+t:w=vd(i,e,t);P=Se(o,p,a),v=e==="left"?-ie:ie}return{titleX:w,titleY:P,maxWidth:_,rotation:v}}var jn=class extends tn{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:o,_suggestedMax:a}=this;return t=Ke(t,Number.POSITIVE_INFINITY),e=Ke(e,Number.NEGATIVE_INFINITY),o=Ke(o,Number.POSITIVE_INFINITY),a=Ke(a,Number.NEGATIVE_INFINITY),{min:Ke(t,o),max:Ke(e,a),minDefined:se(t),maxDefined:se(e)}}getMinMax(t){let{min:e,max:o,minDefined:a,maxDefined:h}=this.getUserBounds(),p;if(a&&h)return{min:e,max:o};let u=this.getMatchingVisibleMetas();for(let l=0,f=u.length;l<f;++l)p=u[l].controller.getMinMax(this,t),a||(e=Math.min(e,p.min)),h||(o=Math.max(o,p.max));return e=h&&e>o?o:e,o=a&&e>o?e:o,{min:Ke(e,Ke(o,e)),max:Ke(o,Ke(e,o))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Xt(this.options.beforeUpdate,[this])}update(t,e,o){let{beginAtZero:a,grace:h,ticks:p}=this.options,u=p.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=o=Object.assign({left:0,right:0,top:0,bottom:0},o),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+o.left+o.right:this.height+o.top+o.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Yf(this,h,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=u<this.ticks.length;this._convertTicksToLabels(l?yd(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),p.display&&(p.autoSkip||p.source==="auto")&&(this.ticks=cy(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,o;this.isHorizontal()?(e=this.left,o=this.right):(e=this.top,o=this.bottom,t=!t),this._startPixel=e,this._endPixel=o,this._reversePixels=t,this._length=o-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Xt(this.options.afterUpdate,[this])}beforeSetDimensions(){Xt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Xt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Xt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Xt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){let e=this.options.ticks,o,a,h;for(o=0,a=t.length;o<a;o++)h=t[o],h.label=Xt(e.callback,[h.value,o,t],this)}afterTickToLabelConversion(){Xt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Xt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let t=this.options,e=t.ticks,o=xd(this.ticks.length,t.ticks.maxTicksLimit),a=e.minRotation||0,h=e.maxRotation,p=a,u,l,f;if(!this._isVisible()||!e.display||a>=h||o<=1||!this.isHorizontal()){this.labelRotation=a;return}let m=this._getLabelSizes(),v=m.widest.width,_=m.highest.height,w=Pe(this.chart.width-v,0,this.maxWidth);u=t.offset?this.maxWidth/o:w/(o-1),v+6>u&&(u=w/(o-(t.offset?.5:1)),l=this.maxHeight-Do(t.grid)-e.padding-_d(t.title,this.chart.options.font),f=Math.sqrt(v*v+_*_),p=Kr(Math.min(Math.asin(Pe((m.highest.height+6)/u,-1,1)),Math.asin(Pe(l/f,-1,1))-Math.asin(Pe(_/f,-1,1)))),p=Math.max(a,Math.min(h,p))),this.labelRotation=p}afterCalculateLabelRotation(){Xt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Xt(this.options.beforeFit,[this])}fit(){let t={width:0,height:0},{chart:e,options:{ticks:o,title:a,grid:h}}=this,p=this._isVisible(),u=this.isHorizontal();if(p){let l=_d(a,e.options.font);if(u?(t.width=this.maxWidth,t.height=Do(h)+l):(t.height=this.maxHeight,t.width=Do(h)+l),o.display&&this.ticks.length){let{first:f,last:m,widest:v,highest:_}=this._getLabelSizes(),w=o.padding*2,P=cn(this.labelRotation),C=Math.cos(P),M=Math.sin(P);if(u){let O=o.mirror?0:M*v.width+C*_.height;t.height=Math.min(this.maxHeight,t.height+O+w)}else{let O=o.mirror?0:C*v.width+M*_.height;t.width=Math.min(this.maxWidth,t.width+O+w)}this._calculatePadding(f,m,M,C)}}this._handleMargins(),u?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,o,a){let{ticks:{align:h,padding:p},position:u}=this.options,l=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){let m=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1),_=0,w=0;l?f?(_=a*t.width,w=o*e.height):(_=o*t.height,w=a*e.width):h==="start"?w=e.width:h==="end"?_=t.width:h!=="inner"&&(_=t.width/2,w=e.width/2),this.paddingLeft=Math.max((_-m+p)*this.width/(this.width-m),0),this.paddingRight=Math.max((w-v+p)*this.width/(this.width-v),0)}else{let m=e.height/2,v=t.height/2;h==="start"?(m=0,v=t.height):h==="end"&&(m=e.height,v=0),this.paddingTop=m+p,this.paddingBottom=v+p}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Xt(this.options.afterFit,[this])}isHorizontal(){let{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,o;for(e=0,o=t.length;e<o;e++)zt(t[e].label)&&(t.splice(e,1),o--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){let e=this.options.ticks.sampleSize,o=this.ticks;e<o.length&&(o=yd(o,e)),this._labelSizes=t=this._computeLabelSizes(o,o.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,o){let{ctx:a,_longestTextCache:h}=this,p=[],u=[],l=Math.floor(e/xd(e,o)),f=0,m=0,v,_,w,P,C,M,O,A,L,E,F;for(v=0;v<e;v+=l){if(P=t[v].label,C=this._resolveTickFontOptions(v),a.font=M=C.string,O=h[M]=h[M]||{data:{},gc:[]},A=C.lineHeight,L=E=0,!zt(P)&&!Zt(P))L=ko(a,O.data,O.gc,L,P),E=A;else if(Zt(P))for(_=0,w=P.length;_<w;++_)F=P[_],!zt(F)&&!Zt(F)&&(L=ko(a,O.data,O.gc,L,F),E+=A);p.push(L),u.push(E),f=Math.max(L,f),m=Math.max(E,m)}by(h,e);let N=p.indexOf(f),H=u.indexOf(m),$=G=>({width:p[G]||0,height:u[G]||0});return{first:$(0),last:$(e-1),widest:$(N),highest:$(H),widths:p,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);let e=this._startPixel+t*this._length;return Lf(this._alignToPixels?Ci(this.chart,e,0):e)}getDecimalForPixel(t){let e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){let e=this.ticks||[];if(t>=0&&t<e.length){let o=e[t];return o.$context||(o.$context=xy(this.getContext(),t,o))}return this.$context||(this.$context=vy(this.chart.getContext(),this))}_tickSize(){let t=this.options.ticks,e=cn(this.labelRotation),o=Math.abs(Math.cos(e)),a=Math.abs(Math.sin(e)),h=this._getLabelSizes(),p=t.autoSkipPadding||0,u=h?h.widest.width+p:0,l=h?h.highest.height+p:0;return this.isHorizontal()?l*o>u*a?u/o:l/a:l*a<u*o?l/o:u/a}_isVisible(){let t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){let e=this.axis,o=this.chart,a=this.options,{grid:h,position:p,border:u}=a,l=h.offset,f=this.isHorizontal(),v=this.ticks.length+(l?1:0),_=Do(h),w=[],P=u.setContext(this.getContext()),C=P.display?P.width:0,M=C/2,O=function(lt){return Ci(o,lt,C)},A,L,E,F,N,H,$,G,tt,et,at,ct;if(p==="top")A=O(this.bottom),H=this.bottom-_,G=A-M,et=O(t.top)+M,ct=t.bottom;else if(p==="bottom")A=O(this.top),et=t.top,ct=O(t.bottom)-M,H=A+M,G=this.top+_;else if(p==="left")A=O(this.right),N=this.right-_,$=A-M,tt=O(t.left)+M,at=t.right;else if(p==="right")A=O(this.left),tt=t.left,at=O(t.right)-M,N=A+M,$=this.left+_;else if(e==="x"){if(p==="center")A=O((t.top+t.bottom)/2+.5);else if(St(p)){let lt=Object.keys(p)[0],bt=p[lt];A=O(this.chart.scales[lt].getPixelForValue(bt))}et=t.top,ct=t.bottom,H=A+M,G=H+_}else if(e==="y"){if(p==="center")A=O((t.left+t.right)/2);else if(St(p)){let lt=Object.keys(p)[0],bt=p[lt];A=O(this.chart.scales[lt].getPixelForValue(bt))}N=A-M,$=N-_,tt=t.left,at=t.right}let rt=Tt(a.ticks.maxTicksLimit,v),ot=Math.max(1,Math.ceil(v/rt));for(L=0;L<v;L+=ot){let lt=this.getContext(L),bt=h.setContext(lt),ht=u.setContext(lt),kt=bt.lineWidth,Rt=bt.color,Pt=ht.dash||[],Ot=ht.dashOffset,Gt=bt.tickWidth,jt=bt.tickColor,It=bt.tickBorderDash||[],Kt=bt.tickBorderDashOffset;E=my(this,L,l),E!==void 0&&(F=Ci(o,E,kt),f?N=$=tt=at=F:H=G=et=ct=F,w.push({tx1:N,ty1:H,tx2:$,ty2:G,x1:tt,y1:et,x2:at,y2:ct,width:kt,color:Rt,borderDash:Pt,borderDashOffset:Ot,tickWidth:Gt,tickColor:jt,tickBorderDash:It,tickBorderDashOffset:Kt}))}return this._ticksLength=v,this._borderValue=A,w}_computeLabelItems(t){let e=this.axis,o=this.options,{position:a,ticks:h}=o,p=this.isHorizontal(),u=this.ticks,{align:l,crossAlign:f,padding:m,mirror:v}=h,_=Do(o.grid),w=_+m,P=v?-m:w,C=-cn(this.labelRotation),M=[],O,A,L,E,F,N,H,$,G,tt,et,at,ct="middle";if(a==="top")N=this.bottom-P,H=this._getXAxisLabelAlignment();else if(a==="bottom")N=this.top+P,H=this._getXAxisLabelAlignment();else if(a==="left"){let ot=this._getYAxisLabelAlignment(_);H=ot.textAlign,F=ot.x}else if(a==="right"){let ot=this._getYAxisLabelAlignment(_);H=ot.textAlign,F=ot.x}else if(e==="x"){if(a==="center")N=(t.top+t.bottom)/2+w;else if(St(a)){let ot=Object.keys(a)[0],lt=a[ot];N=this.chart.scales[ot].getPixelForValue(lt)+w}H=this._getXAxisLabelAlignment()}else if(e==="y"){if(a==="center")F=(t.left+t.right)/2-w;else if(St(a)){let ot=Object.keys(a)[0],lt=a[ot];F=this.chart.scales[ot].getPixelForValue(lt)}H=this._getYAxisLabelAlignment(_).textAlign}e==="y"&&(l==="start"?ct="top":l==="end"&&(ct="bottom"));let rt=this._getLabelSizes();for(O=0,A=u.length;O<A;++O){L=u[O],E=L.label;let ot=h.setContext(this.getContext(O));$=this.getPixelForTick(O)+h.labelOffset,G=this._resolveTickFontOptions(O),tt=G.lineHeight,et=Zt(E)?E.length:1;let lt=et/2,bt=ot.color,ht=ot.textStrokeColor,kt=ot.textStrokeWidth,Rt=H;p?(F=$,H==="inner"&&(O===A-1?Rt=this.options.reverse?"left":"right":O===0?Rt=this.options.reverse?"right":"left":Rt="center"),a==="top"?f==="near"||C!==0?at=-et*tt+tt/2:f==="center"?at=-rt.highest.height/2-lt*tt+tt:at=-rt.highest.height+tt/2:f==="near"||C!==0?at=tt/2:f==="center"?at=rt.highest.height/2-lt*tt:at=rt.highest.height-et*tt,v&&(at*=-1),C!==0&&!ot.showLabelBackdrop&&(F+=tt/2*Math.sin(C))):(N=$,at=(1-et)*tt/2);let Pt;if(ot.showLabelBackdrop){let Ot=Re(ot.backdropPadding),Gt=rt.heights[O],jt=rt.widths[O],It=at-Ot.top,Kt=0-Ot.left;switch(ct){case"middle":It-=Gt/2;break;case"bottom":It-=Gt;break}switch(H){case"center":Kt-=jt/2;break;case"right":Kt-=jt;break}Pt={left:Kt,top:It,width:jt+Ot.width,height:Gt+Ot.height,color:ot.backdropColor}}M.push({label:E,font:G,textOffset:at,options:{rotation:C,color:bt,strokeColor:ht,strokeWidth:kt,textAlign:Rt,textBaseline:ct,translation:[F,N],backdrop:Pt}})}return M}_getXAxisLabelAlignment(){let{position:t,ticks:e}=this.options;if(-cn(this.labelRotation))return t==="top"?"left":"right";let a="center";return e.align==="start"?a="left":e.align==="end"?a="right":e.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){let{position:e,ticks:{crossAlign:o,mirror:a,padding:h}}=this.options,p=this._getLabelSizes(),u=t+h,l=p.widest.width,f,m;return e==="left"?a?(m=this.right+h,o==="near"?f="left":o==="center"?(f="center",m+=l/2):(f="right",m+=l)):(m=this.right-u,o==="near"?f="right":o==="center"?(f="center",m-=l/2):(f="left",m=this.left)):e==="right"?a?(m=this.left+h,o==="near"?f="right":o==="center"?(f="center",m-=l/2):(f="left",m-=l)):(m=this.left+u,o==="near"?f="left":o==="center"?(f="center",m+=l/2):(f="right",m=this.right)):f="right",{textAlign:f,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;let t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){let{ctx:t,options:{backgroundColor:e},left:o,top:a,width:h,height:p}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(o,a,h,p),t.restore())}getLineWidthForValue(t){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let a=this.ticks.findIndex(h=>h.value===t);return a>=0?e.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){let e=this.options.grid,o=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),h,p,u=(l,f,m)=>{!m.width||!m.color||(o.save(),o.lineWidth=m.width,o.strokeStyle=m.color,o.setLineDash(m.borderDash||[]),o.lineDashOffset=m.borderDashOffset,o.beginPath(),o.moveTo(l.x,l.y),o.lineTo(f.x,f.y),o.stroke(),o.restore())};if(e.display)for(h=0,p=a.length;h<p;++h){let l=a[h];e.drawOnChartArea&&u({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&u({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:t,ctx:e,options:{border:o,grid:a}}=this,h=o.setContext(this.getContext()),p=o.display?h.width:0;if(!p)return;let u=a.setContext(this.getContext(0)).lineWidth,l=this._borderValue,f,m,v,_;this.isHorizontal()?(f=Ci(t,this.left,p)-p/2,m=Ci(t,this.right,u)+u/2,v=_=l):(v=Ci(t,this.top,p)-p/2,_=Ci(t,this.bottom,u)+u/2,f=m=l),e.save(),e.lineWidth=h.width,e.strokeStyle=h.color,e.beginPath(),e.moveTo(f,v),e.lineTo(m,_),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;let o=this.ctx,a=this._computeLabelArea();a&&Mo(o,a);let h=this.getLabelItems(t);for(let p of h){let u=p.options,l=p.font,f=p.label,m=p.textOffset;Mi(o,f,0,m,l,u)}a&&Oo(o)}drawTitle(){let{ctx:t,options:{position:e,title:o,reverse:a}}=this;if(!o.display)return;let h=ye(o.font),p=Re(o.padding),u=o.align,l=h.lineHeight/2;e==="bottom"||e==="center"||St(e)?(l+=p.bottom,Zt(o.text)&&(l+=h.lineHeight*(o.text.length-1))):l+=p.top;let{titleX:f,titleY:m,maxWidth:v,rotation:_}=_y(this,l,e,u);Mi(t,o.text,0,0,h,{color:o.color,maxWidth:v,rotation:_,textAlign:yy(u,e,a),textBaseline:"middle",translation:[f,m]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){let t=this.options,e=t.ticks&&t.ticks.z||0,o=Tt(t.grid&&t.grid.z,-1),a=Tt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==jn.prototype.draw?[{z:e,draw:h=>{this.draw(h)}}]:[{z:o,draw:h=>{this.drawBackground(),this.drawGrid(h),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:e,draw:h=>{this.drawLabels(h)}}]}getMatchingVisibleMetas(t){let e=this.chart.getSortedVisibleDatasetMetas(),o=this.axis+"AxisID",a=[],h,p;for(h=0,p=e.length;h<p;++h){let u=e[h];u[o]===this.id&&(!t||u.type===t)&&a.push(u)}return a}_resolveTickFontOptions(t){let e=this.options.ticks.setContext(this.getContext(t));return ye(e.font)}_maxDigits(){let t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}},$s=class{constructor(t,e,o){this.type=t,this.scope=e,this.override=o,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){let e=Object.getPrototypeOf(t),o;Py(e)&&(o=this.register(e));let a=this.items,h=t.id,p=this.scope+"."+h;if(!h)throw new Error("class does not have id: "+t);return h in a||(a[h]=t,wy(t,p,o),this.override&&ce.override(t.id,t.overrides)),p}get(t){return this.items[t]}unregister(t){let e=this.items,o=t.id,a=this.scope;o in e&&delete e[o],a&&o in ce[a]&&(delete ce[a][o],this.override&&delete Pi[o])}};function wy(i,t,e){let o=Cs(Object.create(null),[e?ce.get(e):{},ce.get(t),i.defaults]);ce.set(t,o),i.defaultRoutes&&ky(t,i.defaultRoutes),i.descriptors&&ce.describe(t,i.descriptors)}function ky(i,t){Object.keys(t).forEach(e=>{let o=e.split("."),a=o.pop(),h=[i].concat(o).join("."),p=t[e].split("."),u=p.pop(),l=p.join(".");ce.route(h,a,l,u)})}function Py(i){return"id"in i&&"defaults"in i}var wc=class{constructor(){this.controllers=new $s(je,"datasets",!0),this.elements=new $s(tn,"elements"),this.plugins=new $s(Object,"plugins"),this.scales=new $s(jn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,o){[...e].forEach(a=>{let h=o||this._getRegistryForType(a);o||h.isForType(a)||h===this.plugins&&a.id?this._exec(t,h,a):Wt(a,p=>{let u=o||this._getRegistryForType(p);this._exec(t,u,p)})})}_exec(t,e,o){let a=Gr(t);Xt(o["before"+a],[],o),e[t](o),Xt(o["after"+a],[],o)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){let o=this._typedRegistries[e];if(o.isForType(t))return o}return this.plugins}_get(t,e,o){let a=e.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+o+".");return a}},Rn=new wc,kc=class{constructor(){this._init=[]}notify(t,e,o,a){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));let h=a?this._descriptors(t).filter(a):this._descriptors(t),p=this._notify(h,t,e,o);return e==="afterDestroy"&&(this._notify(h,t,"stop"),this._notify(this._init,t,"uninstall")),p}_notify(t,e,o,a){a=a||{};for(let h of t){let p=h.plugin,u=p[o],l=[e,a,h.options];if(Xt(u,l,p)===!1&&a.cancelable)return!1}return!0}invalidate(){zt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){let o=t&&t.config,a=Tt(o.options&&o.options.plugins,{}),h=Cy(o);return a===!1&&!e?[]:Oy(t,h,a,e)}_notifyStateChanges(t){let e=this._oldCache||[],o=this._cache,a=(h,p)=>h.filter(u=>!p.some(l=>u.plugin.id===l.plugin.id));this._notify(a(e,o),t,"stop"),this._notify(a(o,e),t,"start")}};function Cy(i){let t={},e=[],o=Object.keys(Rn.plugins.items);for(let h=0;h<o.length;h++)e.push(Rn.getPlugin(o[h]));let a=i.plugins||[];for(let h=0;h<a.length;h++){let p=a[h];e.indexOf(p)===-1&&(e.push(p),t[p.id]=!0)}return{plugins:e,localIds:t}}function My(i,t){return!t&&i===!1?null:i===!0?{}:i}function Oy(i,{plugins:t,localIds:e},o,a){let h=[],p=i.getContext();for(let u of t){let l=u.id,f=My(o[l],a);f!==null&&h.push({plugin:u,options:Ty(i.config,{plugin:u,local:e[l]},f,p)})}return h}function Ty(i,{plugin:t,local:e},o,a){let h=i.pluginScopeKeys(t),p=i.getOptionScopes(o,h);return e&&t.defaults&&p.push(t.defaults),i.createResolver(p,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Pc(i,t){let e=ce.datasets[i]||{};return((t.datasets||{})[i]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function Ay(i,t){let e=i;return i==="_index_"?e=t:i==="_value_"&&(e=t==="x"?"y":"x"),e}function Ey(i,t){return i===t?"_index_":"_value_"}function Dy(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function ga(i,t){if(i==="x"||i==="y"||i==="r"||(i=t.axis||Dy(t.position)||i.length>1&&ga(i[0].toLowerCase(),t),i))return i;throw new Error(`Cannot determine type of '${name}' axis. Please provide 'axis' or 'position' option.`)}function Ly(i,t){let e=Pi[i.type]||{scales:{}},o=t.scales||{},a=Pc(i.type,t),h=Object.create(null);return Object.keys(o).forEach(p=>{let u=o[p];if(!St(u))return console.error(`Invalid scale configuration for scale: ${p}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${p}`);let l=ga(p,u),f=Ey(l,a),m=e.scales||{};h[p]=Ts(Object.create(null),[{axis:l},u,m[l],m[f]])}),i.data.datasets.forEach(p=>{let u=p.type||i.type,l=p.indexAxis||Pc(u,t),m=(Pi[u]||{}).scales||{};Object.keys(m).forEach(v=>{let _=Ay(v,l),w=p[_+"AxisID"]||_;h[w]=h[w]||Object.create(null),Ts(h[w],[{axis:_},o[w],m[v]])})}),Object.keys(h).forEach(p=>{let u=h[p];Ts(u,[ce.scales[u.type],ce.scale])}),h}function op(i){let t=i.options||(i.options={});t.plugins=Tt(t.plugins,{}),t.scales=Ly(i,t)}function rp(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function Sy(i){return i=i||{},i.data=rp(i.data),op(i),i}var wd=new Map,ap=new Set;function ra(i,t){let e=wd.get(i);return e||(e=t(),wd.set(i,e),ap.add(e)),e}var Lo=(i,t,e)=>{let o=Gn(t,e);o!==void 0&&i.add(o)},Cc=class{constructor(t){this._config=Sy(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=rp(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){let t=this._config;this.clearCache(),op(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return ra(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return ra(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return ra(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){let e=t.id,o=this.type;return ra(`${o}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){let o=this._scopeCache,a=o.get(t);return(!a||e)&&(a=new Map,o.set(t,a)),a}getOptionScopes(t,e,o){let{options:a,type:h}=this,p=this._cachedScopes(t,o),u=p.get(e);if(u)return u;let l=new Set;e.forEach(m=>{t&&(l.add(t),m.forEach(v=>Lo(l,t,v))),m.forEach(v=>Lo(l,a,v)),m.forEach(v=>Lo(l,Pi[h]||{},v)),m.forEach(v=>Lo(l,ce,v)),m.forEach(v=>Lo(l,Jr,v))});let f=Array.from(l);return f.length===0&&f.push(Object.create(null)),ap.has(e)&&p.set(e,f),f}chartOptionScopes(){let{options:t,type:e}=this;return[t,Pi[e]||{},ce.datasets[e]||{},{type:e},ce,Jr]}resolveNamedOptions(t,e,o,a=[""]){let h={$shared:!0},{resolver:p,subPrefixes:u}=kd(this._resolverCache,t,a),l=p;if(Iy(p,e)){h.$shared=!1,o=Un(o)?o():o;let f=this.createResolver(t,o,u);l=Ui(p,o,f)}for(let f of e)h[f]=l[f];return h}createResolver(t,e,o=[""],a){let{resolver:h}=kd(this._resolverCache,t,o);return St(e)?Ui(h,e,void 0,a):h}};function kd(i,t,e){let o=i.get(t);o||(o=new Map,i.set(t,o));let a=e.join(),h=o.get(a);return h||(h={resolver:ea(t,e),subPrefixes:e.filter(u=>!u.toLowerCase().includes("hover"))},o.set(a,h)),h}var Ry=i=>St(i)&&Object.getOwnPropertyNames(i).reduce((t,e)=>t||Un(i[e]),!1);function Iy(i,t){let{isScriptable:e,isIndexable:o}=Jl(i);for(let a of t){let h=e(a),p=o(a),u=(p||h)&&i[a];if(h&&(Un(u)||Ry(u))||p&&Zt(u))return!0}return!1}var Fy="4.2.1",By=["top","bottom","left","right","chartArea"];function Pd(i,t){return i==="top"||i==="bottom"||By.indexOf(i)===-1&&t==="x"}function Cd(i,t){return function(e,o){return e[i]===o[i]?e[t]-o[t]:e[i]-o[i]}}function Md(i){let t=i.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Xt(e&&e.onComplete,[i],t)}function zy(i){let t=i.chart,e=t.options.animation;Xt(e&&e.onProgress,[i],t)}function lp(i){return nc()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}var ha={},Od=i=>{let t=lp(i);return Object.values(ha).filter(e=>e.canvas===t).pop()};function Ny(i,t,e){let o=Object.keys(i);for(let a of o){let h=+a;if(h>=t){let p=i[a];delete i[a],(e>0||h>t)&&(i[h+e]=p)}}}function Vy(i,t,e,o){return!e||i.type==="mouseout"?null:o?t:i}function Hy(i){let{xScale:t,yScale:e}=i;if(t&&e)return{left:t.left,right:t.right,top:e.top,bottom:e.bottom}}var un=class{static register(...t){Rn.add(...t),Td()}static unregister(...t){Rn.remove(...t),Td()}constructor(t,e){let o=this.config=new Cc(e),a=lp(t),h=Od(a);if(h)throw new Error("Canvas is already in use. Chart with ID '"+h.id+"' must be destroyed before the canvas with ID '"+h.canvas.id+"' can be reused.");let p=o.createResolver(o.chartOptionScopes(),this.getContext());this.platform=new(o.platform||ly(a)),this.platform.updateConfig(o);let u=this.platform.acquireContext(a,p.aspectRatio),l=u&&u.canvas,f=l&&l.height,m=l&&l.width;if(this.id=Mf(),this.ctx=u,this.canvas=l,this.width=m,this.height=f,this._options=p,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new kc,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Bf(v=>this.update(v),p.resizeDelay||0),this._dataChanges=[],ha[this.id]=this,!u||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Qn.listen(this,"complete",Md),Qn.listen(this,"progress",zy),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:t,maintainAspectRatio:e},width:o,height:a,_aspectRatio:h}=this;return zt(t)?e&&h?h:a?o/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Rn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ic(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Kl(this.canvas,this.ctx),this}stop(){return Qn.stop(this),this}resize(t,e){Qn.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){let o=this.options,a=this.canvas,h=o.maintainAspectRatio&&this.aspectRatio,p=this.platform.getMaximumSize(a,t,e,h),u=o.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=p.width,this.height=p.height,this._aspectRatio=this.aspectRatio,ic(this,u,!0)&&(this.notifyPlugins("resize",{size:p}),Xt(o.onResize,[this,p],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){let e=this.options.scales||{};Wt(e,(o,a)=>{o.id=a})}buildOrUpdateScales(){let t=this.options,e=t.scales,o=this.scales,a=Object.keys(o).reduce((p,u)=>(p[u]=!1,p),{}),h=[];e&&(h=h.concat(Object.keys(e).map(p=>{let u=e[p],l=ga(p,u),f=l==="r",m=l==="x";return{options:u,dposition:f?"chartArea":m?"bottom":"left",dtype:f?"radialLinear":m?"category":"linear"}}))),Wt(h,p=>{let u=p.options,l=u.id,f=ga(l,u),m=Tt(u.type,p.dtype);(u.position===void 0||Pd(u.position,f)!==Pd(p.dposition))&&(u.position=p.dposition),a[l]=!0;let v=null;if(l in o&&o[l].type===m)v=o[l];else{let _=Rn.getScale(m);v=new _({id:l,type:m,ctx:this.ctx,chart:this}),o[v.id]=v}v.init(u,t)}),Wt(a,(p,u)=>{p||delete o[u]}),Wt(o,p=>{Ne.configure(this,p,p.options),Ne.addBox(this,p)})}_updateMetasets(){let t=this._metasets,e=this.data.datasets.length,o=t.length;if(t.sort((a,h)=>a.index-h.index),o>e){for(let a=e;a<o;++a)this._destroyDatasetMeta(a);t.splice(e,o-e)}this._sortedMetasets=t.slice(0).sort(Cd("order","index"))}_removeUnreferencedMetasets(){let{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((o,a)=>{e.filter(h=>h===o._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){let t=[],e=this.data.datasets,o,a;for(this._removeUnreferencedMetasets(),o=0,a=e.length;o<a;o++){let h=e[o],p=this.getDatasetMeta(o),u=h.type||this.config.type;if(p.type&&p.type!==u&&(this._destroyDatasetMeta(o),p=this.getDatasetMeta(o)),p.type=u,p.indexAxis=h.indexAxis||Pc(u,this.options),p.order=h.order||0,p.index=o,p.label=""+h.label,p.visible=this.isDatasetVisible(o),p.controller)p.controller.updateIndex(o),p.controller.linkScales();else{let l=Rn.getController(u),{datasetElementType:f,dataElementType:m}=ce.datasets[u];Object.assign(l,{dataElementType:Rn.getElement(m),datasetElementType:f&&Rn.getElement(f)}),p.controller=new l(this,o),t.push(p.controller)}}return this._updateMetasets(),t}_resetElements(){Wt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){let e=this.config;e.update();let o=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!o.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;let h=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let p=0;for(let f=0,m=this.data.datasets.length;f<m;f++){let{controller:v}=this.getDatasetMeta(f),_=!a&&h.indexOf(v)===-1;v.buildOrUpdateElements(_),p=Math.max(+v.getMaxOverflow(),p)}p=this._minPadding=o.layout.autoPadding?p:0,this._updateLayout(p),a||Wt(h,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Cd("z","_idx"));let{_active:u,_lastEvent:l}=this;l?this._eventHandler(l,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Wt(this.scales,t=>{Ne.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let t=this.options,e=new Set(Object.keys(this._listeners)),o=new Set(t.events);(!Bl(e,o)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(let{method:o,start:a,count:h}of e){let p=o==="_removeElements"?-h:h;Ny(t,a,p)}}_getUniformDataChanges(){let t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];let e=this.data.datasets.length,o=h=>new Set(t.filter(p=>p[0]===h).map((p,u)=>u+","+p.splice(1).join(","))),a=o(0);for(let h=1;h<e;h++)if(!Bl(a,o(h)))return;return Array.from(a).map(h=>h.split(",")).map(h=>({method:h[1],start:+h[2],count:+h[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ne.update(this,this.width,this.height,t);let e=this.chartArea,o=e.width<=0||e.height<=0;this._layers=[],Wt(this.boxes,a=>{o&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,h)=>{a._idx=h}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,o=this.data.datasets.length;e<o;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,o=this.data.datasets.length;e<o;++e)this._updateDataset(e,Un(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){let o=this.getDatasetMeta(t),a={meta:o,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(o.controller._update(e),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Qn.has(this)?this.attached&&!Qn.running(this)&&Qn.start(this):(this.draw(),Md({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){let{width:o,height:a}=this._resizeBeforeDraw;this._resize(o,a),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){let e=this._sortedMetasets,o=[],a,h;for(a=0,h=e.length;a<h;++a){let p=e[a];(!t||p.visible)&&o.push(p)}return o}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){let e=this.ctx,o=t._clip,a=!o.disabled,h=Hy(t)||this.chartArea,p={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",p)!==!1&&(a&&Mo(e,{left:o.left===!1?0:h.left-o.left,right:o.right===!1?this.width:h.right+o.right,top:o.top===!1?0:h.top-o.top,bottom:o.bottom===!1?this.height:h.bottom+o.bottom}),t.controller.draw(),a&&Oo(e),p.cancelable=!1,this.notifyPlugins("afterDatasetDraw",p))}isPointInArea(t){return Ms(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,o,a){let h=$x.modes[e];return typeof h=="function"?h(this,t,o,a):[]}getDatasetMeta(t){let e=this.data.datasets[t],o=this._metasets,a=o.filter(h=>h&&h._dataset===e).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},o.push(a)),a}getContext(){return this.$context||(this.$context=Kn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){let e=this.data.datasets[t];if(!e)return!1;let o=this.getDatasetMeta(t);return typeof o.hidden=="boolean"?!o.hidden:!e.hidden}setDatasetVisibility(t,e){let o=this.getDatasetMeta(t);o.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,o){let a=o?"show":"hide",h=this.getDatasetMeta(t),p=h.controller._resolveAnimations(void 0,a);Je(e)?(h.data[e].hidden=!o,this.update()):(this.setDatasetVisibility(t,o),p.update(h,{visible:o}),this.update(u=>u.datasetIndex===t?a:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){let e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Qn.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Kl(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete ha[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let t=this._listeners,e=this.platform,o=(h,p)=>{e.addEventListener(this,h,p),t[h]=p},a=(h,p,u)=>{h.offsetX=p,h.offsetY=u,this._eventHandler(h)};Wt(this.options.events,h=>o(h,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let t=this._responsiveListeners,e=this.platform,o=(l,f)=>{e.addEventListener(this,l,f),t[l]=f},a=(l,f)=>{t[l]&&(e.removeEventListener(this,l,f),delete t[l])},h=(l,f)=>{this.canvas&&this.resize(l,f)},p,u=()=>{a("attach",u),this.attached=!0,this.resize(),o("resize",h),o("detach",p)};p=()=>{this.attached=!1,a("resize",h),this._stop(),this._resize(0,0),o("attach",u)},e.isAttached(this.canvas)?u():p()}unbindEvents(){Wt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Wt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,o){let a=o?"set":"remove",h,p,u,l;for(e==="dataset"&&(h=this.getDatasetMeta(t[0].datasetIndex),h.controller["_"+a+"DatasetHoverStyle"]()),u=0,l=t.length;u<l;++u){p=t[u];let f=p&&this.getDatasetMeta(p.datasetIndex).controller;f&&f[a+"HoverStyle"](p.element,p.datasetIndex,p.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){let e=this._active||[],o=t.map(({datasetIndex:h,index:p})=>{let u=this.getDatasetMeta(h);if(!u)throw new Error("No dataset found at index "+h);return{datasetIndex:h,element:u.data[p],index:p}});!Po(o,e)&&(this._active=o,this._lastEvent=null,this._updateHoverStyles(o,e))}notifyPlugins(t,e,o){return this._plugins.notify(this,t,e,o)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,o){let a=this.options.hover,h=(l,f)=>l.filter(m=>!f.some(v=>m.datasetIndex===v.datasetIndex&&m.index===v.index)),p=h(e,t),u=o?t:h(t,e);p.length&&this.updateHoverStyle(p,a.mode,!1),u.length&&a.mode&&this.updateHoverStyle(u,a.mode,!0)}_eventHandler(t,e){let o={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},a=p=>(p.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",o,a)===!1)return;let h=this._handleEvent(t,e,o.inChartArea);return o.cancelable=!1,this.notifyPlugins("afterEvent",o,a),(h||o.changed)&&this.render(),this}_handleEvent(t,e,o){let{_active:a=[],options:h}=this,p=e,u=this._getActiveElements(t,a,o,p),l=Af(t),f=Vy(t,this._lastEvent,o,l);o&&(this._lastEvent=null,Xt(h.onHover,[t,u,this],this),l&&Xt(h.onClick,[t,u,this],this));let m=!Po(u,a);return(m||e)&&(this._active=u,this._updateHoverStyles(u,a,e)),this._lastEvent=f,m}_getActiveElements(t,e,o,a){if(t.type==="mouseout")return[];if(!o)return e;let h=this.options.hover;return this.getElementsAtEventForMode(t,h.mode,h,a)}};vt(un,"defaults",ce),vt(un,"instances",ha),vt(un,"overrides",Pi),vt(un,"registry",Rn),vt(un,"version",Fy),vt(un,"getChart",Od);function Td(){return Wt(un.instances,i=>i._plugins.invalidate())}function Wy(i,t,e){let{startAngle:o,pixelMargin:a,x:h,y:p,outerRadius:u,innerRadius:l}=t,f=a/u;i.beginPath(),i.arc(h,p,u,o-f,e+f),l>a?(f=a/l,i.arc(h,p,l,e+f,o-f,!0)):i.arc(h,p,a,e+ie,o-ie),i.closePath(),i.clip()}function $y(i){return ta(i,["outerStart","outerEnd","innerStart","innerEnd"])}function Yy(i,t,e,o){let a=$y(i.options.borderRadius),h=(e-t)/2,p=Math.min(h,o*t/2),u=l=>{let f=(e-Math.min(h,l))*o/2;return Pe(l,0,Math.min(h,f))};return{outerStart:u(a.outerStart),outerEnd:u(a.outerEnd),innerStart:Pe(a.innerStart,0,p),innerEnd:Pe(a.innerEnd,0,p)}}function Rs(i,t,e,o){return{x:e+i*Math.cos(t),y:o+i*Math.sin(t)}}function ma(i,t,e,o,a,h){let{x:p,y:u,startAngle:l,pixelMargin:f,innerRadius:m}=t,v=Math.max(t.outerRadius+o+e-f,0),_=m>0?m+o+e+f:0,w=0,P=a-l;if(o){let ot=m>0?m-o:0,lt=v>0?v-o:0,bt=(ot+lt)/2,ht=bt!==0?P*bt/(bt+o):P;w=(P-ht)/2}let C=Math.max(.001,P*v-e/ee)/v,M=(P-C)/2,O=l+M+w,A=a-M-w,{outerStart:L,outerEnd:E,innerStart:F,innerEnd:N}=Yy(t,_,v,A-O),H=v-L,$=v-E,G=O+L/H,tt=A-E/$,et=_+F,at=_+N,ct=O+F/et,rt=A-N/at;if(i.beginPath(),h){let ot=(G+tt)/2;if(i.arc(p,u,v,G,ot),i.arc(p,u,v,ot,tt),E>0){let kt=Rs($,tt,p,u);i.arc(kt.x,kt.y,E,tt,A+ie)}let lt=Rs(at,A,p,u);if(i.lineTo(lt.x,lt.y),N>0){let kt=Rs(at,rt,p,u);i.arc(kt.x,kt.y,N,A+ie,rt+Math.PI)}let bt=(A-N/_+(O+F/_))/2;if(i.arc(p,u,_,A-N/_,bt,!0),i.arc(p,u,_,bt,O+F/_,!0),F>0){let kt=Rs(et,ct,p,u);i.arc(kt.x,kt.y,F,ct+Math.PI,O-ie)}let ht=Rs(H,O,p,u);if(i.lineTo(ht.x,ht.y),L>0){let kt=Rs(H,G,p,u);i.arc(kt.x,kt.y,L,O-ie,G)}}else{i.moveTo(p,u);let ot=Math.cos(G)*v+p,lt=Math.sin(G)*v+u;i.lineTo(ot,lt);let bt=Math.cos(tt)*v+p,ht=Math.sin(tt)*v+u;i.lineTo(bt,ht)}i.closePath()}function qy(i,t,e,o,a){let{fullCircles:h,startAngle:p,circumference:u}=t,l=t.endAngle;if(h){ma(i,t,e,o,l,a);for(let f=0;f<h;++f)i.fill();isNaN(u)||(l=p+(u%Jt||Jt))}return ma(i,t,e,o,l,a),i.fill(),l}function Uy(i,t,e,o,a){let{fullCircles:h,startAngle:p,circumference:u,options:l}=t,{borderWidth:f,borderJoinStyle:m}=l,v=l.borderAlign==="inner";if(!f)return;v?(i.lineWidth=f*2,i.lineJoin=m||"round"):(i.lineWidth=f,i.lineJoin=m||"bevel");let _=t.endAngle;if(h){ma(i,t,e,o,_,a);for(let w=0;w<h;++w)i.stroke();isNaN(u)||(_=p+(u%Jt||Jt))}v&&Wy(i,t,_),h||(ma(i,t,e,o,_,a),i.stroke())}var Vs=class extends tn{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,o){let a=this.getProps(["x","y"],o),{angle:h,distance:p}=Hl(a,{x:t,y:e}),{startAngle:u,endAngle:l,innerRadius:f,outerRadius:m,circumference:v}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],o),_=this.options.spacing/2,P=Tt(v,l-u)>=Jt||Es(h,u,l),C=Ln(p,f+_,m+_);return P&&C}getCenterPoint(t){let{x:e,y:o,startAngle:a,endAngle:h,innerRadius:p,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:l,spacing:f}=this.options,m=(a+h)/2,v=(p+u+f+l)/2;return{x:e+Math.cos(m)*v,y:o+Math.sin(m)*v}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){let{options:e,circumference:o}=this,a=(e.offset||0)/4,h=(e.spacing||0)/2,p=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=o>Jt?Math.floor(o/Jt):0,o===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let u=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(u)*a,Math.sin(u)*a);let l=1-Math.sin(Math.min(ee,o||0)),f=a*l;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,qy(t,this,f,h,p),Uy(t,this,f,h,p),t.restore()}};vt(Vs,"id","arc"),vt(Vs,"defaults",{borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),vt(Vs,"defaultRoutes",{backgroundColor:"backgroundColor"});function cp(i,t,e=t){i.lineCap=Tt(e.borderCapStyle,t.borderCapStyle),i.setLineDash(Tt(e.borderDash,t.borderDash)),i.lineDashOffset=Tt(e.borderDashOffset,t.borderDashOffset),i.lineJoin=Tt(e.borderJoinStyle,t.borderJoinStyle),i.lineWidth=Tt(e.borderWidth,t.borderWidth),i.strokeStyle=Tt(e.borderColor,t.borderColor)}function Xy(i,t,e){i.lineTo(e.x,e.y)}function Gy(i){return i.stepped?Wf:i.tension||i.cubicInterpolationMode==="monotone"?$f:Xy}function up(i,t,e={}){let o=i.length,{start:a=0,end:h=o-1}=e,{start:p,end:u}=t,l=Math.max(a,p),f=Math.min(h,u),m=a<p&&h<p||a>u&&h>u;return{count:o,start:l,loop:t.loop,ilen:f<l&&!m?o+f-l:f-l}}function Ky(i,t,e,o){let{points:a,options:h}=t,{count:p,start:u,loop:l,ilen:f}=up(a,e,o),m=Gy(h),{move:v=!0,reverse:_}=o||{},w,P,C;for(w=0;w<=f;++w)P=a[(u+(_?f-w:w))%p],!P.skip&&(v?(i.moveTo(P.x,P.y),v=!1):m(i,C,P,_,h.stepped),C=P);return l&&(P=a[(u+(_?f:0))%p],m(i,C,P,_,h.stepped)),!!l}function Qy(i,t,e,o){let a=t.points,{count:h,start:p,ilen:u}=up(a,e,o),{move:l=!0,reverse:f}=o||{},m=0,v=0,_,w,P,C,M,O,A=E=>(p+(f?u-E:E))%h,L=()=>{C!==M&&(i.lineTo(m,M),i.lineTo(m,C),i.lineTo(m,O))};for(l&&(w=a[A(0)],i.moveTo(w.x,w.y)),_=0;_<=u;++_){if(w=a[A(_)],w.skip)continue;let E=w.x,F=w.y,N=E|0;N===P?(F<C?C=F:F>M&&(M=F),m=(v*m+E)/++v):(L(),i.lineTo(E,F),P=N,v=0,C=M=F),O=F}L()}function Mc(i){let t=i.options,e=t.borderDash&&t.borderDash.length;return!i._decimated&&!i._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?Qy:Ky}function Zy(i){return i.stepped?Jf:i.tension||i.cubicInterpolationMode==="monotone"?jf:ki}function Jy(i,t,e,o){let a=t._path;a||(a=t._path=new Path2D,t.path(a,e,o)&&a.closePath()),cp(i,t.options),i.stroke(a)}function jy(i,t,e,o){let{segments:a,options:h}=t,p=Mc(t);for(let u of a)cp(i,h,u.style),i.beginPath(),p(i,t,u,{start:e,end:e+o-1})&&i.closePath(),i.stroke()}var t_=typeof Path2D=="function";function e_(i,t,e,o){t_&&!t.options.segment?Jy(i,t,e,o):jy(i,t,e,o)}var In=class extends tn{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){let o=this.options;if((o.tension||o.cubicInterpolationMode==="monotone")&&!o.stepped&&!this._pointsUpdated){let a=o.spanGaps?this._loop:this._fullLoop;Kf(this._points,o,t,a,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=ed(this,this.options.segment))}first(){let t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){let t=this.segments,e=this.points,o=t.length;return o&&e[t[o-1].end]}interpolate(t,e){let o=this.options,a=t[e],h=this.points,p=lc(this,{property:e,start:a,end:a});if(!p.length)return;let u=[],l=Zy(o),f,m;for(f=0,m=p.length;f<m;++f){let{start:v,end:_}=p[f],w=h[v],P=h[_];if(w===P){u.push(w);continue}let C=Math.abs((a-w[e])/(P[e]-w[e])),M=l(w,P,C,o.stepped);M[e]=t[e],u.push(M)}return u.length===1?u[0]:u}pathSegment(t,e,o){return Mc(this)(t,this,e,o)}path(t,e,o){let a=this.segments,h=Mc(this),p=this._loop;e=e||0,o=o||this.points.length-e;for(let u of a)p&=h(t,this,u,{start:e,end:e+o-1});return!!p}draw(t,e,o,a){let h=this.options||{};(this.points||[]).length&&h.borderWidth&&(t.save(),e_(t,this,o,a),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}};vt(In,"id","line"),vt(In,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),vt(In,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),vt(In,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function Ad(i,t,e,o){let a=i.options,{[e]:h}=i.getProps([e],o);return Math.abs(t-h)<a.radius+a.hitRadius}var Hs=class extends tn{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,o){let a=this.options,{x:h,y:p}=this.getProps(["x","y"],o);return Math.pow(t-h,2)+Math.pow(e-p,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(t,e){return Ad(this,t,"x",e)}inYRange(t,e){return Ad(this,t,"y",e)}getCenterPoint(t){let{x:e,y:o}=this.getProps(["x","y"],t);return{x:e,y:o}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);let o=e&&t.borderWidth||0;return(e+o)*2}draw(t,e){let o=this.options;this.skip||o.radius<.1||!Ms(this,e,this.size(o)/2)||(t.strokeStyle=o.borderColor,t.lineWidth=o.borderWidth,t.fillStyle=o.backgroundColor,jr(t,o,this.x,this.y))}getRange(){let t=this.options||{};return t.radius+t.hitRadius}};vt(Hs,"id","point"),vt(Hs,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),vt(Hs,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function hp(i,t){let{x:e,y:o,base:a,width:h,height:p}=i.getProps(["x","y","base","width","height"],t),u,l,f,m,v;return i.horizontal?(v=p/2,u=Math.min(e,a),l=Math.max(e,a),f=o-v,m=o+v):(v=h/2,u=e-v,l=e+v,f=Math.min(o,a),m=Math.max(o,a)),{left:u,top:f,right:l,bottom:m}}function Ai(i,t,e,o){return i?0:Pe(t,e,o)}function n_(i,t,e){let o=i.options.borderWidth,a=i.borderSkipped,h=Zl(o);return{t:Ai(a.top,h.top,0,e),r:Ai(a.right,h.right,0,t),b:Ai(a.bottom,h.bottom,0,e),l:Ai(a.left,h.left,0,t)}}function i_(i,t,e){let{enableBorderRadius:o}=i.getProps(["enableBorderRadius"]),a=i.options.borderRadius,h=Oi(a),p=Math.min(t,e),u=i.borderSkipped,l=o||St(a);return{topLeft:Ai(!l||u.top||u.left,h.topLeft,0,p),topRight:Ai(!l||u.top||u.right,h.topRight,0,p),bottomLeft:Ai(!l||u.bottom||u.left,h.bottomLeft,0,p),bottomRight:Ai(!l||u.bottom||u.right,h.bottomRight,0,p)}}function s_(i){let t=hp(i),e=t.right-t.left,o=t.bottom-t.top,a=n_(i,e/2,o/2),h=i_(i,e/2,o/2);return{outer:{x:t.left,y:t.top,w:e,h:o,radius:h},inner:{x:t.left+a.l,y:t.top+a.t,w:e-a.l-a.r,h:o-a.t-a.b,radius:{topLeft:Math.max(0,h.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,h.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,h.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,h.bottomRight-Math.max(a.b,a.r))}}}}function gc(i,t,e,o){let a=t===null,h=e===null,u=i&&!(a&&h)&&hp(i,o);return u&&(a||Ln(t,u.left,u.right))&&(h||Ln(e,u.top,u.bottom))}function o_(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function r_(i,t){i.rect(t.x,t.y,t.w,t.h)}function mc(i,t,e={}){let o=i.x!==e.x?-t:0,a=i.y!==e.y?-t:0,h=(i.x+i.w!==e.x+e.w?t:0)-o,p=(i.y+i.h!==e.y+e.h?t:0)-a;return{x:i.x+o,y:i.y+a,w:i.w+h,h:i.h+p,radius:i.radius}}var Ws=class extends tn{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){let{inflateAmount:e,options:{borderColor:o,backgroundColor:a}}=this,{inner:h,outer:p}=s_(this),u=o_(p.radius)?Ls:r_;t.save(),(p.w!==h.w||p.h!==h.h)&&(t.beginPath(),u(t,mc(p,e,h)),t.clip(),u(t,mc(h,-e,p)),t.fillStyle=o,t.fill("evenodd")),t.beginPath(),u(t,mc(h,e)),t.fillStyle=a,t.fill(),t.restore()}inRange(t,e,o){return gc(this,t,e,o)}inXRange(t,e){return gc(this,t,null,e)}inYRange(t,e){return gc(this,null,t,e)}getCenterPoint(t){let{x:e,y:o,base:a,horizontal:h}=this.getProps(["x","y","base","horizontal"],t);return{x:h?(e+a)/2:e,y:h?o:(o+a)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}};vt(Ws,"id","bar"),vt(Ws,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),vt(Ws,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var a_=Object.freeze({__proto__:null,ArcElement:Vs,LineElement:In,PointElement:Hs,BarElement:Ws}),Oc=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Ed=Oc.map(i=>i.replace("rgb(","rgba(").replace(")",", 0.5)"));function fp(i){return Oc[i%Oc.length]}function dp(i){return Ed[i%Ed.length]}function l_(i,t){return i.borderColor=fp(t),i.backgroundColor=dp(t),++t}function c_(i,t){return i.backgroundColor=i.data.map(()=>fp(t++)),t}function u_(i,t){return i.backgroundColor=i.data.map(()=>dp(t++)),t}function h_(i){let t=0;return(e,o)=>{let a=i.getDatasetMeta(o).controller;a instanceof Jn?t=c_(e,t):a instanceof Ji?t=u_(e,t):a&&(t=l_(e,t))}}function Dd(i){let t;for(t in i)if(i[t].borderColor||i[t].backgroundColor)return!0;return!1}function f_(i){return i&&(i.borderColor||i.backgroundColor)}var d_={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(i,t,e){if(!e.enabled)return;let{data:{datasets:o},options:a}=i.config,{elements:h}=a;if(!e.forceOverride&&(Dd(o)||f_(a)||h&&Dd(h)))return;let p=h_(i);o.forEach(p)}};function p_(i,t,e,o,a){let h=a.samples||o;if(h>=e)return i.slice(t,t+e);let p=[],u=(e-2)/(h-2),l=0,f=t+e-1,m=t,v,_,w,P,C;for(p[l++]=i[m],v=0;v<h-2;v++){let M=0,O=0,A,L=Math.floor((v+1)*u)+1+t,E=Math.min(Math.floor((v+2)*u)+1,e)+t,F=E-L;for(A=L;A<E;A++)M+=i[A].x,O+=i[A].y;M/=F,O/=F;let N=Math.floor(v*u)+1+t,H=Math.min(Math.floor((v+1)*u)+1,e)+t,{x:$,y:G}=i[m];for(w=P=-1,A=N;A<H;A++)P=.5*Math.abs(($-M)*(i[A].y-G)-($-i[A].x)*(O-G)),P>w&&(w=P,_=i[A],C=A);p[l++]=_,m=C}return p[l++]=i[f],p}function g_(i,t,e,o){let a=0,h=0,p,u,l,f,m,v,_,w,P,C,M=[],O=t+e-1,A=i[t].x,E=i[O].x-A;for(p=t;p<t+e;++p){u=i[p],l=(u.x-A)/E*o,f=u.y;let F=l|0;if(F===m)f<P?(P=f,v=p):f>C&&(C=f,_=p),a=(h*a+u.x)/++h;else{let N=p-1;if(!zt(v)&&!zt(_)){let H=Math.min(v,_),$=Math.max(v,_);H!==w&&H!==N&&M.push({...i[H],x:a}),$!==w&&$!==N&&M.push({...i[$],x:a})}p>0&&N!==w&&M.push(i[N]),M.push(u),m=F,h=0,P=C=f,v=_=w=p}}return M}function pp(i){if(i._decimated){let t=i._data;delete i._decimated,delete i._data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Ld(i){i.data.datasets.forEach(t=>{pp(t)})}function m_(i,t){let e=t.length,o=0,a,{iScale:h}=i,{min:p,max:u,minDefined:l,maxDefined:f}=h.getUserBounds();return l&&(o=Pe(En(t,h.axis,p).lo,0,e-1)),f?a=Pe(En(t,h.axis,u).hi+1,o,e)-o:a=e-o,{start:o,count:a}}var b_={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(i,t,e)=>{if(!e.enabled){Ld(i);return}let o=i.width;i.data.datasets.forEach((a,h)=>{let{_data:p,indexAxis:u}=a,l=i.getDatasetMeta(h),f=p||a.data;if(Ss([u,i.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let m=i.scales[l.xAxisID];if(m.type!=="linear"&&m.type!=="time"||i.options.parsing)return;let{start:v,count:_}=m_(l,f),w=e.threshold||4*o;if(_<=w){pp(a);return}zt(p)&&(a._data=f,delete a.data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(C){this._data=C}}));let P;switch(e.algorithm){case"lttb":P=p_(f,v,_,o,e);break;case"min-max":P=g_(f,v,_,o);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}a._decimated=P})},destroy(i){Ld(i)}};function v_(i,t,e){let o=i.segments,a=i.points,h=t.points,p=[];for(let u of o){let{start:l,end:f}=u;f=Ec(l,f,a);let m=Tc(e,a[l],a[f],u.loop);if(!t.segments){p.push({source:u,target:m,start:a[l],end:a[f]});continue}let v=lc(t,m);for(let _ of v){let w=Tc(e,h[_.start],h[_.end],_.loop),P=ac(u,a,w);for(let C of P)p.push({source:C,target:_,start:{[e]:Sd(m,w,"start",Math.max)},end:{[e]:Sd(m,w,"end",Math.min)}})}}return p}function Tc(i,t,e,o){if(o)return;let a=t[i],h=e[i];return i==="angle"&&(a=Ge(a),h=Ge(h)),{property:i,start:a,end:h}}function x_(i,t){let{x:e=null,y:o=null}=i||{},a=t.points,h=[];return t.segments.forEach(({start:p,end:u})=>{u=Ec(p,u,a);let l=a[p],f=a[u];o!==null?(h.push({x:l.x,y:o}),h.push({x:f.x,y:o})):e!==null&&(h.push({x:e,y:l.y}),h.push({x:e,y:f.y}))}),h}function Ec(i,t,e){for(;t>i;t--){let o=e[t];if(!isNaN(o.x)&&!isNaN(o.y))break}return t}function Sd(i,t,e,o){return i&&t?o(i[e],t[e]):i?i[e]:t?t[e]:0}function gp(i,t){let e=[],o=!1;return Zt(i)?(o=!0,e=i):e=x_(i,t),e.length?new In({points:e,options:{tension:0},_loop:o,_fullLoop:o}):null}function Rd(i){return i&&i.fill!==!1}function y_(i,t,e){let a=i[t].fill,h=[t],p;if(!e)return a;for(;a!==!1&&h.indexOf(a)===-1;){if(!se(a))return a;if(p=i[a],!p)return!1;if(p.visible)return a;h.push(a),a=p.fill}return!1}function __(i,t,e){let o=C_(i);if(St(o))return isNaN(o.value)?!1:o;let a=parseFloat(o);return se(a)&&Math.floor(a)===a?w_(o[0],t,a,e):["origin","start","end","stack","shape"].indexOf(o)>=0&&o}function w_(i,t,e,o){return(i==="-"||i==="+")&&(e=t+e),e===t||e<0||e>=o?!1:e}function k_(i,t){let e=null;return i==="start"?e=t.bottom:i==="end"?e=t.top:St(i)?e=t.getPixelForValue(i.value):t.getBasePixel&&(e=t.getBasePixel()),e}function P_(i,t,e){let o;return i==="start"?o=e:i==="end"?o=t.options.reverse?t.min:t.max:St(i)?o=i.value:o=t.getBaseValue(),o}function C_(i){let t=i.options,e=t.fill,o=Tt(e&&e.target,e);return o===void 0&&(o=!!t.backgroundColor),o===!1||o===null?!1:o===!0?"origin":o}function M_(i){let{scale:t,index:e,line:o}=i,a=[],h=o.segments,p=o.points,u=O_(t,e);u.push(gp({x:null,y:t.bottom},o));for(let l=0;l<h.length;l++){let f=h[l];for(let m=f.start;m<=f.end;m++)T_(a,p[m],u)}return new In({points:a,options:{}})}function O_(i,t){let e=[],o=i.getMatchingVisibleMetas("line");for(let a=0;a<o.length;a++){let h=o[a];if(h.index===t)break;h.hidden||e.unshift(h.dataset)}return e}function T_(i,t,e){let o=[];for(let a=0;a<e.length;a++){let h=e[a],{first:p,last:u,point:l}=A_(h,t,"x");if(!(!l||p&&u)){if(p)o.unshift(l);else if(i.push(l),!u)break}}i.push(...o)}function A_(i,t,e){let o=i.interpolate(t,e);if(!o)return{};let a=o[e],h=i.segments,p=i.points,u=!1,l=!1;for(let f=0;f<h.length;f++){let m=h[f],v=p[m.start][e],_=p[m.end][e];if(Ln(a,v,_)){u=a===v,l=a===_;break}}return{first:u,last:l,point:o}}var ba=class{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,o){let{x:a,y:h,radius:p}=this;return e=e||{start:0,end:Jt},t.arc(a,h,p,e.end,e.start,!0),!o.bounds}interpolate(t){let{x:e,y:o,radius:a}=this,h=t.angle;return{x:e+Math.cos(h)*a,y:o+Math.sin(h)*a,angle:h}}};function E_(i){let{chart:t,fill:e,line:o}=i;if(se(e))return D_(t,e);if(e==="stack")return M_(i);if(e==="shape")return!0;let a=L_(i);return a instanceof ba?a:gp(a,o)}function D_(i,t){let e=i.getDatasetMeta(t);return e&&i.isDatasetVisible(t)?e.dataset:null}function L_(i){return(i.scale||{}).getPointPositionForValue?R_(i):S_(i)}function S_(i){let{scale:t={},fill:e}=i,o=k_(e,t);if(se(o)){let a=t.isHorizontal();return{x:a?o:null,y:a?null:o}}return null}function R_(i){let{scale:t,fill:e}=i,o=t.options,a=t.getLabels().length,h=o.reverse?t.max:t.min,p=P_(e,t,h),u=[];if(o.grid.circular){let l=t.getPointPositionForValue(0,h);return new ba({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(p)})}for(let l=0;l<a;++l)u.push(t.getPointPositionForValue(l,p));return u}function bc(i,t,e){let o=E_(t),{line:a,scale:h,axis:p}=t,u=a.options,l=u.fill,f=u.backgroundColor,{above:m=f,below:v=f}=l||{};o&&a.points.length&&(Mo(i,e),I_(i,{line:a,target:o,above:m,below:v,area:e,scale:h,axis:p}),Oo(i))}function I_(i,t){let{line:e,target:o,above:a,below:h,area:p,scale:u}=t,l=e._loop?"angle":t.axis;i.save(),l==="x"&&h!==a&&(Id(i,o,p.top),Fd(i,{line:e,target:o,color:a,scale:u,property:l}),i.restore(),i.save(),Id(i,o,p.bottom)),Fd(i,{line:e,target:o,color:h,scale:u,property:l}),i.restore()}function Id(i,t,e){let{segments:o,points:a}=t,h=!0,p=!1;i.beginPath();for(let u of o){let{start:l,end:f}=u,m=a[l],v=a[Ec(l,f,a)];h?(i.moveTo(m.x,m.y),h=!1):(i.lineTo(m.x,e),i.lineTo(m.x,m.y)),p=!!t.pathSegment(i,u,{move:p}),p?i.closePath():i.lineTo(v.x,e)}i.lineTo(t.first().x,e),i.closePath(),i.clip()}function Fd(i,t){let{line:e,target:o,property:a,color:h,scale:p}=t,u=v_(e,o,a);for(let{source:l,target:f,start:m,end:v}of u){let{style:{backgroundColor:_=h}={}}=l,w=o!==!0;i.save(),i.fillStyle=_,F_(i,p,w&&Tc(a,m,v)),i.beginPath();let P=!!e.pathSegment(i,l),C;if(w){P?i.closePath():Bd(i,o,v,a);let M=!!o.pathSegment(i,f,{move:P,reverse:!0});C=P&&M,C||Bd(i,o,m,a)}i.closePath(),i.fill(C?"evenodd":"nonzero"),i.restore()}}function F_(i,t,e){let{top:o,bottom:a}=t.chart.chartArea,{property:h,start:p,end:u}=e||{};h==="x"&&(i.beginPath(),i.rect(p,o,u-p,a-o),i.clip())}function Bd(i,t,e,o){let a=t.interpolate(e,o);a&&i.lineTo(a.x,a.y)}var B_={id:"filler",afterDatasetsUpdate(i,t,e){let o=(i.data.datasets||[]).length,a=[],h,p,u,l;for(p=0;p<o;++p)h=i.getDatasetMeta(p),u=h.dataset,l=null,u&&u.options&&u instanceof In&&(l={visible:i.isDatasetVisible(p),index:p,fill:__(u,p,o),chart:i,axis:h.controller.options.indexAxis,scale:h.vScale,line:u}),h.$filler=l,a.push(l);for(p=0;p<o;++p)l=a[p],!(!l||l.fill===!1)&&(l.fill=y_(a,p,e.propagate))},beforeDraw(i,t,e){let o=e.drawTime==="beforeDraw",a=i.getSortedVisibleDatasetMetas(),h=i.chartArea;for(let p=a.length-1;p>=0;--p){let u=a[p].$filler;u&&(u.line.updateControlPoints(h,u.axis),o&&u.fill&&bc(i.ctx,u,h))}},beforeDatasetsDraw(i,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;let o=i.getSortedVisibleDatasetMetas();for(let a=o.length-1;a>=0;--a){let h=o[a].$filler;Rd(h)&&bc(i.ctx,h,i.chartArea)}},beforeDatasetDraw(i,t,e){let o=t.meta.$filler;!Rd(o)||e.drawTime!=="beforeDatasetDraw"||bc(i.ctx,o,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},zd=(i,t)=>{let{boxHeight:e=t,boxWidth:o=t}=i;return i.usePointStyle&&(e=Math.min(e,t),o=i.pointStyleWidth||Math.min(o,t)),{boxWidth:o,boxHeight:e,itemHeight:Math.max(t,e)}},z_=(i,t)=>i!==null&&t!==null&&i.datasetIndex===t.datasetIndex&&i.index===t.index,va=class extends tn{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,o){this.maxWidth=t,this.maxHeight=e,this._margins=o,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let t=this.options.labels||{},e=Xt(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(o=>t.filter(o,this.chart.data))),t.sort&&(e=e.sort((o,a)=>t.sort(o,a,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}let o=t.labels,a=ye(o.font),h=a.size,p=this._computeTitleHeight(),{boxWidth:u,itemHeight:l}=zd(o,h),f,m;e.font=a.string,this.isHorizontal()?(f=this.maxWidth,m=this._fitRows(p,h,u,l)+10):(m=this.maxHeight,f=this._fitCols(p,a,u,l)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(m,t.maxHeight||this.maxHeight)}_fitRows(t,e,o,a){let{ctx:h,maxWidth:p,options:{labels:{padding:u}}}=this,l=this.legendHitBoxes=[],f=this.lineWidths=[0],m=a+u,v=t;h.textAlign="left",h.textBaseline="middle";let _=-1,w=-m;return this.legendItems.forEach((P,C)=>{let M=o+e/2+h.measureText(P.text).width;(C===0||f[f.length-1]+M+2*u>p)&&(v+=m,f[f.length-(C>0?0:1)]=0,w+=m,_++),l[C]={left:0,top:w,row:_,width:M,height:a},f[f.length-1]+=M+u}),v}_fitCols(t,e,o,a){let{ctx:h,maxHeight:p,options:{labels:{padding:u}}}=this,l=this.legendHitBoxes=[],f=this.columnSizes=[],m=p-t,v=u,_=0,w=0,P=0,C=0;return this.legendItems.forEach((M,O)=>{let{itemWidth:A,itemHeight:L}=N_(o,e,h,M,a);O>0&&w+L+2*u>m&&(v+=_+u,f.push({width:_,height:w}),P+=_+u,C++,_=w=0),l[O]={left:P,top:w,col:C,width:A,height:L},_=Math.max(_,A),w+=L+u}),v+=_,f.push({width:_,height:w}),v}adjustHitBoxes(){if(!this.options.display)return;let t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:o,labels:{padding:a},rtl:h}}=this,p=Gi(h,this.left,this.width);if(this.isHorizontal()){let u=0,l=Se(o,this.left+a,this.right-this.lineWidths[u]);for(let f of e)u!==f.row&&(u=f.row,l=Se(o,this.left+a,this.right-this.lineWidths[u])),f.top+=this.top+t+a,f.left=p.leftForLtr(p.x(l),f.width),l+=f.width+a}else{let u=0,l=Se(o,this.top+t+a,this.bottom-this.columnSizes[u].height);for(let f of e)f.col!==u&&(u=f.col,l=Se(o,this.top+t+a,this.bottom-this.columnSizes[u].height)),f.top=l,f.left+=this.left+a,f.left=p.leftForLtr(p.x(f.left),f.width),l+=f.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let t=this.ctx;Mo(t,this),this._draw(),Oo(t)}}_draw(){let{options:t,columnSizes:e,lineWidths:o,ctx:a}=this,{align:h,labels:p}=t,u=ce.color,l=Gi(t.rtl,this.left,this.width),f=ye(p.font),{padding:m}=p,v=f.size,_=v/2,w;this.drawTitle(),a.textAlign=l.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=f.string;let{boxWidth:P,boxHeight:C,itemHeight:M}=zd(p,v),O=function(N,H,$){if(isNaN(P)||P<=0||isNaN(C)||C<0)return;a.save();let G=Tt($.lineWidth,1);if(a.fillStyle=Tt($.fillStyle,u),a.lineCap=Tt($.lineCap,"butt"),a.lineDashOffset=Tt($.lineDashOffset,0),a.lineJoin=Tt($.lineJoin,"miter"),a.lineWidth=G,a.strokeStyle=Tt($.strokeStyle,u),a.setLineDash(Tt($.lineDash,[])),p.usePointStyle){let tt={radius:C*Math.SQRT2/2,pointStyle:$.pointStyle,rotation:$.rotation,borderWidth:G},et=l.xPlus(N,P/2),at=H+_;Ql(a,tt,et,at,p.pointStyleWidth&&P)}else{let tt=H+Math.max((v-C)/2,0),et=l.leftForLtr(N,P),at=Oi($.borderRadius);a.beginPath(),Object.values(at).some(ct=>ct!==0)?Ls(a,{x:et,y:tt,w:P,h:C,radius:at}):a.rect(et,tt,P,C),a.fill(),G!==0&&a.stroke()}a.restore()},A=function(N,H,$){Mi(a,$.text,N,H+M/2,f,{strikethrough:$.hidden,textAlign:l.textAlign($.textAlign)})},L=this.isHorizontal(),E=this._computeTitleHeight();L?w={x:Se(h,this.left+m,this.right-o[0]),y:this.top+m+E,line:0}:w={x:this.left+m,y:Se(h,this.top+E+m,this.bottom-e[0].height),line:0},oc(this.ctx,t.textDirection);let F=M+m;this.legendItems.forEach((N,H)=>{a.strokeStyle=N.fontColor,a.fillStyle=N.fontColor;let $=a.measureText(N.text).width,G=l.textAlign(N.textAlign||(N.textAlign=p.textAlign)),tt=P+_+$,et=w.x,at=w.y;l.setWidth(this.width),L?H>0&&et+tt+m>this.right&&(at=w.y+=F,w.line++,et=w.x=Se(h,this.left+m,this.right-o[w.line])):H>0&&at+F>this.bottom&&(et=w.x=et+e[w.line].width+m,w.line++,at=w.y=Se(h,this.top+E+m,this.bottom-e[w.line].height));let ct=l.x(et);if(O(ct,at,N),et=zf(G,et+P+_,L?et+tt:this.right,t.rtl),A(l.x(et),at,N),L)w.x+=tt+m;else if(typeof N.text!="string"){let rt=f.lineHeight;w.y+=mp(N,rt)}else w.y+=F}),rc(this.ctx,t.textDirection)}drawTitle(){let t=this.options,e=t.title,o=ye(e.font),a=Re(e.padding);if(!e.display)return;let h=Gi(t.rtl,this.left,this.width),p=this.ctx,u=e.position,l=o.size/2,f=a.top+l,m,v=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),m=this.top+f,v=Se(t.align,v,this.right-_);else{let P=this.columnSizes.reduce((C,M)=>Math.max(C,M.height),0);m=f+Se(t.align,this.top,this.bottom-P-t.labels.padding-this._computeTitleHeight())}let w=Se(u,v,v+_);p.textAlign=h.textAlign(Zr(u)),p.textBaseline="middle",p.strokeStyle=e.color,p.fillStyle=e.color,p.font=o.string,Mi(p,e.text,w,m,o)}_computeTitleHeight(){let t=this.options.title,e=ye(t.font),o=Re(t.padding);return t.display?e.lineHeight+o.height:0}_getLegendItemAt(t,e){let o,a,h;if(Ln(t,this.left,this.right)&&Ln(e,this.top,this.bottom)){for(h=this.legendHitBoxes,o=0;o<h.length;++o)if(a=h[o],Ln(t,a.left,a.left+a.width)&&Ln(e,a.top,a.top+a.height))return this.legendItems[o]}return null}handleEvent(t){let e=this.options;if(!W_(t.type,e))return;let o=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){let a=this._hoveredItem,h=z_(a,o);a&&!h&&Xt(e.onLeave,[t,a,this],this),this._hoveredItem=o,o&&!h&&Xt(e.onHover,[t,o,this],this)}else o&&Xt(e.onClick,[t,o,this],this)}};function N_(i,t,e,o,a){let h=V_(o,i,t,e),p=H_(a,o,t.lineHeight);return{itemWidth:h,itemHeight:p}}function V_(i,t,e,o){let a=i.text;return a&&typeof a!="string"&&(a=a.reduce((h,p)=>h.length>p.length?h:p)),t+e.size/2+o.measureText(a).width}function H_(i,t,e){let o=i;return typeof t.text!="string"&&(o=mp(t,e)),o}function mp(i,t){let e=i.text?i.text.length+.5:0;return t*e}function W_(i,t){return!!((i==="mousemove"||i==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(i==="click"||i==="mouseup"))}var $_={id:"legend",_element:va,start(i,t,e){let o=i.legend=new va({ctx:i.ctx,options:e,chart:i});Ne.configure(i,o,e),Ne.addBox(i,o)},stop(i){Ne.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,t,e){let o=i.legend;Ne.configure(i,o,e),o.options=e},afterUpdate(i){let t=i.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(i,t){t.replay||i.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,t,e){let o=t.datasetIndex,a=e.chart;a.isDatasetVisible(o)?(a.hide(o),t.hidden=!0):(a.show(o),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){let t=i.data.datasets,{labels:{usePointStyle:e,pointStyle:o,textAlign:a,color:h,useBorderRadius:p,borderRadius:u}}=i.legend.options;return i._getSortedDatasetMetas().map(l=>{let f=l.controller.getStyle(e?0:void 0),m=Re(f.borderWidth);return{text:t[l.index].label,fillStyle:f.backgroundColor,fontColor:h,hidden:!l.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:f.borderColor,pointStyle:o||f.pointStyle,rotation:f.rotation,textAlign:a||f.textAlign,borderRadius:p&&(u||f.borderRadius),datasetIndex:l.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}},$o=class extends tn{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){let o=this.options;if(this.left=0,this.top=0,!o.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;let a=Zt(o.text)?o.text.length:1;this._padding=Re(o.padding);let h=a*ye(o.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=h:this.width=h}isHorizontal(){let t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){let{top:e,left:o,bottom:a,right:h,options:p}=this,u=p.align,l=0,f,m,v;return this.isHorizontal()?(m=Se(u,o,h),v=e+t,f=h-o):(p.position==="left"?(m=o+t,v=Se(u,a,e),l=ee*-.5):(m=h-t,v=Se(u,e,a),l=ee*.5),f=a-e),{titleX:m,titleY:v,maxWidth:f,rotation:l}}draw(){let t=this.ctx,e=this.options;if(!e.display)return;let o=ye(e.font),h=o.lineHeight/2+this._padding.top,{titleX:p,titleY:u,maxWidth:l,rotation:f}=this._drawArgs(h);Mi(t,e.text,0,0,o,{color:e.color,maxWidth:l,rotation:f,textAlign:Zr(e.align),textBaseline:"middle",translation:[p,u]})}};function Y_(i,t){let e=new $o({ctx:i.ctx,options:t,chart:i});Ne.configure(i,e,t),Ne.addBox(i,e),i.titleBlock=e}var q_={id:"title",_element:$o,start(i,t,e){Y_(i,e)},stop(i){let t=i.titleBlock;Ne.removeBox(i,t),delete i.titleBlock},beforeUpdate(i,t,e){let o=i.titleBlock;Ne.configure(i,o,e),o.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},aa=new WeakMap,U_={id:"subtitle",start(i,t,e){let o=new $o({ctx:i.ctx,options:e,chart:i});Ne.configure(i,o,e),Ne.addBox(i,o),aa.set(i,o)},stop(i){Ne.removeBox(i,aa.get(i)),aa.delete(i)},beforeUpdate(i,t,e){let o=aa.get(i);Ne.configure(i,o,e),o.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Io={average(i){if(!i.length)return!1;let t,e,o=0,a=0,h=0;for(t=0,e=i.length;t<e;++t){let p=i[t].element;if(p&&p.hasValue()){let u=p.tooltipPosition();o+=u.x,a+=u.y,++h}}return{x:o/h,y:a/h}},nearest(i,t){if(!i.length)return!1;let e=t.x,o=t.y,a=Number.POSITIVE_INFINITY,h,p,u;for(h=0,p=i.length;h<p;++h){let l=i[h].element;if(l&&l.hasValue()){let f=l.getCenterPoint(),m=Ur(t,f);m<a&&(a=m,u=l)}}if(u){let l=u.tooltipPosition();e=l.x,o=l.y}return{x:e,y:o}}};function Sn(i,t){return t&&(Zt(t)?Array.prototype.push.apply(i,t):i.push(t)),i}function Zn(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function X_(i,t){let{element:e,datasetIndex:o,index:a}=t,h=i.getDatasetMeta(o).controller,{label:p,value:u}=h.getLabelAndValue(a);return{chart:i,label:p,parsed:h.getParsed(a),raw:i.data.datasets[o].data[a],formattedValue:u,dataset:h.getDataset(),dataIndex:a,datasetIndex:o,element:e}}function Nd(i,t){let e=i.chart.ctx,{body:o,footer:a,title:h}=i,{boxWidth:p,boxHeight:u}=t,l=ye(t.bodyFont),f=ye(t.titleFont),m=ye(t.footerFont),v=h.length,_=a.length,w=o.length,P=Re(t.padding),C=P.height,M=0,O=o.reduce((E,F)=>E+F.before.length+F.lines.length+F.after.length,0);if(O+=i.beforeBody.length+i.afterBody.length,v&&(C+=v*f.lineHeight+(v-1)*t.titleSpacing+t.titleMarginBottom),O){let E=t.displayColors?Math.max(u,l.lineHeight):l.lineHeight;C+=w*E+(O-w)*l.lineHeight+(O-1)*t.bodySpacing}_&&(C+=t.footerMarginTop+_*m.lineHeight+(_-1)*t.footerSpacing);let A=0,L=function(E){M=Math.max(M,e.measureText(E).width+A)};return e.save(),e.font=f.string,Wt(i.title,L),e.font=l.string,Wt(i.beforeBody.concat(i.afterBody),L),A=t.displayColors?p+2+t.boxPadding:0,Wt(o,E=>{Wt(E.before,L),Wt(E.lines,L),Wt(E.after,L)}),A=0,e.font=m.string,Wt(i.footer,L),e.restore(),M+=P.width,{width:M,height:C}}function G_(i,t){let{y:e,height:o}=t;return e<o/2?"top":e>i.height-o/2?"bottom":"center"}function K_(i,t,e,o){let{x:a,width:h}=o,p=e.caretSize+e.caretPadding;if(i==="left"&&a+h+p>t.width||i==="right"&&a-h-p<0)return!0}function Q_(i,t,e,o){let{x:a,width:h}=e,{width:p,chartArea:{left:u,right:l}}=i,f="center";return o==="center"?f=a<=(u+l)/2?"left":"right":a<=h/2?f="left":a>=p-h/2&&(f="right"),K_(f,i,t,e)&&(f="center"),f}function Vd(i,t,e){let o=e.yAlign||t.yAlign||G_(i,e);return{xAlign:e.xAlign||t.xAlign||Q_(i,t,e,o),yAlign:o}}function Z_(i,t){let{x:e,width:o}=i;return t==="right"?e-=o:t==="center"&&(e-=o/2),e}function J_(i,t,e){let{y:o,height:a}=i;return t==="top"?o+=e:t==="bottom"?o-=a+e:o-=a/2,o}function Hd(i,t,e,o){let{caretSize:a,caretPadding:h,cornerRadius:p}=i,{xAlign:u,yAlign:l}=e,f=a+h,{topLeft:m,topRight:v,bottomLeft:_,bottomRight:w}=Oi(p),P=Z_(t,u),C=J_(t,l,f);return l==="center"?u==="left"?P+=f:u==="right"&&(P-=f):u==="left"?P-=Math.max(m,_)+a:u==="right"&&(P+=Math.max(v,w)+a),{x:Pe(P,0,o.width-t.width),y:Pe(C,0,o.height-t.height)}}function la(i,t,e){let o=Re(e.padding);return t==="center"?i.x+i.width/2:t==="right"?i.x+i.width-o.right:i.x+o.left}function Wd(i){return Sn([],Zn(i))}function j_(i,t,e){return Kn(i,{tooltip:t,tooltipItems:e,type:"tooltip"})}function $d(i,t){let e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?i.override(e):i}var bp={beforeTitle:Dn,title(i){if(i.length>0){let t=i[0],e=t.chart.data.labels,o=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(o>0&&t.dataIndex<o)return e[t.dataIndex]}return""},afterTitle:Dn,beforeBody:Dn,beforeLabel:Dn,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let t=i.dataset.label||"";t&&(t+=": ");let e=i.formattedValue;return zt(e)||(t+=e),t},labelColor(i){let e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){let e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Dn,afterBody:Dn,beforeFooter:Dn,footer:Dn,afterFooter:Dn};function Qe(i,t,e,o){let a=i[t].call(e,o);return typeof a>"u"?bp[t].call(e,o):a}var Vo=class extends tn{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let t=this._cachedAnimations;if(t)return t;let e=this.chart,o=this.options.setContext(this.getContext()),a=o.enabled&&e.options.animation&&o.animations,h=new fa(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(h)),h}getContext(){return this.$context||(this.$context=j_(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){let{callbacks:o}=e,a=Qe(o,"beforeTitle",this,t),h=Qe(o,"title",this,t),p=Qe(o,"afterTitle",this,t),u=[];return u=Sn(u,Zn(a)),u=Sn(u,Zn(h)),u=Sn(u,Zn(p)),u}getBeforeBody(t,e){return Wd(Qe(e.callbacks,"beforeBody",this,t))}getBody(t,e){let{callbacks:o}=e,a=[];return Wt(t,h=>{let p={before:[],lines:[],after:[]},u=$d(o,h);Sn(p.before,Zn(Qe(u,"beforeLabel",this,h))),Sn(p.lines,Qe(u,"label",this,h)),Sn(p.after,Zn(Qe(u,"afterLabel",this,h))),a.push(p)}),a}getAfterBody(t,e){return Wd(Qe(e.callbacks,"afterBody",this,t))}getFooter(t,e){let{callbacks:o}=e,a=Qe(o,"beforeFooter",this,t),h=Qe(o,"footer",this,t),p=Qe(o,"afterFooter",this,t),u=[];return u=Sn(u,Zn(a)),u=Sn(u,Zn(h)),u=Sn(u,Zn(p)),u}_createItems(t){let e=this._active,o=this.chart.data,a=[],h=[],p=[],u=[],l,f;for(l=0,f=e.length;l<f;++l)u.push(X_(this.chart,e[l]));return t.filter&&(u=u.filter((m,v,_)=>t.filter(m,v,_,o))),t.itemSort&&(u=u.sort((m,v)=>t.itemSort(m,v,o))),Wt(u,m=>{let v=$d(t.callbacks,m);a.push(Qe(v,"labelColor",this,m)),h.push(Qe(v,"labelPointStyle",this,m)),p.push(Qe(v,"labelTextColor",this,m))}),this.labelColors=a,this.labelPointStyles=h,this.labelTextColors=p,this.dataPoints=u,u}update(t,e){let o=this.options.setContext(this.getContext()),a=this._active,h,p=[];if(!a.length)this.opacity!==0&&(h={opacity:0});else{let u=Io[o.position].call(this,a,this._eventPosition);p=this._createItems(o),this.title=this.getTitle(p,o),this.beforeBody=this.getBeforeBody(p,o),this.body=this.getBody(p,o),this.afterBody=this.getAfterBody(p,o),this.footer=this.getFooter(p,o);let l=this._size=Nd(this,o),f=Object.assign({},u,l),m=Vd(this.chart,o,f),v=Hd(o,f,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,h={opacity:1,x:v.x,y:v.y,width:l.width,height:l.height,caretX:u.x,caretY:u.y}}this._tooltipItems=p,this.$context=void 0,h&&this._resolveAnimations().update(this,h),t&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,o,a){let h=this.getCaretPosition(t,o,a);e.lineTo(h.x1,h.y1),e.lineTo(h.x2,h.y2),e.lineTo(h.x3,h.y3)}getCaretPosition(t,e,o){let{xAlign:a,yAlign:h}=this,{caretSize:p,cornerRadius:u}=o,{topLeft:l,topRight:f,bottomLeft:m,bottomRight:v}=Oi(u),{x:_,y:w}=t,{width:P,height:C}=e,M,O,A,L,E,F;return h==="center"?(E=w+C/2,a==="left"?(M=_,O=M-p,L=E+p,F=E-p):(M=_+P,O=M+p,L=E-p,F=E+p),A=M):(a==="left"?O=_+Math.max(l,m)+p:a==="right"?O=_+P-Math.max(f,v)-p:O=this.caretX,h==="top"?(L=w,E=L-p,M=O-p,A=O+p):(L=w+C,E=L+p,M=O+p,A=O-p),F=L),{x1:M,x2:O,x3:A,y1:L,y2:E,y3:F}}drawTitle(t,e,o){let a=this.title,h=a.length,p,u,l;if(h){let f=Gi(o.rtl,this.x,this.width);for(t.x=la(this,o.titleAlign,o),e.textAlign=f.textAlign(o.titleAlign),e.textBaseline="middle",p=ye(o.titleFont),u=o.titleSpacing,e.fillStyle=o.titleColor,e.font=p.string,l=0;l<h;++l)e.fillText(a[l],f.x(t.x),t.y+p.lineHeight/2),t.y+=p.lineHeight+u,l+1===h&&(t.y+=o.titleMarginBottom-u)}}_drawColorBox(t,e,o,a,h){let p=this.labelColors[o],u=this.labelPointStyles[o],{boxHeight:l,boxWidth:f,boxPadding:m}=h,v=ye(h.bodyFont),_=la(this,"left",h),w=a.x(_),P=l<v.lineHeight?(v.lineHeight-l)/2:0,C=e.y+P;if(h.usePointStyle){let M={radius:Math.min(f,l)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},O=a.leftForLtr(w,f)+f/2,A=C+l/2;t.strokeStyle=h.multiKeyBackground,t.fillStyle=h.multiKeyBackground,jr(t,M,O,A),t.strokeStyle=p.borderColor,t.fillStyle=p.backgroundColor,jr(t,M,O,A)}else{t.lineWidth=St(p.borderWidth)?Math.max(...Object.values(p.borderWidth)):p.borderWidth||1,t.strokeStyle=p.borderColor,t.setLineDash(p.borderDash||[]),t.lineDashOffset=p.borderDashOffset||0;let M=a.leftForLtr(w,f-m),O=a.leftForLtr(a.xPlus(w,1),f-m-2),A=Oi(p.borderRadius);Object.values(A).some(L=>L!==0)?(t.beginPath(),t.fillStyle=h.multiKeyBackground,Ls(t,{x:M,y:C,w:f,h:l,radius:A}),t.fill(),t.stroke(),t.fillStyle=p.backgroundColor,t.beginPath(),Ls(t,{x:O,y:C+1,w:f-2,h:l-2,radius:A}),t.fill()):(t.fillStyle=h.multiKeyBackground,t.fillRect(M,C,f,l),t.strokeRect(M,C,f,l),t.fillStyle=p.backgroundColor,t.fillRect(O,C+1,f-2,l-2))}t.fillStyle=this.labelTextColors[o]}drawBody(t,e,o){let{body:a}=this,{bodySpacing:h,bodyAlign:p,displayColors:u,boxHeight:l,boxWidth:f,boxPadding:m}=o,v=ye(o.bodyFont),_=v.lineHeight,w=0,P=Gi(o.rtl,this.x,this.width),C=function($){e.fillText($,P.x(t.x+w),t.y+_/2),t.y+=_+h},M=P.textAlign(p),O,A,L,E,F,N,H;for(e.textAlign=p,e.textBaseline="middle",e.font=v.string,t.x=la(this,M,o),e.fillStyle=o.bodyColor,Wt(this.beforeBody,C),w=u&&M!=="right"?p==="center"?f/2+m:f+2+m:0,E=0,N=a.length;E<N;++E){for(O=a[E],A=this.labelTextColors[E],e.fillStyle=A,Wt(O.before,C),L=O.lines,u&&L.length&&(this._drawColorBox(e,t,E,P,o),_=Math.max(v.lineHeight,l)),F=0,H=L.length;F<H;++F)C(L[F]),_=v.lineHeight;Wt(O.after,C)}w=0,_=v.lineHeight,Wt(this.afterBody,C),t.y-=h}drawFooter(t,e,o){let a=this.footer,h=a.length,p,u;if(h){let l=Gi(o.rtl,this.x,this.width);for(t.x=la(this,o.footerAlign,o),t.y+=o.footerMarginTop,e.textAlign=l.textAlign(o.footerAlign),e.textBaseline="middle",p=ye(o.footerFont),e.fillStyle=o.footerColor,e.font=p.string,u=0;u<h;++u)e.fillText(a[u],l.x(t.x),t.y+p.lineHeight/2),t.y+=p.lineHeight+o.footerSpacing}}drawBackground(t,e,o,a){let{xAlign:h,yAlign:p}=this,{x:u,y:l}=t,{width:f,height:m}=o,{topLeft:v,topRight:_,bottomLeft:w,bottomRight:P}=Oi(a.cornerRadius);e.fillStyle=a.backgroundColor,e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth,e.beginPath(),e.moveTo(u+v,l),p==="top"&&this.drawCaret(t,e,o,a),e.lineTo(u+f-_,l),e.quadraticCurveTo(u+f,l,u+f,l+_),p==="center"&&h==="right"&&this.drawCaret(t,e,o,a),e.lineTo(u+f,l+m-P),e.quadraticCurveTo(u+f,l+m,u+f-P,l+m),p==="bottom"&&this.drawCaret(t,e,o,a),e.lineTo(u+w,l+m),e.quadraticCurveTo(u,l+m,u,l+m-w),p==="center"&&h==="left"&&this.drawCaret(t,e,o,a),e.lineTo(u,l+v),e.quadraticCurveTo(u,l,u+v,l),e.closePath(),e.fill(),a.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){let e=this.chart,o=this.$animations,a=o&&o.x,h=o&&o.y;if(a||h){let p=Io[t.position].call(this,this._active,this._eventPosition);if(!p)return;let u=this._size=Nd(this,t),l=Object.assign({},p,this._size),f=Vd(e,t,l),m=Hd(t,l,f,e);(a._to!==m.x||h._to!==m.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=p.x,this.caretY=p.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(t){let e=this.options.setContext(this.getContext()),o=this.opacity;if(!o)return;this._updateAnimationTarget(e);let a={width:this.width,height:this.height},h={x:this.x,y:this.y};o=Math.abs(o)<.001?0:o;let p=Re(e.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&u&&(t.save(),t.globalAlpha=o,this.drawBackground(h,t,a,e),oc(t,e.textDirection),h.y+=p.top,this.drawTitle(h,t,e),this.drawBody(h,t,e),this.drawFooter(h,t,e),rc(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){let o=this._active,a=t.map(({datasetIndex:u,index:l})=>{let f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[l],index:l}}),h=!Po(o,a),p=this._positionChanged(a,e);(h||p)&&(this._active=a,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,o=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let a=this.options,h=this._active||[],p=this._getActiveElements(t,h,e,o),u=this._positionChanged(p,t),l=e||!Po(p,h)||u;return l&&(this._active=p,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),l}_getActiveElements(t,e,o,a){let h=this.options;if(t.type==="mouseout")return[];if(!a)return e;let p=this.chart.getElementsAtEventForMode(t,h.mode,h,o);return h.reverse&&p.reverse(),p}_positionChanged(t,e){let{caretX:o,caretY:a,options:h}=this,p=Io[h.position].call(this,t,e);return p!==!1&&(o!==p.x||a!==p.y)}};vt(Vo,"positioners",Io);var t1={id:"tooltip",_element:Vo,positioners:Io,afterInit(i,t,e){e&&(i.tooltip=new Vo({chart:i,options:e}))},beforeUpdate(i,t,e){i.tooltip&&i.tooltip.initialize(e)},reset(i,t,e){i.tooltip&&i.tooltip.initialize(e)},afterDraw(i){let t=i.tooltip;if(t&&t._willRender()){let e={tooltip:t};if(i.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",e)}},afterEvent(i,t){if(i.tooltip){let e=t.replay;i.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,t)=>t.bodyFont.size,boxWidth:(i,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:bp},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},e1=Object.freeze({__proto__:null,Colors:d_,Decimation:b_,Filler:B_,Legend:$_,SubTitle:U_,Title:q_,Tooltip:t1}),n1=(i,t,e,o)=>(typeof t=="string"?(e=i.push(t)-1,o.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function i1(i,t,e,o){let a=i.indexOf(t);if(a===-1)return n1(i,t,e,o);let h=i.lastIndexOf(t);return a!==h?e:a}var s1=(i,t)=>i===null?null:Pe(Math.round(i),0,t);function Yd(i){let t=this.getLabels();return i>=0&&i<t.length?t[i]:i}var Fo=class extends jn{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){let e=this._addedLabels;if(e.length){let o=this.getLabels();for(let{index:a,label:h}of e)o[a]===h&&o.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(zt(t))return null;let o=this.getLabels();return e=isFinite(e)&&o[e]===t?e:i1(o,t,Tt(e,t),this._addedLabels),s1(e,o.length-1)}determineDataLimits(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),{min:o,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(o=0),e||(a=this.getLabels().length-1)),this.min=o,this.max=a}buildTicks(){let t=this.min,e=this.max,o=this.options.offset,a=[],h=this.getLabels();h=t===0&&e===h.length-1?h:h.slice(t,e+1),this._valueRange=Math.max(h.length-(o?0:1),1),this._startValue=this.min-(o?.5:0);for(let p=t;p<=e;p++)a.push({value:p});return a}getLabelForValue(t){return Yd.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}};vt(Fo,"id","category"),vt(Fo,"defaults",{ticks:{callback:Yd}});function o1(i,t){let e=[],{bounds:a,step:h,min:p,max:u,precision:l,count:f,maxTicks:m,maxDigits:v,includeBounds:_}=i,w=h||1,P=m-1,{min:C,max:M}=t,O=!zt(p),A=!zt(u),L=!zt(f),E=(M-C)/(v+1),F=zl((M-C)/P/w)*w,N,H,$,G;if(F<1e-14&&!O&&!A)return[{value:C},{value:M}];G=Math.ceil(M/F)-Math.floor(C/F),G>P&&(F=zl(G*F/P/w)*w),zt(l)||(N=Math.pow(10,l),F=Math.ceil(F*N)/N),a==="ticks"?(H=Math.floor(C/F)*F,$=Math.ceil(M/F)*F):(H=C,$=M),O&&A&&h&&Df((u-p)/h,F/1e3)?(G=Math.round(Math.min((u-p)/F,m)),F=(u-p)/G,H=p,$=u):L?(H=O?p:H,$=A?u:$,G=f-1,F=($-H)/G):(G=($-H)/F,As(G,Math.round(G),F/1e3)?G=Math.round(G):G=Math.ceil(G));let tt=Math.max(Vl(F),Vl(H));N=Math.pow(10,zt(l)?tt:l),H=Math.round(H*N)/N,$=Math.round($*N)/N;let et=0;for(O&&(_&&H!==p?(e.push({value:p}),H<p&&et++,As(Math.round((H+et*F)*N)/N,p,qd(p,E,i))&&et++):H<p&&et++);et<G;++et)e.push({value:Math.round((H+et*F)*N)/N});return A&&_&&$!==u?e.length&&As(e[e.length-1].value,u,qd(u,E,i))?e[e.length-1].value=u:e.push({value:u}):(!A||$===u)&&e.push({value:$}),e}function qd(i,t,{horizontal:e,minRotation:o}){let a=cn(o),h=(e?Math.sin(a):Math.cos(a))||.001,p=.75*t*(""+i).length;return Math.min(t/h,p)}var Ys=class extends jn{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return zt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let{beginAtZero:t}=this.options,{minDefined:e,maxDefined:o}=this.getUserBounds(),{min:a,max:h}=this,p=l=>a=e?a:l,u=l=>h=o?h:l;if(t){let l=xn(a),f=xn(h);l<0&&f<0?u(0):l>0&&f>0&&p(0)}if(a===h){let l=h===0?1:Math.abs(h*.05);u(h+l),t||p(a-l)}this.min=a,this.max=h}getTickLimit(){let t=this.options.ticks,{maxTicksLimit:e,stepSize:o}=t,a;return o?(a=Math.ceil(this.max/o)-Math.floor(this.min/o)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${o} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),e=e||11),e&&(a=Math.min(e,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let t=this.options,e=t.ticks,o=this.getTickLimit();o=Math.max(2,o);let a={maxTicks:o,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},h=this._range||this,p=o1(a,h);return t.bounds==="ticks"&&Nl(p,this,"value"),t.reverse?(p.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),p}configure(){let t=this.ticks,e=this.min,o=this.max;if(super.configure(),this.options.offset&&t.length){let a=(o-e)/Math.max(t.length-1,1)/2;e-=a,o+=a}this._startValue=e,this._endValue=o,this._valueRange=o-e}getLabelForValue(t){return Ds(t,this.chart.options.locale,this.options.ticks.format)}},Bo=class extends Ys{determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=se(t)?t:0,this.max=se(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let t=this.isHorizontal(),e=t?this.width:this.height,o=cn(this.options.ticks.minRotation),a=(t?Math.sin(o):Math.cos(o))||.001,h=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,h.lineHeight/a))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}};vt(Bo,"id","linear"),vt(Bo,"defaults",{ticks:{callback:Co.formatters.numeric}});var Yo=i=>Math.floor(Xn(i)),Qi=(i,t)=>Math.pow(10,Yo(i)+t);function Ud(i){return i/Math.pow(10,Yo(i))===1}function Xd(i,t,e){let o=Math.pow(10,e),a=Math.floor(i/o);return Math.ceil(t/o)-a}function r1(i,t){let e=t-i,o=Yo(e);for(;Xd(i,t,o)>10;)o++;for(;Xd(i,t,o)<10;)o--;return Math.min(o,Yo(i))}function a1(i,{min:t,max:e}){t=Ke(i.min,t);let o=[],a=Yo(t),h=r1(t,e),p=h<0?Math.pow(10,Math.abs(h)):1,u=Math.pow(10,h),l=a>h?Math.pow(10,a):0,f=Math.round((t-l)*p)/p,m=Math.floor((t-l)/u/10)*u*10,v=Math.floor((f-m)/Math.pow(10,h)),_=Ke(i.min,Math.round((l+m+v*Math.pow(10,h))*p)/p);for(;_<e;)o.push({value:_,major:Ud(_),significand:v}),v>=10?v=v<15?15:20:v++,v>=20&&(h++,v=2,p=h>=0?1:p),_=Math.round((l+m+v*Math.pow(10,h))*p)/p;let w=Ke(i.max,_);return o.push({value:w,major:Ud(w),significand:v}),o}var zo=class extends jn{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){let o=Ys.prototype.parse.apply(this,[t,e]);if(o===0){this._zero=!0;return}return se(o)&&o>0?o:null}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=se(t)?Math.max(0,t):null,this.max=se(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!se(this._userMin)&&(this.min=t===Qi(this.min,0)?Qi(this.min,-1):Qi(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),o=this.min,a=this.max,h=u=>o=t?o:u,p=u=>a=e?a:u;o===a&&(o<=0?(h(1),p(10)):(h(Qi(o,-1)),p(Qi(a,1)))),o<=0&&h(Qi(a,-1)),a<=0&&p(Qi(o,1)),this.min=o,this.max=a}buildTicks(){let t=this.options,e={min:this._userMin,max:this._userMax},o=a1(e,this);return t.bounds==="ticks"&&Nl(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}getLabelForValue(t){return t===void 0?"0":Ds(t,this.chart.options.locale,this.options.ticks.format)}configure(){let t=this.min;super.configure(),this._startValue=Xn(t),this._valueRange=Xn(this.max)-Xn(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Xn(t)-this._startValue)/this._valueRange)}getValueForPixel(t){let e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}};vt(zo,"id","logarithmic"),vt(zo,"defaults",{ticks:{callback:Co.formatters.logarithmic,major:{enabled:!0}}});function Ac(i){let t=i.ticks;if(t.display&&i.display){let e=Re(t.backdropPadding);return Tt(t.font&&t.font.size,ce.font.size)+e.height}return 0}function l1(i,t,e){return e=Zt(e)?e:[e],{w:Hf(i,t.string,e),h:e.length*t.lineHeight}}function Gd(i,t,e,o,a){return i===o||i===a?{start:t-e/2,end:t+e/2}:i<o||i>a?{start:t-e,end:t}:{start:t,end:t+e}}function c1(i){let t={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},e=Object.assign({},t),o=[],a=[],h=i._pointLabels.length,p=i.options.pointLabels,u=p.centerPointLabels?ee/h:0;for(let l=0;l<h;l++){let f=p.setContext(i.getPointLabelContext(l));a[l]=f.padding;let m=i.getPointPosition(l,i.drawingArea+a[l],u),v=ye(f.font),_=l1(i.ctx,v,i._pointLabels[l]);o[l]=_;let w=Ge(i.getIndexAngle(l)+u),P=Math.round(Kr(w)),C=Gd(P,m.x,_.w,0,180),M=Gd(P,m.y,_.h,90,270);u1(e,t,w,C,M)}i.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),i._pointLabelItems=h1(i,o,a)}function u1(i,t,e,o,a){let h=Math.abs(Math.sin(e)),p=Math.abs(Math.cos(e)),u=0,l=0;o.start<t.l?(u=(t.l-o.start)/h,i.l=Math.min(i.l,t.l-u)):o.end>t.r&&(u=(o.end-t.r)/h,i.r=Math.max(i.r,t.r+u)),a.start<t.t?(l=(t.t-a.start)/p,i.t=Math.min(i.t,t.t-l)):a.end>t.b&&(l=(a.end-t.b)/p,i.b=Math.max(i.b,t.b+l))}function h1(i,t,e){let o=[],a=i._pointLabels.length,h=i.options,p=Ac(h)/2,u=i.drawingArea,l=h.pointLabels.centerPointLabels?ee/a:0;for(let f=0;f<a;f++){let m=i.getPointPosition(f,u+p+e[f],l),v=Math.round(Kr(Ge(m.angle+ie))),_=t[f],w=p1(m.y,_.h,v),P=f1(v),C=d1(m.x,_.w,P);o.push({x:m.x,y:w,textAlign:P,left:C,top:w,right:C+_.w,bottom:w+_.h})}return o}function f1(i){return i===0||i===180?"center":i<180?"left":"right"}function d1(i,t,e){return e==="right"?i-=t:e==="center"&&(i-=t/2),i}function p1(i,t,e){return e===90||e===270?i-=t/2:(e>270||e<90)&&(i-=t),i}function g1(i,t){let{ctx:e,options:{pointLabels:o}}=i;for(let a=t-1;a>=0;a--){let h=o.setContext(i.getPointLabelContext(a)),p=ye(h.font),{x:u,y:l,textAlign:f,left:m,top:v,right:_,bottom:w}=i._pointLabelItems[a],{backdropColor:P}=h;if(!zt(P)){let C=Oi(h.borderRadius),M=Re(h.backdropPadding);e.fillStyle=P;let O=m-M.left,A=v-M.top,L=_-m+M.width,E=w-v+M.height;Object.values(C).some(F=>F!==0)?(e.beginPath(),Ls(e,{x:O,y:A,w:L,h:E,radius:C}),e.fill()):e.fillRect(O,A,L,E)}Mi(e,i._pointLabels[a],u,l+p.lineHeight/2,p,{color:h.color,textAlign:f,textBaseline:"middle"})}}function vp(i,t,e,o){let{ctx:a}=i;if(e)a.arc(i.xCenter,i.yCenter,t,0,Jt);else{let h=i.getPointPosition(0,t);a.moveTo(h.x,h.y);for(let p=1;p<o;p++)h=i.getPointPosition(p,t),a.lineTo(h.x,h.y)}}function m1(i,t,e,o,a){let h=i.ctx,p=t.circular,{color:u,lineWidth:l}=t;!p&&!o||!u||!l||e<0||(h.save(),h.strokeStyle=u,h.lineWidth=l,h.setLineDash(a.dash),h.lineDashOffset=a.dashOffset,h.beginPath(),vp(i,e,p,o),h.closePath(),h.stroke(),h.restore())}function b1(i,t,e){return Kn(i,{label:e,index:t,type:"pointLabel"})}var Zi=class extends Ys{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let t=this._padding=Re(Ac(this.options)/2),e=this.width=this.maxWidth-t.width,o=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+o/2+t.top),this.drawingArea=Math.floor(Math.min(e,o)/2)}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!1);this.min=se(t)&&!isNaN(t)?t:0,this.max=se(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Ac(this.options))}generateTickLabels(t){Ys.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,o)=>{let a=Xt(this.options.pointLabels.callback,[e,o],this);return a||a===0?a:""}).filter((e,o)=>this.chart.getDataVisibility(o))}fit(){let t=this.options;t.display&&t.pointLabels.display?c1(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,o,a){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((o-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,o,a))}getIndexAngle(t){let e=Jt/(this._pointLabels.length||1),o=this.options.startAngle||0;return Ge(t*e+cn(o))}getDistanceFromCenterForValue(t){if(zt(t))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(zt(t))return NaN;let e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){let e=this._pointLabels||[];if(t>=0&&t<e.length){let o=e[t];return b1(this.getContext(),t,o)}}getPointPosition(t,e,o=0){let a=this.getIndexAngle(t)-ie+o;return{x:Math.cos(a)*e+this.xCenter,y:Math.sin(a)*e+this.yCenter,angle:a}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){let{left:e,top:o,right:a,bottom:h}=this._pointLabelItems[t];return{left:e,top:o,right:a,bottom:h}}drawBackground(){let{backgroundColor:t,grid:{circular:e}}=this.options;if(t){let o=this.ctx;o.save(),o.beginPath(),vp(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),o.closePath(),o.fillStyle=t,o.fill(),o.restore()}}drawGrid(){let t=this.ctx,e=this.options,{angleLines:o,grid:a,border:h}=e,p=this._pointLabels.length,u,l,f;if(e.pointLabels.display&&g1(this,p),a.display&&this.ticks.forEach((m,v)=>{if(v!==0){l=this.getDistanceFromCenterForValue(m.value);let _=this.getContext(v),w=a.setContext(_),P=h.setContext(_);m1(this,w,l,p,P)}}),o.display){for(t.save(),u=p-1;u>=0;u--){let m=o.setContext(this.getPointLabelContext(u)),{color:v,lineWidth:_}=m;!_||!v||(t.lineWidth=_,t.strokeStyle=v,t.setLineDash(m.borderDash),t.lineDashOffset=m.borderDashOffset,l=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),f=this.getPointPosition(u,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(f.x,f.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){let t=this.ctx,e=this.options,o=e.ticks;if(!o.display)return;let a=this.getIndexAngle(0),h,p;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(a),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((u,l)=>{if(l===0&&!e.reverse)return;let f=o.setContext(this.getContext(l)),m=ye(f.font);if(h=this.getDistanceFromCenterForValue(this.ticks[l].value),f.showLabelBackdrop){t.font=m.string,p=t.measureText(u.label).width,t.fillStyle=f.backdropColor;let v=Re(f.backdropPadding);t.fillRect(-p/2-v.left,-h-m.size/2-v.top,p+v.width,m.size+v.height)}Mi(t,u.label,0,-h,m,{color:f.color})}),t.restore()}drawTitle(){}};vt(Zi,"id","radialLinear"),vt(Zi,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Co.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),vt(Zi,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),vt(Zi,"descriptors",{angleLines:{_fallback:"grid"}});var xa={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ze=Object.keys(xa);function v1(i,t){return i-t}function Kd(i,t){if(zt(t))return null;let e=i._adapter,{parser:o,round:a,isoWeekday:h}=i._parseOpts,p=t;return typeof o=="function"&&(p=o(p)),se(p)||(p=typeof o=="string"?e.parse(p,o):e.parse(p)),p===null?null:(a&&(p=a==="week"&&(Xi(h)||h===!0)?e.startOf(p,"isoWeek",h):e.startOf(p,a)),+p)}function Qd(i,t,e,o){let a=Ze.length;for(let h=Ze.indexOf(i);h<a-1;++h){let p=xa[Ze[h]],u=p.steps?p.steps:Number.MAX_SAFE_INTEGER;if(p.common&&Math.ceil((e-t)/(u*p.size))<=o)return Ze[h]}return Ze[a-1]}function x1(i,t,e,o,a){for(let h=Ze.length-1;h>=Ze.indexOf(e);h--){let p=Ze[h];if(xa[p].common&&i._adapter.diff(a,o,p)>=t-1)return p}return Ze[e?Ze.indexOf(e):0]}function y1(i){for(let t=Ze.indexOf(i)+1,e=Ze.length;t<e;++t)if(xa[Ze[t]].common)return Ze[t]}function Zd(i,t,e){if(!e)i[t]=!0;else if(e.length){let{lo:o,hi:a}=Qr(e,t),h=e[o]>=t?e[o]:e[a];i[h]=!0}}function _1(i,t,e,o){let a=i._adapter,h=+a.startOf(t[0].value,o),p=t[t.length-1].value,u,l;for(u=h;u<=p;u=+a.add(u,1,o))l=e[u],l>=0&&(t[l].major=!0);return t}function Jd(i,t,e){let o=[],a={},h=t.length,p,u;for(p=0;p<h;++p)u=t[p],a[u]=p,o.push({value:u,major:!1});return h===0||!e?o:_1(i,o,a,e)}var ji=class extends jn{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){let o=t.time||(t.time={}),a=this._adapter=new zx._date(t.adapters.date);a.init(e),Ts(o.displayFormats,a.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:Kd(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let t=this.options,e=this._adapter,o=t.time.unit||"day",{min:a,max:h,minDefined:p,maxDefined:u}=this.getUserBounds();function l(f){!p&&!isNaN(f.min)&&(a=Math.min(a,f.min)),!u&&!isNaN(f.max)&&(h=Math.max(h,f.max))}(!p||!u)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),a=se(a)&&!isNaN(a)?a:+e.startOf(Date.now(),o),h=se(h)&&!isNaN(h)?h:+e.endOf(Date.now(),o)+1,this.min=Math.min(a,h-1),this.max=Math.max(a+1,h)}_getLabelBounds(){let t=this.getLabelTimestamps(),e=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],o=t[t.length-1]),{min:e,max:o}}buildTicks(){let t=this.options,e=t.time,o=t.ticks,a=o.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);let h=this.min,p=this.max,u=Rf(a,h,p);return this._unit=e.unit||(o.autoSkip?Qd(e.minUnit,this.min,this.max,this._getLabelCapacity(h)):x1(this,u.length,e.minUnit,this.min,this.max)),this._majorUnit=!o.major.enabled||this._unit==="year"?void 0:y1(this._unit),this.initOffsets(a),t.reverse&&u.reverse(),Jd(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,o=0,a,h;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?e=1-a:e=(this.getDecimalForValue(t[1])-a)/2,h=this.getDecimalForValue(t[t.length-1]),t.length===1?o=h:o=(h-this.getDecimalForValue(t[t.length-2]))/2);let p=t.length<3?.5:.25;e=Pe(e,0,p),o=Pe(o,0,p),this._offsets={start:e,end:o,factor:1/(e+1+o)}}_generate(){let t=this._adapter,e=this.min,o=this.max,a=this.options,h=a.time,p=h.unit||Qd(h.minUnit,e,o,this._getLabelCapacity(e)),u=Tt(a.ticks.stepSize,1),l=p==="week"?h.isoWeekday:!1,f=Xi(l)||l===!0,m={},v=e,_,w;if(f&&(v=+t.startOf(v,"isoWeek",l)),v=+t.startOf(v,f?"day":p),t.diff(o,e,p)>1e5*u)throw new Error(e+" and "+o+" are too far apart with stepSize of "+u+" "+p);let P=a.ticks.source==="data"&&this.getDataTimestamps();for(_=v,w=0;_<o;_=+t.add(_,u,p),w++)Zd(m,_,P);return(_===o||a.bounds==="ticks"||w===1)&&Zd(m,_,P),Object.keys(m).sort((C,M)=>C-M).map(C=>+C)}getLabelForValue(t){let e=this._adapter,o=this.options.time;return o.tooltipFormat?e.format(t,o.tooltipFormat):e.format(t,o.displayFormats.datetime)}format(t,e){let a=this.options.time.displayFormats,h=this._unit,p=e||a[h];return this._adapter.format(t,p)}_tickFormatFunction(t,e,o,a){let h=this.options,p=h.ticks.callback;if(p)return Xt(p,[t,e,o],this);let u=h.time.displayFormats,l=this._unit,f=this._majorUnit,m=l&&u[l],v=f&&u[f],_=o[e],w=f&&v&&_&&_.major;return this._adapter.format(t,a||(w?v:m))}generateTickLabels(t){let e,o,a;for(e=0,o=t.length;e<o;++e)a=t[e],a.label=this._tickFormatFunction(a.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){let e=this._offsets,o=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+o)*e.factor)}getValueForPixel(t){let e=this._offsets,o=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+o*(this.max-this.min)}_getLabelSize(t){let e=this.options.ticks,o=this.ctx.measureText(t).width,a=cn(this.isHorizontal()?e.maxRotation:e.minRotation),h=Math.cos(a),p=Math.sin(a),u=this._resolveTickFontOptions(0).size;return{w:o*h+u*p,h:o*p+u*h}}_getLabelCapacity(t){let e=this.options.time,o=e.displayFormats,a=o[e.unit]||o.millisecond,h=this._tickFormatFunction(t,0,Jd(this,[t],this._majorUnit),a),p=this._getLabelSize(h),u=Math.floor(this.isHorizontal()?this.width/p.w:this.height/p.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],e,o;if(t.length)return t;let a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(e=0,o=a.length;e<o;++e)t=t.concat(a[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){let t=this._cache.labels||[],e,o;if(t.length)return t;let a=this.getLabels();for(e=0,o=a.length;e<o;++e)t.push(Kd(this,a[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return $l(t.sort(v1))}};vt(ji,"id","time"),vt(ji,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function ca(i,t,e){let o=0,a=i.length-1,h,p,u,l;e?(t>=i[o].pos&&t<=i[a].pos&&({lo:o,hi:a}=En(i,"pos",t)),{pos:h,time:u}=i[o],{pos:p,time:l}=i[a]):(t>=i[o].time&&t<=i[a].time&&({lo:o,hi:a}=En(i,"time",t)),{time:h,pos:u}=i[o],{time:p,pos:l}=i[a]);let f=p-h;return f?u+(l-u)*(t-h)/f:u}var No=class extends ji{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=ca(e,this.min),this._tableRange=ca(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){let{min:e,max:o}=this,a=[],h=[],p,u,l,f,m;for(p=0,u=t.length;p<u;++p)f=t[p],f>=e&&f<=o&&a.push(f);if(a.length<2)return[{time:e,pos:0},{time:o,pos:1}];for(p=0,u=a.length;p<u;++p)m=a[p+1],l=a[p-1],f=a[p],Math.round((m+l)/2)!==f&&h.push({time:f,pos:p/(u-1)});return h}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;let e=this.getDataTimestamps(),o=this.getLabelTimestamps();return e.length&&o.length?t=this.normalize(e.concat(o)):t=e.length?e:o,t=this._cache.all=t,t}getDecimalForValue(t){return(ca(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){let e=this._offsets,o=this.getDecimalForPixel(t)/e.factor-e.end;return ca(this._table,o*this._tableRange+this._minPos,!0)}};vt(No,"id","timeseries"),vt(No,"defaults",ji.defaults);var w1=Object.freeze({__proto__:null,CategoryScale:Fo,LinearScale:Bo,LogarithmicScale:zo,RadialLinearScale:Zi,TimeScale:ji,TimeSeriesScale:No}),ya=[Bx,a_,e1,w1];un.register(...ya);var Uo=un;var cg=kl(yp(),1);var ue="top",Ce="bottom",_e="right",me="left",_a="auto",Ei=[ue,Ce,_e,me],ti="start",ts="end",_p="clippingParents",wa="viewport",qs="popper",wp="reference",Ic=Ei.reduce(function(i,t){return i.concat([t+"-"+ti,t+"-"+ts])},[]),ka=[].concat(Ei,[_a]).reduce(function(i,t){return i.concat([t,t+"-"+ti,t+"-"+ts])},[]),k1="beforeRead",P1="read",C1="afterRead",M1="beforeMain",O1="main",T1="afterMain",A1="beforeWrite",E1="write",D1="afterWrite",kp=[k1,P1,C1,M1,O1,T1,A1,E1,D1];function Oe(i){return i?(i.nodeName||"").toLowerCase():null}function oe(i){if(i==null)return window;if(i.toString()!=="[object Window]"){var t=i.ownerDocument;return t&&t.defaultView||window}return i}function hn(i){var t=oe(i).Element;return i instanceof t||i instanceof Element}function Me(i){var t=oe(i).HTMLElement;return i instanceof t||i instanceof HTMLElement}function Us(i){if(typeof ShadowRoot>"u")return!1;var t=oe(i).ShadowRoot;return i instanceof t||i instanceof ShadowRoot}function L1(i){var t=i.state;Object.keys(t.elements).forEach(function(e){var o=t.styles[e]||{},a=t.attributes[e]||{},h=t.elements[e];!Me(h)||!Oe(h)||(Object.assign(h.style,o),Object.keys(a).forEach(function(p){var u=a[p];u===!1?h.removeAttribute(p):h.setAttribute(p,u===!0?"":u)}))})}function S1(i){var t=i.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(o){var a=t.elements[o],h=t.attributes[o]||{},p=Object.keys(t.styles.hasOwnProperty(o)?t.styles[o]:e[o]),u=p.reduce(function(l,f){return l[f]="",l},{});!Me(a)||!Oe(a)||(Object.assign(a.style,u),Object.keys(h).forEach(function(l){a.removeAttribute(l)}))})}}var Xo={name:"applyStyles",enabled:!0,phase:"write",fn:L1,effect:S1,requires:["computeStyles"]};function Te(i){return i.split("-")[0]}var yn=Math.max,es=Math.min,ei=Math.round;function Xs(){var i=navigator.userAgentData;return i!=null&&i.brands?i.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Go(){return!/^((?!chrome|android).)*safari/i.test(Xs())}function fn(i,t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);var o=i.getBoundingClientRect(),a=1,h=1;t&&Me(i)&&(a=i.offsetWidth>0&&ei(o.width)/i.offsetWidth||1,h=i.offsetHeight>0&&ei(o.height)/i.offsetHeight||1);var p=hn(i)?oe(i):window,u=p.visualViewport,l=!Go()&&e,f=(o.left+(l&&u?u.offsetLeft:0))/a,m=(o.top+(l&&u?u.offsetTop:0))/h,v=o.width/a,_=o.height/h;return{width:v,height:_,top:m,right:f+v,bottom:m+_,left:f,x:f,y:m}}function ns(i){var t=fn(i),e=i.offsetWidth,o=i.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:i.offsetLeft,y:i.offsetTop,width:e,height:o}}function Ko(i,t){var e=t.getRootNode&&t.getRootNode();if(i.contains(t))return!0;if(e&&Us(e)){var o=t;do{if(o&&i.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function Ye(i){return oe(i).getComputedStyle(i)}function Fc(i){return["table","td","th"].indexOf(Oe(i))>=0}function Ie(i){return((hn(i)?i.ownerDocument:i.document)||window.document).documentElement}function ni(i){return Oe(i)==="html"?i:i.assignedSlot||i.parentNode||(Us(i)?i.host:null)||Ie(i)}function Pp(i){return!Me(i)||Ye(i).position==="fixed"?null:i.offsetParent}function R1(i){var t=/firefox/i.test(Xs()),e=/Trident/i.test(Xs());if(e&&Me(i)){var o=Ye(i);if(o.position==="fixed")return null}var a=ni(i);for(Us(a)&&(a=a.host);Me(a)&&["html","body"].indexOf(Oe(a))<0;){var h=Ye(a);if(h.transform!=="none"||h.perspective!=="none"||h.contain==="paint"||["transform","perspective"].indexOf(h.willChange)!==-1||t&&h.willChange==="filter"||t&&h.filter&&h.filter!=="none")return a;a=a.parentNode}return null}function _n(i){for(var t=oe(i),e=Pp(i);e&&Fc(e)&&Ye(e).position==="static";)e=Pp(e);return e&&(Oe(e)==="html"||Oe(e)==="body"&&Ye(e).position==="static")?t:e||R1(i)||t}function is(i){return["top","bottom"].indexOf(i)>=0?"x":"y"}function ss(i,t,e){return yn(i,es(t,e))}function Cp(i,t,e){var o=ss(i,t,e);return o>e?e:o}function Qo(){return{top:0,right:0,bottom:0,left:0}}function Zo(i){return Object.assign({},Qo(),i)}function Jo(i,t){return t.reduce(function(e,o){return e[o]=i,e},{})}var I1=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,Zo(typeof t!="number"?t:Jo(t,Ei))};function F1(i){var t,e=i.state,o=i.name,a=i.options,h=e.elements.arrow,p=e.modifiersData.popperOffsets,u=Te(e.placement),l=is(u),f=[me,_e].indexOf(u)>=0,m=f?"height":"width";if(!(!h||!p)){var v=I1(a.padding,e),_=ns(h),w=l==="y"?ue:me,P=l==="y"?Ce:_e,C=e.rects.reference[m]+e.rects.reference[l]-p[l]-e.rects.popper[m],M=p[l]-e.rects.reference[l],O=_n(h),A=O?l==="y"?O.clientHeight||0:O.clientWidth||0:0,L=C/2-M/2,E=v[w],F=A-_[m]-v[P],N=A/2-_[m]/2+L,H=ss(E,N,F),$=l;e.modifiersData[o]=(t={},t[$]=H,t.centerOffset=H-N,t)}}function B1(i){var t=i.state,e=i.options,o=e.element,a=o===void 0?"[data-popper-arrow]":o;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||Ko(t.elements.popper,a)&&(t.elements.arrow=a))}var Mp={name:"arrow",enabled:!0,phase:"main",fn:F1,effect:B1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function dn(i){return i.split("-")[1]}var z1={top:"auto",right:"auto",bottom:"auto",left:"auto"};function N1(i){var t=i.x,e=i.y,o=window,a=o.devicePixelRatio||1;return{x:ei(t*a)/a||0,y:ei(e*a)/a||0}}function Op(i){var t,e=i.popper,o=i.popperRect,a=i.placement,h=i.variation,p=i.offsets,u=i.position,l=i.gpuAcceleration,f=i.adaptive,m=i.roundOffsets,v=i.isFixed,_=p.x,w=_===void 0?0:_,P=p.y,C=P===void 0?0:P,M=typeof m=="function"?m({x:w,y:C}):{x:w,y:C};w=M.x,C=M.y;var O=p.hasOwnProperty("x"),A=p.hasOwnProperty("y"),L=me,E=ue,F=window;if(f){var N=_n(e),H="clientHeight",$="clientWidth";if(N===oe(e)&&(N=Ie(e),Ye(N).position!=="static"&&u==="absolute"&&(H="scrollHeight",$="scrollWidth")),N=N,a===ue||(a===me||a===_e)&&h===ts){E=Ce;var G=v&&N===F&&F.visualViewport?F.visualViewport.height:N[H];C-=G-o.height,C*=l?1:-1}if(a===me||(a===ue||a===Ce)&&h===ts){L=_e;var tt=v&&N===F&&F.visualViewport?F.visualViewport.width:N[$];w-=tt-o.width,w*=l?1:-1}}var et=Object.assign({position:u},f&&z1),at=m===!0?N1({x:w,y:C}):{x:w,y:C};if(w=at.x,C=at.y,l){var ct;return Object.assign({},et,(ct={},ct[E]=A?"0":"",ct[L]=O?"0":"",ct.transform=(F.devicePixelRatio||1)<=1?"translate("+w+"px, "+C+"px)":"translate3d("+w+"px, "+C+"px, 0)",ct))}return Object.assign({},et,(t={},t[E]=A?C+"px":"",t[L]=O?w+"px":"",t.transform="",t))}function V1(i){var t=i.state,e=i.options,o=e.gpuAcceleration,a=o===void 0?!0:o,h=e.adaptive,p=h===void 0?!0:h,u=e.roundOffsets,l=u===void 0?!0:u;if(!1)var f;var m={placement:Te(t.placement),variation:dn(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Op(Object.assign({},m,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:p,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Op(Object.assign({},m,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var Tp={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:V1,data:{}};var Pa={passive:!0};function H1(i){var t=i.state,e=i.instance,o=i.options,a=o.scroll,h=a===void 0?!0:a,p=o.resize,u=p===void 0?!0:p,l=oe(t.elements.popper),f=[].concat(t.scrollParents.reference,t.scrollParents.popper);return h&&f.forEach(function(m){m.addEventListener("scroll",e.update,Pa)}),u&&l.addEventListener("resize",e.update,Pa),function(){h&&f.forEach(function(m){m.removeEventListener("scroll",e.update,Pa)}),u&&l.removeEventListener("resize",e.update,Pa)}}var Ap={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:H1,data:{}};var W1={left:"right",right:"left",bottom:"top",top:"bottom"};function Gs(i){return i.replace(/left|right|bottom|top/g,function(t){return W1[t]})}var $1={start:"end",end:"start"};function Ca(i){return i.replace(/start|end/g,function(t){return $1[t]})}function os(i){var t=oe(i),e=t.pageXOffset,o=t.pageYOffset;return{scrollLeft:e,scrollTop:o}}function rs(i){return fn(Ie(i)).left+os(i).scrollLeft}function Bc(i,t){var e=oe(i),o=Ie(i),a=e.visualViewport,h=o.clientWidth,p=o.clientHeight,u=0,l=0;if(a){h=a.width,p=a.height;var f=Go();(f||!f&&t==="fixed")&&(u=a.offsetLeft,l=a.offsetTop)}return{width:h,height:p,x:u+rs(i),y:l}}function zc(i){var t,e=Ie(i),o=os(i),a=(t=i.ownerDocument)==null?void 0:t.body,h=yn(e.scrollWidth,e.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),p=yn(e.scrollHeight,e.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),u=-o.scrollLeft+rs(i),l=-o.scrollTop;return Ye(a||e).direction==="rtl"&&(u+=yn(e.clientWidth,a?a.clientWidth:0)-h),{width:h,height:p,x:u,y:l}}function as(i){var t=Ye(i),e=t.overflow,o=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+a+o)}function Ma(i){return["html","body","#document"].indexOf(Oe(i))>=0?i.ownerDocument.body:Me(i)&&as(i)?i:Ma(ni(i))}function Di(i,t){var e;t===void 0&&(t=[]);var o=Ma(i),a=o===((e=i.ownerDocument)==null?void 0:e.body),h=oe(o),p=a?[h].concat(h.visualViewport||[],as(o)?o:[]):o,u=t.concat(p);return a?u:u.concat(Di(ni(p)))}function Ks(i){return Object.assign({},i,{left:i.x,top:i.y,right:i.x+i.width,bottom:i.y+i.height})}function Y1(i,t){var e=fn(i,!1,t==="fixed");return e.top=e.top+i.clientTop,e.left=e.left+i.clientLeft,e.bottom=e.top+i.clientHeight,e.right=e.left+i.clientWidth,e.width=i.clientWidth,e.height=i.clientHeight,e.x=e.left,e.y=e.top,e}function Ep(i,t,e){return t===wa?Ks(Bc(i,e)):hn(t)?Y1(t,e):Ks(zc(Ie(i)))}function q1(i){var t=Di(ni(i)),e=["absolute","fixed"].indexOf(Ye(i).position)>=0,o=e&&Me(i)?_n(i):i;return hn(o)?t.filter(function(a){return hn(a)&&Ko(a,o)&&Oe(a)!=="body"}):[]}function Nc(i,t,e,o){var a=t==="clippingParents"?q1(i):[].concat(t),h=[].concat(a,[e]),p=h[0],u=h.reduce(function(l,f){var m=Ep(i,f,o);return l.top=yn(m.top,l.top),l.right=es(m.right,l.right),l.bottom=es(m.bottom,l.bottom),l.left=yn(m.left,l.left),l},Ep(i,p,o));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function jo(i){var t=i.reference,e=i.element,o=i.placement,a=o?Te(o):null,h=o?dn(o):null,p=t.x+t.width/2-e.width/2,u=t.y+t.height/2-e.height/2,l;switch(a){case ue:l={x:p,y:t.y-e.height};break;case Ce:l={x:p,y:t.y+t.height};break;case _e:l={x:t.x+t.width,y:u};break;case me:l={x:t.x-e.width,y:u};break;default:l={x:t.x,y:t.y}}var f=a?is(a):null;if(f!=null){var m=f==="y"?"height":"width";switch(h){case ti:l[f]=l[f]-(t[m]/2-e[m]/2);break;case ts:l[f]=l[f]+(t[m]/2-e[m]/2);break;default:}}return l}function wn(i,t){t===void 0&&(t={});var e=t,o=e.placement,a=o===void 0?i.placement:o,h=e.strategy,p=h===void 0?i.strategy:h,u=e.boundary,l=u===void 0?_p:u,f=e.rootBoundary,m=f===void 0?wa:f,v=e.elementContext,_=v===void 0?qs:v,w=e.altBoundary,P=w===void 0?!1:w,C=e.padding,M=C===void 0?0:C,O=Zo(typeof M!="number"?M:Jo(M,Ei)),A=_===qs?wp:qs,L=i.rects.popper,E=i.elements[P?A:_],F=Nc(hn(E)?E:E.contextElement||Ie(i.elements.popper),l,m,p),N=fn(i.elements.reference),H=jo({reference:N,element:L,strategy:"absolute",placement:a}),$=Ks(Object.assign({},L,H)),G=_===qs?$:N,tt={top:F.top-G.top+O.top,bottom:G.bottom-F.bottom+O.bottom,left:F.left-G.left+O.left,right:G.right-F.right+O.right},et=i.modifiersData.offset;if(_===qs&&et){var at=et[a];Object.keys(tt).forEach(function(ct){var rt=[_e,Ce].indexOf(ct)>=0?1:-1,ot=[ue,Ce].indexOf(ct)>=0?"y":"x";tt[ct]+=at[ot]*rt})}return tt}function Vc(i,t){t===void 0&&(t={});var e=t,o=e.placement,a=e.boundary,h=e.rootBoundary,p=e.padding,u=e.flipVariations,l=e.allowedAutoPlacements,f=l===void 0?ka:l,m=dn(o),v=m?u?Ic:Ic.filter(function(P){return dn(P)===m}):Ei,_=v.filter(function(P){return f.indexOf(P)>=0});_.length===0&&(_=v);var w=_.reduce(function(P,C){return P[C]=wn(i,{placement:C,boundary:a,rootBoundary:h,padding:p})[Te(C)],P},{});return Object.keys(w).sort(function(P,C){return w[P]-w[C]})}function U1(i){if(Te(i)===_a)return[];var t=Gs(i);return[Ca(i),t,Ca(t)]}function X1(i){var t=i.state,e=i.options,o=i.name;if(!t.modifiersData[o]._skip){for(var a=e.mainAxis,h=a===void 0?!0:a,p=e.altAxis,u=p===void 0?!0:p,l=e.fallbackPlacements,f=e.padding,m=e.boundary,v=e.rootBoundary,_=e.altBoundary,w=e.flipVariations,P=w===void 0?!0:w,C=e.allowedAutoPlacements,M=t.options.placement,O=Te(M),A=O===M,L=l||(A||!P?[Gs(M)]:U1(M)),E=[M].concat(L).reduce(function(jt,It){return jt.concat(Te(It)===_a?Vc(t,{placement:It,boundary:m,rootBoundary:v,padding:f,flipVariations:P,allowedAutoPlacements:C}):It)},[]),F=t.rects.reference,N=t.rects.popper,H=new Map,$=!0,G=E[0],tt=0;tt<E.length;tt++){var et=E[tt],at=Te(et),ct=dn(et)===ti,rt=[ue,Ce].indexOf(at)>=0,ot=rt?"width":"height",lt=wn(t,{placement:et,boundary:m,rootBoundary:v,altBoundary:_,padding:f}),bt=rt?ct?_e:me:ct?Ce:ue;F[ot]>N[ot]&&(bt=Gs(bt));var ht=Gs(bt),kt=[];if(h&&kt.push(lt[at]<=0),u&&kt.push(lt[bt]<=0,lt[ht]<=0),kt.every(function(jt){return jt})){G=et,$=!1;break}H.set(et,kt)}if($)for(var Rt=P?3:1,Pt=function(It){var Kt=E.find(function(Ve){var re=H.get(Ve);if(re)return re.slice(0,It).every(function(Mt){return Mt})});if(Kt)return G=Kt,"break"},Ot=Rt;Ot>0;Ot--){var Gt=Pt(Ot);if(Gt==="break")break}t.placement!==G&&(t.modifiersData[o]._skip=!0,t.placement=G,t.reset=!0)}}var Dp={name:"flip",enabled:!0,phase:"main",fn:X1,requiresIfExists:["offset"],data:{_skip:!1}};function Lp(i,t,e){return e===void 0&&(e={x:0,y:0}),{top:i.top-t.height-e.y,right:i.right-t.width+e.x,bottom:i.bottom-t.height+e.y,left:i.left-t.width-e.x}}function Sp(i){return[ue,_e,Ce,me].some(function(t){return i[t]>=0})}function G1(i){var t=i.state,e=i.name,o=t.rects.reference,a=t.rects.popper,h=t.modifiersData.preventOverflow,p=wn(t,{elementContext:"reference"}),u=wn(t,{altBoundary:!0}),l=Lp(p,o),f=Lp(u,a,h),m=Sp(l),v=Sp(f);t.modifiersData[e]={referenceClippingOffsets:l,popperEscapeOffsets:f,isReferenceHidden:m,hasPopperEscaped:v},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":v})}var Rp={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:G1};function K1(i,t,e){var o=Te(i),a=[me,ue].indexOf(o)>=0?-1:1,h=typeof e=="function"?e(Object.assign({},t,{placement:i})):e,p=h[0],u=h[1];return p=p||0,u=(u||0)*a,[me,_e].indexOf(o)>=0?{x:u,y:p}:{x:p,y:u}}function Q1(i){var t=i.state,e=i.options,o=i.name,a=e.offset,h=a===void 0?[0,0]:a,p=ka.reduce(function(m,v){return m[v]=K1(v,t.rects,h),m},{}),u=p[t.placement],l=u.x,f=u.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=f),t.modifiersData[o]=p}var Ip={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Q1};function Z1(i){var t=i.state,e=i.name;t.modifiersData[e]=jo({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var Fp={name:"popperOffsets",enabled:!0,phase:"read",fn:Z1,data:{}};function Hc(i){return i==="x"?"y":"x"}function J1(i){var t=i.state,e=i.options,o=i.name,a=e.mainAxis,h=a===void 0?!0:a,p=e.altAxis,u=p===void 0?!1:p,l=e.boundary,f=e.rootBoundary,m=e.altBoundary,v=e.padding,_=e.tether,w=_===void 0?!0:_,P=e.tetherOffset,C=P===void 0?0:P,M=wn(t,{boundary:l,rootBoundary:f,padding:v,altBoundary:m}),O=Te(t.placement),A=dn(t.placement),L=!A,E=is(O),F=Hc(E),N=t.modifiersData.popperOffsets,H=t.rects.reference,$=t.rects.popper,G=typeof C=="function"?C(Object.assign({},t.rects,{placement:t.placement})):C,tt=typeof G=="number"?{mainAxis:G,altAxis:G}:Object.assign({mainAxis:0,altAxis:0},G),et=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,at={x:0,y:0};if(N){if(h){var ct,rt=E==="y"?ue:me,ot=E==="y"?Ce:_e,lt=E==="y"?"height":"width",bt=N[E],ht=bt+M[rt],kt=bt-M[ot],Rt=w?-$[lt]/2:0,Pt=A===ti?H[lt]:$[lt],Ot=A===ti?-$[lt]:-H[lt],Gt=t.elements.arrow,jt=w&&Gt?ns(Gt):{width:0,height:0},It=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Qo(),Kt=It[rt],Ve=It[ot],re=ss(0,H[lt],jt[lt]),Mt=L?H[lt]/2-Rt-re-Kt-tt.mainAxis:Pt-re-Kt-tt.mainAxis,Ae=L?-H[lt]/2+Rt+re+Ve+tt.mainAxis:Ot+re+Ve+tt.mainAxis,qe=t.elements.arrow&&_n(t.elements.arrow),pn=qe?E==="y"?qe.clientTop||0:qe.clientLeft||0:0,en=(ct=et?.[E])!=null?ct:0,Bn=bt+Mt-en-pn,he=bt+Ae-en,Ue=ss(w?es(ht,Bn):ht,bt,w?yn(kt,he):kt);N[E]=Ue,at[E]=Ue-bt}if(u){var qt,zn=E==="x"?ue:me,Ee=E==="x"?Ce:_e,Fe=N[F],fe=F==="y"?"height":"width",Pn=Fe+M[zn],nn=Fe-M[Ee],Cn=[ue,me].indexOf(O)!==-1,Nn=(qt=et?.[F])!=null?qt:0,Mn=Cn?Pn:Fe-H[fe]-$[fe]-Nn+tt.altAxis,On=Cn?Fe+H[fe]+$[fe]-Nn-tt.altAxis:nn,ii=w&&Cn?Cp(Mn,Fe,On):ss(w?Mn:Pn,Fe,w?On:nn);N[F]=ii,at[F]=ii-Fe}t.modifiersData[o]=at}}var Bp={name:"preventOverflow",enabled:!0,phase:"main",fn:J1,requiresIfExists:["offset"]};function Wc(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}}function $c(i){return i===oe(i)||!Me(i)?os(i):Wc(i)}function j1(i){var t=i.getBoundingClientRect(),e=ei(t.width)/i.offsetWidth||1,o=ei(t.height)/i.offsetHeight||1;return e!==1||o!==1}function Yc(i,t,e){e===void 0&&(e=!1);var o=Me(t),a=Me(t)&&j1(t),h=Ie(t),p=fn(i,a,e),u={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(o||!o&&!e)&&((Oe(t)!=="body"||as(h))&&(u=$c(t)),Me(t)?(l=fn(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):h&&(l.x=rs(h))),{x:p.left+u.scrollLeft-l.x,y:p.top+u.scrollTop-l.y,width:p.width,height:p.height}}function tw(i){var t=new Map,e=new Set,o=[];i.forEach(function(h){t.set(h.name,h)});function a(h){e.add(h.name);var p=[].concat(h.requires||[],h.requiresIfExists||[]);p.forEach(function(u){if(!e.has(u)){var l=t.get(u);l&&a(l)}}),o.push(h)}return i.forEach(function(h){e.has(h.name)||a(h)}),o}function qc(i){var t=tw(i);return kp.reduce(function(e,o){return e.concat(t.filter(function(a){return a.phase===o}))},[])}function Uc(i){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(i())})})),t}}function Xc(i){var t=i.reduce(function(e,o){var a=e[o.name];return e[o.name]=a?Object.assign({},a,o,{options:Object.assign({},a.options,o.options),data:Object.assign({},a.data,o.data)}):o,e},{});return Object.keys(t).map(function(e){return t[e]})}var zp={placement:"bottom",modifiers:[],strategy:"absolute"};function Np(){for(var i=arguments.length,t=new Array(i),e=0;e<i;e++)t[e]=arguments[e];return!t.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function Vp(i){i===void 0&&(i={});var t=i,e=t.defaultModifiers,o=e===void 0?[]:e,a=t.defaultOptions,h=a===void 0?zp:a;return function(u,l,f){f===void 0&&(f=h);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},zp,h),modifiersData:{},elements:{reference:u,popper:l},attributes:{},styles:{}},v=[],_=!1,w={state:m,setOptions:function(O){var A=typeof O=="function"?O(m.options):O;C(),m.options=Object.assign({},h,m.options,A),m.scrollParents={reference:hn(u)?Di(u):u.contextElement?Di(u.contextElement):[],popper:Di(l)};var L=qc(Xc([].concat(o,m.options.modifiers)));if(m.orderedModifiers=L.filter(function(et){return et.enabled}),!1){var E;if(getBasePlacement(m.options.placement)===auto)var F;var N,H,$,G,tt}return P(),w.update()},forceUpdate:function(){if(!_){var O=m.elements,A=O.reference,L=O.popper;if(Np(A,L)){m.rects={reference:Yc(A,_n(L),m.options.strategy==="fixed"),popper:ns(L)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(et){return m.modifiersData[et.name]=Object.assign({},et.data)});for(var E=0,F=0;F<m.orderedModifiers.length;F++){if(m.reset===!0){m.reset=!1,F=-1;continue}var N=m.orderedModifiers[F],H=N.fn,$=N.options,G=$===void 0?{}:$,tt=N.name;typeof H=="function"&&(m=H({state:m,options:G,name:tt,instance:w})||m)}}}},update:Uc(function(){return new Promise(function(M){w.forceUpdate(),M(m)})}),destroy:function(){C(),_=!0}};if(!Np(u,l))return w;w.setOptions(f).then(function(M){!_&&f.onFirstUpdate&&f.onFirstUpdate(M)});function P(){m.orderedModifiers.forEach(function(M){var O=M.name,A=M.options,L=A===void 0?{}:A,E=M.effect;if(typeof E=="function"){var F=E({state:m,name:O,instance:w,options:L}),N=function(){};v.push(F||N)}})}function C(){v.forEach(function(M){return M()}),v=[]}return w}}var ew=[Ap,Fp,Tp,Xo,Ip,Dp,Bp,Mp,Rp],Gc=Vp({defaultModifiers:ew});var nw="tippy-box",Qp="tippy-content",iw="tippy-backdrop",Zp="tippy-arrow",Jp="tippy-svg-arrow",ls={passive:!0,capture:!0},jp=function(){return document.body};function Kc(i,t,e){if(Array.isArray(i)){var o=i[t];return o??(Array.isArray(e)?e[t]:e)}return i}function eu(i,t){var e={}.toString.call(i);return e.indexOf("[object")===0&&e.indexOf(t+"]")>-1}function tg(i,t){return typeof i=="function"?i.apply(void 0,t):i}function Hp(i,t){if(t===0)return i;var e;return function(o){clearTimeout(e),e=setTimeout(function(){i(o)},t)}}function sw(i){return i.split(/\s+/).filter(Boolean)}function Qs(i){return[].concat(i)}function Wp(i,t){i.indexOf(t)===-1&&i.push(t)}function ow(i){return i.filter(function(t,e){return i.indexOf(t)===e})}function rw(i){return i.split("-")[0]}function Ta(i){return[].slice.call(i)}function $p(i){return Object.keys(i).reduce(function(t,e){return i[e]!==void 0&&(t[e]=i[e]),t},{})}function tr(){return document.createElement("div")}function Aa(i){return["Element","Fragment"].some(function(t){return eu(i,t)})}function aw(i){return eu(i,"NodeList")}function lw(i){return eu(i,"MouseEvent")}function cw(i){return!!(i&&i._tippy&&i._tippy.reference===i)}function uw(i){return Aa(i)?[i]:aw(i)?Ta(i):Array.isArray(i)?i:Ta(document.querySelectorAll(i))}function Qc(i,t){i.forEach(function(e){e&&(e.style.transitionDuration=t+"ms")})}function Yp(i,t){i.forEach(function(e){e&&e.setAttribute("data-state",t)})}function hw(i){var t,e=Qs(i),o=e[0];return o!=null&&(t=o.ownerDocument)!=null&&t.body?o.ownerDocument:document}function fw(i,t){var e=t.clientX,o=t.clientY;return i.every(function(a){var h=a.popperRect,p=a.popperState,u=a.props,l=u.interactiveBorder,f=rw(p.placement),m=p.modifiersData.offset;if(!m)return!0;var v=f==="bottom"?m.top.y:0,_=f==="top"?m.bottom.y:0,w=f==="right"?m.left.x:0,P=f==="left"?m.right.x:0,C=h.top-o+v>l,M=o-h.bottom-_>l,O=h.left-e+w>l,A=e-h.right-P>l;return C||M||O||A})}function Zc(i,t,e){var o=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(a){i[o](a,e)})}function qp(i,t){for(var e=t;e;){var o;if(i.contains(e))return!0;e=e.getRootNode==null||(o=e.getRootNode())==null?void 0:o.host}return!1}var Fn={isTouch:!1},Up=0;function dw(){Fn.isTouch||(Fn.isTouch=!0,window.performance&&document.addEventListener("mousemove",eg))}function eg(){var i=performance.now();i-Up<20&&(Fn.isTouch=!1,document.removeEventListener("mousemove",eg)),Up=i}function pw(){var i=document.activeElement;if(cw(i)){var t=i._tippy;i.blur&&!t.state.isVisible&&i.blur()}}function gw(){document.addEventListener("touchstart",dw,ls),window.addEventListener("blur",pw)}var mw=typeof window<"u"&&typeof document<"u",bw=mw?!!window.msCrypto:!1;var vw={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},xw={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},kn=Object.assign({appendTo:jp,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},vw,xw),yw=Object.keys(kn),_w=function(t){var e=Object.keys(t);e.forEach(function(o){kn[o]=t[o]})};function ng(i){var t=i.plugins||[],e=t.reduce(function(o,a){var h=a.name,p=a.defaultValue;if(h){var u;o[h]=i[h]!==void 0?i[h]:(u=kn[h])!=null?u:p}return o},{});return Object.assign({},i,e)}function ww(i,t){var e=t?Object.keys(ng(Object.assign({},kn,{plugins:t}))):yw,o=e.reduce(function(a,h){var p=(i.getAttribute("data-tippy-"+h)||"").trim();if(!p)return a;if(h==="content")a[h]=p;else try{a[h]=JSON.parse(p)}catch{a[h]=p}return a},{});return o}function Xp(i,t){var e=Object.assign({},t,{content:tg(t.content,[i])},t.ignoreAttributes?{}:ww(i,t.plugins));return e.aria=Object.assign({},kn.aria,e.aria),e.aria={expanded:e.aria.expanded==="auto"?t.interactive:e.aria.expanded,content:e.aria.content==="auto"?t.interactive?null:"describedby":e.aria.content},e}var kw=function(){return"innerHTML"};function jc(i,t){i[kw()]=t}function Gp(i){var t=tr();return i===!0?t.className=Zp:(t.className=Jp,Aa(i)?t.appendChild(i):jc(t,i)),t}function Kp(i,t){Aa(t.content)?(jc(i,""),i.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?jc(i,t.content):i.textContent=t.content)}function tu(i){var t=i.firstElementChild,e=Ta(t.children);return{box:t,content:e.find(function(o){return o.classList.contains(Qp)}),arrow:e.find(function(o){return o.classList.contains(Zp)||o.classList.contains(Jp)}),backdrop:e.find(function(o){return o.classList.contains(iw)})}}function ig(i){var t=tr(),e=tr();e.className=nw,e.setAttribute("data-state","hidden"),e.setAttribute("tabindex","-1");var o=tr();o.className=Qp,o.setAttribute("data-state","hidden"),Kp(o,i.props),t.appendChild(e),e.appendChild(o),a(i.props,i.props);function a(h,p){var u=tu(t),l=u.box,f=u.content,m=u.arrow;p.theme?l.setAttribute("data-theme",p.theme):l.removeAttribute("data-theme"),typeof p.animation=="string"?l.setAttribute("data-animation",p.animation):l.removeAttribute("data-animation"),p.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof p.maxWidth=="number"?p.maxWidth+"px":p.maxWidth,p.role?l.setAttribute("role",p.role):l.removeAttribute("role"),(h.content!==p.content||h.allowHTML!==p.allowHTML)&&Kp(f,i.props),p.arrow?m?h.arrow!==p.arrow&&(l.removeChild(m),l.appendChild(Gp(p.arrow))):l.appendChild(Gp(p.arrow)):m&&l.removeChild(m)}return{popper:t,onUpdate:a}}ig.$$tippy=!0;var Pw=1,Oa=[],Jc=[];function Cw(i,t){var e=Xp(i,Object.assign({},kn,ng($p(t)))),o,a,h,p=!1,u=!1,l=!1,f=!1,m,v,_,w=[],P=Hp(Bn,e.interactiveDebounce),C,M=Pw++,O=null,A=ow(e.plugins),L={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},E={id:M,reference:i,popper:tr(),popperInstance:O,props:e,state:L,plugins:A,clearDelayTimeouts:Mn,setProps:On,setContent:ii,show:Li,hide:Si,hideWithInteractivity:Ri,enable:Cn,disable:Nn,unmount:si,destroy:de};if(!e.render)return E;var F=e.render(E),N=F.popper,H=F.onUpdate;N.setAttribute("data-tippy-root",""),N.id="tippy-"+E.id,E.popper=N,i._tippy=E,N._tippy=E;var $=A.map(function(K){return K.fn(E)}),G=i.hasAttribute("aria-expanded");return qe(),Rt(),bt(),ht("onCreate",[E]),e.showOnCreate&&Pn(),N.addEventListener("mouseenter",function(){E.props.interactive&&E.state.isVisible&&E.clearDelayTimeouts()}),N.addEventListener("mouseleave",function(){E.props.interactive&&E.props.trigger.indexOf("mouseenter")>=0&&rt().addEventListener("mousemove",P)}),E;function tt(){var K=E.props.touch;return Array.isArray(K)?K:[K,0]}function et(){return tt()[0]==="hold"}function at(){var K;return!!((K=E.props.render)!=null&&K.$$tippy)}function ct(){return C||i}function rt(){var K=ct().parentNode;return K?hw(K):document}function ot(){return tu(N)}function lt(K){return E.state.isMounted&&!E.state.isVisible||Fn.isTouch||m&&m.type==="focus"?0:Kc(E.props.delay,K?0:1,kn.delay)}function bt(K){K===void 0&&(K=!1),N.style.pointerEvents=E.props.interactive&&!K?"":"none",N.style.zIndex=""+E.props.zIndex}function ht(K,ut,_t){if(_t===void 0&&(_t=!0),$.forEach(function(Ct){Ct[K]&&Ct[K].apply(Ct,ut)}),_t){var Bt;(Bt=E.props)[K].apply(Bt,ut)}}function kt(){var K=E.props.aria;if(K.content){var ut="aria-"+K.content,_t=N.id,Bt=Qs(E.props.triggerTarget||i);Bt.forEach(function(Ct){var Ut=Ct.getAttribute(ut);if(E.state.isVisible)Ct.setAttribute(ut,Ut?Ut+" "+_t:_t);else{var te=Ut&&Ut.replace(_t,"").trim();te?Ct.setAttribute(ut,te):Ct.removeAttribute(ut)}})}}function Rt(){if(!(G||!E.props.aria.expanded)){var K=Qs(E.props.triggerTarget||i);K.forEach(function(ut){E.props.interactive?ut.setAttribute("aria-expanded",E.state.isVisible&&ut===ct()?"true":"false"):ut.removeAttribute("aria-expanded")})}}function Pt(){rt().removeEventListener("mousemove",P),Oa=Oa.filter(function(K){return K!==P})}function Ot(K){if(!(Fn.isTouch&&(l||K.type==="mousedown"))){var ut=K.composedPath&&K.composedPath()[0]||K.target;if(!(E.props.interactive&&qp(N,ut))){if(Qs(E.props.triggerTarget||i).some(function(_t){return qp(_t,ut)})){if(Fn.isTouch||E.state.isVisible&&E.props.trigger.indexOf("click")>=0)return}else ht("onClickOutside",[E,K]);E.props.hideOnClick===!0&&(E.clearDelayTimeouts(),E.hide(),u=!0,setTimeout(function(){u=!1}),E.state.isMounted||Kt())}}}function Gt(){l=!0}function jt(){l=!1}function It(){var K=rt();K.addEventListener("mousedown",Ot,!0),K.addEventListener("touchend",Ot,ls),K.addEventListener("touchstart",jt,ls),K.addEventListener("touchmove",Gt,ls)}function Kt(){var K=rt();K.removeEventListener("mousedown",Ot,!0),K.removeEventListener("touchend",Ot,ls),K.removeEventListener("touchstart",jt,ls),K.removeEventListener("touchmove",Gt,ls)}function Ve(K,ut){Mt(K,function(){!E.state.isVisible&&N.parentNode&&N.parentNode.contains(N)&&ut()})}function re(K,ut){Mt(K,ut)}function Mt(K,ut){var _t=ot().box;function Bt(Ct){Ct.target===_t&&(Zc(_t,"remove",Bt),ut())}if(K===0)return ut();Zc(_t,"remove",v),Zc(_t,"add",Bt),v=Bt}function Ae(K,ut,_t){_t===void 0&&(_t=!1);var Bt=Qs(E.props.triggerTarget||i);Bt.forEach(function(Ct){Ct.addEventListener(K,ut,_t),w.push({node:Ct,eventType:K,handler:ut,options:_t})})}function qe(){et()&&(Ae("touchstart",en,{passive:!0}),Ae("touchend",he,{passive:!0})),sw(E.props.trigger).forEach(function(K){if(K!=="manual")switch(Ae(K,en),K){case"mouseenter":Ae("mouseleave",he);break;case"focus":Ae(bw?"focusout":"blur",Ue);break;case"focusin":Ae("focusout",Ue);break}})}function pn(){w.forEach(function(K){var ut=K.node,_t=K.eventType,Bt=K.handler,Ct=K.options;ut.removeEventListener(_t,Bt,Ct)}),w=[]}function en(K){var ut,_t=!1;if(!(!E.state.isEnabled||qt(K)||u)){var Bt=((ut=m)==null?void 0:ut.type)==="focus";m=K,C=K.currentTarget,Rt(),!E.state.isVisible&&lw(K)&&Oa.forEach(function(Ct){return Ct(K)}),K.type==="click"&&(E.props.trigger.indexOf("mouseenter")<0||p)&&E.props.hideOnClick!==!1&&E.state.isVisible?_t=!0:Pn(K),K.type==="click"&&(p=!_t),_t&&!Bt&&nn(K)}}function Bn(K){var ut=K.target,_t=ct().contains(ut)||N.contains(ut);if(!(K.type==="mousemove"&&_t)){var Bt=fe().concat(N).map(function(Ct){var Ut,te=Ct._tippy,we=(Ut=te.popperInstance)==null?void 0:Ut.state;return we?{popperRect:Ct.getBoundingClientRect(),popperState:we,props:e}:null}).filter(Boolean);fw(Bt,K)&&(Pt(),nn(K))}}function he(K){var ut=qt(K)||E.props.trigger.indexOf("click")>=0&&p;if(!ut){if(E.props.interactive){E.hideWithInteractivity(K);return}nn(K)}}function Ue(K){E.props.trigger.indexOf("focusin")<0&&K.target!==ct()||E.props.interactive&&K.relatedTarget&&N.contains(K.relatedTarget)||nn(K)}function qt(K){return Fn.isTouch?et()!==K.type.indexOf("touch")>=0:!1}function zn(){Ee();var K=E.props,ut=K.popperOptions,_t=K.placement,Bt=K.offset,Ct=K.getReferenceClientRect,Ut=K.moveTransition,te=at()?tu(N).arrow:null,we=Ct?{getBoundingClientRect:Ct,contextElement:Ct.contextElement||ct()}:i,Be={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(ke){var sn=ke.state;if(at()){var Zs=ot(),Ii=Zs.box;["placement","reference-hidden","escaped"].forEach(function(ne){ne==="placement"?Ii.setAttribute("data-placement",sn.placement):sn.attributes.popper["data-popper-"+ne]?Ii.setAttribute("data-"+ne,""):Ii.removeAttribute("data-"+ne)}),sn.attributes.popper={}}}},pe=[{name:"offset",options:{offset:Bt}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Ut}},Be];at()&&te&&pe.push({name:"arrow",options:{element:te,padding:3}}),pe.push.apply(pe,ut?.modifiers||[]),E.popperInstance=Gc(we,N,Object.assign({},ut,{placement:_t,onFirstUpdate:_,modifiers:pe}))}function Ee(){E.popperInstance&&(E.popperInstance.destroy(),E.popperInstance=null)}function Fe(){var K=E.props.appendTo,ut,_t=ct();E.props.interactive&&K===jp||K==="parent"?ut=_t.parentNode:ut=tg(K,[_t]),ut.contains(N)||ut.appendChild(N),E.state.isMounted=!0,zn()}function fe(){return Ta(N.querySelectorAll("[data-tippy-root]"))}function Pn(K){E.clearDelayTimeouts(),K&&ht("onTrigger",[E,K]),It();var ut=lt(!0),_t=tt(),Bt=_t[0],Ct=_t[1];Fn.isTouch&&Bt==="hold"&&Ct&&(ut=Ct),ut?o=setTimeout(function(){E.show()},ut):E.show()}function nn(K){if(E.clearDelayTimeouts(),ht("onUntrigger",[E,K]),!E.state.isVisible){Kt();return}if(!(E.props.trigger.indexOf("mouseenter")>=0&&E.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(K.type)>=0&&p)){var ut=lt(!1);ut?a=setTimeout(function(){E.state.isVisible&&E.hide()},ut):h=requestAnimationFrame(function(){E.hide()})}}function Cn(){E.state.isEnabled=!0}function Nn(){E.hide(),E.state.isEnabled=!1}function Mn(){clearTimeout(o),clearTimeout(a),cancelAnimationFrame(h)}function On(K){if(!E.state.isDestroyed){ht("onBeforeUpdate",[E,K]),pn();var ut=E.props,_t=Xp(i,Object.assign({},ut,$p(K),{ignoreAttributes:!0}));E.props=_t,qe(),ut.interactiveDebounce!==_t.interactiveDebounce&&(Pt(),P=Hp(Bn,_t.interactiveDebounce)),ut.triggerTarget&&!_t.triggerTarget?Qs(ut.triggerTarget).forEach(function(Bt){Bt.removeAttribute("aria-expanded")}):_t.triggerTarget&&i.removeAttribute("aria-expanded"),Rt(),bt(),H&&H(ut,_t),E.popperInstance&&(zn(),fe().forEach(function(Bt){requestAnimationFrame(Bt._tippy.popperInstance.forceUpdate)})),ht("onAfterUpdate",[E,K])}}function ii(K){E.setProps({content:K})}function Li(){var K=E.state.isVisible,ut=E.state.isDestroyed,_t=!E.state.isEnabled,Bt=Fn.isTouch&&!E.props.touch,Ct=Kc(E.props.duration,0,kn.duration);if(!(K||ut||_t||Bt)&&!ct().hasAttribute("disabled")&&(ht("onShow",[E],!1),E.props.onShow(E)!==!1)){if(E.state.isVisible=!0,at()&&(N.style.visibility="visible"),bt(),It(),E.state.isMounted||(N.style.transition="none"),at()){var Ut=ot(),te=Ut.box,we=Ut.content;Qc([te,we],0)}_=function(){var pe;if(!(!E.state.isVisible||f)){if(f=!0,N.offsetHeight,N.style.transition=E.props.moveTransition,at()&&E.props.animation){var oi=ot(),ke=oi.box,sn=oi.content;Qc([ke,sn],Ct),Yp([ke,sn],"visible")}kt(),Rt(),Wp(Jc,E),(pe=E.popperInstance)==null||pe.forceUpdate(),ht("onMount",[E]),E.props.animation&&at()&&re(Ct,function(){E.state.isShown=!0,ht("onShown",[E])})}},Fe()}}function Si(){var K=!E.state.isVisible,ut=E.state.isDestroyed,_t=!E.state.isEnabled,Bt=Kc(E.props.duration,1,kn.duration);if(!(K||ut||_t)&&(ht("onHide",[E],!1),E.props.onHide(E)!==!1)){if(E.state.isVisible=!1,E.state.isShown=!1,f=!1,p=!1,at()&&(N.style.visibility="hidden"),Pt(),Kt(),bt(!0),at()){var Ct=ot(),Ut=Ct.box,te=Ct.content;E.props.animation&&(Qc([Ut,te],Bt),Yp([Ut,te],"hidden"))}kt(),Rt(),E.props.animation?at()&&Ve(Bt,E.unmount):E.unmount()}}function Ri(K){rt().addEventListener("mousemove",P),Wp(Oa,P),P(K)}function si(){E.state.isVisible&&E.hide(),E.state.isMounted&&(Ee(),fe().forEach(function(K){K._tippy.unmount()}),N.parentNode&&N.parentNode.removeChild(N),Jc=Jc.filter(function(K){return K!==E}),E.state.isMounted=!1,ht("onHidden",[E]))}function de(){E.state.isDestroyed||(E.clearDelayTimeouts(),E.unmount(),pn(),delete i._tippy,E.state.isDestroyed=!0,ht("onDestroy",[E]))}}function er(i,t){t===void 0&&(t={});var e=kn.plugins.concat(t.plugins||[]);gw();var o=Object.assign({},t,{plugins:e}),a=uw(i);if(!1)var h,p;var u=a.reduce(function(l,f){var m=f&&Cw(f,o);return m&&l.push(m),l},[]);return Aa(i)?u[0]:u}er.defaultProps=kn;er.setDefaultProps=_w;er.currentInput=Fn;var VC=Object.assign({},Xo,{effect:function(t){var e=t.state,o={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(e.elements.popper.style,o.popper),e.styles=o,e.elements.arrow&&Object.assign(e.elements.arrow.style,o.arrow)}});er.setDefaultProps({render:ig});var nu=er;function Mw(i,t){let e=i.insertCell(-1),o=document.createElement("BUTTON"),a=document.createElement("SPAN");a.classList.add("material-symbols-outlined"),a.innerText="delete",o.appendChild(a),o.classList.add("pure-button"),e.appendChild(o),o.addEventListener("click",function(h){let p=i.rowIndex;t.deleteRow(p-1)})}function su(i,t,e){let o=i.insertRow(-1);for(let a of t){let h=o.insertCell(-1);h.contentEditable="true",h.innerText=e[a]}Mw(o,i)}function sg(i,t,e,o){let a=i.tHead.rows[0].insertCell(-1),h=document.createElement("BUTTON"),p=document.createElement("SPAN");p.classList.add("material-symbols-outlined"),p.innerText="add",h.appendChild(p),h.classList.add("button-success","pure-button"),a.appendChild(h),h.addEventListener("click",function(){su(t,e,o)})}function iu(i){let t=[],e=0;for(let o of i.rows)t.push({name:o.cells[0].innerText,guestsAverage:Number(o.cells[1].innerText),guestsCV:Number(o.cells[2].innerText),wastePerGuestAverage:Number(o.cells[3].innerText),wastePerGuestCV:Number(o.cells[4].innerText),dinerPerGuestProbability:Number(o.cells[5].innerText)}),e+=1;return t}function og(i){let t=[],e=0;for(let o of i.rows)t.push({name:o.cells[0].innerText,trueEffectMean:Number(o.cells[1].innerText),trueEffectCV:Number(o.cells[2].innerText),index:e}),e=e+1;return t}function Ow(i,t,e){let o=document.createElement("div"),a=document.createElement("h4");a.innerText="Average Food Wasted: ",o.appendChild(a);let h=document.createElement("table");o.appendChild(h),h.classList.add("pure-table-horizontal"),h.classList.add("pure-table");let p=h.createTHead().insertRow(),u=h.createTBody().insertRow();for(let l of i)p.insertCell().innerText=l.name,u.insertCell().innerText=t.averages[l.name].toFixed(2)+" kg";e.appendChild(o),o.style.margin="0 auto",o.style.width="80%"}function Tw(i,t,e){let o=document.createElement("div"),a=document.createElement("h4");a.innerText="Measured effect (% reduction): ",o.appendChild(a);let h=document.createElement("table");o.appendChild(h),h.classList.add("pure-table-horizontal"),h.classList.add("pure-table");let p=h.createTHead().insertRow(),u=h.createTBody().insertRow();for(let l of i)if(p.insertCell().innerText=l.name,l.index===0)u.insertCell().innerText=" / ";else{let f=t.effects[l.index],m=t.averages[i[0].name];if(m===0)u.insertCell().innerText=" ? ";else{let v=-(1-(m-f)/m)*100;u.insertCell().innerText=v.toFixed(2)+"%"}}e.appendChild(o),o.style.margin="0 auto",o.style.width="80%"}function Aw(i,t,e){let o=document.createElement("div"),a=document.createElement("h4");a.innerText="Significance Test (p-value): ",o.appendChild(a);let h=document.createElement("table");o.appendChild(h),h.classList.add("pure-table-horizontal"),h.classList.add("pure-table");let p=h.createTHead().insertRow(),u=h.createTBody().insertRow();for(let l of i)if(p.insertCell().innerText=l.name,l.index===0)u.insertCell().innerText=" / ";else{let f=t.p_values[l.index],m=f<.05?"green":"red";f=f<.001?"<0.001":f.toFixed(3);let v=document.createElement("span");v.innerText=f,v.style.color=m,u.insertCell().appendChild(v)}e.appendChild(o),o.style.margin="0 auto",o.style.width="80%"}var ou=[],ru=[];function rg(){return Fr[ou.findIndex((i,t)=>i.checked)].assignmentStrategy}function ag(){return Br[ru.findIndex((i,t)=>i.checked)].analysisMethod}document.addEventListener("DOMContentLoaded",function(i){let t=document.getElementById("hotel_table"),e=["name","guestsAverage","guestsCV","wastePerGuestAverage","wastePerGuestCV","dinerPerGuestProbability"],o=t.getElementsByTagName("tbody")[0];for(let L of Ir)su(o,e,L);sg(t,o,e,Ir[0]),document.getElementById("export-btn").addEventListener("click",function(){let L=iu(o)});let h=document.getElementById("stimulus_table"),p=["name","trueEffectMean","trueEffectCV"],u=h.getElementsByTagName("tbody")[0];for(let L of ws)su(u,p,L);sg(h,u,p,ws[1]);let l=document.getElementById("weekssampled"),f=Number(l.value),m=new Array(f).fill(1),v=Array.from({length:f},(L,E)=>E);console.log(v),console.log(m);let _=document.getElementById("randomassignmentform");_.classList.add("pure-form");for(let L=0;L<Fr.length;L++){let E=Fr[L],F=document.createElement("input");F.name="assignmentStrategy",F.type="radio",F.id="assignmentStrategy"+String(L);let N=document.createElement("label");N.htmlFor=F.id,N.textContent=E.prettyName+" ",N.classList.add("pure-radio"),N.appendChild(F),_.appendChild(N),ou.push(F),nu(N,{content:E.description,placement:"auto-start"})}ou[0].checked=!0,_.appendChild(document.createElement("br"));let w=document.getElementById("analysisform");w.classList.add("pure-form");for(let L=0;L<Br.length;L++){let E=Br[L],F=document.createElement("input");F.name="analysisMethod",F.type="radio",F.id="analysisMethod"+String(L);let N=document.createElement("label");N.htmlFor=F.id,N.textContent=E.prettyName+" ",N.classList.add("pure-radio"),N.appendChild(F),w.appendChild(N),ru.push(F),nu(N,{content:E.description,placement:"top-start"})}ru[0].checked=!0,w.appendChild(document.createElement("br")),Uo.register(...ya,cg.default);let P=document.getElementById("weekChartContainer"),C=new Uo(P,{type:"line",data:{labels:v,datasets:[{label:"% of guests compared to average",data:m,fill:!0,borderWidth:1,pointHitRadius:25}]},options:{plugins:{title:{display:!0,text:"Weeks' variation in # of guests",align:"center",font:{size:20,family:"Helvetica"},padding:{bottom:10}},dragData:{round:2,showTooltip:!0,onDragEnd:function(L,E,F,N){}}},scales:{y:{max:3,min:0}},onHover:function(L){L.chart.getElementsAtEventForMode(L,"nearest",{intersect:!0},!1).length?L.native.target.style.cursor="grab":L.native.target.style.cursor="default"}}});l.addEventListener("change",L=>{for(f=Number(l.value);f>m.length;)m.push(1),v.push(m.length);for(;f<m.length;)m.pop(),v.pop();C.update(!1)});let M=document.getElementById("results"),O=document.getElementById("run_simulation_btn"),A=document.getElementById("run_power_btn");O.addEventListener("click",function(){O.disabled=!0,A.disabled=!0,M.replaceChildren();let L=og(u),E=iu(o),F={};for(let Mt=0;Mt<E.length;Mt++)F[E[Mt].name]=Mt;let N=document.getElementById("narate"),H=Number(N.value),$=Cl(f,E,rg(),L,C.data.datasets[0].data,H);var G=[];for(let Mt of $)G.push(`<tr> <th> ${Mt.date} </th> <th> ${Mt.guests} </th><th> ${Mt.hotel.name} </th><th> ${Mt.meal} </th><th> ${Mt.stimulus.name} </th><th> ${Mt.totalFoodWasteObserved.toFixed(2)} </th></tr>`);let tt=document.createElement("div"),et=document.createElement("h4");et.innerText="Simulated Experiment: ",tt.appendChild(et),M.appendChild(tt),tt.classList.add("clusterize");let at=document.createElement("table"),rt=at.createTHead().insertRow(-1);rt.insertCell(-1).innerText="Date",rt.insertCell(-1).innerText="# of guests",rt.insertCell(-1).innerText="Hotel",rt.insertCell(-1).innerText="Type of meal",rt.insertCell(-1).innerText="Experiment",rt.insertCell(-1).innerText="Kg wasted",at.classList.add("pure-table-horizontal"),at.classList.add("pure-table"),tt.appendChild(at);let ot=document.createElement("div");ot.id="scrollAreaObservation",ot.classList.add("clusterize-scroll");let lt=document.createElement("table"),bt=lt.createTBody();bt.classList.add("clusterize-content"),bt.id="contentAreaObservation";let ht=document.createElement("tr");ht.classList.add("clusterize-no-data");let kt=ht.insertCell(-1);kt.innerText="Loading data...",bt.appendChild(ht),ot.appendChild(lt),tt.appendChild(ot),lt.classList.add("pure-table-horizontal"),lt.classList.add("pure-table"),at.style.width="100%",lt.style.width="100%",tt.style.margin="auto";let Rt=new lg.default({rows:G,scrollId:"scrollAreaObservation",contentId:"contentAreaObservation"}),Pt=ag()($,L,E,F);Ow(L,Pt,M),Tw(L,Pt,M),Aw(L,Pt,M);let Ot=Array(L.length),Gt=0,jt=0;for(let Mt of L)Ot[Mt.index]={label:Mt.name,data:[]};for(let Mt of $)Ot[Mt.stimulus.index].data.push({x:Mt.guests,y:Mt.totalFoodWasteObserved});let Kt={type:"scatter",data:{datasets:Ot},options:{scales:{x:{type:"linear",position:"bottom",text:"# of Guests"},y:{type:"linear",text:"Food wasted",ticks:{callback:function(Mt,Ae,qe){return Mt+" kg"}}}}}},Ve=document.createElement("canvas");Ve.id="scatterplot";let re=document.createElement("div");re.appendChild(Ve),re.style.margin="0 auto",re.style.width="80%",M.appendChild(re),re.scrollIntoView(),new Uo(Ve,Kt),O.disabled=!1,A.disabled=!1}),A.addEventListener("click",function(){return nf(this,null,function*(){O.disabled=!0,A.disabled=!0,M.replaceChildren();let L=document.createElement("div");L.id="myProgress";let E=document.createElement("div");E.id="myBar",E.innerText="5%",E.style.width="5%",E.style.height="30px",E.style.backgroundColor="#04AA6D",E.style.textAlign="center",E.style.lineHeight="30px",E.style.color="white",L.appendChild(E),M.appendChild(L),M.scrollIntoView(!1);let F=[],N=og(u),H=Number(document.getElementById("weekssampled").value),$=iu(o),G=C.data.datasets[0].data,tt={};for(let ot=0;ot<$.length;ot++)tt[$[ot].name]=ot;let et=document.getElementById("narate"),at=Number(et.value);for(let ot=0;ot<100;ot++){let lt=Cl(H,$,rg(),N,G,at);F.push(ag()(lt,N,$,tt)),E.style.width=`${ot+1}%`,E.innerText=`${ot+1}%`}console.log("reading documents");let ct=["<.01","0.05","0.1","not-significant"],rt={};for(let ot of N)if(ot.index!=0){rt[ot.name]={};for(let lt of ct)rt[ot.name][lt]=0}console.log(F),console.log(rt);for(let ot of F)for(let lt of N){if(lt.index==0)continue;let bt=ot.p_values[lt.index];console.log(`pvalue is ${bt}`),bt<.01?(console.log("<.01"),rt[lt.name]["<.01"]=rt[lt.name]["<.01"]+1):bt<.05?(console.log("<.05"),rt[lt.name]["0.05"]=rt[lt.name]["0.05"]+1):bt<.1?(console.log("<.1"),rt[lt.name]["0.1"]=rt[lt.name]["0.1"]+1):rt[lt.name]["not-significant"]=rt[lt.name]["not-significant"]+1}for(let ot of N){if(ot.index==0)continue;let lt=document.createElement("div"),bt=document.createElement("h2");bt.innerText=`Significance of '${ot.name}'`;let ht=document.createElement("canvas");lt.appendChild(bt),lt.appendChild(ht),ht.style.width="100px",ht.style.height="100px",lt.style.width="500px";let kt=[rt[ot.name]["<.01"],rt[ot.name]["0.05"],rt[ot.name]["0.1"],rt[ot.name]["not-significant"]];console.log(kt);let Rt={labels:ct,datasets:[{label:`Significance of '${ot.name}'`,data:kt,hoverOffset:4}]};new Uo(ht,{type:"doughnut",data:Rt,options:{aspectRatio:1,layout:{padding:{left:0,right:0,top:0,bottom:0}},responsive:!0}}),M.appendChild(lt)}O.disabled=!1,A.disabled=!1})})});})();
/*! Bundled license information:

chart.js/dist/chart.js:
  (*!
   * Chart.js v3.9.1
   * https://www.chartjs.org
   * (c) 2022 Chart.js Contributors
   * Released under the MIT License
   *)
  (*!
   * @kurkle/color v0.2.1
   * https://github.com/kurkle/color#readme
   * (c) 2022 Jukka Kurkela
   * Released under the MIT License
   *)

@kurkle/color/dist/color.esm.js:
  (*!
   * @kurkle/color v0.3.2
   * https://github.com/kurkle/color#readme
   * (c) 2023 Jukka Kurkela
   * Released under the MIT License
   *)

chart.js/dist/chunks/helpers.segment.js:
  (*!
   * Chart.js v4.2.1
   * https://www.chartjs.org
   * (c) 2023 Chart.js Contributors
   * Released under the MIT License
   *)

chart.js/dist/chart.js:
  (*!
   * Chart.js v4.2.1
   * https://www.chartjs.org
   * (c) 2023 Chart.js Contributors
   * Released under the MIT License
   *)
*/
