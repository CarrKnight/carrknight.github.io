(()=>{var V0=Object.create;var Cl=Object.defineProperty;var H0=Object.getOwnPropertyDescriptor;var W0=Object.getOwnPropertyNames;var $0=Object.getPrototypeOf,Y0=Object.prototype.hasOwnProperty;var q0=(i,t,e)=>t in i?Cl(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var Br=(i,t)=>()=>(t||i((t={exports:{}}).exports,t),t.exports);var U0=(i,t,e,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of W0(t))!Y0.call(i,a)&&a!==e&&Cl(i,a,{get:()=>t[a],enumerable:!(o=H0(t,a))||o.enumerable});return i};var Ml=(i,t,e)=>(e=i!=null?V0($0(i)):{},U0(t||!i||!i.__esModule?Cl(e,"default",{value:i,enumerable:!0}):e,i));var bt=(i,t,e)=>(q0(i,typeof t!="symbol"?t+"":t,e),e);var rf=(i,t,e)=>new Promise((o,a)=>{var h=l=>{try{u(e.next(l))}catch(f){a(f)}},p=l=>{try{u(e.throw(l))}catch(f){a(f)}},u=l=>l.done?o(l.value):Promise.resolve(l.value).then(h,p);u((e=e.apply(i,t)).next())});var lf=Br((Ol,af)=>{(function(i,t){typeof Ol=="object"?af.exports=t():typeof define=="function"&&define.amd?define(t):i.jStat=t()})(Ol,function(){var i=function(t,e){var o=Array.prototype.concat,a=Array.prototype.slice,h=Object.prototype.toString;function p(M,O){var A=M>O?M:O;return t.pow(10,17-~~(t.log(A>0?A:-A)*t.LOG10E))}var u=Array.isArray||function(O){return h.call(O)==="[object Array]"};function l(M){return h.call(M)==="[object Function]"}function f(M){return typeof M=="number"?M-M===0:!1}function m(M){return o.apply([],M)}function v(){return new v._init(arguments)}v.fn=v.prototype,v._init=function(O){if(u(O[0]))if(u(O[0][0])){l(O[1])&&(O[0]=v.map(O[0],O[1]));for(var A=0;A<O[0].length;A++)this[A]=O[0][A];this.length=O[0].length}else this[0]=l(O[1])?v.map(O[0],O[1]):O[0],this.length=1;else if(f(O[0]))this[0]=v.seq.apply(null,O),this.length=1;else{if(O[0]instanceof v)return v(O[0].toArray());this[0]=[],this.length=1}return this},v._init.prototype=v.prototype,v._init.constructor=v,v.utils={calcRdx:p,isArray:u,isFunction:l,isNumber:f,toVector:m},v._random_fn=t.random,v.setRandom=function(O){if(typeof O!="function")throw new TypeError("fn is not a function");v._random_fn=O},v.extend=function(O){var A,L;if(arguments.length===1){for(L in O)v[L]=O[L];return this}for(A=1;A<arguments.length;A++)for(L in arguments[A])O[L]=arguments[A][L];return O},v.rows=function(O){return O.length||1},v.cols=function(O){return O[0].length||1},v.dimensions=function(O){return{rows:v.rows(O),cols:v.cols(O)}},v.row=function(O,A){return u(A)?A.map(function(L){return v.row(O,L)}):O[A]},v.rowa=function(O,A){return v.row(O,A)},v.col=function(O,A){if(u(A)){var L=v.arange(O.length).map(function(){return new Array(A.length)});return A.forEach(function(N,H){v.arange(O.length).forEach(function(W){L[W][H]=O[W][N]})}),L}for(var E=new Array(O.length),F=0;F<O.length;F++)E[F]=[O[F][A]];return E},v.cola=function(O,A){return v.col(O,A).map(function(L){return L[0]})},v.diag=function(O){for(var A=v.rows(O),L=new Array(A),E=0;E<A;E++)L[E]=[O[E][E]];return L},v.antidiag=function(O){for(var A=v.rows(O)-1,L=new Array(A),E=0;A>=0;A--,E++)L[E]=[O[E][A]];return L},v.transpose=function(O){var A=[],L,E,F,N,H;for(u(O[0])||(O=[O]),E=O.length,F=O[0].length,H=0;H<F;H++){for(L=new Array(E),N=0;N<E;N++)L[N]=O[N][H];A.push(L)}return A.length===1?A[0]:A},v.map=function(O,A,L){var E,F,N,H,W;for(u(O[0])||(O=[O]),F=O.length,N=O[0].length,H=L?O:new Array(F),E=0;E<F;E++)for(H[E]||(H[E]=new Array(N)),W=0;W<N;W++)H[E][W]=A(O[E][W],E,W);return H.length===1?H[0]:H},v.cumreduce=function(O,A,L){var E,F,N,H,W;for(u(O[0])||(O=[O]),F=O.length,N=O[0].length,H=L?O:new Array(F),E=0;E<F;E++)for(H[E]||(H[E]=new Array(N)),N>0&&(H[E][0]=O[E][0]),W=1;W<N;W++)H[E][W]=A(H[E][W-1],O[E][W]);return H.length===1?H[0]:H},v.alter=function(O,A){return v.map(O,A,!0)},v.create=function(O,A,L){var E=new Array(O),F,N;for(l(A)&&(L=A,A=O),F=0;F<O;F++)for(E[F]=new Array(A),N=0;N<A;N++)E[F][N]=L(F,N);return E};function y(){return 0}v.zeros=function(O,A){return f(A)||(A=O),v.create(O,A,y)};function w(){return 1}v.ones=function(O,A){return f(A)||(A=O),v.create(O,A,w)},v.rand=function(O,A){return f(A)||(A=O),v.create(O,A,v._random_fn)};function P(M,O){return M===O?1:0}v.identity=function(O,A){return f(A)||(A=O),v.create(O,A,P)},v.symmetric=function(O){var A=O.length,L,E;if(O.length!==O[0].length)return!1;for(L=0;L<A;L++)for(E=0;E<A;E++)if(O[E][L]!==O[L][E])return!1;return!0},v.clear=function(O){return v.alter(O,y)},v.seq=function(O,A,L,E){l(E)||(E=!1);var F=[],N=p(O,A),H=(A*N-O*N)/((L-1)*N),W=O,G;for(G=0;W<=A&&G<L;G++,W=(O*N+H*N*G)/N)F.push(E?E(W,G):W);return F},v.arange=function(O,A,L){var E=[],F;if(L=L||1,A===e&&(A=O,O=0),O===A||L===0)return[];if(O<A&&L<0)return[];if(O>A&&L>0)return[];if(L>0)for(F=O;F<A;F+=L)E.push(F);else for(F=O;F>A;F+=L)E.push(F);return E},v.slice=function(){function M(A,L,E,F){var N,H=[],W=A.length;if(L===e&&E===e&&F===e)return v.copy(A);if(L=L||0,E=E||A.length,L=L>=0?L:W+L,E=E>=0?E:W+E,F=F||1,L===E||F===0)return[];if(L<E&&F<0)return[];if(L>E&&F>0)return[];if(F>0)for(N=L;N<E;N+=F)H.push(A[N]);else for(N=L;N>E;N+=F)H.push(A[N]);return H}function O(A,L){var E,F;if(L=L||{},f(L.row)){if(f(L.col))return A[L.row][L.col];var N=v.rowa(A,L.row);return E=L.col||{},M(N,E.start,E.end,E.step)}if(f(L.col)){var H=v.cola(A,L.col);return F=L.row||{},M(H,F.start,F.end,F.step)}F=L.row||{},E=L.col||{};var W=M(A,F.start,F.end,F.step);return W.map(function(G){return M(G,E.start,E.end,E.step)})}return O}(),v.sliceAssign=function(O,A,L){var E,F;if(f(A.row)){if(f(A.col))return O[A.row][A.col]=L;A.col=A.col||{},A.col.start=A.col.start||0,A.col.end=A.col.end||O[0].length,A.col.step=A.col.step||1,E=v.arange(A.col.start,t.min(O.length,A.col.end),A.col.step);var N=A.row;return E.forEach(function(W,G){O[N][W]=L[G]}),O}if(f(A.col)){A.row=A.row||{},A.row.start=A.row.start||0,A.row.end=A.row.end||O.length,A.row.step=A.row.step||1,F=v.arange(A.row.start,t.min(O[0].length,A.row.end),A.row.step);var H=A.col;return F.forEach(function(W,G){O[W][H]=L[G]}),O}return L[0].length===e&&(L=[L]),A.row.start=A.row.start||0,A.row.end=A.row.end||O.length,A.row.step=A.row.step||1,A.col.start=A.col.start||0,A.col.end=A.col.end||O[0].length,A.col.step=A.col.step||1,F=v.arange(A.row.start,t.min(O.length,A.row.end),A.row.step),E=v.arange(A.col.start,t.min(O[0].length,A.col.end),A.col.step),F.forEach(function(W,G){E.forEach(function(et,nt){O[W][et]=L[G][nt]})}),O},v.diagonal=function(O){var A=v.zeros(O.length,O.length);return O.forEach(function(L,E){A[E][E]=L}),A},v.copy=function(O){return O.map(function(A){return f(A)?A:A.map(function(L){return L})})};var C=v.prototype;return C.length=0,C.push=Array.prototype.push,C.sort=Array.prototype.sort,C.splice=Array.prototype.splice,C.slice=Array.prototype.slice,C.toArray=function(){return this.length>1?a.call(this):a.call(this)[0]},C.map=function(O,A){return v(v.map(this,O,A))},C.cumreduce=function(O,A){return v(v.cumreduce(this,O,A))},C.alter=function(O){return v.alter(this,O),this},function(M){for(var O=0;O<M.length;O++)(function(A){C[A]=function(L){var E=this,F;return L?(setTimeout(function(){L.call(E,C[A].call(E))}),this):(F=v[A](this),u(F)?v(F):F)}})(M[O])}("transpose clear symmetric rows cols dimensions diag antidiag".split(" ")),function(M){for(var O=0;O<M.length;O++)(function(A){C[A]=function(L,E){var F=this;return E?(setTimeout(function(){E.call(F,C[A].call(F,L))}),this):v(v[A](this,L))}})(M[O])}("row col".split(" ")),function(M){for(var O=0;O<M.length;O++)(function(A){C[A]=function(){return v(v[A].apply(null,arguments))}})(M[O])}("create zeros ones rand identity".split(" ")),v}(Math);return function(t,e){var o=t.utils.isFunction;function a(u,l){return u-l}function h(u,l,f){return e.max(l,e.min(u,f))}t.sum=function(l){for(var f=0,m=l.length;--m>=0;)f+=l[m];return f},t.sumsqrd=function(l){for(var f=0,m=l.length;--m>=0;)f+=l[m]*l[m];return f},t.sumsqerr=function(l){for(var f=t.mean(l),m=0,v=l.length,y;--v>=0;)y=l[v]-f,m+=y*y;return m},t.sumrow=function(l){for(var f=0,m=l.length;--m>=0;)f+=l[m];return f},t.product=function(l){for(var f=1,m=l.length;--m>=0;)f*=l[m];return f},t.min=function(l){for(var f=l[0],m=0;++m<l.length;)l[m]<f&&(f=l[m]);return f},t.max=function(l){for(var f=l[0],m=0;++m<l.length;)l[m]>f&&(f=l[m]);return f},t.unique=function(l){for(var f={},m=[],v=0;v<l.length;v++)f[l[v]]||(f[l[v]]=!0,m.push(l[v]));return m},t.mean=function(l){return t.sum(l)/l.length},t.meansqerr=function(l){return t.sumsqerr(l)/l.length},t.geomean=function(l){var f=l.map(e.log),m=t.mean(f);return e.exp(m)},t.median=function(l){var f=l.length,m=l.slice().sort(a);return f&1?m[f/2|0]:(m[f/2-1]+m[f/2])/2},t.cumsum=function(l){return t.cumreduce(l,function(f,m){return f+m})},t.cumprod=function(l){return t.cumreduce(l,function(f,m){return f*m})},t.diff=function(l){var f=[],m=l.length,v;for(v=1;v<m;v++)f.push(l[v]-l[v-1]);return f},t.rank=function(u){var l,f=[],m={};for(l=0;l<u.length;l++){var v=u[l];m[v]?m[v]++:(m[v]=1,f.push(v))}var y=f.sort(a),w={},P=1;for(l=0;l<y.length;l++){var v=y[l],C=m[v],M=P,O=P+C-1,A=(M+O)/2;w[v]=A,P+=C}return u.map(function(L){return w[L]})},t.mode=function(l){var f=l.length,m=l.slice().sort(a),v=1,y=0,w=0,P=[],C;for(C=0;C<f;C++)m[C]===m[C+1]?v++:(v>y?(P=[m[C]],y=v,w=0):v===y&&(P.push(m[C]),w++),v=1);return w===0?P[0]:P},t.range=function(l){return t.max(l)-t.min(l)},t.variance=function(l,f){return t.sumsqerr(l)/(l.length-(f?1:0))},t.pooledvariance=function(l){var f=l.reduce(function(v,y){return v+t.sumsqerr(y)},0),m=l.reduce(function(v,y){return v+y.length},0);return f/(m-l.length)},t.deviation=function(u){for(var l=t.mean(u),f=u.length,m=new Array(f),v=0;v<f;v++)m[v]=u[v]-l;return m},t.stdev=function(l,f){return e.sqrt(t.variance(l,f))},t.pooledstdev=function(l){return e.sqrt(t.pooledvariance(l))},t.meandev=function(l){for(var f=t.mean(l),m=[],v=l.length-1;v>=0;v--)m.push(e.abs(l[v]-f));return t.mean(m)},t.meddev=function(l){for(var f=t.median(l),m=[],v=l.length-1;v>=0;v--)m.push(e.abs(l[v]-f));return t.median(m)},t.coeffvar=function(l){return t.stdev(l)/t.mean(l)},t.quartiles=function(l){var f=l.length,m=l.slice().sort(a);return[m[e.round(f/4)-1],m[e.round(f/2)-1],m[e.round(f*3/4)-1]]},t.quantiles=function(l,f,m,v){var y=l.slice().sort(a),w=[f.length],P=l.length,C,M,O,A,L,E;for(typeof m>"u"&&(m=3/8),typeof v>"u"&&(v=3/8),C=0;C<f.length;C++)M=f[C],O=m+M*(1-m-v),A=P*M+O,L=e.floor(h(A,1,P-1)),E=h(A-L,0,1),w[C]=(1-E)*y[L-1]+E*y[L];return w},t.percentile=function(l,f,m){var v=l.slice().sort(a),y=f*(v.length+(m?1:-1))+(m?0:1),w=parseInt(y),P=y-w;return w+1<v.length?v[w-1]+P*(v[w]-v[w-1]):v[w-1]},t.percentileOfScore=function(l,f,m){var v=0,y=l.length,w=!1,P,C;for(m==="strict"&&(w=!0),C=0;C<y;C++)P=l[C],(w&&P<f||!w&&P<=f)&&v++;return v/y},t.histogram=function(l,f){f=f||4;var m=t.min(l),v=(t.max(l)-m)/f,y=l.length,w=[],P;for(P=0;P<f;P++)w[P]=0;for(P=0;P<y;P++)w[e.min(e.floor((l[P]-m)/v),f-1)]+=1;return w},t.covariance=function(l,f){var m=t.mean(l),v=t.mean(f),y=l.length,w=new Array(y),P;for(P=0;P<y;P++)w[P]=(l[P]-m)*(f[P]-v);return t.sum(w)/(y-1)},t.corrcoeff=function(l,f){return t.covariance(l,f)/t.stdev(l,1)/t.stdev(f,1)},t.spearmancoeff=function(u,l){return u=t.rank(u),l=t.rank(l),t.corrcoeff(u,l)},t.stanMoment=function(l,f){for(var m=t.mean(l),v=t.stdev(l),y=l.length,w=0,P=0;P<y;P++)w+=e.pow((l[P]-m)/v,f);return w/l.length},t.skewness=function(l){return t.stanMoment(l,3)},t.kurtosis=function(l){return t.stanMoment(l,4)-3};var p=t.prototype;(function(u){for(var l=0;l<u.length;l++)(function(f){p[f]=function(m,v){var y=[],w=0,P=this;if(o(m)&&(v=m,m=!1),v)return setTimeout(function(){v.call(P,p[f].call(P,m))}),this;if(this.length>1){for(P=m===!0?this:this.transpose();w<P.length;w++)y[w]=t[f](P[w]);return y}return t[f](this[0],m)}})(u[l])})("cumsum cumprod".split(" ")),function(u){for(var l=0;l<u.length;l++)(function(f){p[f]=function(m,v){var y=[],w=0,P=this;if(o(m)&&(v=m,m=!1),v)return setTimeout(function(){v.call(P,p[f].call(P,m))}),this;if(this.length>1){for(f!=="sumrow"&&(P=m===!0?this:this.transpose());w<P.length;w++)y[w]=t[f](P[w]);return m===!0?t[f](t.utils.toVector(y)):y}return t[f](this[0],m)}})(u[l])}("sum sumsqrd sumsqerr sumrow product min max unique mean meansqerr geomean median diff rank mode range variance deviation stdev meandev meddev coeffvar quartiles histogram skewness kurtosis".split(" ")),function(u){for(var l=0;l<u.length;l++)(function(f){p[f]=function(){var m=[],v=0,y=this,w=Array.prototype.slice.call(arguments),P;if(o(w[w.length-1])){P=w[w.length-1];var C=w.slice(0,w.length-1);return setTimeout(function(){P.call(y,p[f].apply(y,C))}),this}else{P=void 0;var M=function(A){return t[f].apply(y,[A].concat(w))}}if(this.length>1){for(y=y.transpose();v<y.length;v++)m[v]=M(y[v]);return m}return M(this[0])}})(u[l])}("quantiles percentileOfScore".split(" "))}(i,Math),function(t,e){t.gammaln=function(a){var h=0,p=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],u=1.000000000190015,l,f,m;for(m=(f=l=a)+5.5,m-=(l+.5)*e.log(m);h<6;h++)u+=p[h]/++f;return e.log(2.5066282746310007*u/l)-m},t.loggam=function(a){var h,p,u,l,f,m,v,y=[.08333333333333333,-.002777777777777778,.0007936507936507937,-.0005952380952380952,.0008417508417508418,-.001917526917526918,.00641025641025641,-.02955065359477124,.1796443723688307,-1.3924322169059];if(h=a,v=0,a==1||a==2)return 0;for(a<=7&&(v=e.floor(7-a),h=a+v),p=1/(h*h),u=2*e.PI,f=y[9],m=8;m>=0;m--)f*=p,f+=y[m];if(l=f/h+.5*e.log(u)+(h-.5)*e.log(h)-h,a<=7)for(m=1;m<=v;m++)l-=e.log(h-1),h-=1;return l},t.gammafn=function(a){var h=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054],p=[-30.8402300119739,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.11842098015,4755.846277527881,-134659.9598649693,-115132.2596755535],u=!1,l=0,f=0,m=0,v=a,y,w,P,C;if(a>171.6243769536076)return 1/0;if(v<=0)if(C=v%1+36e-17,C)u=(v&1?-1:1)*e.PI/e.sin(e.PI*C),v=1-v;else return 1/0;for(P=v,v<1?w=v++:w=(v-=l=(v|0)-1)-1,y=0;y<8;++y)m=(m+h[y])*w,f=f*w+p[y];if(C=m/f+1,P<v)C/=P;else if(P>v)for(y=0;y<l;++y)C*=v,v++;return u&&(C=u/C),C},t.gammap=function(a,h){return t.lowRegGamma(a,h)*t.gammafn(a)},t.lowRegGamma=function(a,h){var p=t.gammaln(a),u=a,l=1/a,f=l,m=h+1-a,v=1/1e-30,y=1/m,w=y,P=1,C=-~(e.log(a>=1?a:1/a)*8.5+a*.4+17),M;if(h<0||a<=0)return NaN;if(h<a+1){for(;P<=C;P++)l+=f*=h/++u;return l*e.exp(-h+a*e.log(h)-p)}for(;P<=C;P++)M=-P*(P-a),m+=2,y=M*y+m,v=m+M/v,y=1/y,w*=y*v;return 1-w*e.exp(-h+a*e.log(h)-p)},t.factorialln=function(a){return a<0?NaN:t.gammaln(a+1)},t.factorial=function(a){return a<0?NaN:t.gammafn(a+1)},t.combination=function(a,h){return a>170||h>170?e.exp(t.combinationln(a,h)):t.factorial(a)/t.factorial(h)/t.factorial(a-h)},t.combinationln=function(a,h){return t.factorialln(a)-t.factorialln(h)-t.factorialln(a-h)},t.permutation=function(a,h){return t.factorial(a)/t.factorial(a-h)},t.betafn=function(a,h){if(!(a<=0||h<=0))return a+h>170?e.exp(t.betaln(a,h)):t.gammafn(a)*t.gammafn(h)/t.gammafn(a+h)},t.betaln=function(a,h){return t.gammaln(a)+t.gammaln(h)-t.gammaln(a+h)},t.betacf=function(a,h,p){var u=1e-30,l=1,f=h+p,m=h+1,v=h-1,y=1,w=1-f*a/m,P,C,M,O;for(e.abs(w)<u&&(w=u),w=1/w,O=w;l<=100&&(P=2*l,C=l*(p-l)*a/((v+P)*(h+P)),w=1+C*w,e.abs(w)<u&&(w=u),y=1+C/y,e.abs(y)<u&&(y=u),w=1/w,O*=w*y,C=-(h+l)*(f+l)*a/((h+P)*(m+P)),w=1+C*w,e.abs(w)<u&&(w=u),y=1+C/y,e.abs(y)<u&&(y=u),w=1/w,M=w*y,O*=M,!(e.abs(M-1)<3e-7));l++);return O},t.gammapinv=function(a,h){var p=0,u=h-1,l=1e-8,f=t.gammaln(h),m,v,y,w,P,C,M;if(a>=1)return e.max(100,h+100*e.sqrt(h));if(a<=0)return 0;for(h>1?(C=e.log(u),M=e.exp(u*(C-1)-f),P=a<.5?a:1-a,y=e.sqrt(-2*e.log(P)),m=(2.30753+y*.27061)/(1+y*(.99229+y*.04481))-y,a<.5&&(m=-m),m=e.max(.001,h*e.pow(1-1/(9*h)-m/(3*e.sqrt(h)),3))):(y=1-h*(.253+h*.12),a<y?m=e.pow(a/y,1/h):m=1-e.log(1-(a-y)/(1-y)));p<12;p++){if(m<=0)return 0;if(v=t.lowRegGamma(h,m)-a,h>1?y=M*e.exp(-(m-u)+u*(e.log(m)-C)):y=e.exp(-m+u*e.log(m)-f),w=v/y,m-=y=w/(1-.5*e.min(1,w*((h-1)/m-1))),m<=0&&(m=.5*(m+y)),e.abs(y)<l*m)break}return m},t.erf=function(a){var h=[-1.3026537197817094,.6419697923564902,.019476473204185836,-.00956151478680863,-.000946595344482036,.000366839497852761,42523324806907e-18,-20278578112534e-18,-1624290004647e-18,130365583558e-17,15626441722e-18,-85238095915e-18,6529054439e-18,5059343495e-18,-991364156e-18,-227365122e-18,96467911e-18,2394038e-18,-6886027e-18,894487e-18,313092e-18,-112708e-18,381e-18,7106e-18,-1523e-18,-94e-18,121e-18,-28e-18],p=h.length-1,u=!1,l=0,f=0,m,v,y,w;for(a<0&&(a=-a,u=!0),m=2/(2+a),v=4*m-2;p>0;p--)y=l,l=v*l-f+h[p],f=y;return w=m*e.exp(-a*a+.5*(h[0]+v*l)-f),u?w-1:1-w},t.erfc=function(a){return 1-t.erf(a)},t.erfcinv=function(a){var h=0,p,u,l,f;if(a>=2)return-100;if(a<=0)return 100;for(f=a<1?a:2-a,l=e.sqrt(-2*e.log(f/2)),p=-.70711*((2.30753+l*.27061)/(1+l*(.99229+l*.04481))-l);h<2;h++)u=t.erfc(p)-f,p+=u/(1.1283791670955126*e.exp(-p*p)-p*u);return a<1?p:-p},t.ibetainv=function(a,h,p){var u=1e-8,l=h-1,f=p-1,m=0,v,y,w,P,C,M,O,A,L,E,F;if(a<=0)return 0;if(a>=1)return 1;for(h>=1&&p>=1?(w=a<.5?a:1-a,P=e.sqrt(-2*e.log(w)),O=(2.30753+P*.27061)/(1+P*(.99229+P*.04481))-P,a<.5&&(O=-O),A=(O*O-3)/6,L=2/(1/(2*h-1)+1/(2*p-1)),E=O*e.sqrt(A+L)/L-(1/(2*p-1)-1/(2*h-1))*(A+5/6-2/(3*L)),O=h/(h+p*e.exp(2*E))):(v=e.log(h/(h+p)),y=e.log(p/(h+p)),P=e.exp(h*v)/h,C=e.exp(p*y)/p,E=P+C,a<P/E?O=e.pow(h*E*a,1/h):O=1-e.pow(p*E*(1-a),1/p)),F=-t.gammaln(h)-t.gammaln(p)+t.gammaln(h+p);m<10;m++){if(O===0||O===1)return O;if(M=t.ibeta(O,h,p)-a,P=e.exp(l*e.log(O)+f*e.log(1-O)+F),C=M/P,O-=P=C/(1-.5*e.min(1,C*(l/O-f/(1-O)))),O<=0&&(O=.5*(O+P)),O>=1&&(O=.5*(O+P+1)),e.abs(P)<u*O&&m>0)break}return O},t.ibeta=function(a,h,p){var u=a===0||a===1?0:e.exp(t.gammaln(h+p)-t.gammaln(h)-t.gammaln(p)+h*e.log(a)+p*e.log(1-a));return a<0||a>1?!1:a<(h+1)/(h+p+2)?u*t.betacf(a,h,p)/h:1-u*t.betacf(1-a,p,h)/p},t.randn=function(a,h){var p,u,l,f,m;if(h||(h=a),a)return t.create(a,h,function(){return t.randn()});do p=t._random_fn(),u=1.7156*(t._random_fn()-.5),l=p-.449871,f=e.abs(u)+.386595,m=l*l+f*(.196*f-.25472*l);while(m>.27597&&(m>.27846||u*u>-4*e.log(p)*p*p));return u/p},t.randg=function(a,h,p){var u=a,l,f,m,v,y,w;if(p||(p=h),a||(a=1),h)return w=t.zeros(h,p),w.alter(function(){return t.randg(a)}),w;a<1&&(a+=1),l=a-1/3,f=1/e.sqrt(9*l);do{do y=t.randn(),v=1+f*y;while(v<=0);v=v*v*v,m=t._random_fn()}while(m>1-.331*e.pow(y,4)&&e.log(m)>.5*y*y+l*(1-v+e.log(v)));if(a==u)return l*v;do m=t._random_fn();while(m===0);return e.pow(m,1/u)*l*v},function(o){for(var a=0;a<o.length;a++)(function(h){t.fn[h]=function(){return t(t.map(this,function(p){return t[h](p)}))}})(o[a])}("gammaln gammafn factorial factorialln".split(" ")),function(o){for(var a=0;a<o.length;a++)(function(h){t.fn[h]=function(){return t(t[h].apply(null,arguments))}})(o[a])}("randn".split(" "))}(i,Math),function(t,e){(function(u){for(var l=0;l<u.length;l++)(function(f){t[f]=function m(v,y,w){return this instanceof m?(this._a=v,this._b=y,this._c=w,this):new m(v,y,w)},t.fn[f]=function(m,v,y){var w=t[f](m,v,y);return w.data=this,w},t[f].prototype.sample=function(m){var v=this._a,y=this._b,w=this._c;return m?t.alter(m,function(){return t[f].sample(v,y,w)}):t[f].sample(v,y,w)},function(m){for(var v=0;v<m.length;v++)(function(y){t[f].prototype[y]=function(w){var P=this._a,C=this._b,M=this._c;return!w&&w!==0&&(w=this.data),typeof w!="number"?t.fn.map.call(w,function(O){return t[f][y](O,P,C,M)}):t[f][y](w,P,C,M)}})(m[v])}("pdf cdf inv".split(" ")),function(m){for(var v=0;v<m.length;v++)(function(y){t[f].prototype[y]=function(){return t[f][y](this._a,this._b,this._c)}})(m[v])}("mean median mode variance".split(" "))})(u[l])})("beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy laplace lognormal noncentralt normal pareto studentt weibull uniform binomial negbin hypgeom poisson triangular tukey arcsine".split(" ")),t.extend(t.beta,{pdf:function(l,f,m){return l>1||l<0?0:f==1&&m==1?1:f<512&&m<512?e.pow(l,f-1)*e.pow(1-l,m-1)/t.betafn(f,m):e.exp((f-1)*e.log(l)+(m-1)*e.log(1-l)-t.betaln(f,m))},cdf:function(l,f,m){return l>1||l<0?(l>1)*1:t.ibeta(l,f,m)},inv:function(l,f,m){return t.ibetainv(l,f,m)},mean:function(l,f){return l/(l+f)},median:function(l,f){return t.ibetainv(.5,l,f)},mode:function(l,f){return(l-1)/(l+f-2)},sample:function(l,f){var m=t.randg(l);return m/(m+t.randg(f))},variance:function(l,f){return l*f/(e.pow(l+f,2)*(l+f+1))}}),t.extend(t.centralF,{pdf:function(l,f,m){var v,y,w;return l<0?0:f<=2?l===0&&f<2?1/0:l===0&&f===2?1:1/t.betafn(f/2,m/2)*e.pow(f/m,f/2)*e.pow(l,f/2-1)*e.pow(1+f/m*l,-(f+m)/2):(v=f*l/(m+l*f),y=m/(m+l*f),w=f*y/2,w*t.binomial.pdf((f-2)/2,(f+m-2)/2,v))},cdf:function(l,f,m){return l<0?0:t.ibeta(f*l/(f*l+m),f/2,m/2)},inv:function(l,f,m){return m/(f*(1/t.ibetainv(l,f/2,m/2)-1))},mean:function(l,f){return f>2?f/(f-2):void 0},mode:function(l,f){return l>2?f*(l-2)/(l*(f+2)):void 0},sample:function(l,f){var m=t.randg(l/2)*2,v=t.randg(f/2)*2;return m/l/(v/f)},variance:function(l,f){if(!(f<=4))return 2*f*f*(l+f-2)/(l*(f-2)*(f-2)*(f-4))}}),t.extend(t.cauchy,{pdf:function(l,f,m){return m<0?0:m/(e.pow(l-f,2)+e.pow(m,2))/e.PI},cdf:function(l,f,m){return e.atan((l-f)/m)/e.PI+.5},inv:function(u,l,f){return l+f*e.tan(e.PI*(u-.5))},median:function(l){return l},mode:function(l){return l},sample:function(l,f){return t.randn()*e.sqrt(1/(2*t.randg(.5)))*f+l}}),t.extend(t.chisquare,{pdf:function(l,f){return l<0?0:l===0&&f===2?.5:e.exp((f/2-1)*e.log(l)-l/2-f/2*e.log(2)-t.gammaln(f/2))},cdf:function(l,f){return l<0?0:t.lowRegGamma(f/2,l/2)},inv:function(u,l){return 2*t.gammapinv(u,.5*l)},mean:function(u){return u},median:function(l){return l*e.pow(1-2/(9*l),3)},mode:function(l){return l-2>0?l-2:0},sample:function(l){return t.randg(l/2)*2},variance:function(l){return 2*l}}),t.extend(t.exponential,{pdf:function(l,f){return l<0?0:f*e.exp(-f*l)},cdf:function(l,f){return l<0?0:1-e.exp(-f*l)},inv:function(u,l){return-e.log(1-u)/l},mean:function(u){return 1/u},median:function(u){return 1/u*e.log(2)},mode:function(){return 0},sample:function(l){return-1/l*e.log(t._random_fn())},variance:function(u){return e.pow(u,-2)}}),t.extend(t.gamma,{pdf:function(l,f,m){return l<0?0:l===0&&f===1?1/m:e.exp((f-1)*e.log(l)-l/m-t.gammaln(f)-f*e.log(m))},cdf:function(l,f,m){return l<0?0:t.lowRegGamma(f,l/m)},inv:function(u,l,f){return t.gammapinv(u,l)*f},mean:function(u,l){return u*l},mode:function(l,f){if(l>1)return(l-1)*f},sample:function(l,f){return t.randg(l)*f},variance:function(l,f){return l*f*f}}),t.extend(t.invgamma,{pdf:function(l,f,m){return l<=0?0:e.exp(-(f+1)*e.log(l)-m/l-t.gammaln(f)+f*e.log(m))},cdf:function(l,f,m){return l<=0?0:1-t.lowRegGamma(f,m/l)},inv:function(u,l,f){return f/t.gammapinv(1-u,l)},mean:function(u,l){return u>1?l/(u-1):void 0},mode:function(l,f){return f/(l+1)},sample:function(l,f){return f/t.randg(l)},variance:function(l,f){if(!(l<=2))return f*f/((l-1)*(l-1)*(l-2))}}),t.extend(t.kumaraswamy,{pdf:function(l,f,m){return l===0&&f===1?m:l===1&&m===1?f:e.exp(e.log(f)+e.log(m)+(f-1)*e.log(l)+(m-1)*e.log(1-e.pow(l,f)))},cdf:function(l,f,m){return l<0?0:l>1?1:1-e.pow(1-e.pow(l,f),m)},inv:function(l,f,m){return e.pow(1-e.pow(1-l,1/m),1/f)},mean:function(u,l){return l*t.gammafn(1+1/u)*t.gammafn(l)/t.gammafn(1+1/u+l)},median:function(l,f){return e.pow(1-e.pow(2,-1/f),1/l)},mode:function(l,f){if(l>=1&&f>=1&&l!==1&&f!==1)return e.pow((l-1)/(l*f-1),1/l)},variance:function(){throw new Error("variance not yet implemented")}}),t.extend(t.lognormal,{pdf:function(l,f,m){return l<=0?0:e.exp(-e.log(l)-.5*e.log(2*e.PI)-e.log(m)-e.pow(e.log(l)-f,2)/(2*m*m))},cdf:function(l,f,m){return l<0?0:.5+.5*t.erf((e.log(l)-f)/e.sqrt(2*m*m))},inv:function(u,l,f){return e.exp(-1.4142135623730951*f*t.erfcinv(2*u)+l)},mean:function(l,f){return e.exp(l+f*f/2)},median:function(l){return e.exp(l)},mode:function(l,f){return e.exp(l-f*f)},sample:function(l,f){return e.exp(t.randn()*f+l)},variance:function(l,f){return(e.exp(f*f)-1)*e.exp(2*l+f*f)}}),t.extend(t.noncentralt,{pdf:function(l,f,m){var v=1e-14;return e.abs(m)<v?t.studentt.pdf(l,f):e.abs(l)<v?e.exp(t.gammaln((f+1)/2)-m*m/2-.5*e.log(e.PI*f)-t.gammaln(f/2)):f/l*(t.noncentralt.cdf(l*e.sqrt(1+2/f),f+2,m)-t.noncentralt.cdf(l,f,m))},cdf:function(l,f,m){var v=1e-14,y=200;if(e.abs(m)<v)return t.studentt.cdf(l,f);var w=!1;l<0&&(w=!0,m=-m);for(var P=t.normal.cdf(-m,0,1),C=v+1,M=C,O=l*l/(l*l+f),A=0,L=e.exp(-m*m/2),E=e.exp(-m*m/2-.5*e.log(2)-t.gammaln(3/2))*m;A<y||M>v||C>v;)M=C,A>0&&(L*=m*m/(2*A),E*=m*m/(2*(A+1/2))),C=L*t.beta.cdf(O,A+.5,f/2)+E*t.beta.cdf(O,A+1,f/2),P+=.5*C,A++;return w?1-P:P}}),t.extend(t.normal,{pdf:function(l,f,m){return e.exp(-.5*e.log(2*e.PI)-e.log(m)-e.pow(l-f,2)/(2*m*m))},cdf:function(l,f,m){return .5*(1+t.erf((l-f)/e.sqrt(2*m*m)))},inv:function(u,l,f){return-1.4142135623730951*f*t.erfcinv(2*u)+l},mean:function(u){return u},median:function(l){return l},mode:function(u){return u},sample:function(l,f){return t.randn()*f+l},variance:function(u,l){return l*l}}),t.extend(t.pareto,{pdf:function(l,f,m){return l<f?0:m*e.pow(f,m)/e.pow(l,m+1)},cdf:function(l,f,m){return l<f?0:1-e.pow(f/l,m)},inv:function(l,f,m){return f/e.pow(1-l,1/m)},mean:function(l,f){if(!(f<=1))return f*e.pow(l,f)/(f-1)},median:function(l,f){return l*(f*e.SQRT2)},mode:function(l){return l},variance:function(u,l){if(!(l<=2))return u*u*l/(e.pow(l-1,2)*(l-2))}}),t.extend(t.studentt,{pdf:function(l,f){return f=f>1e100?1e100:f,1/(e.sqrt(f)*t.betafn(.5,f/2))*e.pow(1+l*l/f,-((f+1)/2))},cdf:function(l,f){var m=f/2;return t.ibeta((l+e.sqrt(l*l+f))/(2*e.sqrt(l*l+f)),m,m)},inv:function(u,l){var f=t.ibetainv(2*e.min(u,1-u),.5*l,.5);return f=e.sqrt(l*(1-f)/f),u>.5?f:-f},mean:function(l){return l>1?0:void 0},median:function(){return 0},mode:function(){return 0},sample:function(l){return t.randn()*e.sqrt(l/(2*t.randg(l/2)))},variance:function(l){return l>2?l/(l-2):l>1?1/0:void 0}}),t.extend(t.weibull,{pdf:function(l,f,m){return l<0||f<0||m<0?0:m/f*e.pow(l/f,m-1)*e.exp(-e.pow(l/f,m))},cdf:function(l,f,m){return l<0?0:1-e.exp(-e.pow(l/f,m))},inv:function(u,l,f){return l*e.pow(-e.log(1-u),1/f)},mean:function(u,l){return u*t.gammafn(1+1/l)},median:function(l,f){return l*e.pow(e.log(2),1/f)},mode:function(l,f){return f<=1?0:l*e.pow((f-1)/f,1/f)},sample:function(l,f){return l*e.pow(-e.log(t._random_fn()),1/f)},variance:function(l,f){return l*l*t.gammafn(1+2/f)-e.pow(t.weibull.mean(l,f),2)}}),t.extend(t.uniform,{pdf:function(l,f,m){return l<f||l>m?0:1/(m-f)},cdf:function(l,f,m){return l<f?0:l<m?(l-f)/(m-f):1},inv:function(u,l,f){return l+u*(f-l)},mean:function(l,f){return .5*(l+f)},median:function(l,f){return t.mean(l,f)},mode:function(){throw new Error("mode is not yet implemented")},sample:function(l,f){return l/2+f/2+(f/2-l/2)*(2*t._random_fn()-1)},variance:function(l,f){return e.pow(f-l,2)/12}});function o(u,l,f,m){for(var v=0,y=1,w=1,P=1,C=0,M=0,O;e.abs((w-M)/w)>m;)M=w,O=-(l+C)*(l+f+C)*u/(l+2*C)/(l+2*C+1),v=w+O*v,y=P+O*y,C=C+1,O=C*(f-C)*u/(l+2*C-1)/(l+2*C),w=v+O*w,P=y+O*P,v=v/P,y=y/P,w=w/P,P=1;return w/l}t.extend(t.binomial,{pdf:function(l,f,m){return m===0||m===1?f*m===l?1:0:t.combination(f,l)*e.pow(m,l)*e.pow(1-m,f-l)},cdf:function(l,f,m){var v,y=1e-10;if(l<0)return 0;if(l>=f)return 1;if(m<0||m>1||f<=0)return NaN;l=e.floor(l);var w=m,P=l+1,C=f-l,M=P+C,O=e.exp(t.gammaln(M)-t.gammaln(C)-t.gammaln(P)+P*e.log(w)+C*e.log(1-w));return w<(P+1)/(M+2)?v=O*o(w,P,C,y):v=1-O*o(1-w,C,P,y),e.round((1-v)*(1/y))/(1/y)}}),t.extend(t.negbin,{pdf:function(l,f,m){return l!==l>>>0?!1:l<0?0:t.combination(l+f-1,f-1)*e.pow(1-m,l)*e.pow(m,f)},cdf:function(l,f,m){var v=0,y=0;if(l<0)return 0;for(;y<=l;y++)v+=t.negbin.pdf(y,f,m);return v}}),t.extend(t.hypgeom,{pdf:function(l,f,m,v){if(l!==l|0)return!1;if(l<0||l<m-(f-v))return 0;if(l>v||l>m)return 0;if(m*2>f)return v*2>f?t.hypgeom.pdf(f-m-v+l,f,f-m,f-v):t.hypgeom.pdf(v-l,f,f-m,v);if(v*2>f)return t.hypgeom.pdf(m-l,f,m,f-v);if(m<v)return t.hypgeom.pdf(l,f,v,m);for(var y=1,w=0,P=0;P<l;P++){for(;y>1&&w<v;)y*=1-m/(f-w),w++;y*=(v-P)*(m-P)/((P+1)*(f-m-v+P+1))}for(;w<v;w++)y*=1-m/(f-w);return e.min(1,e.max(0,y))},cdf:function(l,f,m,v){if(l<0||l<m-(f-v))return 0;if(l>=v||l>=m)return 1;if(m*2>f)return v*2>f?t.hypgeom.cdf(f-m-v+l,f,f-m,f-v):1-t.hypgeom.cdf(v-l-1,f,f-m,v);if(v*2>f)return 1-t.hypgeom.cdf(m-l-1,f,m,f-v);if(m<v)return t.hypgeom.cdf(l,f,v,m);for(var y=1,w=1,P=0,C=0;C<l;C++){for(;y>1&&P<v;){var M=1-m/(f-P);w*=M,y*=M,P++}w*=(v-C)*(m-C)/((C+1)*(f-m-v+C+1)),y+=w}for(;P<v;P++)y*=1-m/(f-P);return e.min(1,e.max(0,y))}}),t.extend(t.poisson,{pdf:function(l,f){return f<0||l%1!==0||l<0?0:e.pow(f,l)*e.exp(-f)/t.factorial(l)},cdf:function(l,f){var m=[],v=0;if(l<0)return 0;for(;v<=l;v++)m.push(t.poisson.pdf(v,f));return t.sum(m)},mean:function(u){return u},variance:function(u){return u},sampleSmall:function(l){var f=1,m=0,v=e.exp(-l);do m++,f*=t._random_fn();while(f>v);return m-1},sampleLarge:function(l){var f=l,m,v,y,w,P,C,M,O,A,L;for(w=e.sqrt(f),P=e.log(f),M=.931+2.53*w,C=-.059+.02483*M,O=1.1239+1.1328/(M-3.4),A=.9277-3.6224/(M-2);;){if(v=e.random()-.5,y=e.random(),L=.5-e.abs(v),m=e.floor((2*C/L+M)*v+f+.43),L>=.07&&y<=A)return m;if(!(m<0||L<.013&&y>L)&&e.log(y)+e.log(O)-e.log(C/(L*L)+M)<=-f+m*P-t.loggam(m+1))return m}},sample:function(l){return l<10?this.sampleSmall(l):this.sampleLarge(l)}}),t.extend(t.triangular,{pdf:function(l,f,m,v){return m<=f||v<f||v>m?NaN:l<f||l>m?0:l<v?2*(l-f)/((m-f)*(v-f)):l===v?2/(m-f):2*(m-l)/((m-f)*(m-v))},cdf:function(l,f,m,v){return m<=f||v<f||v>m?NaN:l<=f?0:l>=m?1:l<=v?e.pow(l-f,2)/((m-f)*(v-f)):1-e.pow(m-l,2)/((m-f)*(m-v))},inv:function(l,f,m,v){return m<=f||v<f||v>m?NaN:l<=(v-f)/(m-f)?f+(m-f)*e.sqrt(l*((v-f)/(m-f))):f+(m-f)*(1-e.sqrt((1-l)*(1-(v-f)/(m-f))))},mean:function(l,f,m){return(l+f+m)/3},median:function(l,f,m){if(m<=(l+f)/2)return f-e.sqrt((f-l)*(f-m))/e.sqrt(2);if(m>(l+f)/2)return l+e.sqrt((f-l)*(m-l))/e.sqrt(2)},mode:function(l,f,m){return m},sample:function(l,f,m){var v=t._random_fn();return v<(m-l)/(f-l)?l+e.sqrt(v*(f-l)*(m-l)):f-e.sqrt((1-v)*(f-l)*(f-m))},variance:function(l,f,m){return(l*l+f*f+m*m-l*f-l*m-f*m)/18}}),t.extend(t.arcsine,{pdf:function(l,f,m){return m<=f?NaN:l<=f||l>=m?0:2/e.PI*e.pow(e.pow(m-f,2)-e.pow(2*l-f-m,2),-.5)},cdf:function(l,f,m){return l<f?0:l<m?2/e.PI*e.asin(e.sqrt((l-f)/(m-f))):1},inv:function(u,l,f){return l+(.5-.5*e.cos(e.PI*u))*(f-l)},mean:function(l,f){return f<=l?NaN:(l+f)/2},median:function(l,f){return f<=l?NaN:(l+f)/2},mode:function(){throw new Error("mode is not yet implemented")},sample:function(l,f){return(l+f)/2+(f-l)/2*e.sin(2*e.PI*t.uniform.sample(0,1))},variance:function(l,f){return f<=l?NaN:e.pow(f-l,2)/8}});function a(u){return u/e.abs(u)}t.extend(t.laplace,{pdf:function(l,f,m){return m<=0?0:e.exp(-e.abs(l-f)/m)/(2*m)},cdf:function(l,f,m){return m<=0?0:l<f?.5*e.exp((l-f)/m):1-.5*e.exp(-(l-f)/m)},mean:function(u){return u},median:function(u){return u},mode:function(u){return u},variance:function(u,l){return 2*l*l},sample:function(l,f){var m=t._random_fn()-.5;return l-f*a(m)*e.log(1-2*e.abs(m))}});function h(u,l,f){var m=12,v=6,y=-30,w=-50,P=60,C=8,M=3,O=2,A=3,L=[.9815606342467192,.9041172563704749,.7699026741943047,.5873179542866175,.3678314989981802,.1252334085114689],E=[.04717533638651183,.10693932599531843,.16007832854334622,.20316742672306592,.2334925365383548,.24914704581340277],F=u*.5;if(F>=C)return 1;var N=2*t.normal.cdf(F,0,1,1,0)-1;N>=e.exp(w/f)?N=e.pow(N,f):N=0;var H;u>M?H=O:H=A;for(var W=F,G=(C-F)/H,et=W+G,nt=0,it=f-1,J=1;J<=H;J++){for(var at=0,ct=.5*(et+W),mt=.5*(et-W),vt=1;vt<=m;vt++){var gt,kt;v<vt?(gt=m-vt+1,kt=L[gt-1]):(gt=vt,kt=-L[gt-1]);var Lt=mt*kt,Ct=ct+Lt,At=Ct*Ct;if(At>P)break;var Kt=2*t.normal.cdf(Ct,0,1,1,0),Qt=2*t.normal.cdf(Ct,u,1,1,0),Dt=Kt*.5-Qt*.5;Dt>=e.exp(y/it)&&(Dt=E[gt-1]*e.exp(-(.5*At))*e.pow(Dt,it),at+=Dt)}at*=2*mt*f/e.sqrt(2*e.PI),nt+=at,W=et,et+=G}return N+=nt,N<=e.exp(y/l)?0:(N=e.pow(N,l),N>=1?1:N)}function p(u,l,f){var m=.322232421088,v=.099348462606,y=-1,w=.588581570495,P=-.342242088547,C=.531103462366,M=-.204231210125,O=.10353775285,A=-453642210148e-16,L=.0038560700634,E=.8832,F=.2368,N=1.214,H=1.208,W=1.4142,G=120,et=.5-.5*u,nt=e.sqrt(e.log(1/(et*et))),it=nt+((((nt*A+M)*nt+P)*nt+y)*nt+m)/((((nt*L+O)*nt+C)*nt+w)*nt+v);f<G&&(it+=(it*it*it+it)/f/4);var J=E-F*it;return f<G&&(J+=-N/f+H*it/f),it*(J*e.log(l-1)+W)}t.extend(t.tukey,{cdf:function(l,f,m){var v=1,y=f,w=16,P=8,C=-30,M=1e-14,O=100,A=800,L=5e3,E=25e3,F=1,N=.5,H=.25,W=.125,G=[.9894009349916499,.9445750230732326,.8656312023878318,.755404408355003,.6178762444026438,.45801677765722737,.2816035507792589,.09501250983763744],et=[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685];if(l<=0)return 0;if(m<2||v<1||y<2)return NaN;if(!Number.isFinite(l))return 1;if(m>E)return h(l,v,y);var nt=m*.5,it=nt*e.log(m)-m*e.log(2)-t.gammaln(nt),J=nt-1,at=m*.25,ct;m<=O?ct=F:m<=A?ct=N:m<=L?ct=H:ct=W,it+=e.log(ct);for(var mt=0,vt=1;vt<=50;vt++){for(var gt=0,kt=(2*vt-1)*ct,Lt=1;Lt<=w;Lt++){var Ct,At;P<Lt?(Ct=Lt-P-1,At=it+J*e.log(kt+G[Ct]*ct)-(G[Ct]*ct+kt)*at):(Ct=Lt-1,At=it+J*e.log(kt-G[Ct]*ct)+(G[Ct]*ct-kt)*at);var Kt;if(At>=C){P<Lt?Kt=l*e.sqrt((G[Ct]*ct+kt)*.5):Kt=l*e.sqrt((-(G[Ct]*ct)+kt)*.5);var Qt=h(Kt,v,y),Dt=Qt*et[Ct]*e.exp(At);gt+=Dt}}if(vt*ct>=1&&gt<=M)break;mt+=gt}if(gt>M)throw new Error("tukey.cdf failed to converge");return mt>1&&(mt=1),mt},inv:function(u,l,f){var m=1,v=l,y=1e-4,w=50;if(f<2||m<1||v<2)return NaN;if(u<0||u>1)return NaN;if(u===0)return 0;if(u===1)return 1/0;var P=p(u,v,f),C=t.tukey.cdf(P,l,f)-u,M;C>0?M=e.max(0,P-1):M=P+1;for(var O=t.tukey.cdf(M,l,f)-u,A,L=1;L<w;L++){A=M-O*(M-P)/(O-C),C=O,P=M,A<0&&(A=0,O=-u),O=t.tukey.cdf(A,l,f)-u,M=A;var E=e.abs(M-P);if(E<y)return A}throw new Error("tukey.inv failed to converge")}})}(i,Math),function(t,e){var o=Array.prototype.push,a=t.utils.isArray;function h(p){return a(p)||p instanceof t}t.extend({add:function(u,l){return h(l)?(h(l[0])||(l=[l]),t.map(u,function(f,m,v){return f+l[m][v]})):t.map(u,function(f){return f+l})},subtract:function(u,l){return h(l)?(h(l[0])||(l=[l]),t.map(u,function(f,m,v){return f-l[m][v]||0})):t.map(u,function(f){return f-l})},divide:function(u,l){return h(l)?(h(l[0])||(l=[l]),t.multiply(u,t.inv(l))):t.map(u,function(f){return f/l})},multiply:function(u,l){var f,m,v,y,w,P,C,M;if(u.length===void 0&&l.length===void 0)return u*l;if(w=u.length,P=u[0].length,C=t.zeros(w,v=h(l)?l[0].length:P),M=0,h(l)){for(;M<v;M++)for(f=0;f<w;f++){for(y=0,m=0;m<P;m++)y+=u[f][m]*l[m][M];C[f][M]=y}return w===1&&M===1?C[0][0]:C}return t.map(u,function(O){return O*l})},outer:function(u,l){return t.multiply(u.map(function(f){return[f]}),[l])},dot:function(u,l){h(u[0])||(u=[u]),h(l[0])||(l=[l]);for(var f=u[0].length===1&&u.length!==1?t.transpose(u):u,m=l[0].length===1&&l.length!==1?t.transpose(l):l,v=[],y=0,w=f.length,P=f[0].length,C,M;y<w;y++){for(v[y]=[],C=0,M=0;M<P;M++)C+=f[y][M]*m[y][M];v[y]=C}return v.length===1?v[0]:v},pow:function(u,l){return t.map(u,function(f){return e.pow(f,l)})},exp:function(u){return t.map(u,function(l){return e.exp(l)})},log:function(u){return t.map(u,function(l){return e.log(l)})},abs:function(u){return t.map(u,function(l){return e.abs(l)})},norm:function(u,l){var f=0,m=0;for(isNaN(l)&&(l=2),h(u[0])&&(u=u[0]);m<u.length;m++)f+=e.pow(e.abs(u[m]),l);return e.pow(f,1/l)},angle:function(u,l){return e.acos(t.dot(u,l)/(t.norm(u)*t.norm(l)))},aug:function(u,l){var f=[],m;for(m=0;m<u.length;m++)f.push(u[m].slice());for(m=0;m<f.length;m++)o.apply(f[m],l[m]);return f},inv:function(u){for(var l=u.length,f=u[0].length,m=t.identity(l,f),v=t.gauss_jordan(u,m),y=[],w=0,P;w<l;w++)for(y[w]=[],P=f;P<v[0].length;P++)y[w][P-f]=v[w][P];return y},det:function p(u){if(u.length===2)return u[0][0]*u[1][1]-u[0][1]*u[1][0];for(var l=0,f=0;f<u.length;f++){for(var m=[],v=1;v<u.length;v++){m[v-1]=[];for(var y=0;y<u.length;y++)y<f?m[v-1][y]=u[v][y]:y>f&&(m[v-1][y-1]=u[v][y])}var w=f%2?-1:1;l+=p(m)*u[0][f]*w}return l},gauss_elimination:function(u,l){var f=0,m=0,v=u.length,y=u[0].length,w=1,P=0,C=[],M,O,A,L;for(u=t.aug(u,l),M=u[0].length,f=0;f<v;f++){for(O=u[f][f],m=f,L=f+1;L<y;L++)O<e.abs(u[L][f])&&(O=u[L][f],m=L);if(m!=f)for(L=0;L<M;L++)A=u[f][L],u[f][L]=u[m][L],u[m][L]=A;for(m=f+1;m<v;m++)for(w=u[m][f]/u[f][f],L=f;L<M;L++)u[m][L]=u[m][L]-w*u[f][L]}for(f=v-1;f>=0;f--){for(P=0,m=f+1;m<=v-1;m++)P=P+C[m]*u[f][m];C[f]=(u[f][M-1]-P)/u[f][f]}return C},gauss_jordan:function(u,l){var f=t.aug(u,l),m=f.length,v=f[0].length,y=0,w,P,C;for(P=0;P<m;P++){var M=P;for(C=P+1;C<m;C++)e.abs(f[C][P])>e.abs(f[M][P])&&(M=C);var O=f[P];for(f[P]=f[M],f[M]=O,C=P+1;C<m;C++)for(y=f[C][P]/f[P][P],w=P;w<v;w++)f[C][w]-=f[P][w]*y}for(P=m-1;P>=0;P--){for(y=f[P][P],C=0;C<P;C++)for(w=v-1;w>P-1;w--)f[C][w]-=f[P][w]*f[C][P]/y;for(f[P][P]/=y,w=m;w<v;w++)f[P][w]/=y}return f},triaUpSolve:function(u,l){var f=u[0].length,m=t.zeros(1,f)[0],v,y=!1;return l[0].length!=null&&(l=l.map(function(w){return w[0]}),y=!0),t.arange(f-1,-1,-1).forEach(function(w){v=t.arange(w+1,f).map(function(P){return m[P]*u[w][P]}),m[w]=(l[w]-t.sum(v))/u[w][w]}),y?m.map(function(w){return[w]}):m},triaLowSolve:function(u,l){var f=u[0].length,m=t.zeros(1,f)[0],v,y=!1;return l[0].length!=null&&(l=l.map(function(w){return w[0]}),y=!0),t.arange(f).forEach(function(w){v=t.arange(w).map(function(P){return u[w][P]*m[P]}),m[w]=(l[w]-t.sum(v))/u[w][w]}),y?m.map(function(w){return[w]}):m},lu:function(u){var l=u.length,f=t.identity(l),m=t.zeros(u.length,u[0].length),v;return t.arange(l).forEach(function(y){m[0][y]=u[0][y]}),t.arange(1,l).forEach(function(y){t.arange(y).forEach(function(w){v=t.arange(w).map(function(P){return f[y][P]*m[P][w]}),f[y][w]=(u[y][w]-t.sum(v))/m[w][w]}),t.arange(y,l).forEach(function(w){v=t.arange(y).map(function(P){return f[y][P]*m[P][w]}),m[y][w]=u[v.length][w]-t.sum(v)})}),[f,m]},cholesky:function(u){var l=u.length,f=t.zeros(u.length,u[0].length),m;return t.arange(l).forEach(function(v){m=t.arange(v).map(function(y){return e.pow(f[v][y],2)}),f[v][v]=e.sqrt(u[v][v]-t.sum(m)),t.arange(v+1,l).forEach(function(y){m=t.arange(v).map(function(w){return f[v][w]*f[y][w]}),f[y][v]=(u[v][y]-t.sum(m))/f[v][v]})}),f},gauss_jacobi:function(u,l,f,m){for(var v=0,y=0,w=u.length,P=[],C=[],M=[],O,A,L,E;v<w;v++)for(P[v]=[],C[v]=[],M[v]=[],y=0;y<w;y++)v>y?(P[v][y]=u[v][y],C[v][y]=M[v][y]=0):v<y?(C[v][y]=u[v][y],P[v][y]=M[v][y]=0):(M[v][y]=u[v][y],P[v][y]=C[v][y]=0);for(L=t.multiply(t.multiply(t.inv(M),t.add(P,C)),-1),A=t.multiply(t.inv(M),l),O=f,E=t.add(t.multiply(L,f),A),v=2;e.abs(t.norm(t.subtract(E,O)))>m;)O=E,E=t.add(t.multiply(L,O),A),v++;return E},gauss_seidel:function(u,l,f,m){for(var v=0,y=u.length,w=[],P=[],C=[],M,O,A,L,E;v<y;v++)for(w[v]=[],P[v]=[],C[v]=[],M=0;M<y;M++)v>M?(w[v][M]=u[v][M],P[v][M]=C[v][M]=0):v<M?(P[v][M]=u[v][M],w[v][M]=C[v][M]=0):(C[v][M]=u[v][M],w[v][M]=P[v][M]=0);for(L=t.multiply(t.multiply(t.inv(t.add(C,w)),P),-1),A=t.multiply(t.inv(t.add(C,w)),l),O=f,E=t.add(t.multiply(L,f),A),v=2;e.abs(t.norm(t.subtract(E,O)))>m;)O=E,E=t.add(t.multiply(L,O),A),v=v+1;return E},SOR:function(u,l,f,m,v){for(var y=0,w=u.length,P=[],C=[],M=[],O,A,L,E,F;y<w;y++)for(P[y]=[],C[y]=[],M[y]=[],O=0;O<w;O++)y>O?(P[y][O]=u[y][O],C[y][O]=M[y][O]=0):y<O?(C[y][O]=u[y][O],P[y][O]=M[y][O]=0):(M[y][O]=u[y][O],P[y][O]=C[y][O]=0);for(E=t.multiply(t.inv(t.add(M,t.multiply(P,v))),t.subtract(t.multiply(M,1-v),t.multiply(C,v))),L=t.multiply(t.multiply(t.inv(t.add(M,t.multiply(P,v))),l),v),A=f,F=t.add(t.multiply(E,f),L),y=2;e.abs(t.norm(t.subtract(F,A)))>m;)A=F,F=t.add(t.multiply(E,A),L),y++;return F},householder:function(u){for(var l=u.length,f=u[0].length,m=0,v=[],y=[],w,P,C,M,O;m<l-1;m++){for(w=0,M=m+1;M<f;M++)w+=u[M][m]*u[M][m];for(O=u[m+1][m]>0?-1:1,w=O*e.sqrt(w),P=e.sqrt((w*w-u[m+1][m]*w)/2),v=t.zeros(l,1),v[m+1][0]=(u[m+1][m]-w)/(2*P),C=m+2;C<l;C++)v[C][0]=u[C][m]/(2*P);y=t.subtract(t.identity(l,f),t.multiply(t.multiply(v,t.transpose(v)),2)),u=t.multiply(y,t.multiply(u,y))}return u},QR:function(){var p=t.sum,u=t.arange;function l(f){var m=f.length,v=f[0].length,y=t.zeros(v,v);f=t.copy(f);var w,P,C;for(P=0;P<v;P++){for(y[P][P]=e.sqrt(p(u(m).map(function(M){return f[M][P]*f[M][P]}))),w=0;w<m;w++)f[w][P]=f[w][P]/y[P][P];for(C=P+1;C<v;C++)for(y[P][C]=p(u(m).map(function(M){return f[M][P]*f[M][C]})),w=0;w<m;w++)f[w][C]=f[w][C]-f[w][P]*y[P][C]}return[f,y]}return l}(),lstsq:function(){function p(l){l=t.copy(l);var f=l.length,m=t.identity(f);return t.arange(f-1,-1,-1).forEach(function(v){t.sliceAssign(m,{row:v},t.divide(t.slice(m,{row:v}),l[v][v])),t.sliceAssign(l,{row:v},t.divide(t.slice(l,{row:v}),l[v][v])),t.arange(v).forEach(function(y){var w=t.multiply(l[y][v],-1),P=t.slice(l,{row:y}),C=t.multiply(t.slice(l,{row:v}),w);t.sliceAssign(l,{row:y},t.add(P,C));var M=t.slice(m,{row:y}),O=t.multiply(t.slice(m,{row:v}),w);t.sliceAssign(m,{row:y},t.add(M,O))})}),m}function u(l,f){var m=!1;f[0].length===void 0&&(f=f.map(function(E){return[E]}),m=!0);var v=t.QR(l),y=v[0],w=v[1],P=l[0].length,C=t.slice(y,{col:{end:P}}),M=t.slice(w,{row:{end:P}}),O=p(M),A=t.transpose(C);A[0].length===void 0&&(A=[A]);var L=t.multiply(t.multiply(O,A),f);return L.length===void 0&&(L=[[L]]),m?L.map(function(E){return E[0]}):L}return u}(),jacobi:function(u){for(var l=1,f=u.length,m=t.identity(f,f),v=[],y,w,P,C,M,O,A,L;l===1;){for(O=u[0][1],C=0,M=1,w=0;w<f;w++)for(P=0;P<f;P++)w!=P&&O<e.abs(u[w][P])&&(O=e.abs(u[w][P]),C=w,M=P);for(u[C][C]===u[M][M]?A=u[C][M]>0?e.PI/4:-e.PI/4:A=e.atan(2*u[C][M]/(u[C][C]-u[M][M]))/2,L=t.identity(f,f),L[C][C]=e.cos(A),L[C][M]=-e.sin(A),L[M][C]=e.sin(A),L[M][M]=e.cos(A),m=t.multiply(m,L),y=t.multiply(t.multiply(t.inv(L),u),L),u=y,l=0,w=1;w<f;w++)for(P=1;P<f;P++)w!=P&&e.abs(u[w][P])>.001&&(l=1)}for(w=0;w<f;w++)v.push(u[w][w]);return[m,v]},rungekutta:function(u,l,f,m,v,y){var w,P,C,M,O;if(y===2)for(;m<=f;)w=l*u(m,v),P=l*u(m+l,v+w),C=v+(w+P)/2,v=C,m=m+l;if(y===4)for(;m<=f;)w=l*u(m,v),P=l*u(m+l/2,v+w/2),M=l*u(m+l/2,v+P/2),O=l*u(m+l,v+M),C=v+(w+2*P+2*M+O)/6,v=C,m=m+l;return v},romberg:function(u,l,f,m){for(var v=0,y=(f-l)/2,w=[],P=[],C=[],M,O,A,L,E;v<m/2;){for(E=u(l),A=l,L=0;A<=f;A=A+y,L++)w[L]=A;for(M=w.length,A=1;A<M-1;A++)E+=(A%2!==0?4:2)*u(w[A]);E=y/3*(E+u(f)),C[v]=E,y/=2,v++}for(O=C.length,M=1;O!==1;){for(A=0;A<O-1;A++)P[A]=(e.pow(4,M)*C[A+1]-C[A])/(e.pow(4,M)-1);O=P.length,C=P,P=[],M++}return C},richardson:function(u,l,f,m){function v(F,N){for(var H=0,W=F.length,G;H<W;H++)F[H]===N&&(G=H);return G}for(var y=e.abs(f-u[v(u,f)+1]),w=0,P=[],C=[],M,O,A,L,E;m>=y;)M=v(u,f+m),O=v(u,f),P[w]=(l[M]-2*l[O]+l[2*O-M])/(m*m),m/=2,w++;for(L=P.length,A=1;L!=1;){for(E=0;E<L-1;E++)C[E]=(e.pow(4,A)*P[E+1]-P[E])/(e.pow(4,A)-1);L=C.length,P=C,C=[],A++}return P},simpson:function(u,l,f,m){for(var v=(f-l)/m,y=u(l),w=[],P=l,C=0,M=1,O;P<=f;P=P+v,C++)w[C]=P;for(O=w.length;M<O-1;M++)y+=(M%2!==0?4:2)*u(w[M]);return v/3*(y+u(f))},hermite:function(u,l,f,m){for(var v=u.length,y=0,w=0,P=[],C=[],M=[],O=[],A;w<v;w++){for(P[w]=1,A=0;A<v;A++)w!=A&&(P[w]*=(m-u[A])/(u[w]-u[A]));for(C[w]=0,A=0;A<v;A++)w!=A&&(C[w]+=1/(u[w]-u[A]));M[w]=(1-2*(m-u[w])*C[w])*(P[w]*P[w]),O[w]=(m-u[w])*(P[w]*P[w]),y+=M[w]*l[w]+O[w]*f[w]}return y},lagrange:function(u,l,f){for(var m=0,v=0,y,w,P=u.length;v<P;v++){for(w=l[v],y=0;y<P;y++)v!=y&&(w*=(f-u[y])/(u[v]-u[y]));m+=w}return m},cubic_spline:function(u,l,f){for(var m=u.length,v=0,y,w=[],P=[],C=[],M=[],O=[],A=[],L=[];v<m-1;v++)O[v]=u[v+1]-u[v];for(C[0]=0,v=1;v<m-1;v++)C[v]=3/O[v]*(l[v+1]-l[v])-3/O[v-1]*(l[v]-l[v-1]);for(v=1;v<m-1;v++)w[v]=[],P[v]=[],w[v][v-1]=O[v-1],w[v][v]=2*(O[v-1]+O[v]),w[v][v+1]=O[v],P[v][0]=C[v];for(M=t.multiply(t.inv(w),P),y=0;y<m-1;y++)A[y]=(l[y+1]-l[y])/O[y]-O[y]*(M[y+1][0]+2*M[y][0])/3,L[y]=(M[y+1][0]-M[y][0])/(3*O[y]);for(y=0;y<m&&!(u[y]>f);y++);return y-=1,l[y]+(f-u[y])*A[y]+t.sq(f-u[y])*M[y]+(f-u[y])*t.sq(f-u[y])*L[y]},gauss_quadrature:function(){throw new Error("gauss_quadrature not yet implemented")},PCA:function(u){var l=u.length,f=u[0].length,m=0,v,y,w=[],P=[],C=[],M=[],O=[],A=[],L=[],E=[],F=[],N=[];for(m=0;m<l;m++)w[m]=t.sum(u[m])/f;for(m=0;m<f;m++)for(L[m]=[],v=0;v<l;v++)L[m][v]=u[v][m]-w[v];for(L=t.transpose(L),m=0;m<l;m++)for(E[m]=[],v=0;v<l;v++)E[m][v]=t.dot([L[m]],[L[v]])/(f-1);for(C=t.jacobi(E),F=C[0],P=C[1],N=t.transpose(F),m=0;m<P.length;m++)for(v=m;v<P.length;v++)P[m]<P[v]&&(y=P[m],P[m]=P[v],P[v]=y,M=N[m],N[m]=N[v],N[v]=M);for(A=t.transpose(L),m=0;m<l;m++)for(O[m]=[],v=0;v<A.length;v++)O[m][v]=t.dot([N[m]],[A[v]]);return[u,P,N,O]}}),function(p){for(var u=0;u<p.length;u++)(function(l){t.fn[l]=function(f,m){var v=this;return m?(setTimeout(function(){m.call(v,t.fn[l].call(v,f))},15),this):typeof t[l](this,f)=="number"?t[l](this,f):t(t[l](this,f))}})(p[u])}("add divide multiply subtract dot pow exp log abs norm angle".split(" "))}(i,Math),function(t,e){var o=[].slice,a=t.utils.isNumber,h=t.utils.isArray;t.extend({zscore:function(){var l=o.call(arguments);return a(l[1])?(l[0]-l[1])/l[2]:(l[0]-t.mean(l[1]))/t.stdev(l[1],l[2])},ztest:function(){var l=o.call(arguments),f;return h(l[1])?(f=t.zscore(l[0],l[1],l[3]),l[2]===1?t.normal.cdf(-e.abs(f),0,1):t.normal.cdf(-e.abs(f),0,1)*2):l.length>2?(f=t.zscore(l[0],l[1],l[2]),l[3]===1?t.normal.cdf(-e.abs(f),0,1):t.normal.cdf(-e.abs(f),0,1)*2):(f=l[0],l[1]===1?t.normal.cdf(-e.abs(f),0,1):t.normal.cdf(-e.abs(f),0,1)*2)}}),t.extend(t.fn,{zscore:function(l,f){return(l-this.mean())/this.stdev(f)},ztest:function(l,f,m){var v=e.abs(this.zscore(l,m));return f===1?t.normal.cdf(-v,0,1):t.normal.cdf(-v,0,1)*2}}),t.extend({tscore:function(){var l=o.call(arguments);return l.length===4?(l[0]-l[1])/(l[2]/e.sqrt(l[3])):(l[0]-t.mean(l[1]))/(t.stdev(l[1],!0)/e.sqrt(l[1].length))},ttest:function(){var l=o.call(arguments),f;return l.length===5?(f=e.abs(t.tscore(l[0],l[1],l[2],l[3])),l[4]===1?t.studentt.cdf(-f,l[3]-1):t.studentt.cdf(-f,l[3]-1)*2):a(l[1])?(f=e.abs(l[0]),l[2]==1?t.studentt.cdf(-f,l[1]-1):t.studentt.cdf(-f,l[1]-1)*2):(f=e.abs(t.tscore(l[0],l[1])),l[2]==1?t.studentt.cdf(-f,l[1].length-1):t.studentt.cdf(-f,l[1].length-1)*2)}}),t.extend(t.fn,{tscore:function(l){return(l-this.mean())/(this.stdev(!0)/e.sqrt(this.cols()))},ttest:function(l,f){return f===1?1-t.studentt.cdf(e.abs(this.tscore(l)),this.cols()-1):t.studentt.cdf(-e.abs(this.tscore(l)),this.cols()-1)*2}}),t.extend({anovafscore:function(){var l=o.call(arguments),f,m,v,y,w,P,C,M;if(l.length===1){for(w=new Array(l[0].length),C=0;C<l[0].length;C++)w[C]=l[0][C];l=w}for(m=new Array,C=0;C<l.length;C++)m=m.concat(l[C]);for(v=t.mean(m),f=0,C=0;C<l.length;C++)f=f+l[C].length*e.pow(t.mean(l[C])-v,2);for(f/=l.length-1,P=0,C=0;C<l.length;C++)for(y=t.mean(l[C]),M=0;M<l[C].length;M++)P+=e.pow(l[C][M]-y,2);return P/=m.length-l.length,f/P},anovaftest:function(){var l=o.call(arguments),f,m,v,y;if(a(l[0]))return 1-t.centralF.cdf(l[0],l[1],l[2]);var w=t.anovafscore(l);for(f=l.length-1,v=0,y=0;y<l.length;y++)v=v+l[y].length;return m=v-f-1,1-t.centralF.cdf(w,f,m)},ftest:function(l,f,m){return 1-t.centralF.cdf(l,f,m)}}),t.extend(t.fn,{anovafscore:function(){return t.anovafscore(this.toArray())},anovaftes:function(){var l=0,f;for(f=0;f<this.length;f++)l=l+this[f].length;return t.ftest(this.anovafscore(),this.length-1,l-this.length)}}),t.extend({qscore:function(){var l=o.call(arguments),f,m,v,y,w;return a(l[0])?(f=l[0],m=l[1],v=l[2],y=l[3],w=l[4]):(f=t.mean(l[0]),m=t.mean(l[1]),v=l[0].length,y=l[1].length,w=l[2]),e.abs(f-m)/(w*e.sqrt((1/v+1/y)/2))},qtest:function(){var l=o.call(arguments),f;l.length===3?(f=l[0],l=l.slice(1)):l.length===7?(f=t.qscore(l[0],l[1],l[2],l[3],l[4]),l=l.slice(5)):(f=t.qscore(l[0],l[1],l[2]),l=l.slice(3));var m=l[0],v=l[1];return 1-t.tukey.cdf(f,v,m-v)},tukeyhsd:function(l){for(var f=t.pooledstdev(l),m=l.map(function(M){return t.mean(M)}),v=l.reduce(function(M,O){return M+O.length},0),y=[],w=0;w<l.length;++w)for(var P=w+1;P<l.length;++P){var C=t.qtest(m[w],m[P],l[w].length,l[P].length,f,v,l.length);y.push([[w,P],C])}return y}}),t.extend({normalci:function(){var l=o.call(arguments),f=new Array(2),m;return l.length===4?m=e.abs(t.normal.inv(l[1]/2,0,1)*l[2]/e.sqrt(l[3])):m=e.abs(t.normal.inv(l[1]/2,0,1)*t.stdev(l[2])/e.sqrt(l[2].length)),f[0]=l[0]-m,f[1]=l[0]+m,f},tci:function(){var l=o.call(arguments),f=new Array(2),m;return l.length===4?m=e.abs(t.studentt.inv(l[1]/2,l[3]-1)*l[2]/e.sqrt(l[3])):m=e.abs(t.studentt.inv(l[1]/2,l[2].length-1)*t.stdev(l[2],!0)/e.sqrt(l[2].length)),f[0]=l[0]-m,f[1]=l[0]+m,f},significant:function(l,f){return l<f}}),t.extend(t.fn,{normalci:function(l,f){return t.normalci(l,f,this.toArray())},tci:function(l,f){return t.tci(l,f,this.toArray())}});function p(u,l,f,m){if(u>1||f>1||u<=0||f<=0)throw new Error("Proportions should be greater than 0 and less than 1");var v=(u*l+f*m)/(l+m),y=e.sqrt(v*(1-v)*(1/l+1/m));return(u-f)/y}t.extend(t.fn,{oneSidedDifferenceOfProportions:function(l,f,m,v){var y=p(l,f,m,v);return t.ztest(y,1)},twoSidedDifferenceOfProportions:function(l,f,m,v){var y=p(l,f,m,v);return t.ztest(y,2)}})}(i,Math),i.models=function(){function t(p){var u=p[0].length,l=i.arange(u).map(function(f){var m=i.arange(u).filter(function(v){return v!==f});return e(i.col(p,f).map(function(v){return v[0]}),i.col(p,m))});return l}function e(p,u){var l=p.length,f=u[0].length-1,m=l-f-1,v=i.lstsq(u,p),y=i.multiply(u,v.map(function(L){return[L]})).map(function(L){return L[0]}),w=i.subtract(p,y),P=i.mean(p),C=i.sum(y.map(function(L){return Math.pow(L-P,2)})),M=i.sum(p.map(function(L,E){return Math.pow(L-y[E],2)})),O=C+M,A=C/O;return{exog:u,endog:p,nobs:l,df_model:f,df_resid:m,coef:v,predict:y,resid:w,ybar:P,SST:O,SSE:C,SSR:M,R2:A}}function o(p){var u=t(p.exog),l=Math.sqrt(p.SSR/p.df_resid),f=u.map(function(P){var C=P.SST,M=P.R2;return l/Math.sqrt(C*(1-M))}),m=p.coef.map(function(P,C){return(P-0)/f[C]}),v=m.map(function(P){var C=i.studentt.cdf(P,p.df_resid);return(C>.5?1-C:C)*2}),y=i.studentt.inv(.975,p.df_resid),w=p.coef.map(function(P,C){var M=y*f[C];return[P-M,P+M]});return{se:f,t:m,p:v,sigmaHat:l,interval95:w}}function a(p){var u=p.R2/p.df_model/((1-p.R2)/p.df_resid),l=function(m,v,y){return i.beta.cdf(m/(y/v+m),v/2,y/2)},f=1-l(u,p.df_model,p.df_resid);return{F_statistic:u,pvalue:f}}function h(p,u){var l=e(p,u),f=o(l),m=a(l),v=1-(1-l.R2)*((l.nobs-1)/l.df_resid);return l.t=f,l.f=m,l.adjust_R2=v,l}return{ols:h}}(),i.extend({buildxmatrix:function(){for(var e=new Array(arguments.length),o=0;o<arguments.length;o++){var a=[1];e[o]=a.concat(arguments[o])}return i(e)},builddxmatrix:function(){for(var e=new Array(arguments[0].length),o=0;o<arguments[0].length;o++){var a=[1];e[o]=a.concat(arguments[0][o])}return i(e)},buildjxmatrix:function(e){for(var o=new Array(e.length),a=0;a<e.length;a++)o[a]=e[a];return i.builddxmatrix(o)},buildymatrix:function(e){return i(e).transpose()},buildjymatrix:function(e){return e.transpose()},matrixmult:function(e,o){var a,h,p,u,l;if(e.cols()==o.rows()){if(o.rows()>1){for(u=[],a=0;a<e.rows();a++)for(u[a]=[],h=0;h<o.cols();h++){for(l=0,p=0;p<e.cols();p++)l+=e.toArray()[a][p]*o.toArray()[p][h];u[a][h]=l}return i(u)}for(u=[],a=0;a<e.rows();a++)for(u[a]=[],h=0;h<o.cols();h++){for(l=0,p=0;p<e.cols();p++)l+=e.toArray()[a][p]*o.toArray()[h];u[a][h]=l}return i(u)}},regress:function(e,o){var a=i.xtranspxinv(e),h=e.transpose(),p=i.matrixmult(i(a),h);return i.matrixmult(p,o)},regresst:function(e,o,a){var h=i.regress(e,o),p={};p.anova={};var u=i.jMatYBar(e,h);p.yBar=u;var l=o.mean();p.anova.residuals=i.residuals(o,u),p.anova.ssr=i.ssr(u,l),p.anova.msr=p.anova.ssr/(e[0].length-1),p.anova.sse=i.sse(o,u),p.anova.mse=p.anova.sse/(o.length-(e[0].length-1)-1),p.anova.sst=i.sst(o,l),p.anova.mst=p.anova.sst/(o.length-1),p.anova.r2=1-p.anova.sse/p.anova.sst,p.anova.r2<0&&(p.anova.r2=0),p.anova.fratio=p.anova.msr/p.anova.mse,p.anova.pvalue=i.anovaftest(p.anova.fratio,e[0].length-1,o.length-(e[0].length-1)-1),p.anova.rmse=Math.sqrt(p.anova.mse),p.anova.r2adj=1-p.anova.mse/p.anova.mst,p.anova.r2adj<0&&(p.anova.r2adj=0),p.stats=new Array(e[0].length);for(var f=i.xtranspxinv(e),m,v,y,w=0;w<h.length;w++)m=Math.sqrt(p.anova.mse*Math.abs(f[w][w])),v=Math.abs(h[w]/m),y=i.ttest(v,o.length-e[0].length-1,a),p.stats[w]=[h[w],m,v,y];return p.regress=h,p},xtranspx:function(e){return i.matrixmult(e.transpose(),e)},xtranspxinv:function(e){var o=i.matrixmult(e.transpose(),e),a=i.inv(o);return a},jMatYBar:function(e,o){var a=i.matrixmult(e,o);return new i(a)},residuals:function(e,o){return i.matrixsubtract(e,o)},ssr:function(e,o){for(var a=0,h=0;h<e.length;h++)a+=Math.pow(e[h]-o,2);return a},sse:function(e,o){for(var a=0,h=0;h<e.length;h++)a+=Math.pow(e[h]-o[h],2);return a},sst:function(e,o){for(var a=0,h=0;h<e.length;h++)a+=Math.pow(e[h]-o,2);return a},matrixsubtract:function(e,o){for(var a=new Array(e.length),h=0;h<e.length;h++){a[h]=new Array(e[h].length);for(var p=0;p<e[h].length;p++)a[h][p]=e[h][p]-o[h][p]}return i(a)}}),i.jStat=i,i})});var hf=Br((Iw,El)=>{(function(i,t){typeof El<"u"?El.exports=t():typeof define=="function"&&typeof define.amd=="object"?define(t):this[i]=t()})("Clusterize",function(){"use strict";var i=function(){for(var u=3,l=document.createElement("b"),f=l.all||[];l.innerHTML="<!--[if gt IE "+ ++u+"]><i><![endif]-->",f[0];);return u>4?u:document.documentMode}(),t=navigator.platform.toLowerCase().indexOf("mac")+1,e=function(u){if(!(this instanceof e))return new e(u);var l=this,f={rows_in_block:50,blocks_in_cluster:4,tag:null,show_no_data_row:!0,no_data_class:"clusterize-no-data",no_data_text:"No data",keep_parity:!0,callbacks:{}};l.options={};for(var m=["rows_in_block","blocks_in_cluster","show_no_data_row","no_data_class","no_data_text","keep_parity","tag","callbacks"],v=0,y;y=m[v];v++)l.options[y]=typeof u[y]<"u"&&u[y]!=null?u[y]:f[y];for(var w=["scroll","content"],v=0,P;P=w[v];v++)if(l[P+"_elem"]=u[P+"Id"]?document.getElementById(u[P+"Id"]):u[P+"Elem"],!l[P+"_elem"])throw new Error("Error! Could not find "+P+" element");l.content_elem.hasAttribute("tabindex")||l.content_elem.setAttribute("tabindex",0);var C=h(u.rows)?u.rows:l.fetchMarkup(),M={},O=l.scroll_elem.scrollTop;l.insertToDOM(C,M),l.scroll_elem.scrollTop=O;var A=!1,L=0,E=!1,F=function(){t&&(E||(l.content_elem.style.pointerEvents="none"),E=!0,clearTimeout(L),L=setTimeout(function(){l.content_elem.style.pointerEvents="auto",E=!1},50)),A!=(A=l.getClusterNum(C))&&l.insertToDOM(C,M),l.options.callbacks.scrollingProgress&&l.options.callbacks.scrollingProgress(l.getScrollProgress())},N=0,H=function(){clearTimeout(N),N=setTimeout(l.refresh,100)};o("scroll",l.scroll_elem,F),o("resize",window,H),l.destroy=function(G){a("scroll",l.scroll_elem,F),a("resize",window,H),l.html((G?l.generateEmptyRow():C).join(""))},l.refresh=function(G){(l.getRowsHeight(C)||G)&&l.update(C)},l.update=function(G){C=h(G)?G:[];var et=l.scroll_elem.scrollTop;C.length*l.options.item_height<et&&(l.scroll_elem.scrollTop=0,A=0),l.insertToDOM(C,M),l.scroll_elem.scrollTop=et},l.clear=function(){l.update([])},l.getRowsAmount=function(){return C.length},l.getScrollProgress=function(){return this.options.scroll_top/(C.length*this.options.item_height)*100||0};var W=function(G,et){var nt=h(et)?et:[];nt.length&&(C=G=="append"?C.concat(nt):nt.concat(C),l.insertToDOM(C,M))};l.append=function(G){W("append",G)},l.prepend=function(G){W("prepend",G)}};e.prototype={constructor:e,fetchMarkup:function(){for(var u=[],l=this.getChildNodes(this.content_elem);l.length;)u.push(l.shift().outerHTML);return u},exploreEnvironment:function(u,l){var f=this.options;f.content_tag=this.content_elem.tagName.toLowerCase(),u.length&&(i&&i<=9&&!f.tag&&(f.tag=u[0].match(/<([^>\s/]*)/)[1].toLowerCase()),this.content_elem.children.length<=1&&(l.data=this.html(u[0]+u[0]+u[0])),f.tag||(f.tag=this.content_elem.children[0].tagName.toLowerCase()),this.getRowsHeight(u))},getRowsHeight:function(u){var l=this.options,f=l.item_height;if(l.cluster_height=0,!!u.length){var m=this.content_elem.children;if(m.length){var v=m[Math.floor(m.length/2)];if(l.item_height=v.offsetHeight,l.tag=="tr"&&p("borderCollapse",this.content_elem)!="collapse"&&(l.item_height+=parseInt(p("borderSpacing",this.content_elem),10)||0),l.tag!="tr"){var y=parseInt(p("marginTop",v),10)||0,w=parseInt(p("marginBottom",v),10)||0;l.item_height+=Math.max(y,w)}return l.block_height=l.item_height*l.rows_in_block,l.rows_in_cluster=l.blocks_in_cluster*l.rows_in_block,l.cluster_height=l.blocks_in_cluster*l.block_height,f!=l.item_height}}},getClusterNum:function(u){var l=this.options;l.scroll_top=this.scroll_elem.scrollTop;var f=l.cluster_height-l.block_height,m=Math.floor(l.scroll_top/f),v=Math.floor(u.length*l.item_height/f);return Math.min(m,v)},generateEmptyRow:function(){var u=this.options;if(!u.tag||!u.show_no_data_row)return[];var l=document.createElement(u.tag),f=document.createTextNode(u.no_data_text),m;return l.className=u.no_data_class,u.tag=="tr"&&(m=document.createElement("td"),m.colSpan=100,m.appendChild(f)),l.appendChild(m||f),[l.outerHTML]},generate:function(u){var l=this.options,f=u.length;if(f<l.rows_in_block)return{top_offset:0,bottom_offset:0,rows_above:0,rows:f?u:this.generateEmptyRow()};var m=Math.max((l.rows_in_cluster-l.rows_in_block)*this.getClusterNum(u),0),v=m+l.rows_in_cluster,y=Math.max(m*l.item_height,0),w=Math.max((f-v)*l.item_height,0),P=[],C=m;y<1&&C++;for(var M=m;M<v;M++)u[M]&&P.push(u[M]);return{top_offset:y,bottom_offset:w,rows_above:C,rows:P}},renderExtraTag:function(u,l){var f=document.createElement(this.options.tag),m="clusterize-";return f.className=[m+"extra-row",m+u].join(" "),l&&(f.style.height=l+"px"),f.outerHTML},insertToDOM:function(u,l){this.options.cluster_height||this.exploreEnvironment(u,l);var f=this.generate(u),m=f.rows.join(""),v=this.checkChanges("data",m,l),y=this.checkChanges("top",f.top_offset,l),w=this.checkChanges("bottom",f.bottom_offset,l),P=this.options.callbacks,C=[];v||y?(f.top_offset&&(this.options.keep_parity&&C.push(this.renderExtraTag("keep-parity")),C.push(this.renderExtraTag("top-space",f.top_offset))),C.push(m),f.bottom_offset&&C.push(this.renderExtraTag("bottom-space",f.bottom_offset)),P.clusterWillChange&&P.clusterWillChange(),this.html(C.join("")),this.options.content_tag=="ol"&&this.content_elem.setAttribute("start",f.rows_above),this.content_elem.style["counter-increment"]="clusterize-counter "+(f.rows_above-1),P.clusterChanged&&P.clusterChanged()):w&&(this.content_elem.lastChild.style.height=f.bottom_offset+"px")},html:function(u){var l=this.content_elem;if(i&&i<=9&&this.options.tag=="tr"){var f=document.createElement("div"),m;for(f.innerHTML="<table><tbody>"+u+"</tbody></table>";m=l.lastChild;)l.removeChild(m);for(var v=this.getChildNodes(f.firstChild.firstChild);v.length;)l.appendChild(v.shift())}else l.innerHTML=u},getChildNodes:function(u){for(var l=u.children,f=[],m=0,v=l.length;m<v;m++)f.push(l[m]);return f},checkChanges:function(u,l,f){var m=l!=f[u];return f[u]=l,m}};function o(u,l,f){return l.addEventListener?l.addEventListener(u,f,!1):l.attachEvent("on"+u,f)}function a(u,l,f){return l.removeEventListener?l.removeEventListener(u,f,!1):l.detachEvent("on"+u,f)}function h(u){return Object.prototype.toString.call(u)==="[object Array]"}function p(u,l){return window.getComputedStyle?window.getComputedStyle(l)[u]:l.currentStyle[u]}return e})});var wp=Br((Rc,Ic)=>{(function(i,t){typeof Rc=="object"&&typeof Ic<"u"?Ic.exports=t():typeof define=="function"&&define.amd?define(t):(i=typeof globalThis<"u"?globalThis:i||self,i.Chart=t())})(Rc,function(){"use strict";function i(){}let t=function(){let r=0;return function(){return r++}}();function e(r){return r===null||typeof r>"u"}function o(r){if(Array.isArray&&Array.isArray(r))return!0;let n=Object.prototype.toString.call(r);return n.slice(0,7)==="[object"&&n.slice(-6)==="Array]"}function a(r){return r!==null&&Object.prototype.toString.call(r)==="[object Object]"}let h=r=>(typeof r=="number"||r instanceof Number)&&isFinite(+r);function p(r,n){return h(r)?r:n}function u(r,n){return typeof r>"u"?n:r}let l=(r,n)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100:r/n,f=(r,n)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100*n:+r;function m(r,n,s){if(r&&typeof r.call=="function")return r.apply(s,n)}function v(r,n,s,c){let d,g,b;if(o(r))if(g=r.length,c)for(d=g-1;d>=0;d--)n.call(s,r[d],d);else for(d=0;d<g;d++)n.call(s,r[d],d);else if(a(r))for(b=Object.keys(r),g=b.length,d=0;d<g;d++)n.call(s,r[b[d]],b[d])}function y(r,n){let s,c,d,g;if(!r||!n||r.length!==n.length)return!1;for(s=0,c=r.length;s<c;++s)if(d=r[s],g=n[s],d.datasetIndex!==g.datasetIndex||d.index!==g.index)return!1;return!0}function w(r){if(o(r))return r.map(w);if(a(r)){let n=Object.create(null),s=Object.keys(r),c=s.length,d=0;for(;d<c;++d)n[s[d]]=w(r[s[d]]);return n}return r}function P(r){return["__proto__","prototype","constructor"].indexOf(r)===-1}function C(r,n,s,c){if(!P(r))return;let d=n[r],g=s[r];a(d)&&a(g)?M(d,g,c):n[r]=w(g)}function M(r,n,s){let c=o(n)?n:[n],d=c.length;if(!a(r))return r;s=s||{};let g=s.merger||C;for(let b=0;b<d;++b){if(n=c[b],!a(n))continue;let x=Object.keys(n);for(let _=0,k=x.length;_<k;++_)g(x[_],r,n,s)}return r}function O(r,n){return M(r,n,{merger:A})}function A(r,n,s){if(!P(r))return;let c=n[r],d=s[r];a(c)&&a(d)?O(c,d):Object.prototype.hasOwnProperty.call(n,r)||(n[r]=w(d))}function L(r,n,s,c){n!==void 0&&console.warn(r+': "'+s+'" is deprecated. Please use "'+c+'" instead')}let E={"":r=>r,x:r=>r.x,y:r=>r.y};function F(r,n){return(E[n]||(E[n]=N(n)))(r)}function N(r){let n=H(r);return s=>{for(let c of n){if(c==="")break;s=s&&s[c]}return s}}function H(r){let n=r.split("."),s=[],c="";for(let d of n)c+=d,c.endsWith("\\")?c=c.slice(0,-1)+".":(s.push(c),c="");return s}function W(r){return r.charAt(0).toUpperCase()+r.slice(1)}let G=r=>typeof r<"u",et=r=>typeof r=="function",nt=(r,n)=>{if(r.size!==n.size)return!1;for(let s of r)if(!n.has(s))return!1;return!0};function it(r){return r.type==="mouseup"||r.type==="click"||r.type==="contextmenu"}let J=Math.PI,at=2*J,ct=at+J,mt=Number.POSITIVE_INFINITY,vt=J/180,gt=J/2,kt=J/4,Lt=J*2/3,Ct=Math.log10,At=Math.sign;function Kt(r){let n=Math.round(r);r=Wt(r,n,r/1e3)?n:r;let s=Math.pow(10,Math.floor(Ct(r))),c=r/s;return(c<=1?1:c<=2?2:c<=5?5:10)*s}function Qt(r){let n=[],s=Math.sqrt(r),c;for(c=1;c<s;c++)r%c===0&&(n.push(c),n.push(r/c));return s===(s|0)&&n.push(s),n.sort((d,g)=>d-g).pop(),n}function Dt(r){return!isNaN(parseFloat(r))&&isFinite(r)}function Wt(r,n,s){return Math.abs(r-n)<s}function Nt(r,n){let s=Math.round(r);return s-n<=r&&s+n>=r}function Ae(r,n,s){let c,d,g;for(c=0,d=r.length;c<d;c++)g=r[c][s],isNaN(g)||(n.min=Math.min(n.min,g),n.max=Math.max(n.max,g))}function ne(r){return r*(J/180)}function Fe(r){return r*(180/J)}function Qe(r){if(!h(r))return;let n=1,s=0;for(;Math.round(r*n)/n!==r;)n*=10,s++;return s}function dn(r,n){let s=n.x-r.x,c=n.y-r.y,d=Math.sqrt(s*s+c*c),g=Math.atan2(c,s);return g<-.5*J&&(g+=at),{angle:g,distance:d}}function tn(r,n){return Math.sqrt(Math.pow(n.x-r.x,2)+Math.pow(n.y-r.y,2))}function Fn(r,n){return(r-n+ct)%at-J}function he(r){return(r%at+at)%at}function Ye(r,n,s,c){let d=he(r),g=he(n),b=he(s),x=he(g-d),_=he(b-d),k=he(d-g),T=he(d-b);return d===g||d===b||c&&g===b||x>_&&k<T}function Ut(r,n,s){return Math.max(n,Math.min(s,r))}function Bn(r){return Ut(r,-32768,32767)}function Ee(r,n,s,c=1e-6){return r>=Math.min(n,s)-c&&r<=Math.max(n,s)+c}function Be(r,n,s){s=s||(b=>r[b]<n);let c=r.length-1,d=0,g;for(;c-d>1;)g=d+c>>1,s(g)?d=g:c=g;return{lo:d,hi:c}}let fe=(r,n,s,c)=>Be(r,s,c?d=>r[d][n]<=s:d=>r[d][n]<s),kn=(r,n,s)=>Be(r,s,c=>r[c][n]>=s);function en(r,n,s){let c=0,d=r.length;for(;c<d&&r[c]<n;)c++;for(;d>c&&r[d-1]>s;)d--;return c>0||d<r.length?r.slice(c,d):r}let Pn=["push","pop","shift","splice","unshift"];function zn(r,n){if(r._chartjs){r._chartjs.listeners.push(n);return}Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[n]}}),Pn.forEach(s=>{let c="_onData"+W(s),d=r[s];Object.defineProperty(r,s,{configurable:!0,enumerable:!1,value(...g){let b=d.apply(this,g);return r._chartjs.listeners.forEach(x=>{typeof x[c]=="function"&&x[c](...g)}),b}})})}function Cn(r,n){let s=r._chartjs;if(!s)return;let c=s.listeners,d=c.indexOf(n);d!==-1&&c.splice(d,1),!(c.length>0)&&(Pn.forEach(g=>{delete r[g]}),delete r._chartjs)}function Mn(r){let n=new Set,s,c;for(s=0,c=r.length;s<c;++s)n.add(r[s]);return n.size===c?r:Array.from(n)}function ei(r,n,s){return n+" "+r+"px "+s}let Ii=function(){return typeof window>"u"?function(r){return r()}:window.requestAnimationFrame}();function Fi(r,n,s){let c=s||(b=>Array.prototype.slice.call(b)),d=!1,g=[];return function(...b){g=c(b),d||(d=!0,Ii.call(window,()=>{d=!1,r.apply(n,g)}))}}function Bi(r,n){let s;return function(...c){return n?(clearTimeout(s),s=setTimeout(r,n,c)):r.apply(this,c),n}}let ni=r=>r==="start"?"left":r==="end"?"right":"center",de=(r,n,s)=>r==="start"?n:r==="end"?s:(n+s)/2,K=(r,n,s,c)=>r===(c?"left":"right")?s:r==="center"?(n+s)/2:n;function lt(r,n,s){let c=n.length,d=0,g=c;if(r._sorted){let{iScale:b,_parsed:x}=r,_=b.axis,{min:k,max:T,minDefined:D,maxDefined:R}=b.getUserBounds();D&&(d=Ut(Math.min(fe(x,b.axis,k).lo,s?c:fe(n,_,b.getPixelForValue(k)).lo),0,c-1)),R?g=Ut(Math.max(fe(x,b.axis,T,!0).hi+1,s?0:fe(n,_,b.getPixelForValue(T),!0).hi+1),d,c)-d:g=c-d}return{start:d,count:g}}function yt(r){let{xScale:n,yScale:s,_scaleRanges:c}=r,d={xmin:n.min,xmax:n.max,ymin:s.min,ymax:s.max};if(!c)return r._scaleRanges=d,!0;let g=c.xmin!==n.min||c.xmax!==n.max||c.ymin!==s.min||c.ymax!==s.max;return Object.assign(c,d),g}class Ft{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(n,s,c,d){let g=s.listeners[d],b=s.duration;g.forEach(x=>x({chart:n,initial:s.initial,numSteps:b,currentStep:Math.min(c-s.start,b)}))}_refresh(){this._request||(this._running=!0,this._request=Ii.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(n=Date.now()){let s=0;this._charts.forEach((c,d)=>{if(!c.running||!c.items.length)return;let g=c.items,b=g.length-1,x=!1,_;for(;b>=0;--b)_=g[b],_._active?(_._total>c.duration&&(c.duration=_._total),_.tick(n),x=!0):(g[b]=g[g.length-1],g.pop());x&&(d.draw(),this._notify(d,c,n,"progress")),g.length||(c.running=!1,this._notify(d,c,n,"complete"),c.initial=!1),s+=g.length}),this._lastDate=n,s===0&&(this._running=!1)}_getAnims(n){let s=this._charts,c=s.get(n);return c||(c={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(n,c)),c}listen(n,s,c){this._getAnims(n).listeners[s].push(c)}add(n,s){!s||!s.length||this._getAnims(n).items.push(...s)}has(n){return this._getAnims(n).items.length>0}start(n){let s=this._charts.get(n);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((c,d)=>Math.max(c,d._duration),0),this._refresh())}running(n){if(!this._running)return!1;let s=this._charts.get(n);return!(!s||!s.running||!s.items.length)}stop(n){let s=this._charts.get(n);if(!s||!s.items.length)return;let c=s.items,d=c.length-1;for(;d>=0;--d)c[d].cancel();s.items=[],this._notify(n,s,Date.now(),"complete")}remove(n){return this._charts.delete(n)}}var Pt=new Ft;function Xt(r){return r+.5|0}let te=(r,n,s)=>Math.max(Math.min(r,s),n);function we(r){return te(Xt(r*2.55),0,255)}function ze(r){return te(Xt(r*255),0,255)}function pe(r){return te(Xt(r/2.55)/100,0,1)}function ii(r){return te(Xt(r*100),0,100)}let ke={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},nn=[..."0123456789ABCDEF"],to=r=>nn[r&15],zi=r=>nn[(r&240)>>4]+nn[r&15],ie=r=>(r&240)>>4===(r&15),pn=r=>ie(r.r)&&ie(r.g)&&ie(r.b)&&ie(r.a);function sn(r){var n=r.length,s;return r[0]==="#"&&(n===4||n===5?s={r:255&ke[r[1]]*17,g:255&ke[r[2]]*17,b:255&ke[r[3]]*17,a:n===5?ke[r[4]]*17:255}:(n===7||n===9)&&(s={r:ke[r[1]]<<4|ke[r[2]],g:ke[r[3]]<<4|ke[r[4]],b:ke[r[5]]<<4|ke[r[6]],a:n===9?ke[r[7]]<<4|ke[r[8]]:255})),s}let On=(r,n)=>r<255?n(r):"";function fs(r){var n=pn(r)?to:zi;return r?"#"+n(r.r)+n(r.g)+n(r.b)+On(r.a,n):void 0}let or=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function eo(r,n,s){let c=n*Math.min(s,1-s),d=(g,b=(g+r/30)%12)=>s-c*Math.max(Math.min(b-3,9-b,1),-1);return[d(0),d(8),d(4)]}function rr(r,n,s){let c=(d,g=(d+r/60)%6)=>s-s*n*Math.max(Math.min(g,4-g,1),0);return[c(5),c(3),c(1)]}function si(r,n,s){let c=eo(r,1,.5),d;for(n+s>1&&(d=1/(n+s),n*=d,s*=d),d=0;d<3;d++)c[d]*=1-n-s,c[d]+=n;return c}function Nn(r,n,s,c,d){return r===d?(n-s)/c+(n<s?6:0):n===d?(s-r)/c+2:(r-n)/c+4}function ds(r){let s=r.r/255,c=r.g/255,d=r.b/255,g=Math.max(s,c,d),b=Math.min(s,c,d),x=(g+b)/2,_,k,T;return g!==b&&(T=g-b,k=x>.5?T/(2-g-b):T/(g+b),_=Nn(s,c,d,T,g),_=_*60+.5),[_|0,k||0,x]}function Ni(r,n,s,c){return(Array.isArray(n)?r(n[0],n[1],n[2]):r(n,s,c)).map(ze)}function oi(r,n,s){return Ni(eo,r,n,s)}function no(r,n,s){return Ni(si,r,n,s)}function Sa(r,n,s){return Ni(rr,r,n,s)}function io(r){return(r%360+360)%360}function S(r){let n=or.exec(r),s=255,c;if(!n)return;n[5]!==c&&(s=n[6]?we(+n[5]):ze(+n[5]));let d=io(+n[2]),g=+n[3]/100,b=+n[4]/100;return n[1]==="hwb"?c=no(d,g,b):n[1]==="hsv"?c=Sa(d,g,b):c=oi(d,g,b),{r:c[0],g:c[1],b:c[2],a:s}}function z(r,n){var s=ds(r);s[0]=io(s[0]+n),s=oi(s),r.r=s[0],r.g=s[1],r.b=s[2]}function Y(r){if(!r)return;let n=ds(r),s=n[0],c=ii(n[1]),d=ii(n[2]);return r.a<255?`hsla(${s}, ${c}%, ${d}%, ${pe(r.a)})`:`hsl(${s}, ${c}%, ${d}%)`}let q={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},X={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Z(){let r={},n=Object.keys(X),s=Object.keys(q),c,d,g,b,x;for(c=0;c<n.length;c++){for(b=x=n[c],d=0;d<s.length;d++)g=s[d],x=x.replace(g,q[g]);g=parseInt(X[b],16),r[x]=[g>>16&255,g>>8&255,g&255]}return r}let j;function rt(r){j||(j=Z(),j.transparent=[0,0,0,0]);let n=j[r.toLowerCase()];return n&&{r:n[0],g:n[1],b:n[2],a:n.length===4?n[3]:255}}let pt=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function dt(r){let n=pt.exec(r),s=255,c,d,g;if(n){if(n[7]!==c){let b=+n[7];s=n[8]?we(b):te(b*255,0,255)}return c=+n[1],d=+n[3],g=+n[5],c=255&(n[2]?we(c):te(c,0,255)),d=255&(n[4]?we(d):te(d,0,255)),g=255&(n[6]?we(g):te(g,0,255)),{r:c,g:d,b:g,a:s}}}function xt(r){return r&&(r.a<255?`rgba(${r.r}, ${r.g}, ${r.b}, ${pe(r.a)})`:`rgb(${r.r}, ${r.g}, ${r.b})`)}let zt=r=>r<=.0031308?r*12.92:Math.pow(r,1/2.4)*1.055-.055,Tt=r=>r<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4);function Ve(r,n,s){let c=Tt(pe(r.r)),d=Tt(pe(r.g)),g=Tt(pe(r.b));return{r:ze(zt(c+s*(Tt(pe(n.r))-c))),g:ze(zt(d+s*(Tt(pe(n.g))-d))),b:ze(zt(g+s*(Tt(pe(n.b))-g))),a:r.a+s*(n.a-r.a)}}function ae(r,n,s){if(r){let c=ds(r);c[n]=Math.max(0,Math.min(c[n]+c[n]*s,n===0?360:1)),c=oi(c),r.r=c[0],r.g=c[1],r.b=c[2]}}function Vi(r,n){return r&&Object.assign(n||{},r)}function Hi(r){var n={r:0,g:0,b:0,a:255};return Array.isArray(r)?r.length>=3&&(n={r:r[0],g:r[1],b:r[2],a:255},r.length>3&&(n.a=ze(r[3]))):(n=Vi(r,{r:0,g:0,b:0,a:1}),n.a=ze(n.a)),n}function so(r){return r.charAt(0)==="r"?dt(r):S(r)}class Vn{constructor(n){if(n instanceof Vn)return n;let s=typeof n,c;s==="object"?c=Hi(n):s==="string"&&(c=sn(n)||rt(n)||so(n)),this._rgb=c,this._valid=!!c}get valid(){return this._valid}get rgb(){var n=Vi(this._rgb);return n&&(n.a=pe(n.a)),n}set rgb(n){this._rgb=Hi(n)}rgbString(){return this._valid?xt(this._rgb):void 0}hexString(){return this._valid?fs(this._rgb):void 0}hslString(){return this._valid?Y(this._rgb):void 0}mix(n,s){if(n){let c=this.rgb,d=n.rgb,g,b=s===g?.5:s,x=2*b-1,_=c.a-d.a,k=((x*_===-1?x:(x+_)/(1+x*_))+1)/2;g=1-k,c.r=255&k*c.r+g*d.r+.5,c.g=255&k*c.g+g*d.g+.5,c.b=255&k*c.b+g*d.b+.5,c.a=b*c.a+(1-b)*d.a,this.rgb=c}return this}interpolate(n,s){return n&&(this._rgb=Ve(this._rgb,n._rgb,s)),this}clone(){return new Vn(this.rgb)}alpha(n){return this._rgb.a=ze(n),this}clearer(n){let s=this._rgb;return s.a*=1-n,this}greyscale(){let n=this._rgb,s=Xt(n.r*.3+n.g*.59+n.b*.11);return n.r=n.g=n.b=s,this}opaquer(n){let s=this._rgb;return s.a*=1+n,this}negate(){let n=this._rgb;return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,this}lighten(n){return ae(this._rgb,2,n),this}darken(n){return ae(this._rgb,2,-n),this}saturate(n){return ae(this._rgb,1,n),this}desaturate(n){return ae(this._rgb,1,-n),this}rotate(n){return z(this._rgb,n),this}}function ri(r){return new Vn(r)}function ft(r){if(r&&typeof r=="object"){let n=r.toString();return n==="[object CanvasPattern]"||n==="[object CanvasGradient]"}return!1}function St(r){return ft(r)?r:ri(r)}function qt(r){return ft(r)?r:ri(r).saturate(.5).darken(.1).hexString()}let Yt=Object.create(null),Zt=Object.create(null);function gn(r,n){if(!n)return r;let s=n.split(".");for(let c=0,d=s.length;c<d;++c){let g=s[c];r=r[g]||(r[g]=Object.create(null))}return r}function ai(r,n,s){return typeof n=="string"?M(gn(r,n),s):M(gn(r,""),n)}class ar{constructor(n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,c)=>qt(c.backgroundColor),this.hoverBorderColor=(s,c)=>qt(c.borderColor),this.hoverColor=(s,c)=>qt(c.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(n)}set(n,s){return ai(this,n,s)}get(n){return gn(this,n)}describe(n,s){return ai(Zt,n,s)}override(n,s){return ai(Yt,n,s)}route(n,s,c,d){let g=gn(this,n),b=gn(this,c),x="_"+s;Object.defineProperties(g,{[x]:{value:g[s],writable:!0},[s]:{enumerable:!0,get(){let _=this[x],k=b[d];return a(_)?Object.assign({},k,_):u(_,k)},set(_){this[x]=_}}})}}var Et=new ar({_scriptable:r=>!r.startsWith("on"),_indexable:r=>r!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function Wi(){return typeof window<"u"&&typeof document<"u"}function He(r){let n=r.parentNode;return n&&n.toString()==="[object ShadowRoot]"&&(n=n.host),n}function ps(r,n,s){let c;return typeof r=="string"?(c=parseInt(r,10),r.indexOf("%")!==-1&&(c=c/100*n.parentNode[s])):c=r,c}let li=r=>window.getComputedStyle(r,null);function oo(r,n){return li(r).getPropertyValue(n)}let Ra=["top","right","bottom","left"];function mn(r,n,s){let c={};s=s?"-"+s:"";for(let d=0;d<4;d++){let g=Ra[d];c[g]=parseFloat(r[n+"-"+g+s])||0}return c.width=c.left+c.right,c.height=c.top+c.bottom,c}let lr=(r,n,s)=>(r>0||n>0)&&(!s||!s.shadowRoot);function dg(r,n){let s=r.touches,c=s&&s.length?s[0]:r,{offsetX:d,offsetY:g}=c,b=!1,x,_;if(lr(d,g,r.target))x=d,_=g;else{let k=n.getBoundingClientRect();x=c.clientX-k.left,_=c.clientY-k.top,b=!0}return{x,y:_,box:b}}function ci(r,n){if("native"in r)return r;let{canvas:s,currentDevicePixelRatio:c}=n,d=li(s),g=d.boxSizing==="border-box",b=mn(d,"padding"),x=mn(d,"border","width"),{x:_,y:k,box:T}=dg(r,s),D=b.left+(T&&x.left),R=b.top+(T&&x.top),{width:I,height:B}=n;return g&&(I-=b.width+x.width,B-=b.height+x.height),{x:Math.round((_-D)/I*s.width/c),y:Math.round((k-R)/B*s.height/c)}}function pg(r,n,s){let c,d;if(n===void 0||s===void 0){let g=He(r);if(!g)n=r.clientWidth,s=r.clientHeight;else{let b=g.getBoundingClientRect(),x=li(g),_=mn(x,"border","width"),k=mn(x,"padding");n=b.width-k.width-_.width,s=b.height-k.height-_.height,c=ps(x.maxWidth,g,"clientWidth"),d=ps(x.maxHeight,g,"clientHeight")}}return{width:n,height:s,maxWidth:c||mt,maxHeight:d||mt}}let Ia=r=>Math.round(r*10)/10;function uu(r,n,s,c){let d=li(r),g=mn(d,"margin"),b=ps(d.maxWidth,r,"clientWidth")||mt,x=ps(d.maxHeight,r,"clientHeight")||mt,_=pg(r,n,s),{width:k,height:T}=_;if(d.boxSizing==="content-box"){let D=mn(d,"border","width"),R=mn(d,"padding");k-=R.width+D.width,T-=R.height+D.height}return k=Math.max(0,k-g.width),T=Math.max(0,c?Math.floor(k/c):T-g.height),k=Ia(Math.min(k,b,_.maxWidth)),T=Ia(Math.min(T,x,_.maxHeight)),k&&!T&&(T=Ia(k/2)),{width:k,height:T}}function Fa(r,n,s){let c=n||1,d=Math.floor(r.height*c),g=Math.floor(r.width*c);r.height=d/c,r.width=g/c;let b=r.canvas;return b.style&&(s||!b.style.height&&!b.style.width)&&(b.style.height=`${r.height}px`,b.style.width=`${r.width}px`),r.currentDevicePixelRatio!==c||b.height!==d||b.width!==g?(r.currentDevicePixelRatio=c,b.height=d,b.width=g,r.ctx.setTransform(c,0,0,c,0,0),!0):!1}let hu=function(){let r=!1;try{let n={get passive(){return r=!0,!1}};window.addEventListener("test",null,n),window.removeEventListener("test",null,n)}catch{}return r}();function Ba(r,n){let s=oo(r,n),c=s&&s.match(/^(\d+)(\.\d+)?px$/);return c?+c[1]:void 0}function fu(r){return!r||e(r.size)||e(r.family)?null:(r.style?r.style+" ":"")+(r.weight?r.weight+" ":"")+r.size+"px "+r.family}function ro(r,n,s,c,d){let g=n[d];return g||(g=n[d]=r.measureText(d).width,s.push(d)),g>c&&(c=g),c}function du(r,n,s,c){c=c||{};let d=c.data=c.data||{},g=c.garbageCollect=c.garbageCollect||[];c.font!==n&&(d=c.data={},g=c.garbageCollect=[],c.font=n),r.save(),r.font=n;let b=0,x=s.length,_,k,T,D,R;for(_=0;_<x;_++)if(D=s[_],D!=null&&o(D)!==!0)b=ro(r,d,g,b,D);else if(o(D))for(k=0,T=D.length;k<T;k++)R=D[k],R!=null&&!o(R)&&(b=ro(r,d,g,b,R));r.restore();let I=g.length/2;if(I>s.length){for(_=0;_<I;_++)delete d[g[_]];g.splice(0,I)}return b}function ui(r,n,s){let c=r.currentDevicePixelRatio,d=s!==0?Math.max(s/2,.5):0;return Math.round((n-d)*c)/c+d}function za(r,n){n=n||r.getContext("2d"),n.save(),n.resetTransform(),n.clearRect(0,0,r.width,r.height),n.restore()}function cr(r,n,s,c){Na(r,n,s,c,null)}function Na(r,n,s,c,d){let g,b,x,_,k,T,D=n.pointStyle,R=n.rotation,I=n.radius,B=(R||0)*vt;if(D&&typeof D=="object"&&(g=D.toString(),g==="[object HTMLImageElement]"||g==="[object HTMLCanvasElement]")){r.save(),r.translate(s,c),r.rotate(B),r.drawImage(D,-D.width/2,-D.height/2,D.width,D.height),r.restore();return}if(!(isNaN(I)||I<=0)){switch(r.beginPath(),D){default:d?r.ellipse(s,c,d/2,I,0,0,at):r.arc(s,c,I,0,at),r.closePath();break;case"triangle":r.moveTo(s+Math.sin(B)*I,c-Math.cos(B)*I),B+=Lt,r.lineTo(s+Math.sin(B)*I,c-Math.cos(B)*I),B+=Lt,r.lineTo(s+Math.sin(B)*I,c-Math.cos(B)*I),r.closePath();break;case"rectRounded":k=I*.516,_=I-k,b=Math.cos(B+kt)*_,x=Math.sin(B+kt)*_,r.arc(s-b,c-x,k,B-J,B-gt),r.arc(s+x,c-b,k,B-gt,B),r.arc(s+b,c+x,k,B,B+gt),r.arc(s-x,c+b,k,B+gt,B+J),r.closePath();break;case"rect":if(!R){_=Math.SQRT1_2*I,T=d?d/2:_,r.rect(s-T,c-_,2*T,2*_);break}B+=kt;case"rectRot":b=Math.cos(B)*I,x=Math.sin(B)*I,r.moveTo(s-b,c-x),r.lineTo(s+x,c-b),r.lineTo(s+b,c+x),r.lineTo(s-x,c+b),r.closePath();break;case"crossRot":B+=kt;case"cross":b=Math.cos(B)*I,x=Math.sin(B)*I,r.moveTo(s-b,c-x),r.lineTo(s+b,c+x),r.moveTo(s+x,c-b),r.lineTo(s-x,c+b);break;case"star":b=Math.cos(B)*I,x=Math.sin(B)*I,r.moveTo(s-b,c-x),r.lineTo(s+b,c+x),r.moveTo(s+x,c-b),r.lineTo(s-x,c+b),B+=kt,b=Math.cos(B)*I,x=Math.sin(B)*I,r.moveTo(s-b,c-x),r.lineTo(s+b,c+x),r.moveTo(s+x,c-b),r.lineTo(s-x,c+b);break;case"line":b=d?d/2:Math.cos(B)*I,x=Math.sin(B)*I,r.moveTo(s-b,c-x),r.lineTo(s+b,c+x);break;case"dash":r.moveTo(s,c),r.lineTo(s+Math.cos(B)*I,c+Math.sin(B)*I);break}r.fill(),n.borderWidth>0&&r.stroke()}}function gs(r,n,s){return s=s||.5,!n||r&&r.x>n.left-s&&r.x<n.right+s&&r.y>n.top-s&&r.y<n.bottom+s}function ao(r,n){r.save(),r.beginPath(),r.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),r.clip()}function lo(r){r.restore()}function pu(r,n,s,c,d){if(!n)return r.lineTo(s.x,s.y);if(d==="middle"){let g=(n.x+s.x)/2;r.lineTo(g,n.y),r.lineTo(g,s.y)}else d==="after"!=!!c?r.lineTo(n.x,s.y):r.lineTo(s.x,n.y);r.lineTo(s.x,s.y)}function gu(r,n,s,c){if(!n)return r.lineTo(s.x,s.y);r.bezierCurveTo(c?n.cp1x:n.cp2x,c?n.cp1y:n.cp2y,c?s.cp2x:s.cp1x,c?s.cp2y:s.cp1y,s.x,s.y)}function hi(r,n,s,c,d,g={}){let b=o(n)?n:[n],x=g.strokeWidth>0&&g.strokeColor!=="",_,k;for(r.save(),r.font=d.string,gg(r,g),_=0;_<b.length;++_)k=b[_],x&&(g.strokeColor&&(r.strokeStyle=g.strokeColor),e(g.strokeWidth)||(r.lineWidth=g.strokeWidth),r.strokeText(k,s,c,g.maxWidth)),r.fillText(k,s,c,g.maxWidth),mg(r,s,c,k,g),c+=d.lineHeight;r.restore()}function gg(r,n){n.translation&&r.translate(n.translation[0],n.translation[1]),e(n.rotation)||r.rotate(n.rotation),n.color&&(r.fillStyle=n.color),n.textAlign&&(r.textAlign=n.textAlign),n.textBaseline&&(r.textBaseline=n.textBaseline)}function mg(r,n,s,c,d){if(d.strikethrough||d.underline){let g=r.measureText(c),b=n-g.actualBoundingBoxLeft,x=n+g.actualBoundingBoxRight,_=s-g.actualBoundingBoxAscent,k=s+g.actualBoundingBoxDescent,T=d.strikethrough?(_+k)/2:k;r.strokeStyle=r.fillStyle,r.beginPath(),r.lineWidth=d.decorationWidth||2,r.moveTo(b,T),r.lineTo(x,T),r.stroke()}}function ms(r,n){let{x:s,y:c,w:d,h:g,radius:b}=n;r.arc(s+b.topLeft,c+b.topLeft,b.topLeft,-gt,J,!0),r.lineTo(s,c+g-b.bottomLeft),r.arc(s+b.bottomLeft,c+g-b.bottomLeft,b.bottomLeft,J,gt,!0),r.lineTo(s+d-b.bottomRight,c+g),r.arc(s+d-b.bottomRight,c+g-b.bottomRight,b.bottomRight,gt,0,!0),r.lineTo(s+d,c+b.topRight),r.arc(s+d-b.topRight,c+b.topRight,b.topRight,0,-gt,!0),r.lineTo(s+b.topLeft,c)}function ur(r,n=[""],s=r,c,d=()=>r[0]){G(c)||(c=xu("_fallback",r));let g={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:r,_rootScopes:s,_fallback:c,_getTarget:d,override:b=>ur([b,...r],n,s,c)};return new Proxy(g,{deleteProperty(b,x){return delete b[x],delete b._keys,delete r[0][x],!0},get(b,x){return mu(b,x,()=>Pg(x,n,r,b))},getOwnPropertyDescriptor(b,x){return Reflect.getOwnPropertyDescriptor(b._scopes[0],x)},getPrototypeOf(){return Reflect.getPrototypeOf(r[0])},has(b,x){return _u(b).includes(x)},ownKeys(b){return _u(b)},set(b,x,_){let k=b._storage||(b._storage=d());return b[x]=k[x]=_,delete b._keys,!0}})}function $i(r,n,s,c){let d={_cacheable:!1,_proxy:r,_context:n,_subProxy:s,_stack:new Set,_descriptors:Va(r,c),setContext:g=>$i(r,g,s,c),override:g=>$i(r.override(g),n,s,c)};return new Proxy(d,{deleteProperty(g,b){return delete g[b],delete r[b],!0},get(g,b,x){return mu(g,b,()=>vg(g,b,x))},getOwnPropertyDescriptor(g,b){return g._descriptors.allKeys?Reflect.has(r,b)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(r,b)},getPrototypeOf(){return Reflect.getPrototypeOf(r)},has(g,b){return Reflect.has(r,b)},ownKeys(){return Reflect.ownKeys(r)},set(g,b,x){return r[b]=x,delete g[b],!0}})}function Va(r,n={scriptable:!0,indexable:!0}){let{_scriptable:s=n.scriptable,_indexable:c=n.indexable,_allKeys:d=n.allKeys}=r;return{allKeys:d,scriptable:s,indexable:c,isScriptable:et(s)?s:()=>s,isIndexable:et(c)?c:()=>c}}let bg=(r,n)=>r?r+W(n):n,Ha=(r,n)=>a(n)&&r!=="adapters"&&(Object.getPrototypeOf(n)===null||n.constructor===Object);function mu(r,n,s){if(Object.prototype.hasOwnProperty.call(r,n))return r[n];let c=s();return r[n]=c,c}function vg(r,n,s){let{_proxy:c,_context:d,_subProxy:g,_descriptors:b}=r,x=c[n];return et(x)&&b.isScriptable(n)&&(x=xg(n,x,r,s)),o(x)&&x.length&&(x=_g(n,x,r,b.isIndexable)),Ha(n,x)&&(x=$i(x,d,g&&g[n],b)),x}function xg(r,n,s,c){let{_proxy:d,_context:g,_subProxy:b,_stack:x}=s;if(x.has(r))throw new Error("Recursion detected: "+Array.from(x).join("->")+"->"+r);return x.add(r),n=n(g,b||c),x.delete(r),Ha(r,n)&&(n=Wa(d._scopes,d,r,n)),n}function _g(r,n,s,c){let{_proxy:d,_context:g,_subProxy:b,_descriptors:x}=s;if(G(g.index)&&c(r))n=n[g.index%n.length];else if(a(n[0])){let _=n,k=d._scopes.filter(T=>T!==_);n=[];for(let T of _){let D=Wa(k,d,r,T);n.push($i(D,g,b&&b[r],x))}}return n}function bu(r,n,s){return et(r)?r(n,s):r}let yg=(r,n)=>r===!0?n:typeof r=="string"?F(n,r):void 0;function wg(r,n,s,c,d){for(let g of n){let b=yg(s,g);if(b){r.add(b);let x=bu(b._fallback,s,d);if(G(x)&&x!==s&&x!==c)return x}else if(b===!1&&G(c)&&s!==c)return null}return!1}function Wa(r,n,s,c){let d=n._rootScopes,g=bu(n._fallback,s,c),b=[...r,...d],x=new Set;x.add(c);let _=vu(x,b,s,g||s,c);return _===null||G(g)&&g!==s&&(_=vu(x,b,g,_,c),_===null)?!1:ur(Array.from(x),[""],d,g,()=>kg(n,s,c))}function vu(r,n,s,c,d){for(;s;)s=wg(r,n,s,c,d);return s}function kg(r,n,s){let c=r._getTarget();n in c||(c[n]={});let d=c[n];return o(d)&&a(s)?s:d}function Pg(r,n,s,c){let d;for(let g of n)if(d=xu(bg(g,r),s),G(d))return Ha(r,d)?Wa(s,c,r,d):d}function xu(r,n){for(let s of n){if(!s)continue;let c=s[r];if(G(c))return c}}function _u(r){let n=r._keys;return n||(n=r._keys=Cg(r._scopes)),n}function Cg(r){let n=new Set;for(let s of r)for(let c of Object.keys(s).filter(d=>!d.startsWith("_")))n.add(c);return Array.from(n)}function $a(r,n,s,c){let{iScale:d}=r,{key:g="r"}=this._parsing,b=new Array(c),x,_,k,T;for(x=0,_=c;x<_;++x)k=x+s,T=n[k],b[x]={r:d.parse(F(T,g),k)};return b}let Mg=Number.EPSILON||1e-14,bs=(r,n)=>n<r.length&&!r[n].skip&&r[n],yu=r=>r==="x"?"y":"x";function wu(r,n,s,c){let d=r.skip?n:r,g=n,b=s.skip?n:s,x=tn(g,d),_=tn(b,g),k=x/(x+_),T=_/(x+_);k=isNaN(k)?0:k,T=isNaN(T)?0:T;let D=c*k,R=c*T;return{previous:{x:g.x-D*(b.x-d.x),y:g.y-D*(b.y-d.y)},next:{x:g.x+R*(b.x-d.x),y:g.y+R*(b.y-d.y)}}}function Og(r,n,s){let c=r.length,d,g,b,x,_,k=bs(r,0);for(let T=0;T<c-1;++T)if(_=k,k=bs(r,T+1),!(!_||!k)){if(Wt(n[T],0,Mg)){s[T]=s[T+1]=0;continue}d=s[T]/n[T],g=s[T+1]/n[T],x=Math.pow(d,2)+Math.pow(g,2),!(x<=9)&&(b=3/Math.sqrt(x),s[T]=d*b*n[T],s[T+1]=g*b*n[T])}}function Tg(r,n,s="x"){let c=yu(s),d=r.length,g,b,x,_=bs(r,0);for(let k=0;k<d;++k){if(b=x,x=_,_=bs(r,k+1),!x)continue;let T=x[s],D=x[c];b&&(g=(T-b[s])/3,x[`cp1${s}`]=T-g,x[`cp1${c}`]=D-g*n[k]),_&&(g=(_[s]-T)/3,x[`cp2${s}`]=T+g,x[`cp2${c}`]=D+g*n[k])}}function ku(r,n="x"){let s=yu(n),c=r.length,d=Array(c).fill(0),g=Array(c),b,x,_,k=bs(r,0);for(b=0;b<c;++b)if(x=_,_=k,k=bs(r,b+1),!!_){if(k){let T=k[n]-_[n];d[b]=T!==0?(k[s]-_[s])/T:0}g[b]=x?k?At(d[b-1])!==At(d[b])?0:(d[b-1]+d[b])/2:d[b-1]:d[b]}Og(r,d,g),Tg(r,g,n)}function hr(r,n,s){return Math.max(Math.min(r,s),n)}function Ag(r,n){let s,c,d,g,b,x=gs(r[0],n);for(s=0,c=r.length;s<c;++s)b=g,g=x,x=s<c-1&&gs(r[s+1],n),g&&(d=r[s],b&&(d.cp1x=hr(d.cp1x,n.left,n.right),d.cp1y=hr(d.cp1y,n.top,n.bottom)),x&&(d.cp2x=hr(d.cp2x,n.left,n.right),d.cp2y=hr(d.cp2y,n.top,n.bottom)))}function Pu(r,n,s,c,d){let g,b,x,_;if(n.spanGaps&&(r=r.filter(k=>!k.skip)),n.cubicInterpolationMode==="monotone")ku(r,d);else{let k=c?r[r.length-1]:r[0];for(g=0,b=r.length;g<b;++g)x=r[g],_=wu(k,x,r[Math.min(g+1,b-(c?0:1))%b],n.tension),x.cp1x=_.previous.x,x.cp1y=_.previous.y,x.cp2x=_.next.x,x.cp2y=_.next.y,k=x}n.capBezierPoints&&Ag(r,s)}let fr=r=>r===0||r===1,Cu=(r,n,s)=>-(Math.pow(2,10*(r-=1))*Math.sin((r-n)*at/s)),Mu=(r,n,s)=>Math.pow(2,-10*r)*Math.sin((r-n)*at/s)+1,vs={linear:r=>r,easeInQuad:r=>r*r,easeOutQuad:r=>-r*(r-2),easeInOutQuad:r=>(r/=.5)<1?.5*r*r:-.5*(--r*(r-2)-1),easeInCubic:r=>r*r*r,easeOutCubic:r=>(r-=1)*r*r+1,easeInOutCubic:r=>(r/=.5)<1?.5*r*r*r:.5*((r-=2)*r*r+2),easeInQuart:r=>r*r*r*r,easeOutQuart:r=>-((r-=1)*r*r*r-1),easeInOutQuart:r=>(r/=.5)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2),easeInQuint:r=>r*r*r*r*r,easeOutQuint:r=>(r-=1)*r*r*r*r+1,easeInOutQuint:r=>(r/=.5)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2),easeInSine:r=>-Math.cos(r*gt)+1,easeOutSine:r=>Math.sin(r*gt),easeInOutSine:r=>-.5*(Math.cos(J*r)-1),easeInExpo:r=>r===0?0:Math.pow(2,10*(r-1)),easeOutExpo:r=>r===1?1:-Math.pow(2,-10*r)+1,easeInOutExpo:r=>fr(r)?r:r<.5?.5*Math.pow(2,10*(r*2-1)):.5*(-Math.pow(2,-10*(r*2-1))+2),easeInCirc:r=>r>=1?r:-(Math.sqrt(1-r*r)-1),easeOutCirc:r=>Math.sqrt(1-(r-=1)*r),easeInOutCirc:r=>(r/=.5)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1),easeInElastic:r=>fr(r)?r:Cu(r,.075,.3),easeOutElastic:r=>fr(r)?r:Mu(r,.075,.3),easeInOutElastic(r){return fr(r)?r:r<.5?.5*Cu(r*2,.1125,.45):.5+.5*Mu(r*2-1,.1125,.45)},easeInBack(r){return r*r*((1.70158+1)*r-1.70158)},easeOutBack(r){return(r-=1)*r*((1.70158+1)*r+1.70158)+1},easeInOutBack(r){let n=1.70158;return(r/=.5)<1?.5*(r*r*(((n*=1.525)+1)*r-n)):.5*((r-=2)*r*(((n*=1.525)+1)*r+n)+2)},easeInBounce:r=>1-vs.easeOutBounce(1-r),easeOutBounce(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},easeInOutBounce:r=>r<.5?vs.easeInBounce(r*2)*.5:vs.easeOutBounce(r*2-1)*.5+.5};function fi(r,n,s,c){return{x:r.x+s*(n.x-r.x),y:r.y+s*(n.y-r.y)}}function Ou(r,n,s,c){return{x:r.x+s*(n.x-r.x),y:c==="middle"?s<.5?r.y:n.y:c==="after"?s<1?r.y:n.y:s>0?n.y:r.y}}function Tu(r,n,s,c){let d={x:r.cp2x,y:r.cp2y},g={x:n.cp1x,y:n.cp1y},b=fi(r,d,s),x=fi(d,g,s),_=fi(g,n,s),k=fi(b,x,s),T=fi(x,_,s);return fi(k,T,s)}let Au=new Map;function Eg(r,n){n=n||{};let s=r+JSON.stringify(n),c=Au.get(s);return c||(c=new Intl.NumberFormat(r,n),Au.set(s,c)),c}function xs(r,n,s){return Eg(n,s).format(r)}let Dg=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),Lg=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function Eu(r,n){let s=(""+r).match(Dg);if(!s||s[1]==="normal")return n*1.2;switch(r=+s[2],s[3]){case"px":return r;case"%":r/=100;break}return n*r}let Sg=r=>+r||0;function dr(r,n){let s={},c=a(n),d=c?Object.keys(n):n,g=a(r)?c?b=>u(r[b],r[n[b]]):b=>r[b]:()=>r;for(let b of d)s[b]=Sg(g(b));return s}function Ya(r){return dr(r,{top:"y",right:"x",bottom:"y",left:"x"})}function di(r){return dr(r,["topLeft","topRight","bottomLeft","bottomRight"])}function De(r){let n=Ya(r);return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function be(r,n){r=r||{},n=n||Et.font;let s=u(r.size,n.size);typeof s=="string"&&(s=parseInt(s,10));let c=u(r.style,n.style);c&&!(""+c).match(Lg)&&(console.warn('Invalid font style specified: "'+c+'"'),c="");let d={family:u(r.family,n.family),lineHeight:Eu(u(r.lineHeight,n.lineHeight),s),size:s,style:c,weight:u(r.weight,n.weight),string:""};return d.string=fu(d),d}function _s(r,n,s,c){let d=!0,g,b,x;for(g=0,b=r.length;g<b;++g)if(x=r[g],x!==void 0&&(n!==void 0&&typeof x=="function"&&(x=x(n),d=!1),s!==void 0&&o(x)&&(x=x[s%x.length],d=!1),x!==void 0))return c&&!d&&(c.cacheable=!1),x}function Du(r,n,s){let{min:c,max:d}=r,g=f(n,(d-c)/2),b=(x,_)=>s&&x===0?0:x+_;return{min:b(c,-Math.abs(g)),max:b(d,g)}}function Hn(r,n){return Object.assign(Object.create(r),n)}let Rg=function(r,n){return{x(s){return r+r+n-s},setWidth(s){n=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,c){return s-c},leftForLtr(s,c){return s-c}}},Ig=function(){return{x(r){return r},setWidth(r){},textAlign(r){return r},xPlus(r,n){return r+n},leftForLtr(r,n){return r}}};function Yi(r,n,s){return r?Rg(n,s):Ig()}function qa(r,n){let s,c;(n==="ltr"||n==="rtl")&&(s=r.canvas.style,c=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",n,"important"),r.prevTextDirection=c)}function Ua(r,n){n!==void 0&&(delete r.prevTextDirection,r.canvas.style.setProperty("direction",n[0],n[1]))}function Lu(r){return r==="angle"?{between:Ye,compare:Fn,normalize:he}:{between:Ee,compare:(n,s)=>n-s,normalize:n=>n}}function Su({start:r,end:n,count:s,loop:c,style:d}){return{start:r%s,end:n%s,loop:c&&(n-r+1)%s===0,style:d}}function Fg(r,n,s){let{property:c,start:d,end:g}=s,{between:b,normalize:x}=Lu(c),_=n.length,{start:k,end:T,loop:D}=r,R,I;if(D){for(k+=_,T+=_,R=0,I=_;R<I&&b(x(n[k%_][c]),d,g);++R)k--,T--;k%=_,T%=_}return T<k&&(T+=_),{start:k,end:T,loop:D,style:r.style}}function Xa(r,n,s){if(!s)return[r];let{property:c,start:d,end:g}=s,b=n.length,{compare:x,between:_,normalize:k}=Lu(c),{start:T,end:D,loop:R,style:I}=Fg(r,n,s),B=[],V=!1,$=null,U,Q,ot,st=()=>_(d,ot,U)&&x(d,ot)!==0,tt=()=>x(g,U)===0||_(g,ot,U),ut=()=>V||st(),ht=()=>!V||tt();for(let wt=T,_t=T;wt<=D;++wt)Q=n[wt%b],!Q.skip&&(U=k(Q[c]),U!==ot&&(V=_(U,d,g),$===null&&ut()&&($=x(U,d)===0?wt:_t),$!==null&&ht()&&(B.push(Su({start:$,end:wt,loop:R,count:b,style:I})),$=null),_t=wt,ot=U));return $!==null&&B.push(Su({start:$,end:D,loop:R,count:b,style:I})),B}function Ga(r,n){let s=[],c=r.segments;for(let d=0;d<c.length;d++){let g=Xa(c[d],r.points,n);g.length&&s.push(...g)}return s}function Bg(r,n,s,c){let d=0,g=n-1;if(s&&!c)for(;d<n&&!r[d].skip;)d++;for(;d<n&&r[d].skip;)d++;for(d%=n,s&&(g+=d);g>d&&r[g%n].skip;)g--;return g%=n,{start:d,end:g}}function zg(r,n,s,c){let d=r.length,g=[],b=n,x=r[n],_;for(_=n+1;_<=s;++_){let k=r[_%d];k.skip||k.stop?x.skip||(c=!1,g.push({start:n%d,end:(_-1)%d,loop:c}),n=b=k.stop?_:null):(b=_,x.skip&&(n=_)),x=k}return b!==null&&g.push({start:n%d,end:b%d,loop:c}),g}function Ru(r,n){let s=r.points,c=r.options.spanGaps,d=s.length;if(!d)return[];let g=!!r._loop,{start:b,end:x}=Bg(s,d,g,c);if(c===!0)return Iu(r,[{start:b,end:x,loop:g}],s,n);let _=x<b?x+d:x,k=!!r._fullLoop&&b===0&&x===d-1;return Iu(r,zg(s,b,_,k),s,n)}function Iu(r,n,s,c){return!c||!c.setContext||!s?n:Ng(r,n,s,c)}function Ng(r,n,s,c){let d=r._chart.getContext(),g=Fu(r.options),{_datasetIndex:b,options:{spanGaps:x}}=r,_=s.length,k=[],T=g,D=n[0].start,R=D;function I(B,V,$,U){let Q=x?-1:1;if(B!==V){for(B+=_;s[B%_].skip;)B-=Q;for(;s[V%_].skip;)V+=Q;B%_!==V%_&&(k.push({start:B%_,end:V%_,loop:$,style:U}),T=U,D=V%_)}}for(let B of n){D=x?D:B.start;let V=s[D%_],$;for(R=D+1;R<=B.end;R++){let U=s[R%_];$=Fu(c.setContext(Hn(d,{type:"segment",p0:V,p1:U,p0DataIndex:(R-1)%_,p1DataIndex:R%_,datasetIndex:b}))),Vg($,T)&&I(D,R-1,B.loop,T),V=U,T=$}D<R-1&&I(D,R-1,B.loop,T)}return k}function Fu(r){return{backgroundColor:r.backgroundColor,borderCapStyle:r.borderCapStyle,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderJoinStyle:r.borderJoinStyle,borderWidth:r.borderWidth,borderColor:r.borderColor}}function Vg(r,n){return n&&JSON.stringify(r)!==JSON.stringify(n)}var Hg=Object.freeze({__proto__:null,easingEffects:vs,isPatternOrGradient:ft,color:St,getHoverColor:qt,noop:i,uid:t,isNullOrUndef:e,isArray:o,isObject:a,isFinite:h,finiteOrDefault:p,valueOrDefault:u,toPercentage:l,toDimension:f,callback:m,each:v,_elementsEqual:y,clone:w,_merger:C,merge:M,mergeIf:O,_mergerIf:A,_deprecated:L,resolveObjectKey:F,_splitKey:H,_capitalize:W,defined:G,isFunction:et,setsEqual:nt,_isClickEvent:it,toFontString:fu,_measureText:ro,_longestText:du,_alignPixel:ui,clearCanvas:za,drawPoint:cr,drawPointLegend:Na,_isPointInArea:gs,clipArea:ao,unclipArea:lo,_steppedLineTo:pu,_bezierCurveTo:gu,renderText:hi,addRoundedRectPath:ms,_lookup:Be,_lookupByKey:fe,_rlookupByKey:kn,_filterBetween:en,listenArrayEvents:zn,unlistenArrayEvents:Cn,_arrayUnique:Mn,_createResolver:ur,_attachContext:$i,_descriptors:Va,_parseObjectDataRadialScale:$a,splineCurve:wu,splineCurveMonotone:ku,_updateBezierControlPoints:Pu,_isDomSupported:Wi,_getParentNode:He,getStyle:oo,getRelativePosition:ci,getMaximumSize:uu,retinaScale:Fa,supportsEventListenerOptions:hu,readUsedSize:Ba,fontString:ei,requestAnimFrame:Ii,throttled:Fi,debounce:Bi,_toLeftRightCenter:ni,_alignStartEnd:de,_textX:K,_getStartAndCountOfVisiblePoints:lt,_scaleRangesChanged:yt,_pointInLine:fi,_steppedInterpolation:Ou,_bezierInterpolation:Tu,formatNumber:xs,toLineHeight:Eu,_readValueToProps:dr,toTRBL:Ya,toTRBLCorners:di,toPadding:De,toFont:be,resolve:_s,_addGrace:Du,createContext:Hn,PI:J,TAU:at,PITAU:ct,INFINITY:mt,RAD_PER_DEG:vt,HALF_PI:gt,QUARTER_PI:kt,TWO_THIRDS_PI:Lt,log10:Ct,sign:At,niceNum:Kt,_factorize:Qt,isNumber:Dt,almostEquals:Wt,almostWhole:Nt,_setMinAndMaxByKey:Ae,toRadians:ne,toDegrees:Fe,_decimalPlaces:Qe,getAngleFromPoint:dn,distanceBetweenPoints:tn,_angleDiff:Fn,_normalizeAngle:he,_angleBetween:Ye,_limitValue:Ut,_int16Range:Bn,_isBetween:Ee,getRtlAdapter:Yi,overrideTextDirection:qa,restoreTextDirection:Ua,_boundSegment:Xa,_boundSegments:Ga,_computeSegments:Ru});function Wg(r,n,s,c){let{controller:d,data:g,_sorted:b}=r,x=d._cachedMeta.iScale;if(x&&n===x.axis&&n!=="r"&&b&&g.length){let _=x._reversePixels?kn:fe;if(c){if(d._sharedOptions){let k=g[0],T=typeof k.getRange=="function"&&k.getRange(n);if(T){let D=_(g,n,s-T),R=_(g,n,s+T);return{lo:D.lo,hi:R.hi}}}}else return _(g,n,s)}return{lo:0,hi:g.length-1}}function co(r,n,s,c,d){let g=r.getSortedVisibleDatasetMetas(),b=s[n];for(let x=0,_=g.length;x<_;++x){let{index:k,data:T}=g[x],{lo:D,hi:R}=Wg(g[x],n,b,d);for(let I=D;I<=R;++I){let B=T[I];B.skip||c(B,k,I)}}}function $g(r){let n=r.indexOf("x")!==-1,s=r.indexOf("y")!==-1;return function(c,d){let g=n?Math.abs(c.x-d.x):0,b=s?Math.abs(c.y-d.y):0;return Math.sqrt(Math.pow(g,2)+Math.pow(b,2))}}function Ka(r,n,s,c,d){let g=[];return!d&&!r.isPointInArea(n)||co(r,s,n,function(x,_,k){!d&&!gs(x,r.chartArea,0)||x.inRange(n.x,n.y,c)&&g.push({element:x,datasetIndex:_,index:k})},!0),g}function Yg(r,n,s,c){let d=[];function g(b,x,_){let{startAngle:k,endAngle:T}=b.getProps(["startAngle","endAngle"],c),{angle:D}=dn(b,{x:n.x,y:n.y});Ye(D,k,T)&&d.push({element:b,datasetIndex:x,index:_})}return co(r,s,n,g),d}function qg(r,n,s,c,d,g){let b=[],x=$g(s),_=Number.POSITIVE_INFINITY;function k(T,D,R){let I=T.inRange(n.x,n.y,d);if(c&&!I)return;let B=T.getCenterPoint(d);if(!(!!g||r.isPointInArea(B))&&!I)return;let $=x(n,B);$<_?(b=[{element:T,datasetIndex:D,index:R}],_=$):$===_&&b.push({element:T,datasetIndex:D,index:R})}return co(r,s,n,k),b}function Qa(r,n,s,c,d,g){return!g&&!r.isPointInArea(n)?[]:s==="r"&&!c?Yg(r,n,s,d):qg(r,n,s,c,d,g)}function Bu(r,n,s,c,d){let g=[],b=s==="x"?"inXRange":"inYRange",x=!1;return co(r,s,n,(_,k,T)=>{_[b](n[s],d)&&(g.push({element:_,datasetIndex:k,index:T}),x=x||_.inRange(n.x,n.y,d))}),c&&!x?[]:g}var zu={evaluateInteractionItems:co,modes:{index(r,n,s,c){let d=ci(n,r),g=s.axis||"x",b=s.includeInvisible||!1,x=s.intersect?Ka(r,d,g,c,b):Qa(r,d,g,!1,c,b),_=[];return x.length?(r.getSortedVisibleDatasetMetas().forEach(k=>{let T=x[0].index,D=k.data[T];D&&!D.skip&&_.push({element:D,datasetIndex:k.index,index:T})}),_):[]},dataset(r,n,s,c){let d=ci(n,r),g=s.axis||"xy",b=s.includeInvisible||!1,x=s.intersect?Ka(r,d,g,c,b):Qa(r,d,g,!1,c,b);if(x.length>0){let _=x[0].datasetIndex,k=r.getDatasetMeta(_).data;x=[];for(let T=0;T<k.length;++T)x.push({element:k[T],datasetIndex:_,index:T})}return x},point(r,n,s,c){let d=ci(n,r),g=s.axis||"xy",b=s.includeInvisible||!1;return Ka(r,d,g,c,b)},nearest(r,n,s,c){let d=ci(n,r),g=s.axis||"xy",b=s.includeInvisible||!1;return Qa(r,d,g,s.intersect,c,b)},x(r,n,s,c){let d=ci(n,r);return Bu(r,d,"x",s.intersect,c)},y(r,n,s,c){let d=ci(n,r);return Bu(r,d,"y",s.intersect,c)}}};let Nu=["left","top","right","bottom"];function uo(r,n){return r.filter(s=>s.pos===n)}function Vu(r,n){return r.filter(s=>Nu.indexOf(s.pos)===-1&&s.box.axis===n)}function ho(r,n){return r.sort((s,c)=>{let d=n?c:s,g=n?s:c;return d.weight===g.weight?d.index-g.index:d.weight-g.weight})}function Ug(r){let n=[],s,c,d,g,b,x;for(s=0,c=(r||[]).length;s<c;++s)d=r[s],{position:g,options:{stack:b,stackWeight:x=1}}=d,n.push({index:s,box:d,pos:g,horizontal:d.isHorizontal(),weight:d.weight,stack:b&&g+b,stackWeight:x});return n}function Xg(r){let n={};for(let s of r){let{stack:c,pos:d,stackWeight:g}=s;if(!c||!Nu.includes(d))continue;let b=n[c]||(n[c]={count:0,placed:0,weight:0,size:0});b.count++,b.weight+=g}return n}function Gg(r,n){let s=Xg(r),{vBoxMaxWidth:c,hBoxMaxHeight:d}=n,g,b,x;for(g=0,b=r.length;g<b;++g){x=r[g];let{fullSize:_}=x.box,k=s[x.stack],T=k&&x.stackWeight/k.weight;x.horizontal?(x.width=T?T*c:_&&n.availableWidth,x.height=d):(x.width=c,x.height=T?T*d:_&&n.availableHeight)}return s}function Kg(r){let n=Ug(r),s=ho(n.filter(k=>k.box.fullSize),!0),c=ho(uo(n,"left"),!0),d=ho(uo(n,"right")),g=ho(uo(n,"top"),!0),b=ho(uo(n,"bottom")),x=Vu(n,"x"),_=Vu(n,"y");return{fullSize:s,leftAndTop:c.concat(g),rightAndBottom:d.concat(_).concat(b).concat(x),chartArea:uo(n,"chartArea"),vertical:c.concat(d).concat(_),horizontal:g.concat(b).concat(x)}}function Hu(r,n,s,c){return Math.max(r[s],n[s])+Math.max(r[c],n[c])}function Wu(r,n){r.top=Math.max(r.top,n.top),r.left=Math.max(r.left,n.left),r.bottom=Math.max(r.bottom,n.bottom),r.right=Math.max(r.right,n.right)}function Qg(r,n,s,c){let{pos:d,box:g}=s,b=r.maxPadding;if(!a(d)){s.size&&(r[d]-=s.size);let D=c[s.stack]||{size:0,count:1};D.size=Math.max(D.size,s.horizontal?g.height:g.width),s.size=D.size/D.count,r[d]+=s.size}g.getPadding&&Wu(b,g.getPadding());let x=Math.max(0,n.outerWidth-Hu(b,r,"left","right")),_=Math.max(0,n.outerHeight-Hu(b,r,"top","bottom")),k=x!==r.w,T=_!==r.h;return r.w=x,r.h=_,s.horizontal?{same:k,other:T}:{same:T,other:k}}function Zg(r){let n=r.maxPadding;function s(c){let d=Math.max(n[c]-r[c],0);return r[c]+=d,d}r.y+=s("top"),r.x+=s("left"),s("right"),s("bottom")}function Jg(r,n){let s=n.maxPadding;function c(d){let g={left:0,top:0,right:0,bottom:0};return d.forEach(b=>{g[b]=Math.max(n[b],s[b])}),g}return c(r?["left","right"]:["top","bottom"])}function fo(r,n,s,c){let d=[],g,b,x,_,k,T;for(g=0,b=r.length,k=0;g<b;++g){x=r[g],_=x.box,_.update(x.width||n.w,x.height||n.h,Jg(x.horizontal,n));let{same:D,other:R}=Qg(n,s,x,c);k|=D&&d.length,T=T||R,_.fullSize||d.push(x)}return k&&fo(d,n,s,c)||T}function pr(r,n,s,c,d){r.top=s,r.left=n,r.right=n+c,r.bottom=s+d,r.width=c,r.height=d}function $u(r,n,s,c){let d=s.padding,{x:g,y:b}=n;for(let x of r){let _=x.box,k=c[x.stack]||{count:1,placed:0,weight:1},T=x.stackWeight/k.weight||1;if(x.horizontal){let D=n.w*T,R=k.size||_.height;G(k.start)&&(b=k.start),_.fullSize?pr(_,d.left,b,s.outerWidth-d.right-d.left,R):pr(_,n.left+k.placed,b,D,R),k.start=b,k.placed+=D,b=_.bottom}else{let D=n.h*T,R=k.size||_.width;G(k.start)&&(g=k.start),_.fullSize?pr(_,g,d.top,R,s.outerHeight-d.bottom-d.top):pr(_,g,n.top+k.placed,R,D),k.start=g,k.placed+=D,g=_.right}}n.x=g,n.y=b}Et.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var Le={addBox(r,n){r.boxes||(r.boxes=[]),n.fullSize=n.fullSize||!1,n.position=n.position||"top",n.weight=n.weight||0,n._layers=n._layers||function(){return[{z:0,draw(s){n.draw(s)}}]},r.boxes.push(n)},removeBox(r,n){let s=r.boxes?r.boxes.indexOf(n):-1;s!==-1&&r.boxes.splice(s,1)},configure(r,n,s){n.fullSize=s.fullSize,n.position=s.position,n.weight=s.weight},update(r,n,s,c){if(!r)return;let d=De(r.options.layout.padding),g=Math.max(n-d.width,0),b=Math.max(s-d.height,0),x=Kg(r.boxes),_=x.vertical,k=x.horizontal;v(r.boxes,V=>{typeof V.beforeLayout=="function"&&V.beforeLayout()});let T=_.reduce((V,$)=>$.box.options&&$.box.options.display===!1?V:V+1,0)||1,D=Object.freeze({outerWidth:n,outerHeight:s,padding:d,availableWidth:g,availableHeight:b,vBoxMaxWidth:g/2/T,hBoxMaxHeight:b/2}),R=Object.assign({},d);Wu(R,De(c));let I=Object.assign({maxPadding:R,w:g,h:b,x:d.left,y:d.top},d),B=Gg(_.concat(k),D);fo(x.fullSize,I,D,B),fo(_,I,D,B),fo(k,I,D,B)&&fo(_,I,D,B),Zg(I),$u(x.leftAndTop,I,D,B),I.x+=I.w,I.y+=I.h,$u(x.rightAndBottom,I,D,B),r.chartArea={left:I.left,top:I.top,right:I.left+I.w,bottom:I.top+I.h,height:I.h,width:I.w},v(x.chartArea,V=>{let $=V.box;Object.assign($,r.chartArea),$.update(I.w,I.h,{left:0,top:0,right:0,bottom:0})})}};class Za{acquireContext(n,s){}releaseContext(n){return!1}addEventListener(n,s,c){}removeEventListener(n,s,c){}getDevicePixelRatio(){return 1}getMaximumSize(n,s,c,d){return s=Math.max(0,s||n.width),c=c||n.height,{width:s,height:Math.max(0,d?Math.floor(s/d):c)}}isAttached(n){return!0}updateConfig(n){}}class Yu extends Za{acquireContext(n){return n&&n.getContext&&n.getContext("2d")||null}updateConfig(n){n.options.animation=!1}}let gr="$chartjs",jg={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},qu=r=>r===null||r==="";function tm(r,n){let s=r.style,c=r.getAttribute("height"),d=r.getAttribute("width");if(r[gr]={initial:{height:c,width:d,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",qu(d)){let g=Ba(r,"width");g!==void 0&&(r.width=g)}if(qu(c))if(r.style.height==="")r.height=r.width/(n||2);else{let g=Ba(r,"height");g!==void 0&&(r.height=g)}return r}let Uu=hu?{passive:!0}:!1;function em(r,n,s){r.addEventListener(n,s,Uu)}function nm(r,n,s){r.canvas.removeEventListener(n,s,Uu)}function im(r,n){let s=jg[r.type]||r.type,{x:c,y:d}=ci(r,n);return{type:s,chart:n,native:r,x:c!==void 0?c:null,y:d!==void 0?d:null}}function mr(r,n){for(let s of r)if(s===n||s.contains(n))return!0}function sm(r,n,s){let c=r.canvas,d=new MutationObserver(g=>{let b=!1;for(let x of g)b=b||mr(x.addedNodes,c),b=b&&!mr(x.removedNodes,c);b&&s()});return d.observe(document,{childList:!0,subtree:!0}),d}function om(r,n,s){let c=r.canvas,d=new MutationObserver(g=>{let b=!1;for(let x of g)b=b||mr(x.removedNodes,c),b=b&&!mr(x.addedNodes,c);b&&s()});return d.observe(document,{childList:!0,subtree:!0}),d}let po=new Map,Xu=0;function Gu(){let r=window.devicePixelRatio;r!==Xu&&(Xu=r,po.forEach((n,s)=>{s.currentDevicePixelRatio!==r&&n()}))}function rm(r,n){po.size||window.addEventListener("resize",Gu),po.set(r,n)}function am(r){po.delete(r),po.size||window.removeEventListener("resize",Gu)}function lm(r,n,s){let c=r.canvas,d=c&&He(c);if(!d)return;let g=Fi((x,_)=>{let k=d.clientWidth;s(x,_),k<d.clientWidth&&s()},window),b=new ResizeObserver(x=>{let _=x[0],k=_.contentRect.width,T=_.contentRect.height;k===0&&T===0||g(k,T)});return b.observe(d),rm(r,g),b}function Ja(r,n,s){s&&s.disconnect(),n==="resize"&&am(r)}function cm(r,n,s){let c=r.canvas,d=Fi(g=>{r.ctx!==null&&s(im(g,r))},r,g=>{let b=g[0];return[b,b.offsetX,b.offsetY]});return em(c,n,d),d}class Ku extends Za{acquireContext(n,s){let c=n&&n.getContext&&n.getContext("2d");return c&&c.canvas===n?(tm(n,s),c):null}releaseContext(n){let s=n.canvas;if(!s[gr])return!1;let c=s[gr].initial;["height","width"].forEach(g=>{let b=c[g];e(b)?s.removeAttribute(g):s.setAttribute(g,b)});let d=c.style||{};return Object.keys(d).forEach(g=>{s.style[g]=d[g]}),s.width=s.width,delete s[gr],!0}addEventListener(n,s,c){this.removeEventListener(n,s);let d=n.$proxies||(n.$proxies={}),b={attach:sm,detach:om,resize:lm}[s]||cm;d[s]=b(n,s,c)}removeEventListener(n,s){let c=n.$proxies||(n.$proxies={}),d=c[s];if(!d)return;({attach:Ja,detach:Ja,resize:Ja}[s]||nm)(n,s,d),c[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(n,s,c,d){return uu(n,s,c,d)}isAttached(n){let s=He(n);return!!(s&&s.isConnected)}}function Qu(r){return!Wi()||typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas?Yu:Ku}var Zu=Object.freeze({__proto__:null,_detectPlatform:Qu,BasePlatform:Za,BasicPlatform:Yu,DomPlatform:Ku});let Ju="transparent",um={boolean(r,n,s){return s>.5?n:r},color(r,n,s){let c=St(r||Ju),d=c.valid&&St(n||Ju);return d&&d.valid?d.mix(c,s).hexString():n},number(r,n,s){return r+(n-r)*s}};class ju{constructor(n,s,c,d){let g=s[c];d=_s([n.to,d,g,n.from]);let b=_s([n.from,g,d]);this._active=!0,this._fn=n.fn||um[n.type||typeof b],this._easing=vs[n.easing]||vs.linear,this._start=Math.floor(Date.now()+(n.delay||0)),this._duration=this._total=Math.floor(n.duration),this._loop=!!n.loop,this._target=s,this._prop=c,this._from=b,this._to=d,this._promises=void 0}active(){return this._active}update(n,s,c){if(this._active){this._notify(!1);let d=this._target[this._prop],g=c-this._start,b=this._duration-g;this._start=c,this._duration=Math.floor(Math.max(b,n.duration)),this._total+=g,this._loop=!!n.loop,this._to=_s([n.to,s,d,n.from]),this._from=_s([n.from,d,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(n){let s=n-this._start,c=this._duration,d=this._prop,g=this._from,b=this._loop,x=this._to,_;if(this._active=g!==x&&(b||s<c),!this._active){this._target[d]=x,this._notify(!0);return}if(s<0){this._target[d]=g;return}_=s/c%2,_=b&&_>1?2-_:_,_=this._easing(Math.min(1,Math.max(0,_))),this._target[d]=this._fn(g,x,_)}wait(){let n=this._promises||(this._promises=[]);return new Promise((s,c)=>{n.push({res:s,rej:c})})}_notify(n){let s=n?"res":"rej",c=this._promises||[];for(let d=0;d<c.length;d++)c[d][s]()}}let hm=["x","y","borderWidth","radius","tension"],fm=["color","borderColor","backgroundColor"];Et.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});let dm=Object.keys(Et.animation);Et.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:r=>r!=="onProgress"&&r!=="onComplete"&&r!=="fn"}),Et.set("animations",{colors:{type:"color",properties:fm},numbers:{type:"number",properties:hm}}),Et.describe("animations",{_fallback:"animation"}),Et.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:r=>r|0}}}});class ja{constructor(n,s){this._chart=n,this._properties=new Map,this.configure(s)}configure(n){if(!a(n))return;let s=this._properties;Object.getOwnPropertyNames(n).forEach(c=>{let d=n[c];if(!a(d))return;let g={};for(let b of dm)g[b]=d[b];(o(d.properties)&&d.properties||[c]).forEach(b=>{(b===c||!s.has(b))&&s.set(b,g)})})}_animateOptions(n,s){let c=s.options,d=gm(n,c);if(!d)return[];let g=this._createAnimations(d,c);return c.$shared&&pm(n.options.$animations,c).then(()=>{n.options=c},()=>{}),g}_createAnimations(n,s){let c=this._properties,d=[],g=n.$animations||(n.$animations={}),b=Object.keys(s),x=Date.now(),_;for(_=b.length-1;_>=0;--_){let k=b[_];if(k.charAt(0)==="$")continue;if(k==="options"){d.push(...this._animateOptions(n,s));continue}let T=s[k],D=g[k],R=c.get(k);if(D)if(R&&D.active()){D.update(R,T,x);continue}else D.cancel();if(!R||!R.duration){n[k]=T;continue}g[k]=D=new ju(R,n,k,T),d.push(D)}return d}update(n,s){if(this._properties.size===0){Object.assign(n,s);return}let c=this._createAnimations(n,s);if(c.length)return Pt.add(this._chart,c),!0}}function pm(r,n){let s=[],c=Object.keys(n);for(let d=0;d<c.length;d++){let g=r[c[d]];g&&g.active()&&s.push(g.wait())}return Promise.all(s)}function gm(r,n){if(!n)return;let s=r.options;if(!s){r.options=n;return}return s.$shared&&(r.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function th(r,n){let s=r&&r.options||{},c=s.reverse,d=s.min===void 0?n:0,g=s.max===void 0?n:0;return{start:c?g:d,end:c?d:g}}function mm(r,n,s){if(s===!1)return!1;let c=th(r,s),d=th(n,s);return{top:d.end,right:c.end,bottom:d.start,left:c.start}}function bm(r){let n,s,c,d;return a(r)?(n=r.top,s=r.right,c=r.bottom,d=r.left):n=s=c=d=r,{top:n,right:s,bottom:c,left:d,disabled:r===!1}}function eh(r,n){let s=[],c=r._getSortedDatasetMetas(n),d,g;for(d=0,g=c.length;d<g;++d)s.push(c[d].index);return s}function nh(r,n,s,c={}){let d=r.keys,g=c.mode==="single",b,x,_,k;if(n!==null){for(b=0,x=d.length;b<x;++b){if(_=+d[b],_===s){if(c.all)continue;break}k=r.values[_],h(k)&&(g||n===0||At(n)===At(k))&&(n+=k)}return n}}function vm(r){let n=Object.keys(r),s=new Array(n.length),c,d,g;for(c=0,d=n.length;c<d;++c)g=n[c],s[c]={x:g,y:r[g]};return s}function ih(r,n){let s=r&&r.options.stacked;return s||s===void 0&&n.stack!==void 0}function xm(r,n,s){return`${r.id}.${n.id}.${s.stack||s.type}`}function _m(r){let{min:n,max:s,minDefined:c,maxDefined:d}=r.getUserBounds();return{min:c?n:Number.NEGATIVE_INFINITY,max:d?s:Number.POSITIVE_INFINITY}}function ym(r,n,s){let c=r[n]||(r[n]={});return c[s]||(c[s]={})}function sh(r,n,s,c){for(let d of n.getMatchingVisibleMetas(c).reverse()){let g=r[d.index];if(s&&g>0||!s&&g<0)return d.index}return null}function oh(r,n){let{chart:s,_cachedMeta:c}=r,d=s._stacks||(s._stacks={}),{iScale:g,vScale:b,index:x}=c,_=g.axis,k=b.axis,T=xm(g,b,c),D=n.length,R;for(let I=0;I<D;++I){let B=n[I],{[_]:V,[k]:$}=B,U=B._stacks||(B._stacks={});R=U[k]=ym(d,T,V),R[x]=$,R._top=sh(R,b,!0,c.type),R._bottom=sh(R,b,!1,c.type)}}function tl(r,n){let s=r.scales;return Object.keys(s).filter(c=>s[c].axis===n).shift()}function wm(r,n){return Hn(r,{active:!1,dataset:void 0,datasetIndex:n,index:n,mode:"default",type:"dataset"})}function km(r,n,s){return Hn(r,{active:!1,dataIndex:n,parsed:void 0,raw:void 0,element:s,index:n,mode:"default",type:"data"})}function go(r,n){let s=r.controller.index,c=r.vScale&&r.vScale.axis;if(c){n=n||r._parsed;for(let d of n){let g=d._stacks;if(!g||g[c]===void 0||g[c][s]===void 0)return;delete g[c][s]}}}let el=r=>r==="reset"||r==="none",rh=(r,n)=>n?r:Object.assign({},r),Pm=(r,n,s)=>r&&!n.hidden&&n._stacked&&{keys:eh(s,!0),values:null};class on{constructor(n,s){this.chart=n,this._ctx=n.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){let n=this._cachedMeta;this.configure(),this.linkScales(),n._stacked=ih(n.vScale,n),this.addElements()}updateIndex(n){this.index!==n&&go(this._cachedMeta),this.index=n}linkScales(){let n=this.chart,s=this._cachedMeta,c=this.getDataset(),d=(D,R,I,B)=>D==="x"?R:D==="r"?B:I,g=s.xAxisID=u(c.xAxisID,tl(n,"x")),b=s.yAxisID=u(c.yAxisID,tl(n,"y")),x=s.rAxisID=u(c.rAxisID,tl(n,"r")),_=s.indexAxis,k=s.iAxisID=d(_,g,b,x),T=s.vAxisID=d(_,b,g,x);s.xScale=this.getScaleForId(g),s.yScale=this.getScaleForId(b),s.rScale=this.getScaleForId(x),s.iScale=this.getScaleForId(k),s.vScale=this.getScaleForId(T)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(n){return this.chart.scales[n]}_getOtherScale(n){let s=this._cachedMeta;return n===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){let n=this._cachedMeta;this._data&&Cn(this._data,this),n._stacked&&go(n)}_dataCheck(){let n=this.getDataset(),s=n.data||(n.data=[]),c=this._data;if(a(s))this._data=vm(s);else if(c!==s){if(c){Cn(c,this);let d=this._cachedMeta;go(d),d._parsed=[]}s&&Object.isExtensible(s)&&zn(s,this),this._syncList=[],this._data=s}}addElements(){let n=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(n.dataset=new this.datasetElementType)}buildOrUpdateElements(n){let s=this._cachedMeta,c=this.getDataset(),d=!1;this._dataCheck();let g=s._stacked;s._stacked=ih(s.vScale,s),s.stack!==c.stack&&(d=!0,go(s),s.stack=c.stack),this._resyncElements(n),(d||g!==s._stacked)&&oh(this,s._parsed)}configure(){let n=this.chart.config,s=n.datasetScopeKeys(this._type),c=n.getOptionScopes(this.getDataset(),s,!0);this.options=n.createResolver(c,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(n,s){let{_cachedMeta:c,_data:d}=this,{iScale:g,_stacked:b}=c,x=g.axis,_=n===0&&s===d.length?!0:c._sorted,k=n>0&&c._parsed[n-1],T,D,R;if(this._parsing===!1)c._parsed=d,c._sorted=!0,R=d;else{o(d[n])?R=this.parseArrayData(c,d,n,s):a(d[n])?R=this.parseObjectData(c,d,n,s):R=this.parsePrimitiveData(c,d,n,s);let I=()=>D[x]===null||k&&D[x]<k[x];for(T=0;T<s;++T)c._parsed[T+n]=D=R[T],_&&(I()&&(_=!1),k=D);c._sorted=_}b&&oh(this,R)}parsePrimitiveData(n,s,c,d){let{iScale:g,vScale:b}=n,x=g.axis,_=b.axis,k=g.getLabels(),T=g===b,D=new Array(d),R,I,B;for(R=0,I=d;R<I;++R)B=R+c,D[R]={[x]:T||g.parse(k[B],B),[_]:b.parse(s[B],B)};return D}parseArrayData(n,s,c,d){let{xScale:g,yScale:b}=n,x=new Array(d),_,k,T,D;for(_=0,k=d;_<k;++_)T=_+c,D=s[T],x[_]={x:g.parse(D[0],T),y:b.parse(D[1],T)};return x}parseObjectData(n,s,c,d){let{xScale:g,yScale:b}=n,{xAxisKey:x="x",yAxisKey:_="y"}=this._parsing,k=new Array(d),T,D,R,I;for(T=0,D=d;T<D;++T)R=T+c,I=s[R],k[T]={x:g.parse(F(I,x),R),y:b.parse(F(I,_),R)};return k}getParsed(n){return this._cachedMeta._parsed[n]}getDataElement(n){return this._cachedMeta.data[n]}applyStack(n,s,c){let d=this.chart,g=this._cachedMeta,b=s[n.axis],x={keys:eh(d,!0),values:s._stacks[n.axis]};return nh(x,b,g.index,{mode:c})}updateRangeFromParsed(n,s,c,d){let g=c[s.axis],b=g===null?NaN:g,x=d&&c._stacks[s.axis];d&&x&&(d.values=x,b=nh(d,g,this._cachedMeta.index)),n.min=Math.min(n.min,b),n.max=Math.max(n.max,b)}getMinMax(n,s){let c=this._cachedMeta,d=c._parsed,g=c._sorted&&n===c.iScale,b=d.length,x=this._getOtherScale(n),_=Pm(s,c,this.chart),k={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:T,max:D}=_m(x),R,I;function B(){I=d[R];let V=I[x.axis];return!h(I[n.axis])||T>V||D<V}for(R=0;R<b&&!(!B()&&(this.updateRangeFromParsed(k,n,I,_),g));++R);if(g){for(R=b-1;R>=0;--R)if(!B()){this.updateRangeFromParsed(k,n,I,_);break}}return k}getAllParsedValues(n){let s=this._cachedMeta._parsed,c=[],d,g,b;for(d=0,g=s.length;d<g;++d)b=s[d][n.axis],h(b)&&c.push(b);return c}getMaxOverflow(){return!1}getLabelAndValue(n){let s=this._cachedMeta,c=s.iScale,d=s.vScale,g=this.getParsed(n);return{label:c?""+c.getLabelForValue(g[c.axis]):"",value:d?""+d.getLabelForValue(g[d.axis]):""}}_update(n){let s=this._cachedMeta;this.update(n||"default"),s._clip=bm(u(this.options.clip,mm(s.xScale,s.yScale,this.getMaxOverflow())))}update(n){}draw(){let n=this._ctx,s=this.chart,c=this._cachedMeta,d=c.data||[],g=s.chartArea,b=[],x=this._drawStart||0,_=this._drawCount||d.length-x,k=this.options.drawActiveElementsOnTop,T;for(c.dataset&&c.dataset.draw(n,g,x,_),T=x;T<x+_;++T){let D=d[T];D.hidden||(D.active&&k?b.push(D):D.draw(n,g))}for(T=0;T<b.length;++T)b[T].draw(n,g)}getStyle(n,s){let c=s?"active":"default";return n===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(c):this.resolveDataElementOptions(n||0,c)}getContext(n,s,c){let d=this.getDataset(),g;if(n>=0&&n<this._cachedMeta.data.length){let b=this._cachedMeta.data[n];g=b.$context||(b.$context=km(this.getContext(),n,b)),g.parsed=this.getParsed(n),g.raw=d.data[n],g.index=g.dataIndex=n}else g=this.$context||(this.$context=wm(this.chart.getContext(),this.index)),g.dataset=d,g.index=g.datasetIndex=this.index;return g.active=!!s,g.mode=c,g}resolveDatasetElementOptions(n){return this._resolveElementOptions(this.datasetElementType.id,n)}resolveDataElementOptions(n,s){return this._resolveElementOptions(this.dataElementType.id,s,n)}_resolveElementOptions(n,s="default",c){let d=s==="active",g=this._cachedDataOpts,b=n+"-"+s,x=g[b],_=this.enableOptionSharing&&G(c);if(x)return rh(x,_);let k=this.chart.config,T=k.datasetElementScopeKeys(this._type,n),D=d?[`${n}Hover`,"hover",n,""]:[n,""],R=k.getOptionScopes(this.getDataset(),T),I=Object.keys(Et.elements[n]),B=()=>this.getContext(c,d),V=k.resolveNamedOptions(R,I,B,D);return V.$shared&&(V.$shared=_,g[b]=Object.freeze(rh(V,_))),V}_resolveAnimations(n,s,c){let d=this.chart,g=this._cachedDataOpts,b=`animation-${s}`,x=g[b];if(x)return x;let _;if(d.options.animation!==!1){let T=this.chart.config,D=T.datasetAnimationScopeKeys(this._type,s),R=T.getOptionScopes(this.getDataset(),D);_=T.createResolver(R,this.getContext(n,c,s))}let k=new ja(d,_&&_.animations);return _&&_._cacheable&&(g[b]=Object.freeze(k)),k}getSharedOptions(n){if(n.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},n))}includeOptions(n,s){return!s||el(n)||this.chart._animationsDisabled}_getSharedOptions(n,s){let c=this.resolveDataElementOptions(n,s),d=this._sharedOptions,g=this.getSharedOptions(c),b=this.includeOptions(s,g)||g!==d;return this.updateSharedOptions(g,s,c),{sharedOptions:g,includeOptions:b}}updateElement(n,s,c,d){el(d)?Object.assign(n,c):this._resolveAnimations(s,d).update(n,c)}updateSharedOptions(n,s,c){n&&!el(s)&&this._resolveAnimations(void 0,s).update(n,c)}_setStyle(n,s,c,d){n.active=d;let g=this.getStyle(s,d);this._resolveAnimations(s,c,d).update(n,{options:!d&&this.getSharedOptions(g)||g})}removeHoverStyle(n,s,c){this._setStyle(n,c,"active",!1)}setHoverStyle(n,s,c){this._setStyle(n,c,"active",!0)}_removeDatasetHoverStyle(){let n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!1)}_setDatasetHoverStyle(){let n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!0)}_resyncElements(n){let s=this._data,c=this._cachedMeta.data;for(let[x,_,k]of this._syncList)this[x](_,k);this._syncList=[];let d=c.length,g=s.length,b=Math.min(g,d);b&&this.parse(0,b),g>d?this._insertElements(d,g-d,n):g<d&&this._removeElements(g,d-g)}_insertElements(n,s,c=!0){let d=this._cachedMeta,g=d.data,b=n+s,x,_=k=>{for(k.length+=s,x=k.length-1;x>=b;x--)k[x]=k[x-s]};for(_(g),x=n;x<b;++x)g[x]=new this.dataElementType;this._parsing&&_(d._parsed),this.parse(n,s),c&&this.updateElements(g,n,s,"reset")}updateElements(n,s,c,d){}_removeElements(n,s){let c=this._cachedMeta;if(this._parsing){let d=c._parsed.splice(n,s);c._stacked&&go(c,d)}c.data.splice(n,s)}_sync(n){if(this._parsing)this._syncList.push(n);else{let[s,c,d]=n;this[s](c,d)}this.chart._dataChanges.push([this.index,...n])}_onDataPush(){let n=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-n,n])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(n,s){s&&this._sync(["_removeElements",n,s]);let c=arguments.length-2;c&&this._sync(["_insertElements",n,c])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}on.defaults={},on.prototype.datasetElementType=null,on.prototype.dataElementType=null;class rn{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(n){let{x:s,y:c}=this.getProps(["x","y"],n);return{x:s,y:c}}hasValue(){return Dt(this.x)&&Dt(this.y)}getProps(n,s){let c=this.$animations;if(!s||!c)return this;let d={};return n.forEach(g=>{d[g]=c[g]&&c[g].active()?c[g]._to:this[g]}),d}}rn.defaults={},rn.defaultRoutes=void 0;let ah={values(r){return o(r)?r:""+r},numeric(r,n,s){if(r===0)return"0";let c=this.chart.options.locale,d,g=r;if(s.length>1){let k=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(k<1e-4||k>1e15)&&(d="scientific"),g=Cm(r,s)}let b=Ct(Math.abs(g)),x=Math.max(Math.min(-1*Math.floor(b),20),0),_={notation:d,minimumFractionDigits:x,maximumFractionDigits:x};return Object.assign(_,this.options.ticks.format),xs(r,c,_)},logarithmic(r,n,s){if(r===0)return"0";let c=r/Math.pow(10,Math.floor(Ct(r)));return c===1||c===2||c===5?ah.numeric.call(this,r,n,s):""}};function Cm(r,n){let s=n.length>3?n[2].value-n[1].value:n[1].value-n[0].value;return Math.abs(s)>=1&&r!==Math.floor(r)&&(s=r-Math.floor(r)),s}var mo={formatters:ah};Et.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(r,n)=>n.lineWidth,tickColor:(r,n)=>n.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:mo.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),Et.route("scale.ticks","color","","color"),Et.route("scale.grid","color","","borderColor"),Et.route("scale.grid","borderColor","","borderColor"),Et.route("scale.title","color","","color"),Et.describe("scale",{_fallback:!1,_scriptable:r=>!r.startsWith("before")&&!r.startsWith("after")&&r!=="callback"&&r!=="parser",_indexable:r=>r!=="borderDash"&&r!=="tickBorderDash"}),Et.describe("scales",{_fallback:"scale"}),Et.describe("scale.ticks",{_scriptable:r=>r!=="backdropPadding"&&r!=="callback",_indexable:r=>r!=="backdropPadding"});function Mm(r,n){let s=r.options.ticks,c=s.maxTicksLimit||Om(r),d=s.major.enabled?Am(n):[],g=d.length,b=d[0],x=d[g-1],_=[];if(g>c)return Em(n,_,d,g/c),_;let k=Tm(d,n,c);if(g>0){let T,D,R=g>1?Math.round((x-b)/(g-1)):null;for(br(n,_,k,e(R)?0:b-R,b),T=0,D=g-1;T<D;T++)br(n,_,k,d[T],d[T+1]);return br(n,_,k,x,e(R)?n.length:x+R),_}return br(n,_,k),_}function Om(r){let n=r.options.offset,s=r._tickSize(),c=r._length/s+(n?0:1),d=r._maxLength/s;return Math.floor(Math.min(c,d))}function Tm(r,n,s){let c=Dm(r),d=n.length/s;if(!c)return Math.max(d,1);let g=Qt(c);for(let b=0,x=g.length-1;b<x;b++){let _=g[b];if(_>d)return _}return Math.max(d,1)}function Am(r){let n=[],s,c;for(s=0,c=r.length;s<c;s++)r[s].major&&n.push(s);return n}function Em(r,n,s,c){let d=0,g=s[0],b;for(c=Math.ceil(c),b=0;b<r.length;b++)b===g&&(n.push(r[b]),d++,g=s[d*c])}function br(r,n,s,c,d){let g=u(c,0),b=Math.min(u(d,r.length),r.length),x=0,_,k,T;for(s=Math.ceil(s),d&&(_=d-c,s=_/Math.floor(_/s)),T=g;T<0;)x++,T=Math.round(g+x*s);for(k=Math.max(g,0);k<b;k++)k===T&&(n.push(r[k]),x++,T=Math.round(g+x*s))}function Dm(r){let n=r.length,s,c;if(n<2)return!1;for(c=r[0],s=1;s<n;++s)if(r[s]-r[s-1]!==c)return!1;return c}let Lm=r=>r==="left"?"right":r==="right"?"left":r,lh=(r,n,s)=>n==="top"||n==="left"?r[n]+s:r[n]-s;function ch(r,n){let s=[],c=r.length/n,d=r.length,g=0;for(;g<d;g+=c)s.push(r[Math.floor(g)]);return s}function Sm(r,n,s){let c=r.ticks.length,d=Math.min(n,c-1),g=r._startPixel,b=r._endPixel,x=1e-6,_=r.getPixelForTick(d),k;if(!(s&&(c===1?k=Math.max(_-g,b-_):n===0?k=(r.getPixelForTick(1)-_)/2:k=(_-r.getPixelForTick(d-1))/2,_+=d<n?k:-k,_<g-x||_>b+x)))return _}function Rm(r,n){v(r,s=>{let c=s.gc,d=c.length/2,g;if(d>n){for(g=0;g<d;++g)delete s.data[c[g]];c.splice(0,d)}})}function bo(r){return r.drawTicks?r.tickLength:0}function uh(r,n){if(!r.display)return 0;let s=be(r.font,n),c=De(r.padding);return(o(r.text)?r.text.length:1)*s.lineHeight+c.height}function Im(r,n){return Hn(r,{scale:n,type:"scale"})}function Fm(r,n,s){return Hn(r,{tick:s,index:n,type:"tick"})}function Bm(r,n,s){let c=ni(r);return(s&&n!=="right"||!s&&n==="right")&&(c=Lm(c)),c}function zm(r,n,s,c){let{top:d,left:g,bottom:b,right:x,chart:_}=r,{chartArea:k,scales:T}=_,D=0,R,I,B,V=b-d,$=x-g;if(r.isHorizontal()){if(I=de(c,g,x),a(s)){let U=Object.keys(s)[0],Q=s[U];B=T[U].getPixelForValue(Q)+V-n}else s==="center"?B=(k.bottom+k.top)/2+V-n:B=lh(r,s,n);R=x-g}else{if(a(s)){let U=Object.keys(s)[0],Q=s[U];I=T[U].getPixelForValue(Q)-$+n}else s==="center"?I=(k.left+k.right)/2-$+n:I=lh(r,s,n);B=de(c,b,d),D=s==="left"?-gt:gt}return{titleX:I,titleY:B,maxWidth:R,rotation:D}}class pi extends rn{constructor(n){super(),this.id=n.id,this.type=n.type,this.options=void 0,this.ctx=n.ctx,this.chart=n.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(n){this.options=n.setContext(this.getContext()),this.axis=n.axis,this._userMin=this.parse(n.min),this._userMax=this.parse(n.max),this._suggestedMin=this.parse(n.suggestedMin),this._suggestedMax=this.parse(n.suggestedMax)}parse(n,s){return n}getUserBounds(){let{_userMin:n,_userMax:s,_suggestedMin:c,_suggestedMax:d}=this;return n=p(n,Number.POSITIVE_INFINITY),s=p(s,Number.NEGATIVE_INFINITY),c=p(c,Number.POSITIVE_INFINITY),d=p(d,Number.NEGATIVE_INFINITY),{min:p(n,c),max:p(s,d),minDefined:h(n),maxDefined:h(s)}}getMinMax(n){let{min:s,max:c,minDefined:d,maxDefined:g}=this.getUserBounds(),b;if(d&&g)return{min:s,max:c};let x=this.getMatchingVisibleMetas();for(let _=0,k=x.length;_<k;++_)b=x[_].controller.getMinMax(this,n),d||(s=Math.min(s,b.min)),g||(c=Math.max(c,b.max));return s=g&&s>c?c:s,c=d&&s>c?s:c,{min:p(s,p(c,s)),max:p(c,p(s,c))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let n=this.chart.data;return this.options.labels||(this.isHorizontal()?n.xLabels:n.yLabels)||n.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){m(this.options.beforeUpdate,[this])}update(n,s,c){let{beginAtZero:d,grace:g,ticks:b}=this.options,x=b.sampleSize;this.beforeUpdate(),this.maxWidth=n,this.maxHeight=s,this._margins=c=Object.assign({left:0,right:0,top:0,bottom:0},c),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+c.left+c.right:this.height+c.top+c.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Du(this,g,d),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let _=x<this.ticks.length;this._convertTicksToLabels(_?ch(this.ticks,x):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),b.display&&(b.autoSkip||b.source==="auto")&&(this.ticks=Mm(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),_&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let n=this.options.reverse,s,c;this.isHorizontal()?(s=this.left,c=this.right):(s=this.top,c=this.bottom,n=!n),this._startPixel=s,this._endPixel=c,this._reversePixels=n,this._length=c-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){m(this.options.afterUpdate,[this])}beforeSetDimensions(){m(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){m(this.options.afterSetDimensions,[this])}_callHooks(n){this.chart.notifyPlugins(n,this.getContext()),m(this.options[n],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){m(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(n){let s=this.options.ticks,c,d,g;for(c=0,d=n.length;c<d;c++)g=n[c],g.label=m(s.callback,[g.value,c,n],this)}afterTickToLabelConversion(){m(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){m(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let n=this.options,s=n.ticks,c=this.ticks.length,d=s.minRotation||0,g=s.maxRotation,b=d,x,_,k;if(!this._isVisible()||!s.display||d>=g||c<=1||!this.isHorizontal()){this.labelRotation=d;return}let T=this._getLabelSizes(),D=T.widest.width,R=T.highest.height,I=Ut(this.chart.width-D,0,this.maxWidth);x=n.offset?this.maxWidth/c:I/(c-1),D+6>x&&(x=I/(c-(n.offset?.5:1)),_=this.maxHeight-bo(n.grid)-s.padding-uh(n.title,this.chart.options.font),k=Math.sqrt(D*D+R*R),b=Fe(Math.min(Math.asin(Ut((T.highest.height+6)/x,-1,1)),Math.asin(Ut(_/k,-1,1))-Math.asin(Ut(R/k,-1,1)))),b=Math.max(d,Math.min(g,b))),this.labelRotation=b}afterCalculateLabelRotation(){m(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){m(this.options.beforeFit,[this])}fit(){let n={width:0,height:0},{chart:s,options:{ticks:c,title:d,grid:g}}=this,b=this._isVisible(),x=this.isHorizontal();if(b){let _=uh(d,s.options.font);if(x?(n.width=this.maxWidth,n.height=bo(g)+_):(n.height=this.maxHeight,n.width=bo(g)+_),c.display&&this.ticks.length){let{first:k,last:T,widest:D,highest:R}=this._getLabelSizes(),I=c.padding*2,B=ne(this.labelRotation),V=Math.cos(B),$=Math.sin(B);if(x){let U=c.mirror?0:$*D.width+V*R.height;n.height=Math.min(this.maxHeight,n.height+U+I)}else{let U=c.mirror?0:V*D.width+$*R.height;n.width=Math.min(this.maxWidth,n.width+U+I)}this._calculatePadding(k,T,$,V)}}this._handleMargins(),x?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=n.height):(this.width=n.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(n,s,c,d){let{ticks:{align:g,padding:b},position:x}=this.options,_=this.labelRotation!==0,k=x!=="top"&&this.axis==="x";if(this.isHorizontal()){let T=this.getPixelForTick(0)-this.left,D=this.right-this.getPixelForTick(this.ticks.length-1),R=0,I=0;_?k?(R=d*n.width,I=c*s.height):(R=c*n.height,I=d*s.width):g==="start"?I=s.width:g==="end"?R=n.width:g!=="inner"&&(R=n.width/2,I=s.width/2),this.paddingLeft=Math.max((R-T+b)*this.width/(this.width-T),0),this.paddingRight=Math.max((I-D+b)*this.width/(this.width-D),0)}else{let T=s.height/2,D=n.height/2;g==="start"?(T=0,D=n.height):g==="end"&&(T=s.height,D=0),this.paddingTop=T+b,this.paddingBottom=D+b}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){m(this.options.afterFit,[this])}isHorizontal(){let{axis:n,position:s}=this.options;return s==="top"||s==="bottom"||n==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(n){this.beforeTickToLabelConversion(),this.generateTickLabels(n);let s,c;for(s=0,c=n.length;s<c;s++)e(n[s].label)&&(n.splice(s,1),c--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let n=this._labelSizes;if(!n){let s=this.options.ticks.sampleSize,c=this.ticks;s<c.length&&(c=ch(c,s)),this._labelSizes=n=this._computeLabelSizes(c,c.length)}return n}_computeLabelSizes(n,s){let{ctx:c,_longestTextCache:d}=this,g=[],b=[],x=0,_=0,k,T,D,R,I,B,V,$,U,Q,ot;for(k=0;k<s;++k){if(R=n[k].label,I=this._resolveTickFontOptions(k),c.font=B=I.string,V=d[B]=d[B]||{data:{},gc:[]},$=I.lineHeight,U=Q=0,!e(R)&&!o(R))U=ro(c,V.data,V.gc,U,R),Q=$;else if(o(R))for(T=0,D=R.length;T<D;++T)ot=R[T],!e(ot)&&!o(ot)&&(U=ro(c,V.data,V.gc,U,ot),Q+=$);g.push(U),b.push(Q),x=Math.max(U,x),_=Math.max(Q,_)}Rm(d,s);let st=g.indexOf(x),tt=b.indexOf(_),ut=ht=>({width:g[ht]||0,height:b[ht]||0});return{first:ut(0),last:ut(s-1),widest:ut(st),highest:ut(tt),widths:g,heights:b}}getLabelForValue(n){return n}getPixelForValue(n,s){return NaN}getValueForPixel(n){}getPixelForTick(n){let s=this.ticks;return n<0||n>s.length-1?null:this.getPixelForValue(s[n].value)}getPixelForDecimal(n){this._reversePixels&&(n=1-n);let s=this._startPixel+n*this._length;return Bn(this._alignToPixels?ui(this.chart,s,0):s)}getDecimalForPixel(n){let s=(n-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:n,max:s}=this;return n<0&&s<0?s:n>0&&s>0?n:0}getContext(n){let s=this.ticks||[];if(n>=0&&n<s.length){let c=s[n];return c.$context||(c.$context=Fm(this.getContext(),n,c))}return this.$context||(this.$context=Im(this.chart.getContext(),this))}_tickSize(){let n=this.options.ticks,s=ne(this.labelRotation),c=Math.abs(Math.cos(s)),d=Math.abs(Math.sin(s)),g=this._getLabelSizes(),b=n.autoSkipPadding||0,x=g?g.widest.width+b:0,_=g?g.highest.height+b:0;return this.isHorizontal()?_*c>x*d?x/c:_/d:_*d<x*c?_/c:x/d}_isVisible(){let n=this.options.display;return n!=="auto"?!!n:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(n){let s=this.axis,c=this.chart,d=this.options,{grid:g,position:b}=d,x=g.offset,_=this.isHorizontal(),T=this.ticks.length+(x?1:0),D=bo(g),R=[],I=g.setContext(this.getContext()),B=I.drawBorder?I.borderWidth:0,V=B/2,$=function(Ot){return ui(c,Ot,B)},U,Q,ot,st,tt,ut,ht,wt,_t,Vt,Ht,It;if(b==="top")U=$(this.bottom),ut=this.bottom-D,wt=U-V,Vt=$(n.top)+V,It=n.bottom;else if(b==="bottom")U=$(this.top),Vt=n.top,It=$(n.bottom)-V,ut=U+V,wt=this.top+D;else if(b==="left")U=$(this.right),tt=this.right-D,ht=U-V,_t=$(n.left)+V,Ht=n.right;else if(b==="right")U=$(this.left),_t=n.left,Ht=$(n.right)-V,tt=U+V,ht=this.left+D;else if(s==="x"){if(b==="center")U=$((n.top+n.bottom)/2+.5);else if(a(b)){let Ot=Object.keys(b)[0],xe=b[Ot];U=$(this.chart.scales[Ot].getPixelForValue(xe))}Vt=n.top,It=n.bottom,ut=U+V,wt=ut+D}else if(s==="y"){if(b==="center")U=$((n.left+n.right)/2);else if(a(b)){let Ot=Object.keys(b)[0],xe=b[Ot];U=$(this.chart.scales[Ot].getPixelForValue(xe))}tt=U-V,ht=tt-D,_t=n.left,Ht=n.right}let ve=u(d.ticks.maxTicksLimit,T),We=Math.max(1,Math.ceil(T/ve));for(Q=0;Q<T;Q+=We){let Ot=g.setContext(this.getContext(Q)),xe=Ot.lineWidth,ge=Ot.color,Ui=Ot.borderDash||[],yl=Ot.borderDashOffset,ks=Ot.tickWidth,Fr=Ot.tickColor,Ps=Ot.tickBorderDash||[],wo=Ot.tickBorderDashOffset;ot=Sm(this,Q,x),ot!==void 0&&(st=ui(c,ot,xe),_?tt=ht=_t=Ht=st:ut=wt=Vt=It=st,R.push({tx1:tt,ty1:ut,tx2:ht,ty2:wt,x1:_t,y1:Vt,x2:Ht,y2:It,width:xe,color:ge,borderDash:Ui,borderDashOffset:yl,tickWidth:ks,tickColor:Fr,tickBorderDash:Ps,tickBorderDashOffset:wo}))}return this._ticksLength=T,this._borderValue=U,R}_computeLabelItems(n){let s=this.axis,c=this.options,{position:d,ticks:g}=c,b=this.isHorizontal(),x=this.ticks,{align:_,crossAlign:k,padding:T,mirror:D}=g,R=bo(c.grid),I=R+T,B=D?-T:I,V=-ne(this.labelRotation),$=[],U,Q,ot,st,tt,ut,ht,wt,_t,Vt,Ht,It,ve="middle";if(d==="top")ut=this.bottom-B,ht=this._getXAxisLabelAlignment();else if(d==="bottom")ut=this.top+B,ht=this._getXAxisLabelAlignment();else if(d==="left"){let Ot=this._getYAxisLabelAlignment(R);ht=Ot.textAlign,tt=Ot.x}else if(d==="right"){let Ot=this._getYAxisLabelAlignment(R);ht=Ot.textAlign,tt=Ot.x}else if(s==="x"){if(d==="center")ut=(n.top+n.bottom)/2+I;else if(a(d)){let Ot=Object.keys(d)[0],xe=d[Ot];ut=this.chart.scales[Ot].getPixelForValue(xe)+I}ht=this._getXAxisLabelAlignment()}else if(s==="y"){if(d==="center")tt=(n.left+n.right)/2-I;else if(a(d)){let Ot=Object.keys(d)[0],xe=d[Ot];tt=this.chart.scales[Ot].getPixelForValue(xe)}ht=this._getYAxisLabelAlignment(R).textAlign}s==="y"&&(_==="start"?ve="top":_==="end"&&(ve="bottom"));let We=this._getLabelSizes();for(U=0,Q=x.length;U<Q;++U){ot=x[U],st=ot.label;let Ot=g.setContext(this.getContext(U));wt=this.getPixelForTick(U)+g.labelOffset,_t=this._resolveTickFontOptions(U),Vt=_t.lineHeight,Ht=o(st)?st.length:1;let xe=Ht/2,ge=Ot.color,Ui=Ot.textStrokeColor,yl=Ot.textStrokeWidth,ks=ht;b?(tt=wt,ht==="inner"&&(U===Q-1?ks=this.options.reverse?"left":"right":U===0?ks=this.options.reverse?"right":"left":ks="center"),d==="top"?k==="near"||V!==0?It=-Ht*Vt+Vt/2:k==="center"?It=-We.highest.height/2-xe*Vt+Vt:It=-We.highest.height+Vt/2:k==="near"||V!==0?It=Vt/2:k==="center"?It=We.highest.height/2-xe*Vt:It=We.highest.height-Ht*Vt,D&&(It*=-1)):(ut=wt,It=(1-Ht)*Vt/2);let Fr;if(Ot.showLabelBackdrop){let Ps=De(Ot.backdropPadding),wo=We.heights[U],wl=We.widths[U],kl=ut+It-Ps.top,Pl=tt-Ps.left;switch(ve){case"middle":kl-=wo/2;break;case"bottom":kl-=wo;break}switch(ht){case"center":Pl-=wl/2;break;case"right":Pl-=wl;break}Fr={left:Pl,top:kl,width:wl+Ps.width,height:wo+Ps.height,color:Ot.backdropColor}}$.push({rotation:V,label:st,font:_t,color:ge,strokeColor:Ui,strokeWidth:yl,textOffset:It,textAlign:ks,textBaseline:ve,translation:[tt,ut],backdrop:Fr})}return $}_getXAxisLabelAlignment(){let{position:n,ticks:s}=this.options;if(-ne(this.labelRotation))return n==="top"?"left":"right";let d="center";return s.align==="start"?d="left":s.align==="end"?d="right":s.align==="inner"&&(d="inner"),d}_getYAxisLabelAlignment(n){let{position:s,ticks:{crossAlign:c,mirror:d,padding:g}}=this.options,b=this._getLabelSizes(),x=n+g,_=b.widest.width,k,T;return s==="left"?d?(T=this.right+g,c==="near"?k="left":c==="center"?(k="center",T+=_/2):(k="right",T+=_)):(T=this.right-x,c==="near"?k="right":c==="center"?(k="center",T-=_/2):(k="left",T=this.left)):s==="right"?d?(T=this.left+g,c==="near"?k="right":c==="center"?(k="center",T-=_/2):(k="left",T-=_)):(T=this.left+x,c==="near"?k="left":c==="center"?(k="center",T+=_/2):(k="right",T=this.right)):k="right",{textAlign:k,x:T}}_computeLabelArea(){if(this.options.ticks.mirror)return;let n=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:n.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:n.width}}drawBackground(){let{ctx:n,options:{backgroundColor:s},left:c,top:d,width:g,height:b}=this;s&&(n.save(),n.fillStyle=s,n.fillRect(c,d,g,b),n.restore())}getLineWidthForValue(n){let s=this.options.grid;if(!this._isVisible()||!s.display)return 0;let d=this.ticks.findIndex(g=>g.value===n);return d>=0?s.setContext(this.getContext(d)).lineWidth:0}drawGrid(n){let s=this.options.grid,c=this.ctx,d=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(n)),g,b,x=(_,k,T)=>{!T.width||!T.color||(c.save(),c.lineWidth=T.width,c.strokeStyle=T.color,c.setLineDash(T.borderDash||[]),c.lineDashOffset=T.borderDashOffset,c.beginPath(),c.moveTo(_.x,_.y),c.lineTo(k.x,k.y),c.stroke(),c.restore())};if(s.display)for(g=0,b=d.length;g<b;++g){let _=d[g];s.drawOnChartArea&&x({x:_.x1,y:_.y1},{x:_.x2,y:_.y2},_),s.drawTicks&&x({x:_.tx1,y:_.ty1},{x:_.tx2,y:_.ty2},{color:_.tickColor,width:_.tickWidth,borderDash:_.tickBorderDash,borderDashOffset:_.tickBorderDashOffset})}}drawBorder(){let{chart:n,ctx:s,options:{grid:c}}=this,d=c.setContext(this.getContext()),g=c.drawBorder?d.borderWidth:0;if(!g)return;let b=c.setContext(this.getContext(0)).lineWidth,x=this._borderValue,_,k,T,D;this.isHorizontal()?(_=ui(n,this.left,g)-g/2,k=ui(n,this.right,b)+b/2,T=D=x):(T=ui(n,this.top,g)-g/2,D=ui(n,this.bottom,b)+b/2,_=k=x),s.save(),s.lineWidth=d.borderWidth,s.strokeStyle=d.borderColor,s.beginPath(),s.moveTo(_,T),s.lineTo(k,D),s.stroke(),s.restore()}drawLabels(n){if(!this.options.ticks.display)return;let c=this.ctx,d=this._computeLabelArea();d&&ao(c,d);let g=this._labelItems||(this._labelItems=this._computeLabelItems(n)),b,x;for(b=0,x=g.length;b<x;++b){let _=g[b],k=_.font,T=_.label;_.backdrop&&(c.fillStyle=_.backdrop.color,c.fillRect(_.backdrop.left,_.backdrop.top,_.backdrop.width,_.backdrop.height));let D=_.textOffset;hi(c,T,0,D,k,_)}d&&lo(c)}drawTitle(){let{ctx:n,options:{position:s,title:c,reverse:d}}=this;if(!c.display)return;let g=be(c.font),b=De(c.padding),x=c.align,_=g.lineHeight/2;s==="bottom"||s==="center"||a(s)?(_+=b.bottom,o(c.text)&&(_+=g.lineHeight*(c.text.length-1))):_+=b.top;let{titleX:k,titleY:T,maxWidth:D,rotation:R}=zm(this,_,s,x);hi(n,c.text,0,0,g,{color:c.color,maxWidth:D,rotation:R,textAlign:Bm(x,s,d),textBaseline:"middle",translation:[k,T]})}draw(n){this._isVisible()&&(this.drawBackground(),this.drawGrid(n),this.drawBorder(),this.drawTitle(),this.drawLabels(n))}_layers(){let n=this.options,s=n.ticks&&n.ticks.z||0,c=u(n.grid&&n.grid.z,-1);return!this._isVisible()||this.draw!==pi.prototype.draw?[{z:s,draw:d=>{this.draw(d)}}]:[{z:c,draw:d=>{this.drawBackground(),this.drawGrid(d),this.drawTitle()}},{z:c+1,draw:()=>{this.drawBorder()}},{z:s,draw:d=>{this.drawLabels(d)}}]}getMatchingVisibleMetas(n){let s=this.chart.getSortedVisibleDatasetMetas(),c=this.axis+"AxisID",d=[],g,b;for(g=0,b=s.length;g<b;++g){let x=s[g];x[c]===this.id&&(!n||x.type===n)&&d.push(x)}return d}_resolveTickFontOptions(n){let s=this.options.ticks.setContext(this.getContext(n));return be(s.font)}_maxDigits(){let n=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/n}}class vr{constructor(n,s,c){this.type=n,this.scope=s,this.override=c,this.items=Object.create(null)}isForType(n){return Object.prototype.isPrototypeOf.call(this.type.prototype,n.prototype)}register(n){let s=Object.getPrototypeOf(n),c;Hm(s)&&(c=this.register(s));let d=this.items,g=n.id,b=this.scope+"."+g;if(!g)throw new Error("class does not have id: "+n);return g in d||(d[g]=n,Nm(n,b,c),this.override&&Et.override(n.id,n.overrides)),b}get(n){return this.items[n]}unregister(n){let s=this.items,c=n.id,d=this.scope;c in s&&delete s[c],d&&c in Et[d]&&(delete Et[d][c],this.override&&delete Yt[c])}}function Nm(r,n,s){let c=M(Object.create(null),[s?Et.get(s):{},Et.get(n),r.defaults]);Et.set(n,c),r.defaultRoutes&&Vm(n,r.defaultRoutes),r.descriptors&&Et.describe(n,r.descriptors)}function Vm(r,n){Object.keys(n).forEach(s=>{let c=s.split("."),d=c.pop(),g=[r].concat(c).join("."),b=n[s].split("."),x=b.pop(),_=b.join(".");Et.route(g,d,_,x)})}function Hm(r){return"id"in r&&"defaults"in r}class Wm{constructor(){this.controllers=new vr(on,"datasets",!0),this.elements=new vr(rn,"elements"),this.plugins=new vr(Object,"plugins"),this.scales=new vr(pi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...n){this._each("register",n)}remove(...n){this._each("unregister",n)}addControllers(...n){this._each("register",n,this.controllers)}addElements(...n){this._each("register",n,this.elements)}addPlugins(...n){this._each("register",n,this.plugins)}addScales(...n){this._each("register",n,this.scales)}getController(n){return this._get(n,this.controllers,"controller")}getElement(n){return this._get(n,this.elements,"element")}getPlugin(n){return this._get(n,this.plugins,"plugin")}getScale(n){return this._get(n,this.scales,"scale")}removeControllers(...n){this._each("unregister",n,this.controllers)}removeElements(...n){this._each("unregister",n,this.elements)}removePlugins(...n){this._each("unregister",n,this.plugins)}removeScales(...n){this._each("unregister",n,this.scales)}_each(n,s,c){[...s].forEach(d=>{let g=c||this._getRegistryForType(d);c||g.isForType(d)||g===this.plugins&&d.id?this._exec(n,g,d):v(d,b=>{let x=c||this._getRegistryForType(b);this._exec(n,x,b)})})}_exec(n,s,c){let d=W(n);m(c["before"+d],[],c),s[n](c),m(c["after"+d],[],c)}_getRegistryForType(n){for(let s=0;s<this._typedRegistries.length;s++){let c=this._typedRegistries[s];if(c.isForType(n))return c}return this.plugins}_get(n,s,c){let d=s.get(n);if(d===void 0)throw new Error('"'+n+'" is not a registered '+c+".");return d}}var bn=new Wm;class $m{constructor(){this._init=[]}notify(n,s,c,d){s==="beforeInit"&&(this._init=this._createDescriptors(n,!0),this._notify(this._init,n,"install"));let g=d?this._descriptors(n).filter(d):this._descriptors(n),b=this._notify(g,n,s,c);return s==="afterDestroy"&&(this._notify(g,n,"stop"),this._notify(this._init,n,"uninstall")),b}_notify(n,s,c,d){d=d||{};for(let g of n){let b=g.plugin,x=b[c],_=[s,d,g.options];if(m(x,_,b)===!1&&d.cancelable)return!1}return!0}invalidate(){e(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(n){if(this._cache)return this._cache;let s=this._cache=this._createDescriptors(n);return this._notifyStateChanges(n),s}_createDescriptors(n,s){let c=n&&n.config,d=u(c.options&&c.options.plugins,{}),g=Ym(c);return d===!1&&!s?[]:Um(n,g,d,s)}_notifyStateChanges(n){let s=this._oldCache||[],c=this._cache,d=(g,b)=>g.filter(x=>!b.some(_=>x.plugin.id===_.plugin.id));this._notify(d(s,c),n,"stop"),this._notify(d(c,s),n,"start")}}function Ym(r){let n={},s=[],c=Object.keys(bn.plugins.items);for(let g=0;g<c.length;g++)s.push(bn.getPlugin(c[g]));let d=r.plugins||[];for(let g=0;g<d.length;g++){let b=d[g];s.indexOf(b)===-1&&(s.push(b),n[b.id]=!0)}return{plugins:s,localIds:n}}function qm(r,n){return!n&&r===!1?null:r===!0?{}:r}function Um(r,{plugins:n,localIds:s},c,d){let g=[],b=r.getContext();for(let x of n){let _=x.id,k=qm(c[_],d);k!==null&&g.push({plugin:x,options:Xm(r.config,{plugin:x,local:s[_]},k,b)})}return g}function Xm(r,{plugin:n,local:s},c,d){let g=r.pluginScopeKeys(n),b=r.getOptionScopes(c,g);return s&&n.defaults&&b.push(n.defaults),r.createResolver(b,d,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function nl(r,n){let s=Et.datasets[r]||{};return((n.datasets||{})[r]||{}).indexAxis||n.indexAxis||s.indexAxis||"x"}function Gm(r,n){let s=r;return r==="_index_"?s=n:r==="_value_"&&(s=n==="x"?"y":"x"),s}function Km(r,n){return r===n?"_index_":"_value_"}function Qm(r){if(r==="top"||r==="bottom")return"x";if(r==="left"||r==="right")return"y"}function il(r,n){return r==="x"||r==="y"?r:n.axis||Qm(n.position)||r.charAt(0).toLowerCase()}function Zm(r,n){let s=Yt[r.type]||{scales:{}},c=n.scales||{},d=nl(r.type,n),g=Object.create(null),b=Object.create(null);return Object.keys(c).forEach(x=>{let _=c[x];if(!a(_))return console.error(`Invalid scale configuration for scale: ${x}`);if(_._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${x}`);let k=il(x,_),T=Km(k,d),D=s.scales||{};g[k]=g[k]||x,b[x]=O(Object.create(null),[{axis:k},_,D[k],D[T]])}),r.data.datasets.forEach(x=>{let _=x.type||r.type,k=x.indexAxis||nl(_,n),D=(Yt[_]||{}).scales||{};Object.keys(D).forEach(R=>{let I=Gm(R,k),B=x[I+"AxisID"]||g[I]||I;b[B]=b[B]||Object.create(null),O(b[B],[{axis:I},c[B],D[R]])})}),Object.keys(b).forEach(x=>{let _=b[x];O(_,[Et.scales[_.type],Et.scale])}),b}function hh(r){let n=r.options||(r.options={});n.plugins=u(n.plugins,{}),n.scales=Zm(r,n)}function fh(r){return r=r||{},r.datasets=r.datasets||[],r.labels=r.labels||[],r}function Jm(r){return r=r||{},r.data=fh(r.data),hh(r),r}let dh=new Map,ph=new Set;function xr(r,n){let s=dh.get(r);return s||(s=n(),dh.set(r,s),ph.add(s)),s}let vo=(r,n,s)=>{let c=F(n,s);c!==void 0&&r.add(c)};class jm{constructor(n){this._config=Jm(n),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(n){this._config.type=n}get data(){return this._config.data}set data(n){this._config.data=fh(n)}get options(){return this._config.options}set options(n){this._config.options=n}get plugins(){return this._config.plugins}update(){let n=this._config;this.clearCache(),hh(n)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(n){return xr(n,()=>[[`datasets.${n}`,""]])}datasetAnimationScopeKeys(n,s){return xr(`${n}.transition.${s}`,()=>[[`datasets.${n}.transitions.${s}`,`transitions.${s}`],[`datasets.${n}`,""]])}datasetElementScopeKeys(n,s){return xr(`${n}-${s}`,()=>[[`datasets.${n}.elements.${s}`,`datasets.${n}`,`elements.${s}`,""]])}pluginScopeKeys(n){let s=n.id,c=this.type;return xr(`${c}-plugin-${s}`,()=>[[`plugins.${s}`,...n.additionalOptionScopes||[]]])}_cachedScopes(n,s){let c=this._scopeCache,d=c.get(n);return(!d||s)&&(d=new Map,c.set(n,d)),d}getOptionScopes(n,s,c){let{options:d,type:g}=this,b=this._cachedScopes(n,c),x=b.get(s);if(x)return x;let _=new Set;s.forEach(T=>{n&&(_.add(n),T.forEach(D=>vo(_,n,D))),T.forEach(D=>vo(_,d,D)),T.forEach(D=>vo(_,Yt[g]||{},D)),T.forEach(D=>vo(_,Et,D)),T.forEach(D=>vo(_,Zt,D))});let k=Array.from(_);return k.length===0&&k.push(Object.create(null)),ph.has(s)&&b.set(s,k),k}chartOptionScopes(){let{options:n,type:s}=this;return[n,Yt[s]||{},Et.datasets[s]||{},{type:s},Et,Zt]}resolveNamedOptions(n,s,c,d=[""]){let g={$shared:!0},{resolver:b,subPrefixes:x}=gh(this._resolverCache,n,d),_=b;if(eb(b,s)){g.$shared=!1,c=et(c)?c():c;let k=this.createResolver(n,c,x);_=$i(b,c,k)}for(let k of s)g[k]=_[k];return g}createResolver(n,s,c=[""],d){let{resolver:g}=gh(this._resolverCache,n,c);return a(s)?$i(g,s,void 0,d):g}}function gh(r,n,s){let c=r.get(n);c||(c=new Map,r.set(n,c));let d=s.join(),g=c.get(d);return g||(g={resolver:ur(n,s),subPrefixes:s.filter(x=>!x.toLowerCase().includes("hover"))},c.set(d,g)),g}let tb=r=>a(r)&&Object.getOwnPropertyNames(r).reduce((n,s)=>n||et(r[s]),!1);function eb(r,n){let{isScriptable:s,isIndexable:c}=Va(r);for(let d of n){let g=s(d),b=c(d),x=(b||g)&&r[d];if(g&&(et(x)||tb(x))||b&&o(x))return!0}return!1}var nb="3.9.1";let ib=["top","bottom","left","right","chartArea"];function mh(r,n){return r==="top"||r==="bottom"||ib.indexOf(r)===-1&&n==="x"}function bh(r,n){return function(s,c){return s[r]===c[r]?s[n]-c[n]:s[r]-c[r]}}function vh(r){let n=r.chart,s=n.options.animation;n.notifyPlugins("afterRender"),m(s&&s.onComplete,[r],n)}function sb(r){let n=r.chart,s=n.options.animation;m(s&&s.onProgress,[r],n)}function xh(r){return Wi()&&typeof r=="string"?r=document.getElementById(r):r&&r.length&&(r=r[0]),r&&r.canvas&&(r=r.canvas),r}let _r={},_h=r=>{let n=xh(r);return Object.values(_r).filter(s=>s.canvas===n).pop()};function ob(r,n,s){let c=Object.keys(r);for(let d of c){let g=+d;if(g>=n){let b=r[d];delete r[d],(s>0||g>n)&&(r[g+s]=b)}}}function rb(r,n,s,c){return!s||r.type==="mouseout"?null:c?n:r}class le{constructor(n,s){let c=this.config=new jm(s),d=xh(n),g=_h(d);if(g)throw new Error("Canvas is already in use. Chart with ID '"+g.id+"' must be destroyed before the canvas with ID '"+g.canvas.id+"' can be reused.");let b=c.createResolver(c.chartOptionScopes(),this.getContext());this.platform=new(c.platform||Qu(d)),this.platform.updateConfig(c);let x=this.platform.acquireContext(d,b.aspectRatio),_=x&&x.canvas,k=_&&_.height,T=_&&_.width;if(this.id=t(),this.ctx=x,this.canvas=_,this.width=T,this.height=k,this._options=b,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new $m,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Bi(D=>this.update(D),b.resizeDelay||0),this._dataChanges=[],_r[this.id]=this,!x||!_){console.error("Failed to create chart: can't acquire context from the given item");return}Pt.listen(this,"complete",vh),Pt.listen(this,"progress",sb),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:n,maintainAspectRatio:s},width:c,height:d,_aspectRatio:g}=this;return e(n)?s&&g?g:d?c/d:null:n}get data(){return this.config.data}set data(n){this.config.data=n}get options(){return this._options}set options(n){this.config.options=n}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Fa(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return za(this.canvas,this.ctx),this}stop(){return Pt.stop(this),this}resize(n,s){Pt.running(this)?this._resizeBeforeDraw={width:n,height:s}:this._resize(n,s)}_resize(n,s){let c=this.options,d=this.canvas,g=c.maintainAspectRatio&&this.aspectRatio,b=this.platform.getMaximumSize(d,n,s,g),x=c.devicePixelRatio||this.platform.getDevicePixelRatio(),_=this.width?"resize":"attach";this.width=b.width,this.height=b.height,this._aspectRatio=this.aspectRatio,Fa(this,x,!0)&&(this.notifyPlugins("resize",{size:b}),m(c.onResize,[this,b],this),this.attached&&this._doResize(_)&&this.render())}ensureScalesHaveIDs(){let s=this.options.scales||{};v(s,(c,d)=>{c.id=d})}buildOrUpdateScales(){let n=this.options,s=n.scales,c=this.scales,d=Object.keys(c).reduce((b,x)=>(b[x]=!1,b),{}),g=[];s&&(g=g.concat(Object.keys(s).map(b=>{let x=s[b],_=il(b,x),k=_==="r",T=_==="x";return{options:x,dposition:k?"chartArea":T?"bottom":"left",dtype:k?"radialLinear":T?"category":"linear"}}))),v(g,b=>{let x=b.options,_=x.id,k=il(_,x),T=u(x.type,b.dtype);(x.position===void 0||mh(x.position,k)!==mh(b.dposition))&&(x.position=b.dposition),d[_]=!0;let D=null;if(_ in c&&c[_].type===T)D=c[_];else{let R=bn.getScale(T);D=new R({id:_,type:T,ctx:this.ctx,chart:this}),c[D.id]=D}D.init(x,n)}),v(d,(b,x)=>{b||delete c[x]}),v(c,b=>{Le.configure(this,b,b.options),Le.addBox(this,b)})}_updateMetasets(){let n=this._metasets,s=this.data.datasets.length,c=n.length;if(n.sort((d,g)=>d.index-g.index),c>s){for(let d=s;d<c;++d)this._destroyDatasetMeta(d);n.splice(s,c-s)}this._sortedMetasets=n.slice(0).sort(bh("order","index"))}_removeUnreferencedMetasets(){let{_metasets:n,data:{datasets:s}}=this;n.length>s.length&&delete this._stacks,n.forEach((c,d)=>{s.filter(g=>g===c._dataset).length===0&&this._destroyDatasetMeta(d)})}buildOrUpdateControllers(){let n=[],s=this.data.datasets,c,d;for(this._removeUnreferencedMetasets(),c=0,d=s.length;c<d;c++){let g=s[c],b=this.getDatasetMeta(c),x=g.type||this.config.type;if(b.type&&b.type!==x&&(this._destroyDatasetMeta(c),b=this.getDatasetMeta(c)),b.type=x,b.indexAxis=g.indexAxis||nl(x,this.options),b.order=g.order||0,b.index=c,b.label=""+g.label,b.visible=this.isDatasetVisible(c),b.controller)b.controller.updateIndex(c),b.controller.linkScales();else{let _=bn.getController(x),{datasetElementType:k,dataElementType:T}=Et.datasets[x];Object.assign(_.prototype,{dataElementType:bn.getElement(T),datasetElementType:k&&bn.getElement(k)}),b.controller=new _(this,c),n.push(b.controller)}}return this._updateMetasets(),n}_resetElements(){v(this.data.datasets,(n,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(n){let s=this.config;s.update();let c=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),d=this._animationsDisabled=!c.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:n,cancelable:!0})===!1)return;let g=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let b=0;for(let k=0,T=this.data.datasets.length;k<T;k++){let{controller:D}=this.getDatasetMeta(k),R=!d&&g.indexOf(D)===-1;D.buildOrUpdateElements(R),b=Math.max(+D.getMaxOverflow(),b)}b=this._minPadding=c.layout.autoPadding?b:0,this._updateLayout(b),d||v(g,k=>{k.reset()}),this._updateDatasets(n),this.notifyPlugins("afterUpdate",{mode:n}),this._layers.sort(bh("z","_idx"));let{_active:x,_lastEvent:_}=this;_?this._eventHandler(_,!0):x.length&&this._updateHoverStyles(x,x,!0),this.render()}_updateScales(){v(this.scales,n=>{Le.removeBox(this,n)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let n=this.options,s=new Set(Object.keys(this._listeners)),c=new Set(n.events);(!nt(s,c)||!!this._responsiveListeners!==n.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:n}=this,s=this._getUniformDataChanges()||[];for(let{method:c,start:d,count:g}of s){let b=c==="_removeElements"?-g:g;ob(n,d,b)}}_getUniformDataChanges(){let n=this._dataChanges;if(!n||!n.length)return;this._dataChanges=[];let s=this.data.datasets.length,c=g=>new Set(n.filter(b=>b[0]===g).map((b,x)=>x+","+b.splice(1).join(","))),d=c(0);for(let g=1;g<s;g++)if(!nt(d,c(g)))return;return Array.from(d).map(g=>g.split(",")).map(g=>({method:g[1],start:+g[2],count:+g[3]}))}_updateLayout(n){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Le.update(this,this.width,this.height,n);let s=this.chartArea,c=s.width<=0||s.height<=0;this._layers=[],v(this.boxes,d=>{c&&d.position==="chartArea"||(d.configure&&d.configure(),this._layers.push(...d._layers()))},this),this._layers.forEach((d,g)=>{d._idx=g}),this.notifyPlugins("afterLayout")}_updateDatasets(n){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:n,cancelable:!0})!==!1){for(let s=0,c=this.data.datasets.length;s<c;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,c=this.data.datasets.length;s<c;++s)this._updateDataset(s,et(n)?n({datasetIndex:s}):n);this.notifyPlugins("afterDatasetsUpdate",{mode:n})}}_updateDataset(n,s){let c=this.getDatasetMeta(n),d={meta:c,index:n,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",d)!==!1&&(c.controller._update(s),d.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",d))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Pt.has(this)?this.attached&&!Pt.running(this)&&Pt.start(this):(this.draw(),vh({chart:this})))}draw(){let n;if(this._resizeBeforeDraw){let{width:c,height:d}=this._resizeBeforeDraw;this._resize(c,d),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let s=this._layers;for(n=0;n<s.length&&s[n].z<=0;++n)s[n].draw(this.chartArea);for(this._drawDatasets();n<s.length;++n)s[n].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(n){let s=this._sortedMetasets,c=[],d,g;for(d=0,g=s.length;d<g;++d){let b=s[d];(!n||b.visible)&&c.push(b)}return c}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let n=this.getSortedVisibleDatasetMetas();for(let s=n.length-1;s>=0;--s)this._drawDataset(n[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(n){let s=this.ctx,c=n._clip,d=!c.disabled,g=this.chartArea,b={meta:n,index:n.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",b)!==!1&&(d&&ao(s,{left:c.left===!1?0:g.left-c.left,right:c.right===!1?this.width:g.right+c.right,top:c.top===!1?0:g.top-c.top,bottom:c.bottom===!1?this.height:g.bottom+c.bottom}),n.controller.draw(),d&&lo(s),b.cancelable=!1,this.notifyPlugins("afterDatasetDraw",b))}isPointInArea(n){return gs(n,this.chartArea,this._minPadding)}getElementsAtEventForMode(n,s,c,d){let g=zu.modes[s];return typeof g=="function"?g(this,n,c,d):[]}getDatasetMeta(n){let s=this.data.datasets[n],c=this._metasets,d=c.filter(g=>g&&g._dataset===s).pop();return d||(d={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:n,_dataset:s,_parsed:[],_sorted:!1},c.push(d)),d}getContext(){return this.$context||(this.$context=Hn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(n){let s=this.data.datasets[n];if(!s)return!1;let c=this.getDatasetMeta(n);return typeof c.hidden=="boolean"?!c.hidden:!s.hidden}setDatasetVisibility(n,s){let c=this.getDatasetMeta(n);c.hidden=!s}toggleDataVisibility(n){this._hiddenIndices[n]=!this._hiddenIndices[n]}getDataVisibility(n){return!this._hiddenIndices[n]}_updateVisibility(n,s,c){let d=c?"show":"hide",g=this.getDatasetMeta(n),b=g.controller._resolveAnimations(void 0,d);G(s)?(g.data[s].hidden=!c,this.update()):(this.setDatasetVisibility(n,c),b.update(g,{visible:c}),this.update(x=>x.datasetIndex===n?d:void 0))}hide(n,s){this._updateVisibility(n,s,!1)}show(n,s){this._updateVisibility(n,s,!0)}_destroyDatasetMeta(n){let s=this._metasets[n];s&&s.controller&&s.controller._destroy(),delete this._metasets[n]}_stop(){let n,s;for(this.stop(),Pt.remove(this),n=0,s=this.data.datasets.length;n<s;++n)this._destroyDatasetMeta(n)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:n,ctx:s}=this;this._stop(),this.config.clearCache(),n&&(this.unbindEvents(),za(n,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete _r[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...n){return this.canvas.toDataURL(...n)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let n=this._listeners,s=this.platform,c=(g,b)=>{s.addEventListener(this,g,b),n[g]=b},d=(g,b,x)=>{g.offsetX=b,g.offsetY=x,this._eventHandler(g)};v(this.options.events,g=>c(g,d))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let n=this._responsiveListeners,s=this.platform,c=(_,k)=>{s.addEventListener(this,_,k),n[_]=k},d=(_,k)=>{n[_]&&(s.removeEventListener(this,_,k),delete n[_])},g=(_,k)=>{this.canvas&&this.resize(_,k)},b,x=()=>{d("attach",x),this.attached=!0,this.resize(),c("resize",g),c("detach",b)};b=()=>{this.attached=!1,d("resize",g),this._stop(),this._resize(0,0),c("attach",x)},s.isAttached(this.canvas)?x():b()}unbindEvents(){v(this._listeners,(n,s)=>{this.platform.removeEventListener(this,s,n)}),this._listeners={},v(this._responsiveListeners,(n,s)=>{this.platform.removeEventListener(this,s,n)}),this._responsiveListeners=void 0}updateHoverStyle(n,s,c){let d=c?"set":"remove",g,b,x,_;for(s==="dataset"&&(g=this.getDatasetMeta(n[0].datasetIndex),g.controller["_"+d+"DatasetHoverStyle"]()),x=0,_=n.length;x<_;++x){b=n[x];let k=b&&this.getDatasetMeta(b.datasetIndex).controller;k&&k[d+"HoverStyle"](b.element,b.datasetIndex,b.index)}}getActiveElements(){return this._active||[]}setActiveElements(n){let s=this._active||[],c=n.map(({datasetIndex:g,index:b})=>{let x=this.getDatasetMeta(g);if(!x)throw new Error("No dataset found at index "+g);return{datasetIndex:g,element:x.data[b],index:b}});!y(c,s)&&(this._active=c,this._lastEvent=null,this._updateHoverStyles(c,s))}notifyPlugins(n,s,c){return this._plugins.notify(this,n,s,c)}_updateHoverStyles(n,s,c){let d=this.options.hover,g=(_,k)=>_.filter(T=>!k.some(D=>T.datasetIndex===D.datasetIndex&&T.index===D.index)),b=g(s,n),x=c?n:g(n,s);b.length&&this.updateHoverStyle(b,d.mode,!1),x.length&&d.mode&&this.updateHoverStyle(x,d.mode,!0)}_eventHandler(n,s){let c={event:n,replay:s,cancelable:!0,inChartArea:this.isPointInArea(n)},d=b=>(b.options.events||this.options.events).includes(n.native.type);if(this.notifyPlugins("beforeEvent",c,d)===!1)return;let g=this._handleEvent(n,s,c.inChartArea);return c.cancelable=!1,this.notifyPlugins("afterEvent",c,d),(g||c.changed)&&this.render(),this}_handleEvent(n,s,c){let{_active:d=[],options:g}=this,b=s,x=this._getActiveElements(n,d,c,b),_=it(n),k=rb(n,this._lastEvent,c,_);c&&(this._lastEvent=null,m(g.onHover,[n,x,this],this),_&&m(g.onClick,[n,x,this],this));let T=!y(x,d);return(T||s)&&(this._active=x,this._updateHoverStyles(x,d,s)),this._lastEvent=k,T}_getActiveElements(n,s,c,d){if(n.type==="mouseout")return[];if(!c)return s;let g=this.options.hover;return this.getElementsAtEventForMode(n,g.mode,g,d)}}let yh=()=>v(le.instances,r=>r._plugins.invalidate()),gi=!0;Object.defineProperties(le,{defaults:{enumerable:gi,value:Et},instances:{enumerable:gi,value:_r},overrides:{enumerable:gi,value:Yt},registry:{enumerable:gi,value:bn},version:{enumerable:gi,value:nb},getChart:{enumerable:gi,value:_h},register:{enumerable:gi,value:(...r)=>{bn.add(...r),yh()}},unregister:{enumerable:gi,value:(...r)=>{bn.remove(...r),yh()}}});function qi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class sl{constructor(n){this.options=n||{}}init(n){}formats(){return qi()}parse(n,s){return qi()}format(n,s){return qi()}add(n,s,c){return qi()}diff(n,s,c){return qi()}startOf(n,s,c){return qi()}endOf(n,s){return qi()}}sl.override=function(r){Object.assign(sl.prototype,r)};var wh={_date:sl};function ab(r,n){if(!r._cache.$bar){let s=r.getMatchingVisibleMetas(n),c=[];for(let d=0,g=s.length;d<g;d++)c=c.concat(s[d].controller.getAllParsedValues(r));r._cache.$bar=Mn(c.sort((d,g)=>d-g))}return r._cache.$bar}function lb(r){let n=r.iScale,s=ab(n,r.type),c=n._length,d,g,b,x,_=()=>{b===32767||b===-32768||(G(x)&&(c=Math.min(c,Math.abs(b-x)||c)),x=b)};for(d=0,g=s.length;d<g;++d)b=n.getPixelForValue(s[d]),_();for(x=void 0,d=0,g=n.ticks.length;d<g;++d)b=n.getPixelForTick(d),_();return c}function cb(r,n,s,c){let d=s.barThickness,g,b;return e(d)?(g=n.min*s.categoryPercentage,b=s.barPercentage):(g=d*c,b=1),{chunk:g/c,ratio:b,start:n.pixels[r]-g/2}}function ub(r,n,s,c){let d=n.pixels,g=d[r],b=r>0?d[r-1]:null,x=r<d.length-1?d[r+1]:null,_=s.categoryPercentage;b===null&&(b=g-(x===null?n.end-n.start:x-g)),x===null&&(x=g+g-b);let k=g-(g-Math.min(b,x))/2*_;return{chunk:Math.abs(x-b)/2*_/c,ratio:s.barPercentage,start:k}}function hb(r,n,s,c){let d=s.parse(r[0],c),g=s.parse(r[1],c),b=Math.min(d,g),x=Math.max(d,g),_=b,k=x;Math.abs(b)>Math.abs(x)&&(_=x,k=b),n[s.axis]=k,n._custom={barStart:_,barEnd:k,start:d,end:g,min:b,max:x}}function kh(r,n,s,c){return o(r)?hb(r,n,s,c):n[s.axis]=s.parse(r,c),n}function Ph(r,n,s,c){let d=r.iScale,g=r.vScale,b=d.getLabels(),x=d===g,_=[],k,T,D,R;for(k=s,T=s+c;k<T;++k)R=n[k],D={},D[d.axis]=x||d.parse(b[k],k),_.push(kh(R,D,g,k));return _}function ol(r){return r&&r.barStart!==void 0&&r.barEnd!==void 0}function fb(r,n,s){return r!==0?At(r):(n.isHorizontal()?1:-1)*(n.min>=s?1:-1)}function db(r){let n,s,c,d,g;return r.horizontal?(n=r.base>r.x,s="left",c="right"):(n=r.base<r.y,s="bottom",c="top"),n?(d="end",g="start"):(d="start",g="end"),{start:s,end:c,reverse:n,top:d,bottom:g}}function pb(r,n,s,c){let d=n.borderSkipped,g={};if(!d){r.borderSkipped=g;return}if(d===!0){r.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:b,end:x,reverse:_,top:k,bottom:T}=db(r);d==="middle"&&s&&(r.enableBorderRadius=!0,(s._top||0)===c?d=k:(s._bottom||0)===c?d=T:(g[Ch(T,b,x,_)]=!0,d=k)),g[Ch(d,b,x,_)]=!0,r.borderSkipped=g}function Ch(r,n,s,c){return c?(r=gb(r,n,s),r=Mh(r,s,n)):r=Mh(r,n,s),r}function gb(r,n,s){return r===n?s:r===s?n:r}function Mh(r,n,s){return r==="start"?n:r==="end"?s:r}function mb(r,{inflateAmount:n},s){r.inflateAmount=n==="auto"?s===1?.33:0:n}class yr extends on{parsePrimitiveData(n,s,c,d){return Ph(n,s,c,d)}parseArrayData(n,s,c,d){return Ph(n,s,c,d)}parseObjectData(n,s,c,d){let{iScale:g,vScale:b}=n,{xAxisKey:x="x",yAxisKey:_="y"}=this._parsing,k=g.axis==="x"?x:_,T=b.axis==="x"?x:_,D=[],R,I,B,V;for(R=c,I=c+d;R<I;++R)V=s[R],B={},B[g.axis]=g.parse(F(V,k),R),D.push(kh(F(V,T),B,b,R));return D}updateRangeFromParsed(n,s,c,d){super.updateRangeFromParsed(n,s,c,d);let g=c._custom;g&&s===this._cachedMeta.vScale&&(n.min=Math.min(n.min,g.min),n.max=Math.max(n.max,g.max))}getMaxOverflow(){return 0}getLabelAndValue(n){let s=this._cachedMeta,{iScale:c,vScale:d}=s,g=this.getParsed(n),b=g._custom,x=ol(b)?"["+b.start+", "+b.end+"]":""+d.getLabelForValue(g[d.axis]);return{label:""+c.getLabelForValue(g[c.axis]),value:x}}initialize(){this.enableOptionSharing=!0,super.initialize();let n=this._cachedMeta;n.stack=this.getDataset().stack}update(n){let s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,n)}updateElements(n,s,c,d){let g=d==="reset",{index:b,_cachedMeta:{vScale:x}}=this,_=x.getBasePixel(),k=x.isHorizontal(),T=this._getRuler(),{sharedOptions:D,includeOptions:R}=this._getSharedOptions(s,d);for(let I=s;I<s+c;I++){let B=this.getParsed(I),V=g||e(B[x.axis])?{base:_,head:_}:this._calculateBarValuePixels(I),$=this._calculateBarIndexPixels(I,T),U=(B._stacks||{})[x.axis],Q={horizontal:k,base:V.base,enableBorderRadius:!U||ol(B._custom)||b===U._top||b===U._bottom,x:k?V.head:$.center,y:k?$.center:V.head,height:k?$.size:Math.abs(V.size),width:k?Math.abs(V.size):$.size};R&&(Q.options=D||this.resolveDataElementOptions(I,n[I].active?"active":d));let ot=Q.options||n[I].options;pb(Q,ot,U,b),mb(Q,ot,T.ratio),this.updateElement(n[I],I,Q,d)}}_getStacks(n,s){let{iScale:c}=this._cachedMeta,d=c.getMatchingVisibleMetas(this._type).filter(_=>_.controller.options.grouped),g=c.options.stacked,b=[],x=_=>{let k=_.controller.getParsed(s),T=k&&k[_.vScale.axis];if(e(T)||isNaN(T))return!0};for(let _ of d)if(!(s!==void 0&&x(_))&&((g===!1||b.indexOf(_.stack)===-1||g===void 0&&_.stack===void 0)&&b.push(_.stack),_.index===n))break;return b.length||b.push(void 0),b}_getStackCount(n){return this._getStacks(void 0,n).length}_getStackIndex(n,s,c){let d=this._getStacks(n,c),g=s!==void 0?d.indexOf(s):-1;return g===-1?d.length-1:g}_getRuler(){let n=this.options,s=this._cachedMeta,c=s.iScale,d=[],g,b;for(g=0,b=s.data.length;g<b;++g)d.push(c.getPixelForValue(this.getParsed(g)[c.axis],g));let x=n.barThickness;return{min:x||lb(s),pixels:d,start:c._startPixel,end:c._endPixel,stackCount:this._getStackCount(),scale:c,grouped:n.grouped,ratio:x?1:n.categoryPercentage*n.barPercentage}}_calculateBarValuePixels(n){let{_cachedMeta:{vScale:s,_stacked:c},options:{base:d,minBarLength:g}}=this,b=d||0,x=this.getParsed(n),_=x._custom,k=ol(_),T=x[s.axis],D=0,R=c?this.applyStack(s,x,c):T,I,B;R!==T&&(D=R-T,R=T),k&&(T=_.barStart,R=_.barEnd-_.barStart,T!==0&&At(T)!==At(_.barEnd)&&(D=0),D+=T);let V=!e(d)&&!k?d:D,$=s.getPixelForValue(V);if(this.chart.getDataVisibility(n)?I=s.getPixelForValue(D+R):I=$,B=I-$,Math.abs(B)<g){B=fb(B,s,b)*g,T===b&&($-=B/2);let U=s.getPixelForDecimal(0),Q=s.getPixelForDecimal(1),ot=Math.min(U,Q),st=Math.max(U,Q);$=Math.max(Math.min($,st),ot),I=$+B}if($===s.getPixelForValue(b)){let U=At(B)*s.getLineWidthForValue(b)/2;$+=U,B-=U}return{size:B,base:$,head:I,center:I+B/2}}_calculateBarIndexPixels(n,s){let c=s.scale,d=this.options,g=d.skipNull,b=u(d.maxBarThickness,1/0),x,_;if(s.grouped){let k=g?this._getStackCount(n):s.stackCount,T=d.barThickness==="flex"?ub(n,s,d,k):cb(n,s,d,k),D=this._getStackIndex(this.index,this._cachedMeta.stack,g?n:void 0);x=T.start+T.chunk*D+T.chunk/2,_=Math.min(b,T.chunk*T.ratio)}else x=c.getPixelForValue(this.getParsed(n)[c.axis],n),_=Math.min(b,s.min*s.ratio);return{base:x-_/2,head:x+_/2,center:x,size:_}}draw(){let n=this._cachedMeta,s=n.vScale,c=n.data,d=c.length,g=0;for(;g<d;++g)this.getParsed(g)[s.axis]!==null&&c[g].draw(this._ctx)}}yr.id="bar",yr.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},yr.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class wr extends on{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(n,s,c,d){let g=super.parsePrimitiveData(n,s,c,d);for(let b=0;b<g.length;b++)g[b]._custom=this.resolveDataElementOptions(b+c).radius;return g}parseArrayData(n,s,c,d){let g=super.parseArrayData(n,s,c,d);for(let b=0;b<g.length;b++){let x=s[c+b];g[b]._custom=u(x[2],this.resolveDataElementOptions(b+c).radius)}return g}parseObjectData(n,s,c,d){let g=super.parseObjectData(n,s,c,d);for(let b=0;b<g.length;b++){let x=s[c+b];g[b]._custom=u(x&&x.r&&+x.r,this.resolveDataElementOptions(b+c).radius)}return g}getMaxOverflow(){let n=this._cachedMeta.data,s=0;for(let c=n.length-1;c>=0;--c)s=Math.max(s,n[c].size(this.resolveDataElementOptions(c))/2);return s>0&&s}getLabelAndValue(n){let s=this._cachedMeta,{xScale:c,yScale:d}=s,g=this.getParsed(n),b=c.getLabelForValue(g.x),x=d.getLabelForValue(g.y),_=g._custom;return{label:s.label,value:"("+b+", "+x+(_?", "+_:"")+")"}}update(n){let s=this._cachedMeta.data;this.updateElements(s,0,s.length,n)}updateElements(n,s,c,d){let g=d==="reset",{iScale:b,vScale:x}=this._cachedMeta,{sharedOptions:_,includeOptions:k}=this._getSharedOptions(s,d),T=b.axis,D=x.axis;for(let R=s;R<s+c;R++){let I=n[R],B=!g&&this.getParsed(R),V={},$=V[T]=g?b.getPixelForDecimal(.5):b.getPixelForValue(B[T]),U=V[D]=g?x.getBasePixel():x.getPixelForValue(B[D]);V.skip=isNaN($)||isNaN(U),k&&(V.options=_||this.resolveDataElementOptions(R,I.active?"active":d),g&&(V.options.radius=0)),this.updateElement(I,R,V,d)}}resolveDataElementOptions(n,s){let c=this.getParsed(n),d=super.resolveDataElementOptions(n,s);d.$shared&&(d=Object.assign({},d,{$shared:!1}));let g=d.radius;return s!=="active"&&(d.radius=0),d.radius+=u(c&&c._custom,g),d}}wr.id="bubble",wr.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},wr.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function bb(r,n,s){let c=1,d=1,g=0,b=0;if(n<at){let x=r,_=x+n,k=Math.cos(x),T=Math.sin(x),D=Math.cos(_),R=Math.sin(_),I=(ot,st,tt)=>Ye(ot,x,_,!0)?1:Math.max(st,st*s,tt,tt*s),B=(ot,st,tt)=>Ye(ot,x,_,!0)?-1:Math.min(st,st*s,tt,tt*s),V=I(0,k,D),$=I(gt,T,R),U=B(J,k,D),Q=B(J+gt,T,R);c=(V-U)/2,d=($-Q)/2,g=-(V+U)/2,b=-($+Q)/2}return{ratioX:c,ratioY:d,offsetX:g,offsetY:b}}class ys extends on{constructor(n,s){super(n,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(n,s){let c=this.getDataset().data,d=this._cachedMeta;if(this._parsing===!1)d._parsed=c;else{let g=_=>+c[_];if(a(c[n])){let{key:_="value"}=this._parsing;g=k=>+F(c[k],_)}let b,x;for(b=n,x=n+s;b<x;++b)d._parsed[b]=g(b)}}_getRotation(){return ne(this.options.rotation-90)}_getCircumference(){return ne(this.options.circumference)}_getRotationExtents(){let n=at,s=-at;for(let c=0;c<this.chart.data.datasets.length;++c)if(this.chart.isDatasetVisible(c)){let d=this.chart.getDatasetMeta(c).controller,g=d._getRotation(),b=d._getCircumference();n=Math.min(n,g),s=Math.max(s,g+b)}return{rotation:n,circumference:s-n}}update(n){let s=this.chart,{chartArea:c}=s,d=this._cachedMeta,g=d.data,b=this.getMaxBorderWidth()+this.getMaxOffset(g)+this.options.spacing,x=Math.max((Math.min(c.width,c.height)-b)/2,0),_=Math.min(l(this.options.cutout,x),1),k=this._getRingWeight(this.index),{circumference:T,rotation:D}=this._getRotationExtents(),{ratioX:R,ratioY:I,offsetX:B,offsetY:V}=bb(D,T,_),$=(c.width-b)/R,U=(c.height-b)/I,Q=Math.max(Math.min($,U)/2,0),ot=f(this.options.radius,Q),st=Math.max(ot*_,0),tt=(ot-st)/this._getVisibleDatasetWeightTotal();this.offsetX=B*ot,this.offsetY=V*ot,d.total=this.calculateTotal(),this.outerRadius=ot-tt*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-tt*k,0),this.updateElements(g,0,g.length,n)}_circumference(n,s){let c=this.options,d=this._cachedMeta,g=this._getCircumference();return s&&c.animation.animateRotate||!this.chart.getDataVisibility(n)||d._parsed[n]===null||d.data[n].hidden?0:this.calculateCircumference(d._parsed[n]*g/at)}updateElements(n,s,c,d){let g=d==="reset",b=this.chart,x=b.chartArea,k=b.options.animation,T=(x.left+x.right)/2,D=(x.top+x.bottom)/2,R=g&&k.animateScale,I=R?0:this.innerRadius,B=R?0:this.outerRadius,{sharedOptions:V,includeOptions:$}=this._getSharedOptions(s,d),U=this._getRotation(),Q;for(Q=0;Q<s;++Q)U+=this._circumference(Q,g);for(Q=s;Q<s+c;++Q){let ot=this._circumference(Q,g),st=n[Q],tt={x:T+this.offsetX,y:D+this.offsetY,startAngle:U,endAngle:U+ot,circumference:ot,outerRadius:B,innerRadius:I};$&&(tt.options=V||this.resolveDataElementOptions(Q,st.active?"active":d)),U+=ot,this.updateElement(st,Q,tt,d)}}calculateTotal(){let n=this._cachedMeta,s=n.data,c=0,d;for(d=0;d<s.length;d++){let g=n._parsed[d];g!==null&&!isNaN(g)&&this.chart.getDataVisibility(d)&&!s[d].hidden&&(c+=Math.abs(g))}return c}calculateCircumference(n){let s=this._cachedMeta.total;return s>0&&!isNaN(n)?at*(Math.abs(n)/s):0}getLabelAndValue(n){let s=this._cachedMeta,c=this.chart,d=c.data.labels||[],g=xs(s._parsed[n],c.options.locale);return{label:d[n]||"",value:g}}getMaxBorderWidth(n){let s=0,c=this.chart,d,g,b,x,_;if(!n){for(d=0,g=c.data.datasets.length;d<g;++d)if(c.isDatasetVisible(d)){b=c.getDatasetMeta(d),n=b.data,x=b.controller;break}}if(!n)return 0;for(d=0,g=n.length;d<g;++d)_=x.resolveDataElementOptions(d),_.borderAlign!=="inner"&&(s=Math.max(s,_.borderWidth||0,_.hoverBorderWidth||0));return s}getMaxOffset(n){let s=0;for(let c=0,d=n.length;c<d;++c){let g=this.resolveDataElementOptions(c);s=Math.max(s,g.offset||0,g.hoverOffset||0)}return s}_getRingWeightOffset(n){let s=0;for(let c=0;c<n;++c)this.chart.isDatasetVisible(c)&&(s+=this._getRingWeight(c));return s}_getRingWeight(n){return Math.max(u(this.chart.data.datasets[n].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ys.id="doughnut",ys.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},ys.descriptors={_scriptable:r=>r!=="spacing",_indexable:r=>r!=="spacing"},ys.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(r){let n=r.data;if(n.labels.length&&n.datasets.length){let{labels:{pointStyle:s}}=r.legend.options;return n.labels.map((c,d)=>{let b=r.getDatasetMeta(0).controller.getStyle(d);return{text:c,fillStyle:b.backgroundColor,strokeStyle:b.borderColor,lineWidth:b.borderWidth,pointStyle:s,hidden:!r.getDataVisibility(d),index:d}})}return[]}},onClick(r,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}},tooltip:{callbacks:{title(){return""},label(r){let n=r.label,s=": "+r.formattedValue;return o(n)?(n=n.slice(),n[0]+=s):n+=s,n}}}}};class kr extends on{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(n){let s=this._cachedMeta,{dataset:c,data:d=[],_dataset:g}=s,b=this.chart._animationsDisabled,{start:x,count:_}=lt(s,d,b);this._drawStart=x,this._drawCount=_,yt(s)&&(x=0,_=d.length),c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!g._decimated,c.points=d;let k=this.resolveDatasetElementOptions(n);this.options.showLine||(k.borderWidth=0),k.segment=this.options.segment,this.updateElement(c,void 0,{animated:!b,options:k},n),this.updateElements(d,x,_,n)}updateElements(n,s,c,d){let g=d==="reset",{iScale:b,vScale:x,_stacked:_,_dataset:k}=this._cachedMeta,{sharedOptions:T,includeOptions:D}=this._getSharedOptions(s,d),R=b.axis,I=x.axis,{spanGaps:B,segment:V}=this.options,$=Dt(B)?B:Number.POSITIVE_INFINITY,U=this.chart._animationsDisabled||g||d==="none",Q=s>0&&this.getParsed(s-1);for(let ot=s;ot<s+c;++ot){let st=n[ot],tt=this.getParsed(ot),ut=U?st:{},ht=e(tt[I]),wt=ut[R]=b.getPixelForValue(tt[R],ot),_t=ut[I]=g||ht?x.getBasePixel():x.getPixelForValue(_?this.applyStack(x,tt,_):tt[I],ot);ut.skip=isNaN(wt)||isNaN(_t)||ht,ut.stop=ot>0&&Math.abs(tt[R]-Q[R])>$,V&&(ut.parsed=tt,ut.raw=k.data[ot]),D&&(ut.options=T||this.resolveDataElementOptions(ot,st.active?"active":d)),U||this.updateElement(st,ot,ut,d),Q=tt}}getMaxOverflow(){let n=this._cachedMeta,s=n.dataset,c=s.options&&s.options.borderWidth||0,d=n.data||[];if(!d.length)return c;let g=d[0].size(this.resolveDataElementOptions(0)),b=d[d.length-1].size(this.resolveDataElementOptions(d.length-1));return Math.max(c,g,b)/2}draw(){let n=this._cachedMeta;n.dataset.updateControlPoints(this.chart.chartArea,n.iScale.axis),super.draw()}}kr.id="line",kr.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},kr.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class Pr extends on{constructor(n,s){super(n,s),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(n){let s=this._cachedMeta,c=this.chart,d=c.data.labels||[],g=xs(s._parsed[n].r,c.options.locale);return{label:d[n]||"",value:g}}parseObjectData(n,s,c,d){return $a.bind(this)(n,s,c,d)}update(n){let s=this._cachedMeta.data;this._updateRadius(),this.updateElements(s,0,s.length,n)}getMinMax(){let n=this._cachedMeta,s={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return n.data.forEach((c,d)=>{let g=this.getParsed(d).r;!isNaN(g)&&this.chart.getDataVisibility(d)&&(g<s.min&&(s.min=g),g>s.max&&(s.max=g))}),s}_updateRadius(){let n=this.chart,s=n.chartArea,c=n.options,d=Math.min(s.right-s.left,s.bottom-s.top),g=Math.max(d/2,0),b=Math.max(c.cutoutPercentage?g/100*c.cutoutPercentage:1,0),x=(g-b)/n.getVisibleDatasetCount();this.outerRadius=g-x*this.index,this.innerRadius=this.outerRadius-x}updateElements(n,s,c,d){let g=d==="reset",b=this.chart,_=b.options.animation,k=this._cachedMeta.rScale,T=k.xCenter,D=k.yCenter,R=k.getIndexAngle(0)-.5*J,I=R,B,V=360/this.countVisibleElements();for(B=0;B<s;++B)I+=this._computeAngle(B,d,V);for(B=s;B<s+c;B++){let $=n[B],U=I,Q=I+this._computeAngle(B,d,V),ot=b.getDataVisibility(B)?k.getDistanceFromCenterForValue(this.getParsed(B).r):0;I=Q,g&&(_.animateScale&&(ot=0),_.animateRotate&&(U=Q=R));let st={x:T,y:D,innerRadius:0,outerRadius:ot,startAngle:U,endAngle:Q,options:this.resolveDataElementOptions(B,$.active?"active":d)};this.updateElement($,B,st,d)}}countVisibleElements(){let n=this._cachedMeta,s=0;return n.data.forEach((c,d)=>{!isNaN(this.getParsed(d).r)&&this.chart.getDataVisibility(d)&&s++}),s}_computeAngle(n,s,c){return this.chart.getDataVisibility(n)?ne(this.resolveDataElementOptions(n,s).angle||c):0}}Pr.id="polarArea",Pr.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},Pr.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(r){let n=r.data;if(n.labels.length&&n.datasets.length){let{labels:{pointStyle:s}}=r.legend.options;return n.labels.map((c,d)=>{let b=r.getDatasetMeta(0).controller.getStyle(d);return{text:c,fillStyle:b.backgroundColor,strokeStyle:b.borderColor,lineWidth:b.borderWidth,pointStyle:s,hidden:!r.getDataVisibility(d),index:d}})}return[]}},onClick(r,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}},tooltip:{callbacks:{title(){return""},label(r){return r.chart.data.labels[r.dataIndex]+": "+r.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class rl extends ys{}rl.id="pie",rl.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class Cr extends on{getLabelAndValue(n){let s=this._cachedMeta.vScale,c=this.getParsed(n);return{label:s.getLabels()[n],value:""+s.getLabelForValue(c[s.axis])}}parseObjectData(n,s,c,d){return $a.bind(this)(n,s,c,d)}update(n){let s=this._cachedMeta,c=s.dataset,d=s.data||[],g=s.iScale.getLabels();if(c.points=d,n!=="resize"){let b=this.resolveDatasetElementOptions(n);this.options.showLine||(b.borderWidth=0);let x={_loop:!0,_fullLoop:g.length===d.length,options:b};this.updateElement(c,void 0,x,n)}this.updateElements(d,0,d.length,n)}updateElements(n,s,c,d){let g=this._cachedMeta.rScale,b=d==="reset";for(let x=s;x<s+c;x++){let _=n[x],k=this.resolveDataElementOptions(x,_.active?"active":d),T=g.getPointPositionForValue(x,this.getParsed(x).r),D=b?g.xCenter:T.x,R=b?g.yCenter:T.y,I={x:D,y:R,angle:T.angle,skip:isNaN(D)||isNaN(R),options:k};this.updateElement(_,x,I,d)}}}Cr.id="radar",Cr.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},Cr.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class Mr extends on{update(n){let s=this._cachedMeta,{data:c=[]}=s,d=this.chart._animationsDisabled,{start:g,count:b}=lt(s,c,d);if(this._drawStart=g,this._drawCount=b,yt(s)&&(g=0,b=c.length),this.options.showLine){let{dataset:x,_dataset:_}=s;x._chart=this.chart,x._datasetIndex=this.index,x._decimated=!!_._decimated,x.points=c;let k=this.resolveDatasetElementOptions(n);k.segment=this.options.segment,this.updateElement(x,void 0,{animated:!d,options:k},n)}this.updateElements(c,g,b,n)}addElements(){let{showLine:n}=this.options;!this.datasetElementType&&n&&(this.datasetElementType=bn.getElement("line")),super.addElements()}updateElements(n,s,c,d){let g=d==="reset",{iScale:b,vScale:x,_stacked:_,_dataset:k}=this._cachedMeta,T=this.resolveDataElementOptions(s,d),D=this.getSharedOptions(T),R=this.includeOptions(d,D),I=b.axis,B=x.axis,{spanGaps:V,segment:$}=this.options,U=Dt(V)?V:Number.POSITIVE_INFINITY,Q=this.chart._animationsDisabled||g||d==="none",ot=s>0&&this.getParsed(s-1);for(let st=s;st<s+c;++st){let tt=n[st],ut=this.getParsed(st),ht=Q?tt:{},wt=e(ut[B]),_t=ht[I]=b.getPixelForValue(ut[I],st),Vt=ht[B]=g||wt?x.getBasePixel():x.getPixelForValue(_?this.applyStack(x,ut,_):ut[B],st);ht.skip=isNaN(_t)||isNaN(Vt)||wt,ht.stop=st>0&&Math.abs(ut[I]-ot[I])>U,$&&(ht.parsed=ut,ht.raw=k.data[st]),R&&(ht.options=D||this.resolveDataElementOptions(st,tt.active?"active":d)),Q||this.updateElement(tt,st,ht,d),ot=ut}this.updateSharedOptions(D,d,T)}getMaxOverflow(){let n=this._cachedMeta,s=n.data||[];if(!this.options.showLine){let x=0;for(let _=s.length-1;_>=0;--_)x=Math.max(x,s[_].size(this.resolveDataElementOptions(_))/2);return x>0&&x}let c=n.dataset,d=c.options&&c.options.borderWidth||0;if(!s.length)return d;let g=s[0].size(this.resolveDataElementOptions(0)),b=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(d,g,b)/2}}Mr.id="scatter",Mr.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},Mr.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(r){return"("+r.label+", "+r.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var Oh=Object.freeze({__proto__:null,BarController:yr,BubbleController:wr,DoughnutController:ys,LineController:kr,PolarAreaController:Pr,PieController:rl,RadarController:Cr,ScatterController:Mr});function Th(r,n,s){let{startAngle:c,pixelMargin:d,x:g,y:b,outerRadius:x,innerRadius:_}=n,k=d/x;r.beginPath(),r.arc(g,b,x,c-k,s+k),_>d?(k=d/_,r.arc(g,b,_,s+k,c-k,!0)):r.arc(g,b,d,s+gt,c-gt),r.closePath(),r.clip()}function vb(r){return dr(r,["outerStart","outerEnd","innerStart","innerEnd"])}function xb(r,n,s,c){let d=vb(r.options.borderRadius),g=(s-n)/2,b=Math.min(g,c*n/2),x=_=>{let k=(s-Math.min(g,_))*c/2;return Ut(_,0,Math.min(g,k))};return{outerStart:x(d.outerStart),outerEnd:x(d.outerEnd),innerStart:Ut(d.innerStart,0,b),innerEnd:Ut(d.innerEnd,0,b)}}function ws(r,n,s,c){return{x:s+r*Math.cos(n),y:c+r*Math.sin(n)}}function al(r,n,s,c,d,g){let{x:b,y:x,startAngle:_,pixelMargin:k,innerRadius:T}=n,D=Math.max(n.outerRadius+c+s-k,0),R=T>0?T+c+s+k:0,I=0,B=d-_;if(c){let Ot=T>0?T-c:0,xe=D>0?D-c:0,ge=(Ot+xe)/2,Ui=ge!==0?B*ge/(ge+c):B;I=(B-Ui)/2}let V=Math.max(.001,B*D-s/J)/D,$=(B-V)/2,U=_+$+I,Q=d-$-I,{outerStart:ot,outerEnd:st,innerStart:tt,innerEnd:ut}=xb(n,R,D,Q-U),ht=D-ot,wt=D-st,_t=U+ot/ht,Vt=Q-st/wt,Ht=R+tt,It=R+ut,ve=U+tt/Ht,We=Q-ut/It;if(r.beginPath(),g){if(r.arc(b,x,D,_t,Vt),st>0){let ge=ws(wt,Vt,b,x);r.arc(ge.x,ge.y,st,Vt,Q+gt)}let Ot=ws(It,Q,b,x);if(r.lineTo(Ot.x,Ot.y),ut>0){let ge=ws(It,We,b,x);r.arc(ge.x,ge.y,ut,Q+gt,We+Math.PI)}if(r.arc(b,x,R,Q-ut/R,U+tt/R,!0),tt>0){let ge=ws(Ht,ve,b,x);r.arc(ge.x,ge.y,tt,ve+Math.PI,U-gt)}let xe=ws(ht,U,b,x);if(r.lineTo(xe.x,xe.y),ot>0){let ge=ws(ht,_t,b,x);r.arc(ge.x,ge.y,ot,U-gt,_t)}}else{r.moveTo(b,x);let Ot=Math.cos(_t)*D+b,xe=Math.sin(_t)*D+x;r.lineTo(Ot,xe);let ge=Math.cos(Vt)*D+b,Ui=Math.sin(Vt)*D+x;r.lineTo(ge,Ui)}r.closePath()}function _b(r,n,s,c,d){let{fullCircles:g,startAngle:b,circumference:x}=n,_=n.endAngle;if(g){al(r,n,s,c,b+at,d);for(let k=0;k<g;++k)r.fill();isNaN(x)||(_=b+x%at,x%at===0&&(_+=at))}return al(r,n,s,c,_,d),r.fill(),_}function yb(r,n,s){let{x:c,y:d,startAngle:g,pixelMargin:b,fullCircles:x}=n,_=Math.max(n.outerRadius-b,0),k=n.innerRadius+b,T;for(s&&Th(r,n,g+at),r.beginPath(),r.arc(c,d,k,g+at,g,!0),T=0;T<x;++T)r.stroke();for(r.beginPath(),r.arc(c,d,_,g,g+at),T=0;T<x;++T)r.stroke()}function wb(r,n,s,c,d,g){let{options:b}=n,{borderWidth:x,borderJoinStyle:_}=b,k=b.borderAlign==="inner";x&&(k?(r.lineWidth=x*2,r.lineJoin=_||"round"):(r.lineWidth=x,r.lineJoin=_||"bevel"),n.fullCircles&&yb(r,n,k),k&&Th(r,n,d),al(r,n,s,c,d,g),r.stroke())}class Or extends rn{constructor(n){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,c){let d=this.getProps(["x","y"],c),{angle:g,distance:b}=dn(d,{x:n,y:s}),{startAngle:x,endAngle:_,innerRadius:k,outerRadius:T,circumference:D}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],c),R=this.options.spacing/2,B=u(D,_-x)>=at||Ye(g,x,_),V=Ee(b,k+R,T+R);return B&&V}getCenterPoint(n){let{x:s,y:c,startAngle:d,endAngle:g,innerRadius:b,outerRadius:x}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],n),{offset:_,spacing:k}=this.options,T=(d+g)/2,D=(b+x+k+_)/2;return{x:s+Math.cos(T)*D,y:c+Math.sin(T)*D}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){let{options:s,circumference:c}=this,d=(s.offset||0)/2,g=(s.spacing||0)/2,b=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=c>at?Math.floor(c/at):0,c===0||this.innerRadius<0||this.outerRadius<0)return;n.save();let x=0;if(d){x=d/2;let k=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(k)*x,Math.sin(k)*x),this.circumference>=J&&(x=d)}n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor;let _=_b(n,this,x,g,b);wb(n,this,x,g,_,b),n.restore()}}Or.id="arc",Or.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0},Or.defaultRoutes={backgroundColor:"backgroundColor"};function Ah(r,n,s=n){r.lineCap=u(s.borderCapStyle,n.borderCapStyle),r.setLineDash(u(s.borderDash,n.borderDash)),r.lineDashOffset=u(s.borderDashOffset,n.borderDashOffset),r.lineJoin=u(s.borderJoinStyle,n.borderJoinStyle),r.lineWidth=u(s.borderWidth,n.borderWidth),r.strokeStyle=u(s.borderColor,n.borderColor)}function kb(r,n,s){r.lineTo(s.x,s.y)}function Pb(r){return r.stepped?pu:r.tension||r.cubicInterpolationMode==="monotone"?gu:kb}function Eh(r,n,s={}){let c=r.length,{start:d=0,end:g=c-1}=s,{start:b,end:x}=n,_=Math.max(d,b),k=Math.min(g,x),T=d<b&&g<b||d>x&&g>x;return{count:c,start:_,loop:n.loop,ilen:k<_&&!T?c+k-_:k-_}}function Cb(r,n,s,c){let{points:d,options:g}=n,{count:b,start:x,loop:_,ilen:k}=Eh(d,s,c),T=Pb(g),{move:D=!0,reverse:R}=c||{},I,B,V;for(I=0;I<=k;++I)B=d[(x+(R?k-I:I))%b],!B.skip&&(D?(r.moveTo(B.x,B.y),D=!1):T(r,V,B,R,g.stepped),V=B);return _&&(B=d[(x+(R?k:0))%b],T(r,V,B,R,g.stepped)),!!_}function Mb(r,n,s,c){let d=n.points,{count:g,start:b,ilen:x}=Eh(d,s,c),{move:_=!0,reverse:k}=c||{},T=0,D=0,R,I,B,V,$,U,Q=st=>(b+(k?x-st:st))%g,ot=()=>{V!==$&&(r.lineTo(T,$),r.lineTo(T,V),r.lineTo(T,U))};for(_&&(I=d[Q(0)],r.moveTo(I.x,I.y)),R=0;R<=x;++R){if(I=d[Q(R)],I.skip)continue;let st=I.x,tt=I.y,ut=st|0;ut===B?(tt<V?V=tt:tt>$&&($=tt),T=(D*T+st)/++D):(ot(),r.lineTo(st,tt),B=ut,D=0,V=$=tt),U=tt}ot()}function ll(r){let n=r.options,s=n.borderDash&&n.borderDash.length;return!r._decimated&&!r._loop&&!n.tension&&n.cubicInterpolationMode!=="monotone"&&!n.stepped&&!s?Mb:Cb}function Ob(r){return r.stepped?Ou:r.tension||r.cubicInterpolationMode==="monotone"?Tu:fi}function Tb(r,n,s,c){let d=n._path;d||(d=n._path=new Path2D,n.path(d,s,c)&&d.closePath()),Ah(r,n.options),r.stroke(d)}function Ab(r,n,s,c){let{segments:d,options:g}=n,b=ll(n);for(let x of d)Ah(r,g,x.style),r.beginPath(),b(r,n,x,{start:s,end:s+c-1})&&r.closePath(),r.stroke()}let Eb=typeof Path2D=="function";function Db(r,n,s,c){Eb&&!n.options.segment?Tb(r,n,s,c):Ab(r,n,s,c)}class mi extends rn{constructor(n){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,n&&Object.assign(this,n)}updateControlPoints(n,s){let c=this.options;if((c.tension||c.cubicInterpolationMode==="monotone")&&!c.stepped&&!this._pointsUpdated){let d=c.spanGaps?this._loop:this._fullLoop;Pu(this._points,c,n,d,s),this._pointsUpdated=!0}}set points(n){this._points=n,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Ru(this,this.options.segment))}first(){let n=this.segments,s=this.points;return n.length&&s[n[0].start]}last(){let n=this.segments,s=this.points,c=n.length;return c&&s[n[c-1].end]}interpolate(n,s){let c=this.options,d=n[s],g=this.points,b=Ga(this,{property:s,start:d,end:d});if(!b.length)return;let x=[],_=Ob(c),k,T;for(k=0,T=b.length;k<T;++k){let{start:D,end:R}=b[k],I=g[D],B=g[R];if(I===B){x.push(I);continue}let V=Math.abs((d-I[s])/(B[s]-I[s])),$=_(I,B,V,c.stepped);$[s]=n[s],x.push($)}return x.length===1?x[0]:x}pathSegment(n,s,c){return ll(this)(n,this,s,c)}path(n,s,c){let d=this.segments,g=ll(this),b=this._loop;s=s||0,c=c||this.points.length-s;for(let x of d)b&=g(n,this,x,{start:s,end:s+c-1});return!!b}draw(n,s,c,d){let g=this.options||{};(this.points||[]).length&&g.borderWidth&&(n.save(),Db(n,this,c,d),n.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}mi.id="line",mi.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},mi.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},mi.descriptors={_scriptable:!0,_indexable:r=>r!=="borderDash"&&r!=="fill"};function Dh(r,n,s,c){let d=r.options,{[s]:g}=r.getProps([s],c);return Math.abs(n-g)<d.radius+d.hitRadius}class Tr extends rn{constructor(n){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,s,c){let d=this.options,{x:g,y:b}=this.getProps(["x","y"],c);return Math.pow(n-g,2)+Math.pow(s-b,2)<Math.pow(d.hitRadius+d.radius,2)}inXRange(n,s){return Dh(this,n,"x",s)}inYRange(n,s){return Dh(this,n,"y",s)}getCenterPoint(n){let{x:s,y:c}=this.getProps(["x","y"],n);return{x:s,y:c}}size(n){n=n||this.options||{};let s=n.radius||0;s=Math.max(s,s&&n.hoverRadius||0);let c=s&&n.borderWidth||0;return(s+c)*2}draw(n,s){let c=this.options;this.skip||c.radius<.1||!gs(this,s,this.size(c)/2)||(n.strokeStyle=c.borderColor,n.lineWidth=c.borderWidth,n.fillStyle=c.backgroundColor,cr(n,c,this.x,this.y))}getRange(){let n=this.options||{};return n.radius+n.hitRadius}}Tr.id="point",Tr.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},Tr.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function Lh(r,n){let{x:s,y:c,base:d,width:g,height:b}=r.getProps(["x","y","base","width","height"],n),x,_,k,T,D;return r.horizontal?(D=b/2,x=Math.min(s,d),_=Math.max(s,d),k=c-D,T=c+D):(D=g/2,x=s-D,_=s+D,k=Math.min(c,d),T=Math.max(c,d)),{left:x,top:k,right:_,bottom:T}}function bi(r,n,s,c){return r?0:Ut(n,s,c)}function Lb(r,n,s){let c=r.options.borderWidth,d=r.borderSkipped,g=Ya(c);return{t:bi(d.top,g.top,0,s),r:bi(d.right,g.right,0,n),b:bi(d.bottom,g.bottom,0,s),l:bi(d.left,g.left,0,n)}}function Sb(r,n,s){let{enableBorderRadius:c}=r.getProps(["enableBorderRadius"]),d=r.options.borderRadius,g=di(d),b=Math.min(n,s),x=r.borderSkipped,_=c||a(d);return{topLeft:bi(!_||x.top||x.left,g.topLeft,0,b),topRight:bi(!_||x.top||x.right,g.topRight,0,b),bottomLeft:bi(!_||x.bottom||x.left,g.bottomLeft,0,b),bottomRight:bi(!_||x.bottom||x.right,g.bottomRight,0,b)}}function Rb(r){let n=Lh(r),s=n.right-n.left,c=n.bottom-n.top,d=Lb(r,s/2,c/2),g=Sb(r,s/2,c/2);return{outer:{x:n.left,y:n.top,w:s,h:c,radius:g},inner:{x:n.left+d.l,y:n.top+d.t,w:s-d.l-d.r,h:c-d.t-d.b,radius:{topLeft:Math.max(0,g.topLeft-Math.max(d.t,d.l)),topRight:Math.max(0,g.topRight-Math.max(d.t,d.r)),bottomLeft:Math.max(0,g.bottomLeft-Math.max(d.b,d.l)),bottomRight:Math.max(0,g.bottomRight-Math.max(d.b,d.r))}}}}function cl(r,n,s,c){let d=n===null,g=s===null,x=r&&!(d&&g)&&Lh(r,c);return x&&(d||Ee(n,x.left,x.right))&&(g||Ee(s,x.top,x.bottom))}function Ib(r){return r.topLeft||r.topRight||r.bottomLeft||r.bottomRight}function Fb(r,n){r.rect(n.x,n.y,n.w,n.h)}function ul(r,n,s={}){let c=r.x!==s.x?-n:0,d=r.y!==s.y?-n:0,g=(r.x+r.w!==s.x+s.w?n:0)-c,b=(r.y+r.h!==s.y+s.h?n:0)-d;return{x:r.x+c,y:r.y+d,w:r.w+g,h:r.h+b,radius:r.radius}}class Ar extends rn{constructor(n){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,n&&Object.assign(this,n)}draw(n){let{inflateAmount:s,options:{borderColor:c,backgroundColor:d}}=this,{inner:g,outer:b}=Rb(this),x=Ib(b.radius)?ms:Fb;n.save(),(b.w!==g.w||b.h!==g.h)&&(n.beginPath(),x(n,ul(b,s,g)),n.clip(),x(n,ul(g,-s,b)),n.fillStyle=c,n.fill("evenodd")),n.beginPath(),x(n,ul(g,s)),n.fillStyle=d,n.fill(),n.restore()}inRange(n,s,c){return cl(this,n,s,c)}inXRange(n,s){return cl(this,n,null,s)}inYRange(n,s){return cl(this,null,n,s)}getCenterPoint(n){let{x:s,y:c,base:d,horizontal:g}=this.getProps(["x","y","base","horizontal"],n);return{x:g?(s+d)/2:s,y:g?c:(c+d)/2}}getRange(n){return n==="x"?this.width/2:this.height/2}}Ar.id="bar",Ar.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},Ar.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var hl=Object.freeze({__proto__:null,ArcElement:Or,LineElement:mi,PointElement:Tr,BarElement:Ar});function Bb(r,n,s,c,d){let g=d.samples||c;if(g>=s)return r.slice(n,n+s);let b=[],x=(s-2)/(g-2),_=0,k=n+s-1,T=n,D,R,I,B,V;for(b[_++]=r[T],D=0;D<g-2;D++){let $=0,U=0,Q,ot=Math.floor((D+1)*x)+1+n,st=Math.min(Math.floor((D+2)*x)+1,s)+n,tt=st-ot;for(Q=ot;Q<st;Q++)$+=r[Q].x,U+=r[Q].y;$/=tt,U/=tt;let ut=Math.floor(D*x)+1+n,ht=Math.min(Math.floor((D+1)*x)+1,s)+n,{x:wt,y:_t}=r[T];for(I=B=-1,Q=ut;Q<ht;Q++)B=.5*Math.abs((wt-$)*(r[Q].y-_t)-(wt-r[Q].x)*(U-_t)),B>I&&(I=B,R=r[Q],V=Q);b[_++]=R,T=V}return b[_++]=r[k],b}function zb(r,n,s,c){let d=0,g=0,b,x,_,k,T,D,R,I,B,V,$=[],U=n+s-1,Q=r[n].x,st=r[U].x-Q;for(b=n;b<n+s;++b){x=r[b],_=(x.x-Q)/st*c,k=x.y;let tt=_|0;if(tt===T)k<B?(B=k,D=b):k>V&&(V=k,R=b),d=(g*d+x.x)/++g;else{let ut=b-1;if(!e(D)&&!e(R)){let ht=Math.min(D,R),wt=Math.max(D,R);ht!==I&&ht!==ut&&$.push({...r[ht],x:d}),wt!==I&&wt!==ut&&$.push({...r[wt],x:d})}b>0&&ut!==I&&$.push(r[ut]),$.push(x),T=tt,g=0,B=V=k,D=R=I=b}}return $}function Sh(r){if(r._decimated){let n=r._data;delete r._decimated,delete r._data,Object.defineProperty(r,"data",{value:n})}}function Rh(r){r.data.datasets.forEach(n=>{Sh(n)})}function Nb(r,n){let s=n.length,c=0,d,{iScale:g}=r,{min:b,max:x,minDefined:_,maxDefined:k}=g.getUserBounds();return _&&(c=Ut(fe(n,g.axis,b).lo,0,s-1)),k?d=Ut(fe(n,g.axis,x).hi+1,c,s)-c:d=s-c,{start:c,count:d}}var Vb={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(r,n,s)=>{if(!s.enabled){Rh(r);return}let c=r.width;r.data.datasets.forEach((d,g)=>{let{_data:b,indexAxis:x}=d,_=r.getDatasetMeta(g),k=b||d.data;if(_s([x,r.options.indexAxis])==="y"||!_.controller.supportsDecimation)return;let T=r.scales[_.xAxisID];if(T.type!=="linear"&&T.type!=="time"||r.options.parsing)return;let{start:D,count:R}=Nb(_,k),I=s.threshold||4*c;if(R<=I){Sh(d);return}e(b)&&(d._data=k,delete d.data,Object.defineProperty(d,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(V){this._data=V}}));let B;switch(s.algorithm){case"lttb":B=Bb(k,D,R,c,s);break;case"min-max":B=zb(k,D,R,c);break;default:throw new Error(`Unsupported decimation algorithm '${s.algorithm}'`)}d._decimated=B})},destroy(r){Rh(r)}};function Hb(r,n,s){let c=r.segments,d=r.points,g=n.points,b=[];for(let x of c){let{start:_,end:k}=x;k=dl(_,k,d);let T=fl(s,d[_],d[k],x.loop);if(!n.segments){b.push({source:x,target:T,start:d[_],end:d[k]});continue}let D=Ga(n,T);for(let R of D){let I=fl(s,g[R.start],g[R.end],R.loop),B=Xa(x,d,I);for(let V of B)b.push({source:V,target:R,start:{[s]:Ih(T,I,"start",Math.max)},end:{[s]:Ih(T,I,"end",Math.min)}})}}return b}function fl(r,n,s,c){if(c)return;let d=n[r],g=s[r];return r==="angle"&&(d=he(d),g=he(g)),{property:r,start:d,end:g}}function Wb(r,n){let{x:s=null,y:c=null}=r||{},d=n.points,g=[];return n.segments.forEach(({start:b,end:x})=>{x=dl(b,x,d);let _=d[b],k=d[x];c!==null?(g.push({x:_.x,y:c}),g.push({x:k.x,y:c})):s!==null&&(g.push({x:s,y:_.y}),g.push({x:s,y:k.y}))}),g}function dl(r,n,s){for(;n>r;n--){let c=s[n];if(!isNaN(c.x)&&!isNaN(c.y))break}return n}function Ih(r,n,s,c){return r&&n?c(r[s],n[s]):r?r[s]:n?n[s]:0}function Fh(r,n){let s=[],c=!1;return o(r)?(c=!0,s=r):s=Wb(r,n),s.length?new mi({points:s,options:{tension:0},_loop:c,_fullLoop:c}):null}function Bh(r){return r&&r.fill!==!1}function $b(r,n,s){let d=r[n].fill,g=[n],b;if(!s)return d;for(;d!==!1&&g.indexOf(d)===-1;){if(!h(d))return d;if(b=r[d],!b)return!1;if(b.visible)return d;g.push(d),d=b.fill}return!1}function Yb(r,n,s){let c=Gb(r);if(a(c))return isNaN(c.value)?!1:c;let d=parseFloat(c);return h(d)&&Math.floor(d)===d?qb(c[0],n,d,s):["origin","start","end","stack","shape"].indexOf(c)>=0&&c}function qb(r,n,s,c){return(r==="-"||r==="+")&&(s=n+s),s===n||s<0||s>=c?!1:s}function Ub(r,n){let s=null;return r==="start"?s=n.bottom:r==="end"?s=n.top:a(r)?s=n.getPixelForValue(r.value):n.getBasePixel&&(s=n.getBasePixel()),s}function Xb(r,n,s){let c;return r==="start"?c=s:r==="end"?c=n.options.reverse?n.min:n.max:a(r)?c=r.value:c=n.getBaseValue(),c}function Gb(r){let n=r.options,s=n.fill,c=u(s&&s.target,s);return c===void 0&&(c=!!n.backgroundColor),c===!1||c===null?!1:c===!0?"origin":c}function Kb(r){let{scale:n,index:s,line:c}=r,d=[],g=c.segments,b=c.points,x=Qb(n,s);x.push(Fh({x:null,y:n.bottom},c));for(let _=0;_<g.length;_++){let k=g[_];for(let T=k.start;T<=k.end;T++)Zb(d,b[T],x)}return new mi({points:d,options:{}})}function Qb(r,n){let s=[],c=r.getMatchingVisibleMetas("line");for(let d=0;d<c.length;d++){let g=c[d];if(g.index===n)break;g.hidden||s.unshift(g.dataset)}return s}function Zb(r,n,s){let c=[];for(let d=0;d<s.length;d++){let g=s[d],{first:b,last:x,point:_}=Jb(g,n,"x");if(!(!_||b&&x)){if(b)c.unshift(_);else if(r.push(_),!x)break}}r.push(...c)}function Jb(r,n,s){let c=r.interpolate(n,s);if(!c)return{};let d=c[s],g=r.segments,b=r.points,x=!1,_=!1;for(let k=0;k<g.length;k++){let T=g[k],D=b[T.start][s],R=b[T.end][s];if(Ee(d,D,R)){x=d===D,_=d===R;break}}return{first:x,last:_,point:c}}class zh{constructor(n){this.x=n.x,this.y=n.y,this.radius=n.radius}pathSegment(n,s,c){let{x:d,y:g,radius:b}=this;return s=s||{start:0,end:at},n.arc(d,g,b,s.end,s.start,!0),!c.bounds}interpolate(n){let{x:s,y:c,radius:d}=this,g=n.angle;return{x:s+Math.cos(g)*d,y:c+Math.sin(g)*d,angle:g}}}function jb(r){let{chart:n,fill:s,line:c}=r;if(h(s))return t0(n,s);if(s==="stack")return Kb(r);if(s==="shape")return!0;let d=e0(r);return d instanceof zh?d:Fh(d,c)}function t0(r,n){let s=r.getDatasetMeta(n);return s&&r.isDatasetVisible(n)?s.dataset:null}function e0(r){return(r.scale||{}).getPointPositionForValue?i0(r):n0(r)}function n0(r){let{scale:n={},fill:s}=r,c=Ub(s,n);if(h(c)){let d=n.isHorizontal();return{x:d?c:null,y:d?null:c}}return null}function i0(r){let{scale:n,fill:s}=r,c=n.options,d=n.getLabels().length,g=c.reverse?n.max:n.min,b=Xb(s,n,g),x=[];if(c.grid.circular){let _=n.getPointPositionForValue(0,g);return new zh({x:_.x,y:_.y,radius:n.getDistanceFromCenterForValue(b)})}for(let _=0;_<d;++_)x.push(n.getPointPositionForValue(_,b));return x}function pl(r,n,s){let c=jb(n),{line:d,scale:g,axis:b}=n,x=d.options,_=x.fill,k=x.backgroundColor,{above:T=k,below:D=k}=_||{};c&&d.points.length&&(ao(r,s),s0(r,{line:d,target:c,above:T,below:D,area:s,scale:g,axis:b}),lo(r))}function s0(r,n){let{line:s,target:c,above:d,below:g,area:b,scale:x}=n,_=s._loop?"angle":n.axis;r.save(),_==="x"&&g!==d&&(Nh(r,c,b.top),Vh(r,{line:s,target:c,color:d,scale:x,property:_}),r.restore(),r.save(),Nh(r,c,b.bottom)),Vh(r,{line:s,target:c,color:g,scale:x,property:_}),r.restore()}function Nh(r,n,s){let{segments:c,points:d}=n,g=!0,b=!1;r.beginPath();for(let x of c){let{start:_,end:k}=x,T=d[_],D=d[dl(_,k,d)];g?(r.moveTo(T.x,T.y),g=!1):(r.lineTo(T.x,s),r.lineTo(T.x,T.y)),b=!!n.pathSegment(r,x,{move:b}),b?r.closePath():r.lineTo(D.x,s)}r.lineTo(n.first().x,s),r.closePath(),r.clip()}function Vh(r,n){let{line:s,target:c,property:d,color:g,scale:b}=n,x=Hb(s,c,d);for(let{source:_,target:k,start:T,end:D}of x){let{style:{backgroundColor:R=g}={}}=_,I=c!==!0;r.save(),r.fillStyle=R,o0(r,b,I&&fl(d,T,D)),r.beginPath();let B=!!s.pathSegment(r,_),V;if(I){B?r.closePath():Hh(r,c,D,d);let $=!!c.pathSegment(r,k,{move:B,reverse:!0});V=B&&$,V||Hh(r,c,T,d)}r.closePath(),r.fill(V?"evenodd":"nonzero"),r.restore()}}function o0(r,n,s){let{top:c,bottom:d}=n.chart.chartArea,{property:g,start:b,end:x}=s||{};g==="x"&&(r.beginPath(),r.rect(b,c,x-b,d-c),r.clip())}function Hh(r,n,s,c){let d=n.interpolate(s,c);d&&r.lineTo(d.x,d.y)}var r0={id:"filler",afterDatasetsUpdate(r,n,s){let c=(r.data.datasets||[]).length,d=[],g,b,x,_;for(b=0;b<c;++b)g=r.getDatasetMeta(b),x=g.dataset,_=null,x&&x.options&&x instanceof mi&&(_={visible:r.isDatasetVisible(b),index:b,fill:Yb(x,b,c),chart:r,axis:g.controller.options.indexAxis,scale:g.vScale,line:x}),g.$filler=_,d.push(_);for(b=0;b<c;++b)_=d[b],!(!_||_.fill===!1)&&(_.fill=$b(d,b,s.propagate))},beforeDraw(r,n,s){let c=s.drawTime==="beforeDraw",d=r.getSortedVisibleDatasetMetas(),g=r.chartArea;for(let b=d.length-1;b>=0;--b){let x=d[b].$filler;x&&(x.line.updateControlPoints(g,x.axis),c&&x.fill&&pl(r.ctx,x,g))}},beforeDatasetsDraw(r,n,s){if(s.drawTime!=="beforeDatasetsDraw")return;let c=r.getSortedVisibleDatasetMetas();for(let d=c.length-1;d>=0;--d){let g=c[d].$filler;Bh(g)&&pl(r.ctx,g,r.chartArea)}},beforeDatasetDraw(r,n,s){let c=n.meta.$filler;!Bh(c)||s.drawTime!=="beforeDatasetDraw"||pl(r.ctx,c,r.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};let Wh=(r,n)=>{let{boxHeight:s=n,boxWidth:c=n}=r;return r.usePointStyle&&(s=Math.min(s,n),c=r.pointStyleWidth||Math.min(c,n)),{boxWidth:c,boxHeight:s,itemHeight:Math.max(n,s)}},a0=(r,n)=>r!==null&&n!==null&&r.datasetIndex===n.datasetIndex&&r.index===n.index;class $h extends rn{constructor(n){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,s,c){this.maxWidth=n,this.maxHeight=s,this._margins=c,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let n=this.options.labels||{},s=m(n.generateLabels,[this.chart],this)||[];n.filter&&(s=s.filter(c=>n.filter(c,this.chart.data))),n.sort&&(s=s.sort((c,d)=>n.sort(c,d,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){let{options:n,ctx:s}=this;if(!n.display){this.width=this.height=0;return}let c=n.labels,d=be(c.font),g=d.size,b=this._computeTitleHeight(),{boxWidth:x,itemHeight:_}=Wh(c,g),k,T;s.font=d.string,this.isHorizontal()?(k=this.maxWidth,T=this._fitRows(b,g,x,_)+10):(T=this.maxHeight,k=this._fitCols(b,g,x,_)+10),this.width=Math.min(k,n.maxWidth||this.maxWidth),this.height=Math.min(T,n.maxHeight||this.maxHeight)}_fitRows(n,s,c,d){let{ctx:g,maxWidth:b,options:{labels:{padding:x}}}=this,_=this.legendHitBoxes=[],k=this.lineWidths=[0],T=d+x,D=n;g.textAlign="left",g.textBaseline="middle";let R=-1,I=-T;return this.legendItems.forEach((B,V)=>{let $=c+s/2+g.measureText(B.text).width;(V===0||k[k.length-1]+$+2*x>b)&&(D+=T,k[k.length-(V>0?0:1)]=0,I+=T,R++),_[V]={left:0,top:I,row:R,width:$,height:d},k[k.length-1]+=$+x}),D}_fitCols(n,s,c,d){let{ctx:g,maxHeight:b,options:{labels:{padding:x}}}=this,_=this.legendHitBoxes=[],k=this.columnSizes=[],T=b-n,D=x,R=0,I=0,B=0,V=0;return this.legendItems.forEach(($,U)=>{let Q=c+s/2+g.measureText($.text).width;U>0&&I+d+2*x>T&&(D+=R+x,k.push({width:R,height:I}),B+=R+x,V++,R=I=0),_[U]={left:B,top:I,col:V,width:Q,height:d},R=Math.max(R,Q),I+=d+x}),D+=R,k.push({width:R,height:I}),D}adjustHitBoxes(){if(!this.options.display)return;let n=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:c,labels:{padding:d},rtl:g}}=this,b=Yi(g,this.left,this.width);if(this.isHorizontal()){let x=0,_=de(c,this.left+d,this.right-this.lineWidths[x]);for(let k of s)x!==k.row&&(x=k.row,_=de(c,this.left+d,this.right-this.lineWidths[x])),k.top+=this.top+n+d,k.left=b.leftForLtr(b.x(_),k.width),_+=k.width+d}else{let x=0,_=de(c,this.top+n+d,this.bottom-this.columnSizes[x].height);for(let k of s)k.col!==x&&(x=k.col,_=de(c,this.top+n+d,this.bottom-this.columnSizes[x].height)),k.top=_,k.left+=this.left+d,k.left=b.leftForLtr(b.x(k.left),k.width),_+=k.height+d}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let n=this.ctx;ao(n,this),this._draw(),lo(n)}}_draw(){let{options:n,columnSizes:s,lineWidths:c,ctx:d}=this,{align:g,labels:b}=n,x=Et.color,_=Yi(n.rtl,this.left,this.width),k=be(b.font),{color:T,padding:D}=b,R=k.size,I=R/2,B;this.drawTitle(),d.textAlign=_.textAlign("left"),d.textBaseline="middle",d.lineWidth=.5,d.font=k.string;let{boxWidth:V,boxHeight:$,itemHeight:U}=Wh(b,R),Q=function(ht,wt,_t){if(isNaN(V)||V<=0||isNaN($)||$<0)return;d.save();let Vt=u(_t.lineWidth,1);if(d.fillStyle=u(_t.fillStyle,x),d.lineCap=u(_t.lineCap,"butt"),d.lineDashOffset=u(_t.lineDashOffset,0),d.lineJoin=u(_t.lineJoin,"miter"),d.lineWidth=Vt,d.strokeStyle=u(_t.strokeStyle,x),d.setLineDash(u(_t.lineDash,[])),b.usePointStyle){let Ht={radius:$*Math.SQRT2/2,pointStyle:_t.pointStyle,rotation:_t.rotation,borderWidth:Vt},It=_.xPlus(ht,V/2),ve=wt+I;Na(d,Ht,It,ve,b.pointStyleWidth&&V)}else{let Ht=wt+Math.max((R-$)/2,0),It=_.leftForLtr(ht,V),ve=di(_t.borderRadius);d.beginPath(),Object.values(ve).some(We=>We!==0)?ms(d,{x:It,y:Ht,w:V,h:$,radius:ve}):d.rect(It,Ht,V,$),d.fill(),Vt!==0&&d.stroke()}d.restore()},ot=function(ht,wt,_t){hi(d,_t.text,ht,wt+U/2,k,{strikethrough:_t.hidden,textAlign:_.textAlign(_t.textAlign)})},st=this.isHorizontal(),tt=this._computeTitleHeight();st?B={x:de(g,this.left+D,this.right-c[0]),y:this.top+D+tt,line:0}:B={x:this.left+D,y:de(g,this.top+tt+D,this.bottom-s[0].height),line:0},qa(this.ctx,n.textDirection);let ut=U+D;this.legendItems.forEach((ht,wt)=>{d.strokeStyle=ht.fontColor||T,d.fillStyle=ht.fontColor||T;let _t=d.measureText(ht.text).width,Vt=_.textAlign(ht.textAlign||(ht.textAlign=b.textAlign)),Ht=V+I+_t,It=B.x,ve=B.y;_.setWidth(this.width),st?wt>0&&It+Ht+D>this.right&&(ve=B.y+=ut,B.line++,It=B.x=de(g,this.left+D,this.right-c[B.line])):wt>0&&ve+ut>this.bottom&&(It=B.x=It+s[B.line].width+D,B.line++,ve=B.y=de(g,this.top+tt+D,this.bottom-s[B.line].height));let We=_.x(It);Q(We,ve,ht),It=K(Vt,It+V+I,st?It+Ht:this.right,n.rtl),ot(_.x(It),ve,ht),st?B.x+=Ht+D:B.y+=ut}),Ua(this.ctx,n.textDirection)}drawTitle(){let n=this.options,s=n.title,c=be(s.font),d=De(s.padding);if(!s.display)return;let g=Yi(n.rtl,this.left,this.width),b=this.ctx,x=s.position,_=c.size/2,k=d.top+_,T,D=this.left,R=this.width;if(this.isHorizontal())R=Math.max(...this.lineWidths),T=this.top+k,D=de(n.align,D,this.right-R);else{let B=this.columnSizes.reduce((V,$)=>Math.max(V,$.height),0);T=k+de(n.align,this.top,this.bottom-B-n.labels.padding-this._computeTitleHeight())}let I=de(x,D,D+R);b.textAlign=g.textAlign(ni(x)),b.textBaseline="middle",b.strokeStyle=s.color,b.fillStyle=s.color,b.font=c.string,hi(b,s.text,I,T,c)}_computeTitleHeight(){let n=this.options.title,s=be(n.font),c=De(n.padding);return n.display?s.lineHeight+c.height:0}_getLegendItemAt(n,s){let c,d,g;if(Ee(n,this.left,this.right)&&Ee(s,this.top,this.bottom)){for(g=this.legendHitBoxes,c=0;c<g.length;++c)if(d=g[c],Ee(n,d.left,d.left+d.width)&&Ee(s,d.top,d.top+d.height))return this.legendItems[c]}return null}handleEvent(n){let s=this.options;if(!l0(n.type,s))return;let c=this._getLegendItemAt(n.x,n.y);if(n.type==="mousemove"||n.type==="mouseout"){let d=this._hoveredItem,g=a0(d,c);d&&!g&&m(s.onLeave,[n,d,this],this),this._hoveredItem=c,c&&!g&&m(s.onHover,[n,c,this],this)}else c&&m(s.onClick,[n,c,this],this)}}function l0(r,n){return!!((r==="mousemove"||r==="mouseout")&&(n.onHover||n.onLeave)||n.onClick&&(r==="click"||r==="mouseup"))}var c0={id:"legend",_element:$h,start(r,n,s){let c=r.legend=new $h({ctx:r.ctx,options:s,chart:r});Le.configure(r,c,s),Le.addBox(r,c)},stop(r){Le.removeBox(r,r.legend),delete r.legend},beforeUpdate(r,n,s){let c=r.legend;Le.configure(r,c,s),c.options=s},afterUpdate(r){let n=r.legend;n.buildLabels(),n.adjustHitBoxes()},afterEvent(r,n){n.replay||r.legend.handleEvent(n.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(r,n,s){let c=n.datasetIndex,d=s.chart;d.isDatasetVisible(c)?(d.hide(c),n.hidden=!0):(d.show(c),n.hidden=!1)},onHover:null,onLeave:null,labels:{color:r=>r.chart.options.color,boxWidth:40,padding:10,generateLabels(r){let n=r.data.datasets,{labels:{usePointStyle:s,pointStyle:c,textAlign:d,color:g}}=r.legend.options;return r._getSortedDatasetMetas().map(b=>{let x=b.controller.getStyle(s?0:void 0),_=De(x.borderWidth);return{text:n[b.index].label,fillStyle:x.backgroundColor,fontColor:g,hidden:!b.visible,lineCap:x.borderCapStyle,lineDash:x.borderDash,lineDashOffset:x.borderDashOffset,lineJoin:x.borderJoinStyle,lineWidth:(_.width+_.height)/4,strokeStyle:x.borderColor,pointStyle:c||x.pointStyle,rotation:x.rotation,textAlign:d||x.textAlign,borderRadius:0,datasetIndex:b.index}},this)}},title:{color:r=>r.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:r=>!r.startsWith("on"),labels:{_scriptable:r=>!["generateLabels","filter","sort"].includes(r)}}};class gl extends rn{constructor(n){super(),this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,s){let c=this.options;if(this.left=0,this.top=0,!c.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=n,this.height=this.bottom=s;let d=o(c.text)?c.text.length:1;this._padding=De(c.padding);let g=d*be(c.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=g:this.width=g}isHorizontal(){let n=this.options.position;return n==="top"||n==="bottom"}_drawArgs(n){let{top:s,left:c,bottom:d,right:g,options:b}=this,x=b.align,_=0,k,T,D;return this.isHorizontal()?(T=de(x,c,g),D=s+n,k=g-c):(b.position==="left"?(T=c+n,D=de(x,d,s),_=J*-.5):(T=g-n,D=de(x,s,d),_=J*.5),k=d-s),{titleX:T,titleY:D,maxWidth:k,rotation:_}}draw(){let n=this.ctx,s=this.options;if(!s.display)return;let c=be(s.font),g=c.lineHeight/2+this._padding.top,{titleX:b,titleY:x,maxWidth:_,rotation:k}=this._drawArgs(g);hi(n,s.text,0,0,c,{color:s.color,maxWidth:_,rotation:k,textAlign:ni(s.align),textBaseline:"middle",translation:[b,x]})}}function u0(r,n){let s=new gl({ctx:r.ctx,options:n,chart:r});Le.configure(r,s,n),Le.addBox(r,s),r.titleBlock=s}var h0={id:"title",_element:gl,start(r,n,s){u0(r,s)},stop(r){let n=r.titleBlock;Le.removeBox(r,n),delete r.titleBlock},beforeUpdate(r,n,s){let c=r.titleBlock;Le.configure(r,c,s),c.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};let Er=new WeakMap;var f0={id:"subtitle",start(r,n,s){let c=new gl({ctx:r.ctx,options:s,chart:r});Le.configure(r,c,s),Le.addBox(r,c),Er.set(r,c)},stop(r){Le.removeBox(r,Er.get(r)),Er.delete(r)},beforeUpdate(r,n,s){let c=Er.get(r);Le.configure(r,c,s),c.options=s},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};let xo={average(r){if(!r.length)return!1;let n,s,c=0,d=0,g=0;for(n=0,s=r.length;n<s;++n){let b=r[n].element;if(b&&b.hasValue()){let x=b.tooltipPosition();c+=x.x,d+=x.y,++g}}return{x:c/g,y:d/g}},nearest(r,n){if(!r.length)return!1;let s=n.x,c=n.y,d=Number.POSITIVE_INFINITY,g,b,x;for(g=0,b=r.length;g<b;++g){let _=r[g].element;if(_&&_.hasValue()){let k=_.getCenterPoint(),T=tn(n,k);T<d&&(d=T,x=_)}}if(x){let _=x.tooltipPosition();s=_.x,c=_.y}return{x:s,y:c}}};function Tn(r,n){return n&&(o(n)?Array.prototype.push.apply(r,n):r.push(n)),r}function Wn(r){return(typeof r=="string"||r instanceof String)&&r.indexOf(`
`)>-1?r.split(`
`):r}function d0(r,n){let{element:s,datasetIndex:c,index:d}=n,g=r.getDatasetMeta(c).controller,{label:b,value:x}=g.getLabelAndValue(d);return{chart:r,label:b,parsed:g.getParsed(d),raw:r.data.datasets[c].data[d],formattedValue:x,dataset:g.getDataset(),dataIndex:d,datasetIndex:c,element:s}}function Yh(r,n){let s=r.chart.ctx,{body:c,footer:d,title:g}=r,{boxWidth:b,boxHeight:x}=n,_=be(n.bodyFont),k=be(n.titleFont),T=be(n.footerFont),D=g.length,R=d.length,I=c.length,B=De(n.padding),V=B.height,$=0,U=c.reduce((st,tt)=>st+tt.before.length+tt.lines.length+tt.after.length,0);if(U+=r.beforeBody.length+r.afterBody.length,D&&(V+=D*k.lineHeight+(D-1)*n.titleSpacing+n.titleMarginBottom),U){let st=n.displayColors?Math.max(x,_.lineHeight):_.lineHeight;V+=I*st+(U-I)*_.lineHeight+(U-1)*n.bodySpacing}R&&(V+=n.footerMarginTop+R*T.lineHeight+(R-1)*n.footerSpacing);let Q=0,ot=function(st){$=Math.max($,s.measureText(st).width+Q)};return s.save(),s.font=k.string,v(r.title,ot),s.font=_.string,v(r.beforeBody.concat(r.afterBody),ot),Q=n.displayColors?b+2+n.boxPadding:0,v(c,st=>{v(st.before,ot),v(st.lines,ot),v(st.after,ot)}),Q=0,s.font=T.string,v(r.footer,ot),s.restore(),$+=B.width,{width:$,height:V}}function p0(r,n){let{y:s,height:c}=n;return s<c/2?"top":s>r.height-c/2?"bottom":"center"}function g0(r,n,s,c){let{x:d,width:g}=c,b=s.caretSize+s.caretPadding;if(r==="left"&&d+g+b>n.width||r==="right"&&d-g-b<0)return!0}function m0(r,n,s,c){let{x:d,width:g}=s,{width:b,chartArea:{left:x,right:_}}=r,k="center";return c==="center"?k=d<=(x+_)/2?"left":"right":d<=g/2?k="left":d>=b-g/2&&(k="right"),g0(k,r,n,s)&&(k="center"),k}function qh(r,n,s){let c=s.yAlign||n.yAlign||p0(r,s);return{xAlign:s.xAlign||n.xAlign||m0(r,n,s,c),yAlign:c}}function b0(r,n){let{x:s,width:c}=r;return n==="right"?s-=c:n==="center"&&(s-=c/2),s}function v0(r,n,s){let{y:c,height:d}=r;return n==="top"?c+=s:n==="bottom"?c-=d+s:c-=d/2,c}function Uh(r,n,s,c){let{caretSize:d,caretPadding:g,cornerRadius:b}=r,{xAlign:x,yAlign:_}=s,k=d+g,{topLeft:T,topRight:D,bottomLeft:R,bottomRight:I}=di(b),B=b0(n,x),V=v0(n,_,k);return _==="center"?x==="left"?B+=k:x==="right"&&(B-=k):x==="left"?B-=Math.max(T,R)+d:x==="right"&&(B+=Math.max(D,I)+d),{x:Ut(B,0,c.width-n.width),y:Ut(V,0,c.height-n.height)}}function Dr(r,n,s){let c=De(s.padding);return n==="center"?r.x+r.width/2:n==="right"?r.x+r.width-c.right:r.x+c.left}function Xh(r){return Tn([],Wn(r))}function x0(r,n,s){return Hn(r,{tooltip:n,tooltipItems:s,type:"tooltip"})}function Gh(r,n){let s=n&&n.dataset&&n.dataset.tooltip&&n.dataset.tooltip.callbacks;return s?r.override(s):r}class ml extends rn{constructor(n){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=n.chart||n._chart,this._chart=this.chart,this.options=n.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(n){this.options=n,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let n=this._cachedAnimations;if(n)return n;let s=this.chart,c=this.options.setContext(this.getContext()),d=c.enabled&&s.options.animation&&c.animations,g=new ja(this.chart,d);return d._cacheable&&(this._cachedAnimations=Object.freeze(g)),g}getContext(){return this.$context||(this.$context=x0(this.chart.getContext(),this,this._tooltipItems))}getTitle(n,s){let{callbacks:c}=s,d=c.beforeTitle.apply(this,[n]),g=c.title.apply(this,[n]),b=c.afterTitle.apply(this,[n]),x=[];return x=Tn(x,Wn(d)),x=Tn(x,Wn(g)),x=Tn(x,Wn(b)),x}getBeforeBody(n,s){return Xh(s.callbacks.beforeBody.apply(this,[n]))}getBody(n,s){let{callbacks:c}=s,d=[];return v(n,g=>{let b={before:[],lines:[],after:[]},x=Gh(c,g);Tn(b.before,Wn(x.beforeLabel.call(this,g))),Tn(b.lines,x.label.call(this,g)),Tn(b.after,Wn(x.afterLabel.call(this,g))),d.push(b)}),d}getAfterBody(n,s){return Xh(s.callbacks.afterBody.apply(this,[n]))}getFooter(n,s){let{callbacks:c}=s,d=c.beforeFooter.apply(this,[n]),g=c.footer.apply(this,[n]),b=c.afterFooter.apply(this,[n]),x=[];return x=Tn(x,Wn(d)),x=Tn(x,Wn(g)),x=Tn(x,Wn(b)),x}_createItems(n){let s=this._active,c=this.chart.data,d=[],g=[],b=[],x=[],_,k;for(_=0,k=s.length;_<k;++_)x.push(d0(this.chart,s[_]));return n.filter&&(x=x.filter((T,D,R)=>n.filter(T,D,R,c))),n.itemSort&&(x=x.sort((T,D)=>n.itemSort(T,D,c))),v(x,T=>{let D=Gh(n.callbacks,T);d.push(D.labelColor.call(this,T)),g.push(D.labelPointStyle.call(this,T)),b.push(D.labelTextColor.call(this,T))}),this.labelColors=d,this.labelPointStyles=g,this.labelTextColors=b,this.dataPoints=x,x}update(n,s){let c=this.options.setContext(this.getContext()),d=this._active,g,b=[];if(!d.length)this.opacity!==0&&(g={opacity:0});else{let x=xo[c.position].call(this,d,this._eventPosition);b=this._createItems(c),this.title=this.getTitle(b,c),this.beforeBody=this.getBeforeBody(b,c),this.body=this.getBody(b,c),this.afterBody=this.getAfterBody(b,c),this.footer=this.getFooter(b,c);let _=this._size=Yh(this,c),k=Object.assign({},x,_),T=qh(this.chart,c,k),D=Uh(c,k,T,this.chart);this.xAlign=T.xAlign,this.yAlign=T.yAlign,g={opacity:1,x:D.x,y:D.y,width:_.width,height:_.height,caretX:x.x,caretY:x.y}}this._tooltipItems=b,this.$context=void 0,g&&this._resolveAnimations().update(this,g),n&&c.external&&c.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(n,s,c,d){let g=this.getCaretPosition(n,c,d);s.lineTo(g.x1,g.y1),s.lineTo(g.x2,g.y2),s.lineTo(g.x3,g.y3)}getCaretPosition(n,s,c){let{xAlign:d,yAlign:g}=this,{caretSize:b,cornerRadius:x}=c,{topLeft:_,topRight:k,bottomLeft:T,bottomRight:D}=di(x),{x:R,y:I}=n,{width:B,height:V}=s,$,U,Q,ot,st,tt;return g==="center"?(st=I+V/2,d==="left"?($=R,U=$-b,ot=st+b,tt=st-b):($=R+B,U=$+b,ot=st-b,tt=st+b),Q=$):(d==="left"?U=R+Math.max(_,T)+b:d==="right"?U=R+B-Math.max(k,D)-b:U=this.caretX,g==="top"?(ot=I,st=ot-b,$=U-b,Q=U+b):(ot=I+V,st=ot+b,$=U+b,Q=U-b),tt=ot),{x1:$,x2:U,x3:Q,y1:ot,y2:st,y3:tt}}drawTitle(n,s,c){let d=this.title,g=d.length,b,x,_;if(g){let k=Yi(c.rtl,this.x,this.width);for(n.x=Dr(this,c.titleAlign,c),s.textAlign=k.textAlign(c.titleAlign),s.textBaseline="middle",b=be(c.titleFont),x=c.titleSpacing,s.fillStyle=c.titleColor,s.font=b.string,_=0;_<g;++_)s.fillText(d[_],k.x(n.x),n.y+b.lineHeight/2),n.y+=b.lineHeight+x,_+1===g&&(n.y+=c.titleMarginBottom-x)}}_drawColorBox(n,s,c,d,g){let b=this.labelColors[c],x=this.labelPointStyles[c],{boxHeight:_,boxWidth:k,boxPadding:T}=g,D=be(g.bodyFont),R=Dr(this,"left",g),I=d.x(R),B=_<D.lineHeight?(D.lineHeight-_)/2:0,V=s.y+B;if(g.usePointStyle){let $={radius:Math.min(k,_)/2,pointStyle:x.pointStyle,rotation:x.rotation,borderWidth:1},U=d.leftForLtr(I,k)+k/2,Q=V+_/2;n.strokeStyle=g.multiKeyBackground,n.fillStyle=g.multiKeyBackground,cr(n,$,U,Q),n.strokeStyle=b.borderColor,n.fillStyle=b.backgroundColor,cr(n,$,U,Q)}else{n.lineWidth=a(b.borderWidth)?Math.max(...Object.values(b.borderWidth)):b.borderWidth||1,n.strokeStyle=b.borderColor,n.setLineDash(b.borderDash||[]),n.lineDashOffset=b.borderDashOffset||0;let $=d.leftForLtr(I,k-T),U=d.leftForLtr(d.xPlus(I,1),k-T-2),Q=di(b.borderRadius);Object.values(Q).some(ot=>ot!==0)?(n.beginPath(),n.fillStyle=g.multiKeyBackground,ms(n,{x:$,y:V,w:k,h:_,radius:Q}),n.fill(),n.stroke(),n.fillStyle=b.backgroundColor,n.beginPath(),ms(n,{x:U,y:V+1,w:k-2,h:_-2,radius:Q}),n.fill()):(n.fillStyle=g.multiKeyBackground,n.fillRect($,V,k,_),n.strokeRect($,V,k,_),n.fillStyle=b.backgroundColor,n.fillRect(U,V+1,k-2,_-2))}n.fillStyle=this.labelTextColors[c]}drawBody(n,s,c){let{body:d}=this,{bodySpacing:g,bodyAlign:b,displayColors:x,boxHeight:_,boxWidth:k,boxPadding:T}=c,D=be(c.bodyFont),R=D.lineHeight,I=0,B=Yi(c.rtl,this.x,this.width),V=function(wt){s.fillText(wt,B.x(n.x+I),n.y+R/2),n.y+=R+g},$=B.textAlign(b),U,Q,ot,st,tt,ut,ht;for(s.textAlign=b,s.textBaseline="middle",s.font=D.string,n.x=Dr(this,$,c),s.fillStyle=c.bodyColor,v(this.beforeBody,V),I=x&&$!=="right"?b==="center"?k/2+T:k+2+T:0,st=0,ut=d.length;st<ut;++st){for(U=d[st],Q=this.labelTextColors[st],s.fillStyle=Q,v(U.before,V),ot=U.lines,x&&ot.length&&(this._drawColorBox(s,n,st,B,c),R=Math.max(D.lineHeight,_)),tt=0,ht=ot.length;tt<ht;++tt)V(ot[tt]),R=D.lineHeight;v(U.after,V)}I=0,R=D.lineHeight,v(this.afterBody,V),n.y-=g}drawFooter(n,s,c){let d=this.footer,g=d.length,b,x;if(g){let _=Yi(c.rtl,this.x,this.width);for(n.x=Dr(this,c.footerAlign,c),n.y+=c.footerMarginTop,s.textAlign=_.textAlign(c.footerAlign),s.textBaseline="middle",b=be(c.footerFont),s.fillStyle=c.footerColor,s.font=b.string,x=0;x<g;++x)s.fillText(d[x],_.x(n.x),n.y+b.lineHeight/2),n.y+=b.lineHeight+c.footerSpacing}}drawBackground(n,s,c,d){let{xAlign:g,yAlign:b}=this,{x,y:_}=n,{width:k,height:T}=c,{topLeft:D,topRight:R,bottomLeft:I,bottomRight:B}=di(d.cornerRadius);s.fillStyle=d.backgroundColor,s.strokeStyle=d.borderColor,s.lineWidth=d.borderWidth,s.beginPath(),s.moveTo(x+D,_),b==="top"&&this.drawCaret(n,s,c,d),s.lineTo(x+k-R,_),s.quadraticCurveTo(x+k,_,x+k,_+R),b==="center"&&g==="right"&&this.drawCaret(n,s,c,d),s.lineTo(x+k,_+T-B),s.quadraticCurveTo(x+k,_+T,x+k-B,_+T),b==="bottom"&&this.drawCaret(n,s,c,d),s.lineTo(x+I,_+T),s.quadraticCurveTo(x,_+T,x,_+T-I),b==="center"&&g==="left"&&this.drawCaret(n,s,c,d),s.lineTo(x,_+D),s.quadraticCurveTo(x,_,x+D,_),s.closePath(),s.fill(),d.borderWidth>0&&s.stroke()}_updateAnimationTarget(n){let s=this.chart,c=this.$animations,d=c&&c.x,g=c&&c.y;if(d||g){let b=xo[n.position].call(this,this._active,this._eventPosition);if(!b)return;let x=this._size=Yh(this,n),_=Object.assign({},b,this._size),k=qh(s,n,_),T=Uh(n,_,k,s);(d._to!==T.x||g._to!==T.y)&&(this.xAlign=k.xAlign,this.yAlign=k.yAlign,this.width=x.width,this.height=x.height,this.caretX=b.x,this.caretY=b.y,this._resolveAnimations().update(this,T))}}_willRender(){return!!this.opacity}draw(n){let s=this.options.setContext(this.getContext()),c=this.opacity;if(!c)return;this._updateAnimationTarget(s);let d={width:this.width,height:this.height},g={x:this.x,y:this.y};c=Math.abs(c)<.001?0:c;let b=De(s.padding),x=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&x&&(n.save(),n.globalAlpha=c,this.drawBackground(g,n,d,s),qa(n,s.textDirection),g.y+=b.top,this.drawTitle(g,n,s),this.drawBody(g,n,s),this.drawFooter(g,n,s),Ua(n,s.textDirection),n.restore())}getActiveElements(){return this._active||[]}setActiveElements(n,s){let c=this._active,d=n.map(({datasetIndex:x,index:_})=>{let k=this.chart.getDatasetMeta(x);if(!k)throw new Error("Cannot find a dataset at index "+x);return{datasetIndex:x,element:k.data[_],index:_}}),g=!y(c,d),b=this._positionChanged(d,s);(g||b)&&(this._active=d,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(n,s,c=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let d=this.options,g=this._active||[],b=this._getActiveElements(n,g,s,c),x=this._positionChanged(b,n),_=s||!y(b,g)||x;return _&&(this._active=b,(d.enabled||d.external)&&(this._eventPosition={x:n.x,y:n.y},this.update(!0,s))),_}_getActiveElements(n,s,c,d){let g=this.options;if(n.type==="mouseout")return[];if(!d)return s;let b=this.chart.getElementsAtEventForMode(n,g.mode,g,c);return g.reverse&&b.reverse(),b}_positionChanged(n,s){let{caretX:c,caretY:d,options:g}=this,b=xo[g.position].call(this,n,s);return b!==!1&&(c!==b.x||d!==b.y)}}ml.positioners=xo;var _0={id:"tooltip",_element:ml,positioners:xo,afterInit(r,n,s){s&&(r.tooltip=new ml({chart:r,options:s}))},beforeUpdate(r,n,s){r.tooltip&&r.tooltip.initialize(s)},reset(r,n,s){r.tooltip&&r.tooltip.initialize(s)},afterDraw(r){let n=r.tooltip;if(n&&n._willRender()){let s={tooltip:n};if(r.notifyPlugins("beforeTooltipDraw",s)===!1)return;n.draw(r.ctx),r.notifyPlugins("afterTooltipDraw",s)}},afterEvent(r,n){if(r.tooltip){let s=n.replay;r.tooltip.handleEvent(n.event,s,n.inChartArea)&&(n.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(r,n)=>n.bodyFont.size,boxWidth:(r,n)=>n.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:i,title(r){if(r.length>0){let n=r[0],s=n.chart.data.labels,c=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return n.dataset.label||"";if(n.label)return n.label;if(c>0&&n.dataIndex<c)return s[n.dataIndex]}return""},afterTitle:i,beforeBody:i,beforeLabel:i,label(r){if(this&&this.options&&this.options.mode==="dataset")return r.label+": "+r.formattedValue||r.formattedValue;let n=r.dataset.label||"";n&&(n+=": ");let s=r.formattedValue;return e(s)||(n+=s),n},labelColor(r){let s=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(r){let s=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:i,afterBody:i,beforeFooter:i,footer:i,afterFooter:i}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:r=>r!=="filter"&&r!=="itemSort"&&r!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Kh=Object.freeze({__proto__:null,Decimation:Vb,Filler:r0,Legend:c0,SubTitle:f0,Title:h0,Tooltip:_0});let y0=(r,n,s,c)=>(typeof n=="string"?(s=r.push(n)-1,c.unshift({index:s,label:n})):isNaN(n)&&(s=null),s);function w0(r,n,s,c){let d=r.indexOf(n);if(d===-1)return y0(r,n,s,c);let g=r.lastIndexOf(n);return d!==g?s:d}let k0=(r,n)=>r===null?null:Ut(Math.round(r),0,n);class Lr extends pi{constructor(n){super(n),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(n){let s=this._addedLabels;if(s.length){let c=this.getLabels();for(let{index:d,label:g}of s)c[d]===g&&c.splice(d,1);this._addedLabels=[]}super.init(n)}parse(n,s){if(e(n))return null;let c=this.getLabels();return s=isFinite(s)&&c[s]===n?s:w0(c,n,u(s,n),this._addedLabels),k0(s,c.length-1)}determineDataLimits(){let{minDefined:n,maxDefined:s}=this.getUserBounds(),{min:c,max:d}=this.getMinMax(!0);this.options.bounds==="ticks"&&(n||(c=0),s||(d=this.getLabels().length-1)),this.min=c,this.max=d}buildTicks(){let n=this.min,s=this.max,c=this.options.offset,d=[],g=this.getLabels();g=n===0&&s===g.length-1?g:g.slice(n,s+1),this._valueRange=Math.max(g.length-(c?0:1),1),this._startValue=this.min-(c?.5:0);for(let b=n;b<=s;b++)d.push({value:b});return d}getLabelForValue(n){let s=this.getLabels();return n>=0&&n<s.length?s[n]:n}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(n){return typeof n!="number"&&(n=this.parse(n)),n===null?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getPixelForTick(n){let s=this.ticks;return n<0||n>s.length-1?null:this.getPixelForValue(s[n].value)}getValueForPixel(n){return Math.round(this._startValue+this.getDecimalForPixel(n)*this._valueRange)}getBasePixel(){return this.bottom}}Lr.id="category",Lr.defaults={ticks:{callback:Lr.prototype.getLabelForValue}};function P0(r,n){let s=[],{bounds:d,step:g,min:b,max:x,precision:_,count:k,maxTicks:T,maxDigits:D,includeBounds:R}=r,I=g||1,B=T-1,{min:V,max:$}=n,U=!e(b),Q=!e(x),ot=!e(k),st=($-V)/(D+1),tt=Kt(($-V)/B/I)*I,ut,ht,wt,_t;if(tt<1e-14&&!U&&!Q)return[{value:V},{value:$}];_t=Math.ceil($/tt)-Math.floor(V/tt),_t>B&&(tt=Kt(_t*tt/B/I)*I),e(_)||(ut=Math.pow(10,_),tt=Math.ceil(tt*ut)/ut),d==="ticks"?(ht=Math.floor(V/tt)*tt,wt=Math.ceil($/tt)*tt):(ht=V,wt=$),U&&Q&&g&&Nt((x-b)/g,tt/1e3)?(_t=Math.round(Math.min((x-b)/tt,T)),tt=(x-b)/_t,ht=b,wt=x):ot?(ht=U?b:ht,wt=Q?x:wt,_t=k-1,tt=(wt-ht)/_t):(_t=(wt-ht)/tt,Wt(_t,Math.round(_t),tt/1e3)?_t=Math.round(_t):_t=Math.ceil(_t));let Vt=Math.max(Qe(tt),Qe(ht));ut=Math.pow(10,e(_)?Vt:_),ht=Math.round(ht*ut)/ut,wt=Math.round(wt*ut)/ut;let Ht=0;for(U&&(R&&ht!==b?(s.push({value:b}),ht<b&&Ht++,Wt(Math.round((ht+Ht*tt)*ut)/ut,b,Qh(b,st,r))&&Ht++):ht<b&&Ht++);Ht<_t;++Ht)s.push({value:Math.round((ht+Ht*tt)*ut)/ut});return Q&&R&&wt!==x?s.length&&Wt(s[s.length-1].value,x,Qh(x,st,r))?s[s.length-1].value=x:s.push({value:x}):(!Q||wt===x)&&s.push({value:wt}),s}function Qh(r,n,{horizontal:s,minRotation:c}){let d=ne(c),g=(s?Math.sin(d):Math.cos(d))||.001,b=.75*n*(""+r).length;return Math.min(n/g,b)}class Sr extends pi{constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(n,s){return e(n)||(typeof n=="number"||n instanceof Number)&&!isFinite(+n)?null:+n}handleTickRangeOptions(){let{beginAtZero:n}=this.options,{minDefined:s,maxDefined:c}=this.getUserBounds(),{min:d,max:g}=this,b=_=>d=s?d:_,x=_=>g=c?g:_;if(n){let _=At(d),k=At(g);_<0&&k<0?x(0):_>0&&k>0&&b(0)}if(d===g){let _=1;(g>=Number.MAX_SAFE_INTEGER||d<=Number.MIN_SAFE_INTEGER)&&(_=Math.abs(g*.05)),x(g+_),n||b(d-_)}this.min=d,this.max=g}getTickLimit(){let n=this.options.ticks,{maxTicksLimit:s,stepSize:c}=n,d;return c?(d=Math.ceil(this.max/c)-Math.floor(this.min/c)+1,d>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${c} would result generating up to ${d} ticks. Limiting to 1000.`),d=1e3)):(d=this.computeTickLimit(),s=s||11),s&&(d=Math.min(s,d)),d}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let n=this.options,s=n.ticks,c=this.getTickLimit();c=Math.max(2,c);let d={maxTicks:c,bounds:n.bounds,min:n.min,max:n.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},g=this._range||this,b=P0(d,g);return n.bounds==="ticks"&&Ae(b,this,"value"),n.reverse?(b.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),b}configure(){let n=this.ticks,s=this.min,c=this.max;if(super.configure(),this.options.offset&&n.length){let d=(c-s)/Math.max(n.length-1,1)/2;s-=d,c+=d}this._startValue=s,this._endValue=c,this._valueRange=c-s}getLabelForValue(n){return xs(n,this.chart.options.locale,this.options.ticks.format)}}class bl extends Sr{determineDataLimits(){let{min:n,max:s}=this.getMinMax(!0);this.min=h(n)?n:0,this.max=h(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){let n=this.isHorizontal(),s=n?this.width:this.height,c=ne(this.options.ticks.minRotation),d=(n?Math.sin(c):Math.cos(c))||.001,g=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,g.lineHeight/d))}getPixelForValue(n){return n===null?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getValueForPixel(n){return this._startValue+this.getDecimalForPixel(n)*this._valueRange}}bl.id="linear",bl.defaults={ticks:{callback:mo.formatters.numeric}};function Zh(r){return r/Math.pow(10,Math.floor(Ct(r)))===1}function C0(r,n){let s=Math.floor(Ct(n.max)),c=Math.ceil(n.max/Math.pow(10,s)),d=[],g=p(r.min,Math.pow(10,Math.floor(Ct(n.min)))),b=Math.floor(Ct(g)),x=Math.floor(g/Math.pow(10,b)),_=b<0?Math.pow(10,Math.abs(b)):1;do d.push({value:g,major:Zh(g)}),++x,x===10&&(x=1,++b,_=b>=0?1:_),g=Math.round(x*Math.pow(10,b)*_)/_;while(b<s||b===s&&x<c);let k=p(r.max,g);return d.push({value:k,major:Zh(g)}),d}class vl extends pi{constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(n,s){let c=Sr.prototype.parse.apply(this,[n,s]);if(c===0){this._zero=!0;return}return h(c)&&c>0?c:null}determineDataLimits(){let{min:n,max:s}=this.getMinMax(!0);this.min=h(n)?Math.max(0,n):null,this.max=h(s)?Math.max(0,s):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:n,maxDefined:s}=this.getUserBounds(),c=this.min,d=this.max,g=_=>c=n?c:_,b=_=>d=s?d:_,x=(_,k)=>Math.pow(10,Math.floor(Ct(_))+k);c===d&&(c<=0?(g(1),b(10)):(g(x(c,-1)),b(x(d,1)))),c<=0&&g(x(d,-1)),d<=0&&b(x(c,1)),this._zero&&this.min!==this._suggestedMin&&c===x(this.min,0)&&g(x(c,-1)),this.min=c,this.max=d}buildTicks(){let n=this.options,s={min:this._userMin,max:this._userMax},c=C0(s,this);return n.bounds==="ticks"&&Ae(c,this,"value"),n.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}getLabelForValue(n){return n===void 0?"0":xs(n,this.chart.options.locale,this.options.ticks.format)}configure(){let n=this.min;super.configure(),this._startValue=Ct(n),this._valueRange=Ct(this.max)-Ct(n)}getPixelForValue(n){return(n===void 0||n===0)&&(n=this.min),n===null||isNaN(n)?NaN:this.getPixelForDecimal(n===this.min?0:(Ct(n)-this._startValue)/this._valueRange)}getValueForPixel(n){let s=this.getDecimalForPixel(n);return Math.pow(10,this._startValue+s*this._valueRange)}}vl.id="logarithmic",vl.defaults={ticks:{callback:mo.formatters.logarithmic,major:{enabled:!0}}};function xl(r){let n=r.ticks;if(n.display&&r.display){let s=De(n.backdropPadding);return u(n.font&&n.font.size,Et.font.size)+s.height}return 0}function M0(r,n,s){return s=o(s)?s:[s],{w:du(r,n.string,s),h:s.length*n.lineHeight}}function Jh(r,n,s,c,d){return r===c||r===d?{start:n-s/2,end:n+s/2}:r<c||r>d?{start:n-s,end:n}:{start:n,end:n+s}}function O0(r){let n={l:r.left+r._padding.left,r:r.right-r._padding.right,t:r.top+r._padding.top,b:r.bottom-r._padding.bottom},s=Object.assign({},n),c=[],d=[],g=r._pointLabels.length,b=r.options.pointLabels,x=b.centerPointLabels?J/g:0;for(let _=0;_<g;_++){let k=b.setContext(r.getPointLabelContext(_));d[_]=k.padding;let T=r.getPointPosition(_,r.drawingArea+d[_],x),D=be(k.font),R=M0(r.ctx,D,r._pointLabels[_]);c[_]=R;let I=he(r.getIndexAngle(_)+x),B=Math.round(Fe(I)),V=Jh(B,T.x,R.w,0,180),$=Jh(B,T.y,R.h,90,270);T0(s,n,I,V,$)}r.setCenterPoint(n.l-s.l,s.r-n.r,n.t-s.t,s.b-n.b),r._pointLabelItems=A0(r,c,d)}function T0(r,n,s,c,d){let g=Math.abs(Math.sin(s)),b=Math.abs(Math.cos(s)),x=0,_=0;c.start<n.l?(x=(n.l-c.start)/g,r.l=Math.min(r.l,n.l-x)):c.end>n.r&&(x=(c.end-n.r)/g,r.r=Math.max(r.r,n.r+x)),d.start<n.t?(_=(n.t-d.start)/b,r.t=Math.min(r.t,n.t-_)):d.end>n.b&&(_=(d.end-n.b)/b,r.b=Math.max(r.b,n.b+_))}function A0(r,n,s){let c=[],d=r._pointLabels.length,g=r.options,b=xl(g)/2,x=r.drawingArea,_=g.pointLabels.centerPointLabels?J/d:0;for(let k=0;k<d;k++){let T=r.getPointPosition(k,x+b+s[k],_),D=Math.round(Fe(he(T.angle+gt))),R=n[k],I=L0(T.y,R.h,D),B=E0(D),V=D0(T.x,R.w,B);c.push({x:T.x,y:I,textAlign:B,left:V,top:I,right:V+R.w,bottom:I+R.h})}return c}function E0(r){return r===0||r===180?"center":r<180?"left":"right"}function D0(r,n,s){return s==="right"?r-=n:s==="center"&&(r-=n/2),r}function L0(r,n,s){return s===90||s===270?r-=n/2:(s>270||s<90)&&(r-=n),r}function S0(r,n){let{ctx:s,options:{pointLabels:c}}=r;for(let d=n-1;d>=0;d--){let g=c.setContext(r.getPointLabelContext(d)),b=be(g.font),{x,y:_,textAlign:k,left:T,top:D,right:R,bottom:I}=r._pointLabelItems[d],{backdropColor:B}=g;if(!e(B)){let V=di(g.borderRadius),$=De(g.backdropPadding);s.fillStyle=B;let U=T-$.left,Q=D-$.top,ot=R-T+$.width,st=I-D+$.height;Object.values(V).some(tt=>tt!==0)?(s.beginPath(),ms(s,{x:U,y:Q,w:ot,h:st,radius:V}),s.fill()):s.fillRect(U,Q,ot,st)}hi(s,r._pointLabels[d],x,_+b.lineHeight/2,b,{color:g.color,textAlign:k,textBaseline:"middle"})}}function jh(r,n,s,c){let{ctx:d}=r;if(s)d.arc(r.xCenter,r.yCenter,n,0,at);else{let g=r.getPointPosition(0,n);d.moveTo(g.x,g.y);for(let b=1;b<c;b++)g=r.getPointPosition(b,n),d.lineTo(g.x,g.y)}}function R0(r,n,s,c){let d=r.ctx,g=n.circular,{color:b,lineWidth:x}=n;!g&&!c||!b||!x||s<0||(d.save(),d.strokeStyle=b,d.lineWidth=x,d.setLineDash(n.borderDash),d.lineDashOffset=n.borderDashOffset,d.beginPath(),jh(r,s,g,c),d.closePath(),d.stroke(),d.restore())}function I0(r,n,s){return Hn(r,{label:s,index:n,type:"pointLabel"})}class _o extends Sr{constructor(n){super(n),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let n=this._padding=De(xl(this.options)/2),s=this.width=this.maxWidth-n.width,c=this.height=this.maxHeight-n.height;this.xCenter=Math.floor(this.left+s/2+n.left),this.yCenter=Math.floor(this.top+c/2+n.top),this.drawingArea=Math.floor(Math.min(s,c)/2)}determineDataLimits(){let{min:n,max:s}=this.getMinMax(!1);this.min=h(n)&&!isNaN(n)?n:0,this.max=h(s)&&!isNaN(s)?s:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/xl(this.options))}generateTickLabels(n){Sr.prototype.generateTickLabels.call(this,n),this._pointLabels=this.getLabels().map((s,c)=>{let d=m(this.options.pointLabels.callback,[s,c],this);return d||d===0?d:""}).filter((s,c)=>this.chart.getDataVisibility(c))}fit(){let n=this.options;n.display&&n.pointLabels.display?O0(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(n,s,c,d){this.xCenter+=Math.floor((n-s)/2),this.yCenter+=Math.floor((c-d)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(n,s,c,d))}getIndexAngle(n){let s=at/(this._pointLabels.length||1),c=this.options.startAngle||0;return he(n*s+ne(c))}getDistanceFromCenterForValue(n){if(e(n))return NaN;let s=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-n)*s:(n-this.min)*s}getValueForDistanceFromCenter(n){if(e(n))return NaN;let s=n/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-s:this.min+s}getPointLabelContext(n){let s=this._pointLabels||[];if(n>=0&&n<s.length){let c=s[n];return I0(this.getContext(),n,c)}}getPointPosition(n,s,c=0){let d=this.getIndexAngle(n)-gt+c;return{x:Math.cos(d)*s+this.xCenter,y:Math.sin(d)*s+this.yCenter,angle:d}}getPointPositionForValue(n,s){return this.getPointPosition(n,this.getDistanceFromCenterForValue(s))}getBasePosition(n){return this.getPointPositionForValue(n||0,this.getBaseValue())}getPointLabelPosition(n){let{left:s,top:c,right:d,bottom:g}=this._pointLabelItems[n];return{left:s,top:c,right:d,bottom:g}}drawBackground(){let{backgroundColor:n,grid:{circular:s}}=this.options;if(n){let c=this.ctx;c.save(),c.beginPath(),jh(this,this.getDistanceFromCenterForValue(this._endValue),s,this._pointLabels.length),c.closePath(),c.fillStyle=n,c.fill(),c.restore()}}drawGrid(){let n=this.ctx,s=this.options,{angleLines:c,grid:d}=s,g=this._pointLabels.length,b,x,_;if(s.pointLabels.display&&S0(this,g),d.display&&this.ticks.forEach((k,T)=>{if(T!==0){x=this.getDistanceFromCenterForValue(k.value);let D=d.setContext(this.getContext(T-1));R0(this,D,x,g)}}),c.display){for(n.save(),b=g-1;b>=0;b--){let k=c.setContext(this.getPointLabelContext(b)),{color:T,lineWidth:D}=k;!D||!T||(n.lineWidth=D,n.strokeStyle=T,n.setLineDash(k.borderDash),n.lineDashOffset=k.borderDashOffset,x=this.getDistanceFromCenterForValue(s.ticks.reverse?this.min:this.max),_=this.getPointPosition(b,x),n.beginPath(),n.moveTo(this.xCenter,this.yCenter),n.lineTo(_.x,_.y),n.stroke())}n.restore()}}drawBorder(){}drawLabels(){let n=this.ctx,s=this.options,c=s.ticks;if(!c.display)return;let d=this.getIndexAngle(0),g,b;n.save(),n.translate(this.xCenter,this.yCenter),n.rotate(d),n.textAlign="center",n.textBaseline="middle",this.ticks.forEach((x,_)=>{if(_===0&&!s.reverse)return;let k=c.setContext(this.getContext(_)),T=be(k.font);if(g=this.getDistanceFromCenterForValue(this.ticks[_].value),k.showLabelBackdrop){n.font=T.string,b=n.measureText(x.label).width,n.fillStyle=k.backdropColor;let D=De(k.backdropPadding);n.fillRect(-b/2-D.left,-g-T.size/2-D.top,b+D.width,T.size+D.height)}hi(n,x.label,0,-g,T,{color:k.color})}),n.restore()}drawTitle(){}}_o.id="radialLinear",_o.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:mo.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(r){return r},padding:5,centerPointLabels:!1}},_o.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},_o.descriptors={angleLines:{_fallback:"grid"}};let Rr={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},qe=Object.keys(Rr);function F0(r,n){return r-n}function tf(r,n){if(e(n))return null;let s=r._adapter,{parser:c,round:d,isoWeekday:g}=r._parseOpts,b=n;return typeof c=="function"&&(b=c(b)),h(b)||(b=typeof c=="string"?s.parse(b,c):s.parse(b)),b===null?null:(d&&(b=d==="week"&&(Dt(g)||g===!0)?s.startOf(b,"isoWeek",g):s.startOf(b,d)),+b)}function ef(r,n,s,c){let d=qe.length;for(let g=qe.indexOf(r);g<d-1;++g){let b=Rr[qe[g]],x=b.steps?b.steps:Number.MAX_SAFE_INTEGER;if(b.common&&Math.ceil((s-n)/(x*b.size))<=c)return qe[g]}return qe[d-1]}function B0(r,n,s,c,d){for(let g=qe.length-1;g>=qe.indexOf(s);g--){let b=qe[g];if(Rr[b].common&&r._adapter.diff(d,c,b)>=n-1)return b}return qe[s?qe.indexOf(s):0]}function z0(r){for(let n=qe.indexOf(r)+1,s=qe.length;n<s;++n)if(Rr[qe[n]].common)return qe[n]}function nf(r,n,s){if(!s)r[n]=!0;else if(s.length){let{lo:c,hi:d}=Be(s,n),g=s[c]>=n?s[c]:s[d];r[g]=!0}}function N0(r,n,s,c){let d=r._adapter,g=+d.startOf(n[0].value,c),b=n[n.length-1].value,x,_;for(x=g;x<=b;x=+d.add(x,1,c))_=s[x],_>=0&&(n[_].major=!0);return n}function sf(r,n,s){let c=[],d={},g=n.length,b,x;for(b=0;b<g;++b)x=n[b],d[x]=b,c.push({value:x,major:!1});return g===0||!s?c:N0(r,c,d,s)}class yo extends pi{constructor(n){super(n),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(n,s){let c=n.time||(n.time={}),d=this._adapter=new wh._date(n.adapters.date);d.init(s),O(c.displayFormats,d.formats()),this._parseOpts={parser:c.parser,round:c.round,isoWeekday:c.isoWeekday},super.init(n),this._normalized=s.normalized}parse(n,s){return n===void 0?null:tf(this,n)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let n=this.options,s=this._adapter,c=n.time.unit||"day",{min:d,max:g,minDefined:b,maxDefined:x}=this.getUserBounds();function _(k){!b&&!isNaN(k.min)&&(d=Math.min(d,k.min)),!x&&!isNaN(k.max)&&(g=Math.max(g,k.max))}(!b||!x)&&(_(this._getLabelBounds()),(n.bounds!=="ticks"||n.ticks.source!=="labels")&&_(this.getMinMax(!1))),d=h(d)&&!isNaN(d)?d:+s.startOf(Date.now(),c),g=h(g)&&!isNaN(g)?g:+s.endOf(Date.now(),c)+1,this.min=Math.min(d,g-1),this.max=Math.max(d+1,g)}_getLabelBounds(){let n=this.getLabelTimestamps(),s=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY;return n.length&&(s=n[0],c=n[n.length-1]),{min:s,max:c}}buildTicks(){let n=this.options,s=n.time,c=n.ticks,d=c.source==="labels"?this.getLabelTimestamps():this._generate();n.bounds==="ticks"&&d.length&&(this.min=this._userMin||d[0],this.max=this._userMax||d[d.length-1]);let g=this.min,b=this.max,x=en(d,g,b);return this._unit=s.unit||(c.autoSkip?ef(s.minUnit,this.min,this.max,this._getLabelCapacity(g)):B0(this,x.length,s.minUnit,this.min,this.max)),this._majorUnit=!c.major.enabled||this._unit==="year"?void 0:z0(this._unit),this.initOffsets(d),n.reverse&&x.reverse(),sf(this,x,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(n=>+n.value))}initOffsets(n){let s=0,c=0,d,g;this.options.offset&&n.length&&(d=this.getDecimalForValue(n[0]),n.length===1?s=1-d:s=(this.getDecimalForValue(n[1])-d)/2,g=this.getDecimalForValue(n[n.length-1]),n.length===1?c=g:c=(g-this.getDecimalForValue(n[n.length-2]))/2);let b=n.length<3?.5:.25;s=Ut(s,0,b),c=Ut(c,0,b),this._offsets={start:s,end:c,factor:1/(s+1+c)}}_generate(){let n=this._adapter,s=this.min,c=this.max,d=this.options,g=d.time,b=g.unit||ef(g.minUnit,s,c,this._getLabelCapacity(s)),x=u(g.stepSize,1),_=b==="week"?g.isoWeekday:!1,k=Dt(_)||_===!0,T={},D=s,R,I;if(k&&(D=+n.startOf(D,"isoWeek",_)),D=+n.startOf(D,k?"day":b),n.diff(c,s,b)>1e5*x)throw new Error(s+" and "+c+" are too far apart with stepSize of "+x+" "+b);let B=d.ticks.source==="data"&&this.getDataTimestamps();for(R=D,I=0;R<c;R=+n.add(R,x,b),I++)nf(T,R,B);return(R===c||d.bounds==="ticks"||I===1)&&nf(T,R,B),Object.keys(T).sort((V,$)=>V-$).map(V=>+V)}getLabelForValue(n){let s=this._adapter,c=this.options.time;return c.tooltipFormat?s.format(n,c.tooltipFormat):s.format(n,c.displayFormats.datetime)}_tickFormatFunction(n,s,c,d){let g=this.options,b=g.time.displayFormats,x=this._unit,_=this._majorUnit,k=x&&b[x],T=_&&b[_],D=c[s],R=_&&T&&D&&D.major,I=this._adapter.format(n,d||(R?T:k)),B=g.ticks.callback;return B?m(B,[I,s,c],this):I}generateTickLabels(n){let s,c,d;for(s=0,c=n.length;s<c;++s)d=n[s],d.label=this._tickFormatFunction(d.value,s,n)}getDecimalForValue(n){return n===null?NaN:(n-this.min)/(this.max-this.min)}getPixelForValue(n){let s=this._offsets,c=this.getDecimalForValue(n);return this.getPixelForDecimal((s.start+c)*s.factor)}getValueForPixel(n){let s=this._offsets,c=this.getDecimalForPixel(n)/s.factor-s.end;return this.min+c*(this.max-this.min)}_getLabelSize(n){let s=this.options.ticks,c=this.ctx.measureText(n).width,d=ne(this.isHorizontal()?s.maxRotation:s.minRotation),g=Math.cos(d),b=Math.sin(d),x=this._resolveTickFontOptions(0).size;return{w:c*g+x*b,h:c*b+x*g}}_getLabelCapacity(n){let s=this.options.time,c=s.displayFormats,d=c[s.unit]||c.millisecond,g=this._tickFormatFunction(n,0,sf(this,[n],this._majorUnit),d),b=this._getLabelSize(g),x=Math.floor(this.isHorizontal()?this.width/b.w:this.height/b.h)-1;return x>0?x:1}getDataTimestamps(){let n=this._cache.data||[],s,c;if(n.length)return n;let d=this.getMatchingVisibleMetas();if(this._normalized&&d.length)return this._cache.data=d[0].controller.getAllParsedValues(this);for(s=0,c=d.length;s<c;++s)n=n.concat(d[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){let n=this._cache.labels||[],s,c;if(n.length)return n;let d=this.getLabels();for(s=0,c=d.length;s<c;++s)n.push(tf(this,d[s]));return this._cache.labels=this._normalized?n:this.normalize(n)}normalize(n){return Mn(n.sort(F0))}}yo.id="time",yo.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function Ir(r,n,s){let c=0,d=r.length-1,g,b,x,_;s?(n>=r[c].pos&&n<=r[d].pos&&({lo:c,hi:d}=fe(r,"pos",n)),{pos:g,time:x}=r[c],{pos:b,time:_}=r[d]):(n>=r[c].time&&n<=r[d].time&&({lo:c,hi:d}=fe(r,"time",n)),{time:g,pos:x}=r[c],{time:b,pos:_}=r[d]);let k=b-g;return k?x+(_-x)*(n-g)/k:x}class _l extends yo{constructor(n){super(n),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let n=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(n);this._minPos=Ir(s,this.min),this._tableRange=Ir(s,this.max)-this._minPos,super.initOffsets(n)}buildLookupTable(n){let{min:s,max:c}=this,d=[],g=[],b,x,_,k,T;for(b=0,x=n.length;b<x;++b)k=n[b],k>=s&&k<=c&&d.push(k);if(d.length<2)return[{time:s,pos:0},{time:c,pos:1}];for(b=0,x=d.length;b<x;++b)T=d[b+1],_=d[b-1],k=d[b],Math.round((T+_)/2)!==k&&g.push({time:k,pos:b/(x-1)});return g}_getTimestampsForTable(){let n=this._cache.all||[];if(n.length)return n;let s=this.getDataTimestamps(),c=this.getLabelTimestamps();return s.length&&c.length?n=this.normalize(s.concat(c)):n=s.length?s:c,n=this._cache.all=n,n}getDecimalForValue(n){return(Ir(this._table,n)-this._minPos)/this._tableRange}getValueForPixel(n){let s=this._offsets,c=this.getDecimalForPixel(n)/s.factor-s.end;return Ir(this._table,c*this._tableRange+this._minPos,!0)}}_l.id="timeseries",_l.defaults=yo.defaults;var of=Object.freeze({__proto__:null,CategoryScale:Lr,LinearScale:bl,LogarithmicScale:vl,RadialLinearScale:_o,TimeScale:yo,TimeSeriesScale:_l});return le.register(Oh,of,hl,Kh),le.helpers={...Hg},le._adapters=wh,le.Animation=ju,le.Animations=ja,le.animator=Pt,le.controllers=bn.controllers.items,le.DatasetController=on,le.Element=rn,le.elements=hl,le.Interaction=zu,le.layouts=Le,le.platforms=Zu,le.Scale=pi,le.Ticks=mo,Object.assign(le,Oh,of,hl,Kh,Zu),le.Chart=le,typeof window<"u"&&(window.Chart=le),le})});var kp=Br((Fc,Bc)=>{(function(i,t){typeof Fc=="object"&&typeof Bc<"u"?Bc.exports=t(wp()):typeof define=="function"&&define.amd?define(["chart.js"],t):(i=typeof globalThis<"u"?globalThis:i||self).index=t(i.Chart)})(Fc,function(i){"use strict";var t={value:()=>{}};function e(){for(var S,z=0,Y=arguments.length,q={};z<Y;++z){if(!(S=arguments[z]+"")||S in q||/[\s.]/.test(S))throw new Error("illegal type: "+S);q[S]=[]}return new o(q)}function o(S){this._=S}function a(S,z){return S.trim().split(/^|\s+/).map(function(Y){var q="",X=Y.indexOf(".");if(X>=0&&(q=Y.slice(X+1),Y=Y.slice(0,X)),Y&&!z.hasOwnProperty(Y))throw new Error("unknown type: "+Y);return{type:Y,name:q}})}function h(S,z){for(var Y,q=0,X=S.length;q<X;++q)if((Y=S[q]).name===z)return Y.value}function p(S,z,Y){for(var q=0,X=S.length;q<X;++q)if(S[q].name===z){S[q]=t,S=S.slice(0,q).concat(S.slice(q+1));break}return Y!=null&&S.push({name:z,value:Y}),S}o.prototype=e.prototype={constructor:o,on:function(S,z){var Y,q=this._,X=a(S+"",q),Z=-1,j=X.length;if(!(arguments.length<2)){if(z!=null&&typeof z!="function")throw new Error("invalid callback: "+z);for(;++Z<j;)if(Y=(S=X[Z]).type)q[Y]=p(q[Y],S.name,z);else if(z==null)for(Y in q)q[Y]=p(q[Y],S.name,null);return this}for(;++Z<j;)if((Y=(S=X[Z]).type)&&(Y=h(q[Y],S.name)))return Y},copy:function(){var S={},z=this._;for(var Y in z)S[Y]=z[Y].slice();return new o(S)},call:function(S,z){if((Y=arguments.length-2)>0)for(var Y,q,X=new Array(Y),Z=0;Z<Y;++Z)X[Z]=arguments[Z+2];if(!this._.hasOwnProperty(S))throw new Error("unknown type: "+S);for(Z=0,Y=(q=this._[S]).length;Z<Y;++Z)q[Z].value.apply(z,X)},apply:function(S,z,Y){if(!this._.hasOwnProperty(S))throw new Error("unknown type: "+S);for(var q=this._[S],X=0,Z=q.length;X<Z;++X)q[X].value.apply(z,Y)}};var u="http://www.w3.org/1999/xhtml",l={svg:"http://www.w3.org/2000/svg",xhtml:u,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function f(S){var z=S+="",Y=z.indexOf(":");return Y>=0&&(z=S.slice(0,Y))!=="xmlns"&&(S=S.slice(Y+1)),l.hasOwnProperty(z)?{space:l[z],local:S}:S}function m(S){return function(){var z=this.ownerDocument,Y=this.namespaceURI;return Y===u&&z.documentElement.namespaceURI===u?z.createElement(S):z.createElementNS(Y,S)}}function v(S){return function(){return this.ownerDocument.createElementNS(S.space,S.local)}}function y(S){var z=f(S);return(z.local?v:m)(z)}function w(){}function P(S){return S==null?w:function(){return this.querySelector(S)}}function C(S){return S==null?[]:Array.isArray(S)?S:Array.from(S)}function M(){return[]}function O(S){return function(z){return z.matches(S)}}var A=Array.prototype.find;function L(){return this.firstElementChild}var E=Array.prototype.filter;function F(){return Array.from(this.children)}function N(S){return new Array(S.length)}function H(S,z){this.ownerDocument=S.ownerDocument,this.namespaceURI=S.namespaceURI,this._next=null,this._parent=S,this.__data__=z}function W(S){return function(){return S}}function G(S,z,Y,q,X,Z){for(var j,rt=0,pt=z.length,dt=Z.length;rt<dt;++rt)(j=z[rt])?(j.__data__=Z[rt],q[rt]=j):Y[rt]=new H(S,Z[rt]);for(;rt<pt;++rt)(j=z[rt])&&(X[rt]=j)}function et(S,z,Y,q,X,Z,j){var rt,pt,dt,xt=new Map,zt=z.length,Tt=Z.length,Ve=new Array(zt);for(rt=0;rt<zt;++rt)(pt=z[rt])&&(Ve[rt]=dt=j.call(pt,pt.__data__,rt,z)+"",xt.has(dt)?X[rt]=pt:xt.set(dt,pt));for(rt=0;rt<Tt;++rt)dt=j.call(S,Z[rt],rt,Z)+"",(pt=xt.get(dt))?(q[rt]=pt,pt.__data__=Z[rt],xt.delete(dt)):Y[rt]=new H(S,Z[rt]);for(rt=0;rt<zt;++rt)(pt=z[rt])&&xt.get(Ve[rt])===pt&&(X[rt]=pt)}function nt(S){return S.__data__}function it(S){return typeof S=="object"&&"length"in S?S:Array.from(S)}function J(S,z){return S<z?-1:S>z?1:S>=z?0:NaN}function at(S){return function(){this.removeAttribute(S)}}function ct(S){return function(){this.removeAttributeNS(S.space,S.local)}}function mt(S,z){return function(){this.setAttribute(S,z)}}function vt(S,z){return function(){this.setAttributeNS(S.space,S.local,z)}}function gt(S,z){return function(){var Y=z.apply(this,arguments);Y==null?this.removeAttribute(S):this.setAttribute(S,Y)}}function kt(S,z){return function(){var Y=z.apply(this,arguments);Y==null?this.removeAttributeNS(S.space,S.local):this.setAttributeNS(S.space,S.local,Y)}}function Lt(S){return S.ownerDocument&&S.ownerDocument.defaultView||S.document&&S||S.defaultView}function Ct(S){return function(){this.style.removeProperty(S)}}function At(S,z,Y){return function(){this.style.setProperty(S,z,Y)}}function Kt(S,z,Y){return function(){var q=z.apply(this,arguments);q==null?this.style.removeProperty(S):this.style.setProperty(S,q,Y)}}function Qt(S,z){return S.style.getPropertyValue(z)||Lt(S).getComputedStyle(S,null).getPropertyValue(z)}function Dt(S){return function(){delete this[S]}}function Wt(S,z){return function(){this[S]=z}}function Nt(S,z){return function(){var Y=z.apply(this,arguments);Y==null?delete this[S]:this[S]=Y}}function Ae(S){return S.trim().split(/^|\s+/)}function ne(S){return S.classList||new Fe(S)}function Fe(S){this._node=S,this._names=Ae(S.getAttribute("class")||"")}function Qe(S,z){for(var Y=ne(S),q=-1,X=z.length;++q<X;)Y.add(z[q])}function dn(S,z){for(var Y=ne(S),q=-1,X=z.length;++q<X;)Y.remove(z[q])}function tn(S){return function(){Qe(this,S)}}function Fn(S){return function(){dn(this,S)}}function he(S,z){return function(){(z.apply(this,arguments)?Qe:dn)(this,S)}}function Ye(){this.textContent=""}function Ut(S){return function(){this.textContent=S}}function Bn(S){return function(){var z=S.apply(this,arguments);this.textContent=z??""}}function Ee(){this.innerHTML=""}function Be(S){return function(){this.innerHTML=S}}function fe(S){return function(){var z=S.apply(this,arguments);this.innerHTML=z??""}}function kn(){this.nextSibling&&this.parentNode.appendChild(this)}function en(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Pn(){return null}function zn(){var S=this.parentNode;S&&S.removeChild(this)}function Cn(){var S=this.cloneNode(!1),z=this.parentNode;return z?z.insertBefore(S,this.nextSibling):S}function Mn(){var S=this.cloneNode(!0),z=this.parentNode;return z?z.insertBefore(S,this.nextSibling):S}function ei(S){return S.trim().split(/^|\s+/).map(function(z){var Y="",q=z.indexOf(".");return q>=0&&(Y=z.slice(q+1),z=z.slice(0,q)),{type:z,name:Y}})}function Ii(S){return function(){var z=this.__on;if(z){for(var Y,q=0,X=-1,Z=z.length;q<Z;++q)Y=z[q],S.type&&Y.type!==S.type||Y.name!==S.name?z[++X]=Y:this.removeEventListener(Y.type,Y.listener,Y.options);++X?z.length=X:delete this.__on}}}function Fi(S,z,Y){return function(){var q,X=this.__on,Z=function(pt){return function(dt){pt.call(this,dt,this.__data__)}}(z);if(X){for(var j=0,rt=X.length;j<rt;++j)if((q=X[j]).type===S.type&&q.name===S.name)return this.removeEventListener(q.type,q.listener,q.options),this.addEventListener(q.type,q.listener=Z,q.options=Y),void(q.value=z)}this.addEventListener(S.type,Z,Y),q={type:S.type,name:S.name,value:z,listener:Z,options:Y},X?X.push(q):this.__on=[q]}}function Bi(S,z,Y){var q=Lt(S),X=q.CustomEvent;typeof X=="function"?X=new X(z,Y):(X=q.document.createEvent("Event"),Y?(X.initEvent(z,Y.bubbles,Y.cancelable),X.detail=Y.detail):X.initEvent(z,!1,!1)),S.dispatchEvent(X)}function ni(S,z){return function(){return Bi(this,S,z)}}function de(S,z){return function(){return Bi(this,S,z.apply(this,arguments))}}H.prototype={constructor:H,appendChild:function(S){return this._parent.insertBefore(S,this._next)},insertBefore:function(S,z){return this._parent.insertBefore(S,z)},querySelector:function(S){return this._parent.querySelector(S)},querySelectorAll:function(S){return this._parent.querySelectorAll(S)}},Fe.prototype={add:function(S){this._names.indexOf(S)<0&&(this._names.push(S),this._node.setAttribute("class",this._names.join(" ")))},remove:function(S){var z=this._names.indexOf(S);z>=0&&(this._names.splice(z,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(S){return this._names.indexOf(S)>=0}};var K=[null];function lt(S,z){this._groups=S,this._parents=z}function yt(S){return typeof S=="string"?new lt([[document.querySelector(S)]],[document.documentElement]):new lt([[S]],K)}function Ft(S,z){if(S=function(Z){let j;for(;j=Z.sourceEvent;)Z=j;return Z}(S),z===void 0&&(z=S.currentTarget),z){var Y=z.ownerSVGElement||z;if(Y.createSVGPoint){var q=Y.createSVGPoint();return q.x=S.clientX,q.y=S.clientY,[(q=q.matrixTransform(z.getScreenCTM().inverse())).x,q.y]}if(z.getBoundingClientRect){var X=z.getBoundingClientRect();return[S.clientX-X.left-z.clientLeft,S.clientY-X.top-z.clientTop]}}return[S.pageX,S.pageY]}lt.prototype={constructor:lt,select:function(S){typeof S!="function"&&(S=P(S));for(var z=this._groups,Y=z.length,q=new Array(Y),X=0;X<Y;++X)for(var Z,j,rt=z[X],pt=rt.length,dt=q[X]=new Array(pt),xt=0;xt<pt;++xt)(Z=rt[xt])&&(j=S.call(Z,Z.__data__,xt,rt))&&("__data__"in Z&&(j.__data__=Z.__data__),dt[xt]=j);return new lt(q,this._parents)},selectAll:function(S){S=typeof S=="function"?function(xt){return function(){return C(xt.apply(this,arguments))}}(S):function(xt){return xt==null?M:function(){return this.querySelectorAll(xt)}}(S);for(var z=this._groups,Y=z.length,q=[],X=[],Z=0;Z<Y;++Z)for(var j,rt=z[Z],pt=rt.length,dt=0;dt<pt;++dt)(j=rt[dt])&&(q.push(S.call(j,j.__data__,dt,rt)),X.push(j));return new lt(q,X)},selectChild:function(S){return this.select(S==null?L:function(z){return function(){return A.call(this.children,z)}}(typeof S=="function"?S:O(S)))},selectChildren:function(S){return this.selectAll(S==null?F:function(z){return function(){return E.call(this.children,z)}}(typeof S=="function"?S:O(S)))},filter:function(S){typeof S!="function"&&(S=function(xt){return function(){return this.matches(xt)}}(S));for(var z=this._groups,Y=z.length,q=new Array(Y),X=0;X<Y;++X)for(var Z,j=z[X],rt=j.length,pt=q[X]=[],dt=0;dt<rt;++dt)(Z=j[dt])&&S.call(Z,Z.__data__,dt,j)&&pt.push(Z);return new lt(q,this._parents)},data:function(S,z){if(!arguments.length)return Array.from(this,nt);var Y=z?et:G,q=this._parents,X=this._groups;typeof S!="function"&&(S=W(S));for(var Z=X.length,j=new Array(Z),rt=new Array(Z),pt=new Array(Z),dt=0;dt<Z;++dt){var xt=q[dt],zt=X[dt],Tt=zt.length,Ve=it(S.call(xt,xt&&xt.__data__,dt,q)),ae=Ve.length,Vi=rt[dt]=new Array(ae),Hi=j[dt]=new Array(ae),so=pt[dt]=new Array(Tt);Y(xt,zt,Vi,Hi,so,Ve,z);for(var Vn,ri,ft=0,St=0;ft<ae;++ft)if(Vn=Vi[ft]){for(ft>=St&&(St=ft+1);!(ri=Hi[St])&&++St<ae;);Vn._next=ri||null}}return(j=new lt(j,q))._enter=rt,j._exit=pt,j},enter:function(){return new lt(this._enter||this._groups.map(N),this._parents)},exit:function(){return new lt(this._exit||this._groups.map(N),this._parents)},join:function(S,z,Y){var q=this.enter(),X=this,Z=this.exit();return typeof S=="function"?(q=S(q))&&(q=q.selection()):q=q.append(S+""),z!=null&&(X=z(X))&&(X=X.selection()),Y==null?Z.remove():Y(Z),q&&X?q.merge(X).order():X},merge:function(S){for(var z=S.selection?S.selection():S,Y=this._groups,q=z._groups,X=Y.length,Z=q.length,j=Math.min(X,Z),rt=new Array(X),pt=0;pt<j;++pt)for(var dt,xt=Y[pt],zt=q[pt],Tt=xt.length,Ve=rt[pt]=new Array(Tt),ae=0;ae<Tt;++ae)(dt=xt[ae]||zt[ae])&&(Ve[ae]=dt);for(;pt<X;++pt)rt[pt]=Y[pt];return new lt(rt,this._parents)},selection:function(){return this},order:function(){for(var S=this._groups,z=-1,Y=S.length;++z<Y;)for(var q,X=S[z],Z=X.length-1,j=X[Z];--Z>=0;)(q=X[Z])&&(j&&4^q.compareDocumentPosition(j)&&j.parentNode.insertBefore(q,j),j=q);return this},sort:function(S){function z(zt,Tt){return zt&&Tt?S(zt.__data__,Tt.__data__):!zt-!Tt}S||(S=J);for(var Y=this._groups,q=Y.length,X=new Array(q),Z=0;Z<q;++Z){for(var j,rt=Y[Z],pt=rt.length,dt=X[Z]=new Array(pt),xt=0;xt<pt;++xt)(j=rt[xt])&&(dt[xt]=j);dt.sort(z)}return new lt(X,this._parents).order()},call:function(){var S=arguments[0];return arguments[0]=this,S.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var S=this._groups,z=0,Y=S.length;z<Y;++z)for(var q=S[z],X=0,Z=q.length;X<Z;++X){var j=q[X];if(j)return j}return null},size:function(){let S=0;for(let z of this)++S;return S},empty:function(){return!this.node()},each:function(S){for(var z=this._groups,Y=0,q=z.length;Y<q;++Y)for(var X,Z=z[Y],j=0,rt=Z.length;j<rt;++j)(X=Z[j])&&S.call(X,X.__data__,j,Z);return this},attr:function(S,z){var Y=f(S);if(arguments.length<2){var q=this.node();return Y.local?q.getAttributeNS(Y.space,Y.local):q.getAttribute(Y)}return this.each((z==null?Y.local?ct:at:typeof z=="function"?Y.local?kt:gt:Y.local?vt:mt)(Y,z))},style:function(S,z,Y){return arguments.length>1?this.each((z==null?Ct:typeof z=="function"?Kt:At)(S,z,Y??"")):Qt(this.node(),S)},property:function(S,z){return arguments.length>1?this.each((z==null?Dt:typeof z=="function"?Nt:Wt)(S,z)):this.node()[S]},classed:function(S,z){var Y=Ae(S+"");if(arguments.length<2){for(var q=ne(this.node()),X=-1,Z=Y.length;++X<Z;)if(!q.contains(Y[X]))return!1;return!0}return this.each((typeof z=="function"?he:z?tn:Fn)(Y,z))},text:function(S){return arguments.length?this.each(S==null?Ye:(typeof S=="function"?Bn:Ut)(S)):this.node().textContent},html:function(S){return arguments.length?this.each(S==null?Ee:(typeof S=="function"?fe:Be)(S)):this.node().innerHTML},raise:function(){return this.each(kn)},lower:function(){return this.each(en)},append:function(S){var z=typeof S=="function"?S:y(S);return this.select(function(){return this.appendChild(z.apply(this,arguments))})},insert:function(S,z){var Y=typeof S=="function"?S:y(S),q=z==null?Pn:typeof z=="function"?z:P(z);return this.select(function(){return this.insertBefore(Y.apply(this,arguments),q.apply(this,arguments)||null)})},remove:function(){return this.each(zn)},clone:function(S){return this.select(S?Mn:Cn)},datum:function(S){return arguments.length?this.property("__data__",S):this.node().__data__},on:function(S,z,Y){var q,X,Z=ei(S+""),j=Z.length;if(!(arguments.length<2)){for(rt=z?Fi:Ii,q=0;q<j;++q)this.each(rt(Z[q],z,Y));return this}var rt=this.node().__on;if(rt){for(var pt,dt=0,xt=rt.length;dt<xt;++dt)for(q=0,pt=rt[dt];q<j;++q)if((X=Z[q]).type===pt.type&&X.name===pt.name)return pt.value}},dispatch:function(S,z){return this.each((typeof z=="function"?de:ni)(S,z))},[Symbol.iterator]:function*(){for(var S=this._groups,z=0,Y=S.length;z<Y;++z)for(var q,X=S[z],Z=0,j=X.length;Z<j;++Z)(q=X[Z])&&(yield q)}};let Pt={passive:!1},Xt={capture:!0,passive:!1};function te(S){S.stopImmediatePropagation()}function we(S){S.preventDefault(),S.stopImmediatePropagation()}var ze=S=>()=>S;function pe(S,{sourceEvent:z,subject:Y,target:q,identifier:X,active:Z,x:j,y:rt,dx:pt,dy:dt,dispatch:xt}){Object.defineProperties(this,{type:{value:S,enumerable:!0,configurable:!0},sourceEvent:{value:z,enumerable:!0,configurable:!0},subject:{value:Y,enumerable:!0,configurable:!0},target:{value:q,enumerable:!0,configurable:!0},identifier:{value:X,enumerable:!0,configurable:!0},active:{value:Z,enumerable:!0,configurable:!0},x:{value:j,enumerable:!0,configurable:!0},y:{value:rt,enumerable:!0,configurable:!0},dx:{value:pt,enumerable:!0,configurable:!0},dy:{value:dt,enumerable:!0,configurable:!0},_:{value:xt}})}function ii(S){return!S.ctrlKey&&!S.button}function ke(){return this.parentNode}function nn(S,z){return z??{x:S.x,y:S.y}}function to(){return navigator.maxTouchPoints||"ontouchstart"in this}function zi(){var S,z,Y,q,X=ii,Z=ke,j=nn,rt=to,pt={},dt=e("start","drag","end"),xt=0,zt=0;function Tt(ft){ft.on("mousedown.drag",Ve).filter(rt).on("touchstart.drag",Hi).on("touchmove.drag",so,Pt).on("touchend.drag touchcancel.drag",Vn).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function Ve(ft,St){if(!q&&X.call(this,ft,St)){var qt=ri(this,Z.call(this,ft,St),ft,St,"mouse");qt&&(yt(ft.view).on("mousemove.drag",ae,Xt).on("mouseup.drag",Vi,Xt),function(Yt){var Zt=Yt.document.documentElement,gn=yt(Yt).on("dragstart.drag",we,Xt);"onselectstart"in Zt?gn.on("selectstart.drag",we,Xt):(Zt.__noselect=Zt.style.MozUserSelect,Zt.style.MozUserSelect="none")}(ft.view),te(ft),Y=!1,S=ft.clientX,z=ft.clientY,qt("start",ft))}}function ae(ft){if(we(ft),!Y){var St=ft.clientX-S,qt=ft.clientY-z;Y=St*St+qt*qt>zt}pt.mouse("drag",ft)}function Vi(ft){yt(ft.view).on("mousemove.drag mouseup.drag",null),function(St,qt){var Yt=St.document.documentElement,Zt=yt(St).on("dragstart.drag",null);qt&&(Zt.on("click.drag",we,Xt),setTimeout(function(){Zt.on("click.drag",null)},0)),"onselectstart"in Yt?Zt.on("selectstart.drag",null):(Yt.style.MozUserSelect=Yt.__noselect,delete Yt.__noselect)}(ft.view,Y),we(ft),pt.mouse("end",ft)}function Hi(ft,St){if(X.call(this,ft,St)){var qt,Yt,Zt=ft.changedTouches,gn=Z.call(this,ft,St),ai=Zt.length;for(qt=0;qt<ai;++qt)(Yt=ri(this,gn,ft,St,Zt[qt].identifier,Zt[qt]))&&(te(ft),Yt("start",ft,Zt[qt]))}}function so(ft){var St,qt,Yt=ft.changedTouches,Zt=Yt.length;for(St=0;St<Zt;++St)(qt=pt[Yt[St].identifier])&&(we(ft),qt("drag",ft,Yt[St]))}function Vn(ft){var St,qt,Yt=ft.changedTouches,Zt=Yt.length;for(q&&clearTimeout(q),q=setTimeout(function(){q=null},500),St=0;St<Zt;++St)(qt=pt[Yt[St].identifier])&&(te(ft),qt("end",ft,Yt[St]))}function ri(ft,St,qt,Yt,Zt,gn){var ai,ar,Et,Wi=dt.copy(),He=Ft(gn||qt,St);if((Et=j.call(ft,new pe("beforestart",{sourceEvent:qt,target:Tt,identifier:Zt,active:xt,x:He[0],y:He[1],dx:0,dy:0,dispatch:Wi}),Yt))!=null)return ai=Et.x-He[0]||0,ar=Et.y-He[1]||0,function ps(li,oo,Ra){var mn,lr=He;switch(li){case"start":pt[Zt]=ps,mn=xt++;break;case"end":delete pt[Zt],--xt;case"drag":He=Ft(Ra||oo,St),mn=xt}Wi.call(li,ft,new pe(li,{sourceEvent:oo,subject:Et,target:Tt,identifier:Zt,active:mn,x:He[0]+ai,y:He[1]+ar,dx:He[0]-lr[0],dy:He[1]-lr[1],dispatch:Wi}),Yt)}}return Tt.filter=function(ft){return arguments.length?(X=typeof ft=="function"?ft:ze(!!ft),Tt):X},Tt.container=function(ft){return arguments.length?(Z=typeof ft=="function"?ft:ze(ft),Tt):Z},Tt.subject=function(ft){return arguments.length?(j=typeof ft=="function"?ft:ze(ft),Tt):j},Tt.touchable=function(ft){return arguments.length?(rt=typeof ft=="function"?ft:ze(!!ft),Tt):rt},Tt.on=function(){var ft=dt.on.apply(dt,arguments);return ft===dt?Tt:ft},Tt.clickDistance=function(ft){return arguments.length?(zt=(ft=+ft)*ft,Tt):Math.sqrt(zt)},Tt}let ie,pn,sn,On,fs,or,eo,rr,si,Nn,ds;pe.prototype.on=function(){var S=this._.on.apply(this._,arguments);return S===this._?this:S};let Ni=!1;function oi(S,z){return isNaN(z)?S:Math.round(S*Math.pow(10,z))/Math.pow(10,z)}function no(S,z,Y,q,X){let Z,j,rt=z.data.datasets[Y].data[q];if(S.touches?(Z=z.scales[sn].getValueForPixel(S.touches[0].clientX-z.canvas.getBoundingClientRect().left),j=z.scales[pn].getValueForPixel(S.touches[0].clientY-z.canvas.getBoundingClientRect().top)):(Z=z.scales[sn].getValueForPixel(S.clientX-z.canvas.getBoundingClientRect().left),j=z.scales[pn].getValueForPixel(S.clientY-z.canvas.getBoundingClientRect().top)),Z=oi(Z,z.config.options.plugins.dragData.round),j=oi(j,z.config.options.plugins.dragData.round),Z=Z>z.scales[sn].max?z.scales[sn].max:Z,Z=Z<z.scales[sn].min?z.scales[sn].min:Z,j=j>z.scales[pn].max?z.scales[pn].max:j,j=j<z.scales[pn].min?z.scales[pn].min:j,eo){let pt;return pt=z.config.options.indexAxis==="y"?Z:j,Math.abs(pt-rt[0])<=Math.abs(pt-rt[1])?[pt,rt[1]]:[rt[0],pt]}return rt.x!==void 0&&z.config.options.plugins.dragData.dragX&&(rt.x=Z),rt.y!==void 0?(z.config.options.plugins.dragData.dragY!==!1&&(rt.y=j),rt):z.config.options.indexAxis==="y"?Z:j}let Sa=(S,z,Y,q)=>{if(ie){si=ie.datasetIndex,Nn=ie.index,Ni=!0;let X=z.data.datasets[si].data[Nn];fs==="radar"||fs==="polarArea"?X=function(Z,j){let rt,pt,dt;Z.touches?(rt=Z.touches[0].clientX-j.canvas.getBoundingClientRect().left,pt=Z.touches[0].clientY-j.canvas.getBoundingClientRect().top):(rt=Z.clientX-j.canvas.getBoundingClientRect().left,pt=Z.clientY-j.canvas.getBoundingClientRect().top);let xt=j.scales[On],zt=Math.sqrt(Math.pow(rt-xt.xCenter,2)+Math.pow(pt-xt.yCenter,2)),Tt=xt.drawingArea/(xt.max-xt.min);return dt=xt.options.ticks.reverse?xt.max-zt/Tt:xt.min+zt/Tt,dt=oi(dt,j.config.options.plugins.dragData.round),dt=dt>j.scales[On].max?j.scales[On].max:dt,dt=dt<j.scales[On].min?j.scales[On].min:dt,dt}(S,z):or?X=oi(no(S,z,si,Nn)-rr,Y.round):X=no(S,z,si,Nn),(!q||typeof q=="function"&&q(S,si,Nn,X)!==!1)&&(z.data.datasets[si].data[Nn]=X,z.update("none"))}},io={id:"dragdata",afterInit:function(S){if(S.config.options.plugins&&S.config.options.plugins.dragData){let z=S.config.options.plugins.dragData;yt(S.canvas).call(zi().container(S.canvas).on("start",Y=>((q,X,Z)=>{if(ie=X.getElementsAtEventForMode(q,"nearest",{intersect:!0},!1)[0],fs=X.config.type,ie){let j=ie.datasetIndex,rt=ie.index;ds=function(zt){try{return zt()}catch{return""}}(()=>X.config.options.plugins.tooltip.animation);let pt=X.data.datasets[j],dt=X.getDatasetMeta(j),xt=pt.data[rt];if(sn=dt.xAxisID,pn=dt.yAxisID,On=dt.rAxisID,pt.dragData===!1||X.config.options.scales[sn]&&X.config.options.scales[sn].dragData===!1||X.config.options.scales[pn]&&X.config.options.scales[pn].dragData===!1||X.config.options.scales[On]&&X.config.options.scales[On].rAxisID===!1||pt.data[ie.index].dragData===!1)return void(ie=null);if(fs==="bar"){or=X.config.options.scales[sn].stacked;let zt=X.data.datasets[0].data[0];eo=zt!==null&&Array.isArray(zt)&&zt.length==2,rr=no(q,X,j,rt)-xt}(X.config.options.plugins.dragData.showTooltip===void 0||X.config.options.plugins.dragData.showTooltip)&&(X.config.options.plugins.tooltip||(X.config.options.plugins.tooltip={}),X.config.options.plugins.tooltip.animation=!1),typeof Z=="function"&&ie&&Z(q,j,rt,xt)===!1&&(ie=null)}})(Y.sourceEvent,S,z.onDragStart)).on("drag",Y=>Sa(Y.sourceEvent,S,z,z.onDrag)).on("end",Y=>((q,X,Z)=>{if(Nn=void 0,Ni=!1,X.config.options.plugins.tooltip&&(X.config.options.plugins.tooltip.animation=ds,X.update("none")),typeof Z=="function"&&ie){let j=ie.datasetIndex,rt=ie.index,pt=function(dt,xt,zt){let Tt=dt.config.options.plugins.dragData;if(!Tt.magnet)return dt.data.datasets[xt].data[zt];{let Ve=Tt.magnet;if(Ve.to&&typeof Ve.to=="function"){let ae=dt.data.datasets[xt].data[zt];return ae=Ve.to(ae),dt.data.datasets[xt].data[zt]=ae,dt.update("none"),ae}}}(X,j,rt);return Z(q,j,rt,pt)}})(Y.sourceEvent,S,z.onDragEnd)))}},beforeEvent:function(S){if(Ni)return S.tooltip&&S.tooltip.update(),!1}};return i.Chart.register(io),io})});var cf=Ml(lf(),1),{jStat:wi}=cf.default,vi=.15,xi=.092,_i=.8,yi=.75,X0=6,zr=[{name:"TT",guestsAverage:150,guestsCV:vi,wastePerGuestAverage:xi,wastePerGuestCV:_i,dinerPerGuestProbability:yi},{name:"CHT",guestsAverage:200,guestsCV:vi,wastePerGuestAverage:xi,wastePerGuestCV:_i,dinerPerGuestProbability:yi},{name:"QHRS",guestsAverage:200,guestsCV:vi,wastePerGuestAverage:xi,wastePerGuestCV:_i,dinerPerGuestProbability:yi},{name:"CHUb",guestsAverage:130,guestsCV:vi,wastePerGuestAverage:xi,wastePerGuestCV:_i,dinerPerGuestProbability:yi},{name:"QAHS",guestsAverage:150,guestsCV:vi,wastePerGuestAverage:xi,wastePerGuestCV:_i,dinerPerGuestProbability:yi},{name:"CCHT",guestsAverage:100,guestsCV:vi,wastePerGuestAverage:xi,wastePerGuestCV:_i,dinerPerGuestProbability:yi},{name:"CHCT",guestsAverage:350,guestsCV:vi,wastePerGuestAverage:xi,wastePerGuestCV:_i,dinerPerGuestProbability:yi},{name:"CHCOA",guestsAverage:250,guestsCV:vi,wastePerGuestAverage:xi,wastePerGuestCV:_i,dinerPerGuestProbability:yi}];var Cs=[{name:"Control",trueEffectMean:0,trueEffectCV:0,index:0},{name:"Simple Message",trueEffectMean:-.2,trueEffectCV:.1,index:1},{name:"Social Norms Message",trueEffectMean:-.15,trueEffectCV:.01,index:2},{name:"Weak Message",trueEffectMean:-.02,trueEffectCV:.1,index:3}];for(let i=0;i<Cs.length;i++)Cs[i].index=i;function uf(i,t,e,o){return e[Math.floor(wi.uniform.sample(0,e.length))]}function G0(i,t,e,o){if(t<o.experimentDurationInDays/2)return e[0];{let a=o.hotelIndices[i.name]%e.length;return e[a]}}function K0(i,t,e,o){let a=o.experimentDurationInDays/e.length;return e[Math.floor(t/a)]}var Nr=[{prettyName:"Random Assignment",assignmentStrategy:uf,description:"Each day, each hotel randomly picks an experiment"},{prettyName:"Sequential Assignment",assignmentStrategy:K0,description:"All hotels use the same experiment/message for a fixed period of time and then move to the next experiment"},{prettyName:"Diff in Diff Assignment",assignmentStrategy:G0,description:"All hotels start in the control group; after half of the total experiment time passes, some hotels are assigned to experimental groups until time runs out"}];function Q0(i,t,e,o,a=1){let h=Math.max(0,Math.floor(wi.normal.sample(i.guestsAverage*a,i.guestsAverage*a*i.guestsCV))),p=0;for(let l=0;l<h;l++)wi.uniform.sample(0,1)<i.dinerPerGuestProbability&&(p+=1);console.assert(p>=0);let u=0;for(let l=0;l<p;l++){let f;o.trueEffectCV==0?f=1+o.trueEffectMean:f=Math.max(0,1+wi.normal(o.trueEffectMean,o.trueEffectCV*o.trueEffectMean).sample());let m=i.wastePerGuestCV>0?wi.normal.sample(i.wastePerGuestAverage,i.wastePerGuestCV*i.wastePerGuestAverage):i.wastePerGuestAverage;u+=Math.max(m,0)*f}return console.assert(u>=0),{date:t,guests:h,hotel:i,meal:e,stimulus:o,totalFoodWasteObserved:u}}function Tl(i=X0,t=zr,e=uf,o=Cs,a=null){let h=[],p=i*7,u={experimentDurationInDays:p,hotelList:t,hotelIndices:{}};for(let l=0;l<t.length;l++)u.hotelIndices[t[l].name]=l;for(let l=0;l<p;l++)for(let f of t){let m=e(f,l,o,u);h.push(Q0(f,l,"BREAKFAST",m,a===null?1:a[Math.floor(l/7)]))}return h}function Z0(i,t,e,o){let a=Al(t,i);var h=[],p=[];for(let l of i){let f=Array(t.length+1).fill(0);f[t.length]=l.guests,f[0]=1,f[l.stimulus.index]=1,h.push(f),p.push(l.totalFoodWasteObserved)}let u=wi.models.ols(p,h);return{averages:a,effects:u.coef,p_values:u.t.p,observations:i}}function J0(i,t,e,o){let a=Al(t,i);var h=[],p=[];for(let l of i){let f=Array(t.length+1+(e.length-1)).fill(0);f[t.length]=l.guests,f[0]=1,f[l.stimulus.index]=1;let m=o[l.hotel.name];m>0&&(f[t.length+m]=1),h.push(f),p.push(l.totalFoodWasteObserved)}let u=wi.models.ols(p,h);return{averages:a,effects:u.coef,p_values:u.t.p,observations:i}}function j0(i,t,e,o){let a=Al(t,i);var h=[],p=[];for(let l of i){let f=Array(t.length).fill(0);f[0]=1,f[l.stimulus.index]=1,h.push(f),p.push(l.totalFoodWasteObserved)}let u=wi.models.ols(p,h);return{averages:a,effects:u.coef,p_values:u.t.p,observations:i}}var Vr=[{prettyName:"Linear Regression",analysisMethod:Z0,description:"Ordinary least squares controlling for number of guests"},{prettyName:"Linear Regression + Hotel Controls",analysisMethod:J0,description:"Ordinary least squares controlling for number of guests and each hotel is a random intercept"},{prettyName:"T-test",analysisMethod:j0,description:"Pure hypothesis test on averages"}];function Al(i,t){let e={};for(let a of i)e[a.name]=[];for(let a of t)e[a.stimulus.name].push(a.totalFoodWasteObserved);let o={};for(let a of i){let h=e[a.name];o[a.name]=h.reduce((p,u)=>p+u,0)/h.length}return o}var hg=Ml(hf(),1);function Po(i){return i+.5|0}var ki=(i,t,e)=>Math.max(Math.min(i,e),t);function ko(i){return ki(Po(i*2.55),0,255)}function Pi(i){return ki(Po(i*255),0,255)}function $n(i){return ki(Po(i/2.55)/100,0,1)}function ff(i){return ki(Po(i*100),0,100)}var an={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ll=[..."0123456789ABCDEF"],tv=i=>Ll[i&15],ev=i=>Ll[(i&240)>>4]+Ll[i&15],Hr=i=>(i&240)>>4===(i&15),nv=i=>Hr(i.r)&&Hr(i.g)&&Hr(i.b)&&Hr(i.a);function iv(i){var t=i.length,e;return i[0]==="#"&&(t===4||t===5?e={r:255&an[i[1]]*17,g:255&an[i[2]]*17,b:255&an[i[3]]*17,a:t===5?an[i[4]]*17:255}:(t===7||t===9)&&(e={r:an[i[1]]<<4|an[i[2]],g:an[i[3]]<<4|an[i[4]],b:an[i[5]]<<4|an[i[6]],a:t===9?an[i[7]]<<4|an[i[8]]:255})),e}var sv=(i,t)=>i<255?t(i):"";function ov(i){var t=nv(i)?tv:ev;return i?"#"+t(i.r)+t(i.g)+t(i.b)+sv(i.a,t):void 0}var rv=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function mf(i,t,e){let o=t*Math.min(e,1-e),a=(h,p=(h+i/30)%12)=>e-o*Math.max(Math.min(p-3,9-p,1),-1);return[a(0),a(8),a(4)]}function av(i,t,e){let o=(a,h=(a+i/60)%6)=>e-e*t*Math.max(Math.min(h,4-h,1),0);return[o(5),o(3),o(1)]}function lv(i,t,e){let o=mf(i,1,.5),a;for(t+e>1&&(a=1/(t+e),t*=a,e*=a),a=0;a<3;a++)o[a]*=1-t-e,o[a]+=t;return o}function cv(i,t,e,o,a){return i===a?(t-e)/o+(t<e?6:0):t===a?(e-i)/o+2:(i-t)/o+4}function Sl(i){let e=i.r/255,o=i.g/255,a=i.b/255,h=Math.max(e,o,a),p=Math.min(e,o,a),u=(h+p)/2,l,f,m;return h!==p&&(m=h-p,f=u>.5?m/(2-h-p):m/(h+p),l=cv(e,o,a,m,h),l=l*60+.5),[l|0,f||0,u]}function Rl(i,t,e,o){return(Array.isArray(t)?i(t[0],t[1],t[2]):i(t,e,o)).map(Pi)}function Il(i,t,e){return Rl(mf,i,t,e)}function uv(i,t,e){return Rl(lv,i,t,e)}function hv(i,t,e){return Rl(av,i,t,e)}function bf(i){return(i%360+360)%360}function fv(i){let t=rv.exec(i),e=255,o;if(!t)return;t[5]!==o&&(e=t[6]?ko(+t[5]):Pi(+t[5]));let a=bf(+t[2]),h=+t[3]/100,p=+t[4]/100;return t[1]==="hwb"?o=uv(a,h,p):t[1]==="hsv"?o=hv(a,h,p):o=Il(a,h,p),{r:o[0],g:o[1],b:o[2],a:e}}function dv(i,t){var e=Sl(i);e[0]=bf(e[0]+t),e=Il(e),i.r=e[0],i.g=e[1],i.b=e[2]}function pv(i){if(!i)return;let t=Sl(i),e=t[0],o=ff(t[1]),a=ff(t[2]);return i.a<255?`hsla(${e}, ${o}%, ${a}%, ${$n(i.a)})`:`hsl(${e}, ${o}%, ${a}%)`}var df={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},pf={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function gv(){let i={},t=Object.keys(pf),e=Object.keys(df),o,a,h,p,u;for(o=0;o<t.length;o++){for(p=u=t[o],a=0;a<e.length;a++)h=e[a],u=u.replace(h,df[h]);h=parseInt(pf[p],16),i[u]=[h>>16&255,h>>8&255,h&255]}return i}var Wr;function mv(i){Wr||(Wr=gv(),Wr.transparent=[0,0,0,0]);let t=Wr[i.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}var bv=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function vv(i){let t=bv.exec(i),e=255,o,a,h;if(t){if(t[7]!==o){let p=+t[7];e=t[8]?ko(p):ki(p*255,0,255)}return o=+t[1],a=+t[3],h=+t[5],o=255&(t[2]?ko(o):ki(o,0,255)),a=255&(t[4]?ko(a):ki(a,0,255)),h=255&(t[6]?ko(h):ki(h,0,255)),{r:o,g:a,b:h,a:e}}}function xv(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${$n(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}var Dl=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,Ms=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function _v(i,t,e){let o=Ms($n(i.r)),a=Ms($n(i.g)),h=Ms($n(i.b));return{r:Pi(Dl(o+e*(Ms($n(t.r))-o))),g:Pi(Dl(a+e*(Ms($n(t.g))-a))),b:Pi(Dl(h+e*(Ms($n(t.b))-h))),a:i.a+e*(t.a-i.a)}}function $r(i,t,e){if(i){let o=Sl(i);o[t]=Math.max(0,Math.min(o[t]+o[t]*e,t===0?360:1)),o=Il(o),i.r=o[0],i.g=o[1],i.b=o[2]}}function vf(i,t){return i&&Object.assign(t||{},i)}function gf(i){var t={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(t={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(t.a=Pi(i[3]))):(t=vf(i,{r:0,g:0,b:0,a:1}),t.a=Pi(t.a)),t}function yv(i){return i.charAt(0)==="r"?vv(i):fv(i)}var Ci=class{constructor(t){if(t instanceof Ci)return t;let e=typeof t,o;e==="object"?o=gf(t):e==="string"&&(o=iv(t)||mv(t)||yv(t)),this._rgb=o,this._valid=!!o}get valid(){return this._valid}get rgb(){var t=vf(this._rgb);return t&&(t.a=$n(t.a)),t}set rgb(t){this._rgb=gf(t)}rgbString(){return this._valid?xv(this._rgb):void 0}hexString(){return this._valid?ov(this._rgb):void 0}hslString(){return this._valid?pv(this._rgb):void 0}mix(t,e){if(t){let o=this.rgb,a=t.rgb,h,p=e===h?.5:e,u=2*p-1,l=o.a-a.a,f=((u*l===-1?u:(u+l)/(1+u*l))+1)/2;h=1-f,o.r=255&f*o.r+h*a.r+.5,o.g=255&f*o.g+h*a.g+.5,o.b=255&f*o.b+h*a.b+.5,o.a=p*o.a+(1-p)*a.a,this.rgb=o}return this}interpolate(t,e){return t&&(this._rgb=_v(this._rgb,t._rgb,e)),this}clone(){return new Ci(this.rgb)}alpha(t){return this._rgb.a=Pi(t),this}clearer(t){let e=this._rgb;return e.a*=1-t,this}greyscale(){let t=this._rgb,e=Po(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){let e=this._rgb;return e.a*=1+t,this}negate(){let t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return $r(this._rgb,2,t),this}darken(t){return $r(this._rgb,2,-t),this}saturate(t){return $r(this._rgb,1,t),this}desaturate(t){return $r(this._rgb,1,-t),this}rotate(t){return dv(this._rgb,t),this}};function En(){}var Af=(()=>{let i=0;return()=>i++})();function Bt(i){return i===null||typeof i>"u"}function Jt(i){if(Array.isArray&&Array.isArray(i))return!0;let t=Object.prototype.toString.call(i);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Rt(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function oe(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function Xe(i,t){return oe(i)?i:t}function Mt(i,t){return typeof i>"u"?t:i}var Ef=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/t,Nl=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*t:+i;function Gt(i,t,e){if(i&&typeof i.call=="function")return i.apply(e,t)}function $t(i,t,e,o){let a,h,p;if(Jt(i))if(h=i.length,o)for(a=h-1;a>=0;a--)t.call(e,i[a],a);else for(a=0;a<h;a++)t.call(e,i[a],a);else if(Rt(i))for(p=Object.keys(i),h=p.length,a=0;a<h;a++)t.call(e,i[p[a]],p[a])}function Oo(i,t){let e,o,a,h;if(!i||!t||i.length!==t.length)return!1;for(e=0,o=i.length;e<o;++e)if(a=i[e],h=t[e],a.datasetIndex!==h.datasetIndex||a.index!==h.index)return!1;return!0}function Xr(i){if(Jt(i))return i.map(Xr);if(Rt(i)){let t=Object.create(null),e=Object.keys(i),o=e.length,a=0;for(;a<o;++a)t[e[a]]=Xr(i[e[a]]);return t}return i}function Df(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function wv(i,t,e,o){if(!Df(i))return;let a=t[i],h=e[i];Rt(a)&&Rt(h)?Ts(a,h,o):t[i]=Xr(h)}function Ts(i,t,e){let o=Jt(t)?t:[t],a=o.length;if(!Rt(i))return i;e=e||{};let h=e.merger||wv,p;for(let u=0;u<a;++u){if(p=o[u],!Rt(p))continue;let l=Object.keys(p);for(let f=0,m=l.length;f<m;++f)h(l[f],i,p,e)}return i}function Ds(i,t){return Ts(i,t,{merger:kv})}function kv(i,t,e){if(!Df(i))return;let o=t[i],a=e[i];Rt(o)&&Rt(a)?Ds(o,a):Object.prototype.hasOwnProperty.call(t,i)||(t[i]=Xr(a))}var xf={"":i=>i,x:i=>i.x,y:i=>i.y};function Pv(i){let t=i.split("."),e=[],o="";for(let a of t)o+=a,o.endsWith("\\")?o=o.slice(0,-1)+".":(e.push(o),o="");return e}function Cv(i){let t=Pv(i);return e=>{for(let o of t){if(o==="")break;e=e&&e[o]}return e}}function Un(i,t){return(xf[t]||(xf[t]=Cv(t)))(i)}function Zr(i){return i.charAt(0).toUpperCase()+i.slice(1)}var Ze=i=>typeof i<"u",Yn=i=>typeof i=="function",Vl=(i,t)=>{if(i.size!==t.size)return!1;for(let e of i)if(!t.has(e))return!1;return!0};function Lf(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}var ee=Math.PI,jt=2*ee,Mv=jt+ee,Gr=Number.POSITIVE_INFINITY,Ov=ee/180,se=ee/2,Xi=ee/4,_f=ee*2/3,qn=Math.log10,vn=Math.sign;function Ls(i,t,e){return Math.abs(i-t)<e}function Hl(i){let t=Math.round(i);i=Ls(i,t,i/1e3)?t:i;let e=Math.pow(10,Math.floor(qn(i))),o=i/e;return(o<=1?1:o<=2?2:o<=5?5:10)*e}function Sf(i){let t=[],e=Math.sqrt(i),o;for(o=1;o<e;o++)i%o===0&&(t.push(o),t.push(i/o));return e===(e|0)&&t.push(e),t.sort((a,h)=>a-h).pop(),t}function Qi(i){return!isNaN(parseFloat(i))&&isFinite(i)}function Rf(i,t){let e=Math.round(i);return e-t<=i&&e+t>=i}function Wl(i,t,e){let o,a,h;for(o=0,a=i.length;o<a;o++)h=i[o][e],isNaN(h)||(t.min=Math.min(t.min,h),t.max=Math.max(t.max,h))}function ln(i){return i*(ee/180)}function Jr(i){return i*(180/ee)}function $l(i){if(!oe(i))return;let t=1,e=0;for(;Math.round(i*t)/t!==i;)t*=10,e++;return e}function Yl(i,t){let e=t.x-i.x,o=t.y-i.y,a=Math.sqrt(e*e+o*o),h=Math.atan2(o,e);return h<-.5*ee&&(h+=jt),{angle:h,distance:a}}function Kr(i,t){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}function Tv(i,t){return(i-t+Mv)%jt-ee}function Ue(i){return(i%jt+jt)%jt}function Ss(i,t,e,o){let a=Ue(i),h=Ue(t),p=Ue(e),u=Ue(h-a),l=Ue(p-a),f=Ue(a-h),m=Ue(a-p);return a===h||a===p||o&&h===p||u>l&&f<m}function Pe(i,t,e){return Math.max(t,Math.min(e,i))}function If(i){return Pe(i,-32768,32767)}function Dn(i,t,e,o=1e-6){return i>=Math.min(t,e)-o&&i<=Math.max(t,e)+o}function jr(i,t,e){e=e||(p=>i[p]<t);let o=i.length-1,a=0,h;for(;o-a>1;)h=a+o>>1,e(h)?a=h:o=h;return{lo:a,hi:o}}var An=(i,t,e,o)=>jr(i,e,o?a=>{let h=i[a][t];return h<e||h===e&&i[a+1][t]===e}:a=>i[a][t]<e),Ff=(i,t,e)=>jr(i,e,o=>i[o][t]>=e);function Bf(i,t,e){let o=0,a=i.length;for(;o<a&&i[o]<t;)o++;for(;a>o&&i[a-1]>e;)a--;return o>0||a<i.length?i.slice(o,a):i}var zf=["push","pop","shift","splice","unshift"];function Nf(i,t){if(i._chartjs){i._chartjs.listeners.push(t);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),zf.forEach(e=>{let o="_onData"+Zr(e),a=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(...h){let p=a.apply(this,h);return i._chartjs.listeners.forEach(u=>{typeof u[o]=="function"&&u[o](...h)}),p}})})}function ql(i,t){let e=i._chartjs;if(!e)return;let o=e.listeners,a=o.indexOf(t);a!==-1&&o.splice(a,1),!(o.length>0)&&(zf.forEach(h=>{delete i[h]}),delete i._chartjs)}function Ul(i){let t=new Set,e,o;for(e=0,o=i.length;e<o;++e)t.add(i[e]);return t.size===o?i:Array.from(t)}var Xl=function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame}();function Gl(i,t){let e=[],o=!1;return function(...a){e=a,o||(o=!0,Xl.call(window,()=>{o=!1,i.apply(t,e)}))}}function Vf(i,t){let e;return function(...o){return t?(clearTimeout(e),e=setTimeout(i,t,o)):i.apply(this,o),t}}var ta=i=>i==="start"?"left":i==="end"?"right":"center",Se=(i,t,e)=>i==="start"?t:i==="end"?e:(t+e)/2,Hf=(i,t,e,o)=>i===(o?"left":"right")?e:i==="center"?(t+e)/2:t;function Kl(i,t,e){let o=t.length,a=0,h=o;if(i._sorted){let{iScale:p,_parsed:u}=i,l=p.axis,{min:f,max:m,minDefined:v,maxDefined:y}=p.getUserBounds();v&&(a=Pe(Math.min(An(u,p.axis,f).lo,e?o:An(t,l,p.getPixelForValue(f)).lo),0,o-1)),y?h=Pe(Math.max(An(u,p.axis,m,!0).hi+1,e?0:An(t,l,p.getPixelForValue(m),!0).hi+1),a,o)-a:h=o-a}return{start:a,count:h}}function Ql(i){let{xScale:t,yScale:e,_scaleRanges:o}=i,a={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!o)return i._scaleRanges=a,!0;let h=o.xmin!==t.min||o.xmax!==t.max||o.ymin!==e.min||o.ymax!==e.max;return Object.assign(o,a),h}var Yr=i=>i===0||i===1,yf=(i,t,e)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-t)*jt/e)),wf=(i,t,e)=>Math.pow(2,-10*i)*Math.sin((i-t)*jt/e)+1,Os={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*se)+1,easeOutSine:i=>Math.sin(i*se),easeInOutSine:i=>-.5*(Math.cos(ee*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>Yr(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>Yr(i)?i:yf(i,.075,.3),easeOutElastic:i=>Yr(i)?i:wf(i,.075,.3),easeInOutElastic(i){return Yr(i)?i:i<.5?.5*yf(i*2,.1125,.45):.5+.5*wf(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let t=1.70158;return(i/=.5)<1?.5*(i*i*(((t*=1.525)+1)*i-t)):.5*((i-=2)*i*(((t*=1.525)+1)*i+t)+2)},easeInBounce:i=>1-Os.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?Os.easeInBounce(i*2)*.5:Os.easeOutBounce(i*2-1)*.5+.5};function Wf(i){if(i&&typeof i=="object"){let t=i.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Zl(i){return Wf(i)?i:new Ci(i)}function Fl(i){return Wf(i)?i:new Ci(i).saturate(.5).darken(.1).hexString()}var Av=["x","y","borderWidth","radius","tension"],Ev=["color","borderColor","backgroundColor"];function Dv(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),i.set("animations",{colors:{type:"color",properties:Ev},numbers:{type:"number",properties:Av}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Lv(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var kf=new Map;function Sv(i,t){t=t||{};let e=i+JSON.stringify(t),o=kf.get(e);return o||(o=new Intl.NumberFormat(i,t),kf.set(e,o)),o}function Rs(i,t,e){return Sv(t,e).format(i)}var $f={values(i){return Jt(i)?i:""+i},numeric(i,t,e){if(i===0)return"0";let o=this.chart.options.locale,a,h=i;if(e.length>1){let f=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(f<1e-4||f>1e15)&&(a="scientific"),h=Rv(i,e)}let p=qn(Math.abs(h)),u=Math.max(Math.min(-1*Math.floor(p),20),0),l={notation:a,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(l,this.options.ticks.format),Rs(i,o,l)},logarithmic(i,t,e){if(i===0)return"0";let o=e[t].significand||i/Math.pow(10,Math.floor(qn(i)));return[1,2,3,5,10,15].includes(o)||t>.8*e.length?$f.numeric.call(this,i,t,e):""}};function Rv(i,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&i!==Math.floor(i)&&(e=i-Math.floor(i)),e}var To={formatters:$f};function Iv(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:To.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}var Oi=Object.create(null),ea=Object.create(null);function Co(i,t){if(!t)return i;let e=t.split(".");for(let o=0,a=e.length;o<a;++o){let h=e[o];i=i[h]||(i[h]=Object.create(null))}return i}function Bl(i,t,e){return typeof t=="string"?Ts(Co(i,t),e):Ts(Co(i,""),t)}var zl=class{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=o=>o.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(o,a)=>Fl(a.backgroundColor),this.hoverBorderColor=(o,a)=>Fl(a.borderColor),this.hoverColor=(o,a)=>Fl(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Bl(this,t,e)}get(t){return Co(this,t)}describe(t,e){return Bl(ea,t,e)}override(t,e){return Bl(Oi,t,e)}route(t,e,o,a){let h=Co(this,t),p=Co(this,o),u="_"+e;Object.defineProperties(h,{[u]:{value:h[e],writable:!0},[e]:{enumerable:!0,get(){let l=this[u],f=p[a];return Rt(l)?Object.assign({},f,l):Mt(l,f)},set(l){this[u]=l}}})}apply(t){t.forEach(e=>e(this))}},ce=new zl({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Dv,Lv,Iv]);function Fv(i){return!i||Bt(i.size)||Bt(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function Mo(i,t,e,o,a){let h=t[a];return h||(h=t[a]=i.measureText(a).width,e.push(a)),h>o&&(o=h),o}function Yf(i,t,e,o){o=o||{};let a=o.data=o.data||{},h=o.garbageCollect=o.garbageCollect||[];o.font!==t&&(a=o.data={},h=o.garbageCollect=[],o.font=t),i.save(),i.font=t;let p=0,u=e.length,l,f,m,v,y;for(l=0;l<u;l++)if(v=e[l],v!=null&&Jt(v)!==!0)p=Mo(i,a,h,p,v);else if(Jt(v))for(f=0,m=v.length;f<m;f++)y=v[f],y!=null&&!Jt(y)&&(p=Mo(i,a,h,p,y));i.restore();let w=h.length/2;if(w>e.length){for(l=0;l<w;l++)delete a[h[l]];h.splice(0,w)}return p}function Ti(i,t,e){let o=i.currentDevicePixelRatio,a=e!==0?Math.max(e/2,.5):0;return Math.round((t-a)*o)/o+a}function Jl(i,t){t=t||i.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,i.width,i.height),t.restore()}function na(i,t,e,o){jl(i,t,e,o,null)}function jl(i,t,e,o,a){let h,p,u,l,f,m,v,y,w=t.pointStyle,P=t.rotation,C=t.radius,M=(P||0)*Ov;if(w&&typeof w=="object"&&(h=w.toString(),h==="[object HTMLImageElement]"||h==="[object HTMLCanvasElement]")){i.save(),i.translate(e,o),i.rotate(M),i.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),i.restore();return}if(!(isNaN(C)||C<=0)){switch(i.beginPath(),w){default:a?i.ellipse(e,o,a/2,C,0,0,jt):i.arc(e,o,C,0,jt),i.closePath();break;case"triangle":m=a?a/2:C,i.moveTo(e+Math.sin(M)*m,o-Math.cos(M)*C),M+=_f,i.lineTo(e+Math.sin(M)*m,o-Math.cos(M)*C),M+=_f,i.lineTo(e+Math.sin(M)*m,o-Math.cos(M)*C),i.closePath();break;case"rectRounded":f=C*.516,l=C-f,p=Math.cos(M+Xi)*l,v=Math.cos(M+Xi)*(a?a/2-f:l),u=Math.sin(M+Xi)*l,y=Math.sin(M+Xi)*(a?a/2-f:l),i.arc(e-v,o-u,f,M-ee,M-se),i.arc(e+y,o-p,f,M-se,M),i.arc(e+v,o+u,f,M,M+se),i.arc(e-y,o+p,f,M+se,M+ee),i.closePath();break;case"rect":if(!P){l=Math.SQRT1_2*C,m=a?a/2:l,i.rect(e-m,o-l,2*m,2*l);break}M+=Xi;case"rectRot":v=Math.cos(M)*(a?a/2:C),p=Math.cos(M)*C,u=Math.sin(M)*C,y=Math.sin(M)*(a?a/2:C),i.moveTo(e-v,o-u),i.lineTo(e+y,o-p),i.lineTo(e+v,o+u),i.lineTo(e-y,o+p),i.closePath();break;case"crossRot":M+=Xi;case"cross":v=Math.cos(M)*(a?a/2:C),p=Math.cos(M)*C,u=Math.sin(M)*C,y=Math.sin(M)*(a?a/2:C),i.moveTo(e-v,o-u),i.lineTo(e+v,o+u),i.moveTo(e+y,o-p),i.lineTo(e-y,o+p);break;case"star":v=Math.cos(M)*(a?a/2:C),p=Math.cos(M)*C,u=Math.sin(M)*C,y=Math.sin(M)*(a?a/2:C),i.moveTo(e-v,o-u),i.lineTo(e+v,o+u),i.moveTo(e+y,o-p),i.lineTo(e-y,o+p),M+=Xi,v=Math.cos(M)*(a?a/2:C),p=Math.cos(M)*C,u=Math.sin(M)*C,y=Math.sin(M)*(a?a/2:C),i.moveTo(e-v,o-u),i.lineTo(e+v,o+u),i.moveTo(e+y,o-p),i.lineTo(e-y,o+p);break;case"line":p=a?a/2:Math.cos(M)*C,u=Math.sin(M)*C,i.moveTo(e-p,o-u),i.lineTo(e+p,o+u);break;case"dash":i.moveTo(e,o),i.lineTo(e+Math.cos(M)*(a?a/2:C),o+Math.sin(M)*C);break;case!1:i.closePath();break}i.fill(),t.borderWidth>0&&i.stroke()}}function As(i,t,e){return e=e||.5,!t||i&&i.x>t.left-e&&i.x<t.right+e&&i.y>t.top-e&&i.y<t.bottom+e}function Ao(i,t){i.save(),i.beginPath(),i.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),i.clip()}function Eo(i){i.restore()}function qf(i,t,e,o,a){if(!t)return i.lineTo(e.x,e.y);if(a==="middle"){let h=(t.x+e.x)/2;i.lineTo(h,t.y),i.lineTo(h,e.y)}else a==="after"!=!!o?i.lineTo(t.x,e.y):i.lineTo(e.x,t.y);i.lineTo(e.x,e.y)}function Uf(i,t,e,o){if(!t)return i.lineTo(e.x,e.y);i.bezierCurveTo(o?t.cp1x:t.cp2x,o?t.cp1y:t.cp2y,o?e.cp2x:e.cp1x,o?e.cp2y:e.cp1y,e.x,e.y)}function Ai(i,t,e,o,a,h={}){let p=Jt(t)?t:[t],u=h.strokeWidth>0&&h.strokeColor!=="",l,f;for(i.save(),i.font=a.string,Bv(i,h),l=0;l<p.length;++l)f=p[l],h.backdrop&&Nv(i,h.backdrop),u&&(h.strokeColor&&(i.strokeStyle=h.strokeColor),Bt(h.strokeWidth)||(i.lineWidth=h.strokeWidth),i.strokeText(f,e,o,h.maxWidth)),i.fillText(f,e,o,h.maxWidth),zv(i,e,o,f,h),o+=a.lineHeight;i.restore()}function Bv(i,t){t.translation&&i.translate(t.translation[0],t.translation[1]),Bt(t.rotation)||i.rotate(t.rotation),t.color&&(i.fillStyle=t.color),t.textAlign&&(i.textAlign=t.textAlign),t.textBaseline&&(i.textBaseline=t.textBaseline)}function zv(i,t,e,o,a){if(a.strikethrough||a.underline){let h=i.measureText(o),p=t-h.actualBoundingBoxLeft,u=t+h.actualBoundingBoxRight,l=e-h.actualBoundingBoxAscent,f=e+h.actualBoundingBoxDescent,m=a.strikethrough?(l+f)/2:f;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=a.decorationWidth||2,i.moveTo(p,m),i.lineTo(u,m),i.stroke()}}function Nv(i,t){let e=i.fillStyle;i.fillStyle=t.color,i.fillRect(t.left,t.top,t.width,t.height),i.fillStyle=e}function Is(i,t){let{x:e,y:o,w:a,h,radius:p}=t;i.arc(e+p.topLeft,o+p.topLeft,p.topLeft,-se,ee,!0),i.lineTo(e,o+h-p.bottomLeft),i.arc(e+p.bottomLeft,o+h-p.bottomLeft,p.bottomLeft,ee,se,!0),i.lineTo(e+a-p.bottomRight,o+h),i.arc(e+a-p.bottomRight,o+h-p.bottomRight,p.bottomRight,se,0,!0),i.lineTo(e+a,o+p.topRight),i.arc(e+a-p.topRight,o+p.topRight,p.topRight,0,-se,!0),i.lineTo(e+p.topLeft,o)}var Vv=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Hv=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Wv(i,t){let e=(""+i).match(Vv);if(!e||e[1]==="normal")return t*1.2;switch(i=+e[2],e[3]){case"px":return i;case"%":i/=100;break}return t*i}var $v=i=>+i||0;function ia(i,t){let e={},o=Rt(t),a=o?Object.keys(t):t,h=Rt(i)?o?p=>Mt(i[p],i[t[p]]):p=>i[p]:()=>i;for(let p of a)e[p]=$v(h(p));return e}function tc(i){return ia(i,{top:"y",right:"x",bottom:"y",left:"x"})}function Ei(i){return ia(i,["topLeft","topRight","bottomLeft","bottomRight"])}function Re(i){let t=tc(i);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function _e(i,t){i=i||{},t=t||ce.font;let e=Mt(i.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let o=Mt(i.style,t.style);o&&!(""+o).match(Hv)&&(console.warn('Invalid font style specified: "'+o+'"'),o=void 0);let a={family:Mt(i.family,t.family),lineHeight:Wv(Mt(i.lineHeight,t.lineHeight),e),size:e,style:o,weight:Mt(i.weight,t.weight),string:""};return a.string=Fv(a),a}function Fs(i,t,e,o){let a=!0,h,p,u;for(h=0,p=i.length;h<p;++h)if(u=i[h],u!==void 0&&(t!==void 0&&typeof u=="function"&&(u=u(t),a=!1),e!==void 0&&Jt(u)&&(u=u[e%u.length],a=!1),u!==void 0))return o&&!a&&(o.cacheable=!1),u}function Xf(i,t,e){let{min:o,max:a}=i,h=Nl(t,(a-o)/2),p=(u,l)=>e&&u===0?0:u+l;return{min:p(o,-Math.abs(h)),max:p(a,h)}}function Xn(i,t){return Object.assign(Object.create(i),t)}function sa(i,t=[""],e=i,o,a=()=>i[0]){Ze(o)||(o=Qf("_fallback",i));let h={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:e,_fallback:o,_getTarget:a,override:p=>sa([p,...i],t,e,o)};return new Proxy(h,{deleteProperty(p,u){return delete p[u],delete p._keys,delete i[0][u],!0},get(p,u){return Gf(p,u,()=>Zv(u,t,i,p))},getOwnPropertyDescriptor(p,u){return Reflect.getOwnPropertyDescriptor(p._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(p,u){return Cf(p).includes(u)},ownKeys(p){return Cf(p)},set(p,u,l){let f=p._storage||(p._storage=a());return p[u]=f[u]=l,delete p._keys,!0}})}function Ki(i,t,e,o){let a={_cacheable:!1,_proxy:i,_context:t,_subProxy:e,_stack:new Set,_descriptors:ec(i,o),setContext:h=>Ki(i,h,e,o),override:h=>Ki(i.override(h),t,e,o)};return new Proxy(a,{deleteProperty(h,p){return delete h[p],delete i[p],!0},get(h,p,u){return Gf(h,p,()=>qv(h,p,u))},getOwnPropertyDescriptor(h,p){return h._descriptors.allKeys?Reflect.has(i,p)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,p)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(h,p){return Reflect.has(i,p)},ownKeys(){return Reflect.ownKeys(i)},set(h,p,u){return i[p]=u,delete h[p],!0}})}function ec(i,t={scriptable:!0,indexable:!0}){let{_scriptable:e=t.scriptable,_indexable:o=t.indexable,_allKeys:a=t.allKeys}=i;return{allKeys:a,scriptable:e,indexable:o,isScriptable:Yn(e)?e:()=>e,isIndexable:Yn(o)?o:()=>o}}var Yv=(i,t)=>i?i+Zr(t):t,nc=(i,t)=>Rt(t)&&i!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Gf(i,t,e){if(Object.prototype.hasOwnProperty.call(i,t))return i[t];let o=e();return i[t]=o,o}function qv(i,t,e){let{_proxy:o,_context:a,_subProxy:h,_descriptors:p}=i,u=o[t];return Yn(u)&&p.isScriptable(t)&&(u=Uv(t,u,i,e)),Jt(u)&&u.length&&(u=Xv(t,u,i,p.isIndexable)),nc(t,u)&&(u=Ki(u,a,h&&h[t],p)),u}function Uv(i,t,e,o){let{_proxy:a,_context:h,_subProxy:p,_stack:u}=e;if(u.has(i))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+i);return u.add(i),t=t(h,p||o),u.delete(i),nc(i,t)&&(t=ic(a._scopes,a,i,t)),t}function Xv(i,t,e,o){let{_proxy:a,_context:h,_subProxy:p,_descriptors:u}=e;if(Ze(h.index)&&o(i))t=t[h.index%t.length];else if(Rt(t[0])){let l=t,f=a._scopes.filter(m=>m!==l);t=[];for(let m of l){let v=ic(f,a,i,m);t.push(Ki(v,h,p&&p[i],u))}}return t}function Kf(i,t,e){return Yn(i)?i(t,e):i}var Gv=(i,t)=>i===!0?t:typeof i=="string"?Un(t,i):void 0;function Kv(i,t,e,o,a){for(let h of t){let p=Gv(e,h);if(p){i.add(p);let u=Kf(p._fallback,e,a);if(Ze(u)&&u!==e&&u!==o)return u}else if(p===!1&&Ze(o)&&e!==o)return null}return!1}function ic(i,t,e,o){let a=t._rootScopes,h=Kf(t._fallback,e,o),p=[...i,...a],u=new Set;u.add(o);let l=Pf(u,p,e,h||e,o);return l===null||Ze(h)&&h!==e&&(l=Pf(u,p,h,l,o),l===null)?!1:sa(Array.from(u),[""],a,h,()=>Qv(t,e,o))}function Pf(i,t,e,o,a){for(;e;)e=Kv(i,t,e,o,a);return e}function Qv(i,t,e){let o=i._getTarget();t in o||(o[t]={});let a=o[t];return Jt(a)&&Rt(e)?e:a||{}}function Zv(i,t,e,o){let a;for(let h of t)if(a=Qf(Yv(h,i),e),Ze(a))return nc(i,a)?ic(e,o,i,a):a}function Qf(i,t){for(let e of t){if(!e)continue;let o=e[i];if(Ze(o))return o}}function Cf(i){let t=i._keys;return t||(t=i._keys=Jv(i._scopes)),t}function Jv(i){let t=new Set;for(let e of i)for(let o of Object.keys(e).filter(a=>!a.startsWith("_")))t.add(o);return Array.from(t)}function sc(i,t,e,o){let{iScale:a}=i,{key:h="r"}=this._parsing,p=new Array(o),u,l,f,m;for(u=0,l=o;u<l;++u)f=u+e,m=t[f],p[u]={r:a.parse(Un(m,h),f)};return p}var jv=Number.EPSILON||1e-14,Es=(i,t)=>t<i.length&&!i[t].skip&&i[t],Zf=i=>i==="x"?"y":"x";function tx(i,t,e,o){let a=i.skip?t:i,h=t,p=e.skip?t:e,u=Kr(h,a),l=Kr(p,h),f=u/(u+l),m=l/(u+l);f=isNaN(f)?0:f,m=isNaN(m)?0:m;let v=o*f,y=o*m;return{previous:{x:h.x-v*(p.x-a.x),y:h.y-v*(p.y-a.y)},next:{x:h.x+y*(p.x-a.x),y:h.y+y*(p.y-a.y)}}}function ex(i,t,e){let o=i.length,a,h,p,u,l,f=Es(i,0);for(let m=0;m<o-1;++m)if(l=f,f=Es(i,m+1),!(!l||!f)){if(Ls(t[m],0,jv)){e[m]=e[m+1]=0;continue}a=e[m]/t[m],h=e[m+1]/t[m],u=Math.pow(a,2)+Math.pow(h,2),!(u<=9)&&(p=3/Math.sqrt(u),e[m]=a*p*t[m],e[m+1]=h*p*t[m])}}function nx(i,t,e="x"){let o=Zf(e),a=i.length,h,p,u,l=Es(i,0);for(let f=0;f<a;++f){if(p=u,u=l,l=Es(i,f+1),!u)continue;let m=u[e],v=u[o];p&&(h=(m-p[e])/3,u[`cp1${e}`]=m-h,u[`cp1${o}`]=v-h*t[f]),l&&(h=(l[e]-m)/3,u[`cp2${e}`]=m+h,u[`cp2${o}`]=v+h*t[f])}}function ix(i,t="x"){let e=Zf(t),o=i.length,a=Array(o).fill(0),h=Array(o),p,u,l,f=Es(i,0);for(p=0;p<o;++p)if(u=l,l=f,f=Es(i,p+1),!!l){if(f){let m=f[t]-l[t];a[p]=m!==0?(f[e]-l[e])/m:0}h[p]=u?f?vn(a[p-1])!==vn(a[p])?0:(a[p-1]+a[p])/2:a[p-1]:a[p]}ex(i,a,h),nx(i,h,t)}function qr(i,t,e){return Math.max(Math.min(i,e),t)}function sx(i,t){let e,o,a,h,p,u=As(i[0],t);for(e=0,o=i.length;e<o;++e)p=h,h=u,u=e<o-1&&As(i[e+1],t),h&&(a=i[e],p&&(a.cp1x=qr(a.cp1x,t.left,t.right),a.cp1y=qr(a.cp1y,t.top,t.bottom)),u&&(a.cp2x=qr(a.cp2x,t.left,t.right),a.cp2y=qr(a.cp2y,t.top,t.bottom)))}function Jf(i,t,e,o,a){let h,p,u,l;if(t.spanGaps&&(i=i.filter(f=>!f.skip)),t.cubicInterpolationMode==="monotone")ix(i,a);else{let f=o?i[i.length-1]:i[0];for(h=0,p=i.length;h<p;++h)u=i[h],l=tx(f,u,i[Math.min(h+1,p-(o?0:1))%p],t.tension),u.cp1x=l.previous.x,u.cp1y=l.previous.y,u.cp2x=l.next.x,u.cp2y=l.next.y,f=u}t.capBezierPoints&&sx(i,e)}function oc(){return typeof window<"u"&&typeof document<"u"}function oa(i){let t=i.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Qr(i,t,e){let o;return typeof i=="string"?(o=parseInt(i,10),i.indexOf("%")!==-1&&(o=o/100*t.parentNode[e])):o=i,o}var ra=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function ox(i,t){return ra(i).getPropertyValue(t)}var rx=["top","right","bottom","left"];function Gi(i,t,e){let o={};e=e?"-"+e:"";for(let a=0;a<4;a++){let h=rx[a];o[h]=parseFloat(i[t+"-"+h+e])||0}return o.width=o.left+o.right,o.height=o.top+o.bottom,o}var ax=(i,t,e)=>(i>0||t>0)&&(!e||!e.shadowRoot);function lx(i,t){let e=i.touches,o=e&&e.length?e[0]:i,{offsetX:a,offsetY:h}=o,p=!1,u,l;if(ax(a,h,i.target))u=a,l=h;else{let f=t.getBoundingClientRect();u=o.clientX-f.left,l=o.clientY-f.top,p=!0}return{x:u,y:l,box:p}}function Di(i,t){if("native"in i)return i;let{canvas:e,currentDevicePixelRatio:o}=t,a=ra(e),h=a.boxSizing==="border-box",p=Gi(a,"padding"),u=Gi(a,"border","width"),{x:l,y:f,box:m}=lx(i,e),v=p.left+(m&&u.left),y=p.top+(m&&u.top),{width:w,height:P}=t;return h&&(w-=p.width+u.width,P-=p.height+u.height),{x:Math.round((l-v)/w*e.width/o),y:Math.round((f-y)/P*e.height/o)}}function cx(i,t,e){let o,a;if(t===void 0||e===void 0){let h=oa(i);if(!h)t=i.clientWidth,e=i.clientHeight;else{let p=h.getBoundingClientRect(),u=ra(h),l=Gi(u,"border","width"),f=Gi(u,"padding");t=p.width-f.width-l.width,e=p.height-f.height-l.height,o=Qr(u.maxWidth,h,"clientWidth"),a=Qr(u.maxHeight,h,"clientHeight")}}return{width:t,height:e,maxWidth:o||Gr,maxHeight:a||Gr}}var Ur=i=>Math.round(i*10)/10;function jf(i,t,e,o){let a=ra(i),h=Gi(a,"margin"),p=Qr(a.maxWidth,i,"clientWidth")||Gr,u=Qr(a.maxHeight,i,"clientHeight")||Gr,l=cx(i,t,e),{width:f,height:m}=l;if(a.boxSizing==="content-box"){let y=Gi(a,"border","width"),w=Gi(a,"padding");f-=w.width+y.width,m-=w.height+y.height}return f=Math.max(0,f-h.width),m=Math.max(0,o?f/o:m-h.height),f=Ur(Math.min(f,p,l.maxWidth)),m=Ur(Math.min(m,u,l.maxHeight)),f&&!m&&(m=Ur(f/2)),(t!==void 0||e!==void 0)&&o&&l.height&&m>l.height&&(m=l.height,f=Ur(Math.floor(m*o))),{width:f,height:m}}function rc(i,t,e){let o=t||1,a=Math.floor(i.height*o),h=Math.floor(i.width*o);i.height=Math.floor(i.height),i.width=Math.floor(i.width);let p=i.canvas;return p.style&&(e||!p.style.height&&!p.style.width)&&(p.style.height=`${i.height}px`,p.style.width=`${i.width}px`),i.currentDevicePixelRatio!==o||p.height!==a||p.width!==h?(i.currentDevicePixelRatio=o,p.height=a,p.width=h,i.ctx.setTransform(o,0,0,o,0,0),!0):!1}var td=function(){let i=!1;try{let t={get passive(){return i=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return i}();function ac(i,t){let e=ox(i,t),o=e&&e.match(/^(\d+)(\.\d+)?px$/);return o?+o[1]:void 0}function Mi(i,t,e,o){return{x:i.x+e*(t.x-i.x),y:i.y+e*(t.y-i.y)}}function ed(i,t,e,o){return{x:i.x+e*(t.x-i.x),y:o==="middle"?e<.5?i.y:t.y:o==="after"?e<1?i.y:t.y:e>0?t.y:i.y}}function nd(i,t,e,o){let a={x:i.cp2x,y:i.cp2y},h={x:t.cp1x,y:t.cp1y},p=Mi(i,a,e),u=Mi(a,h,e),l=Mi(h,t,e),f=Mi(p,u,e),m=Mi(u,l,e);return Mi(f,m,e)}var ux=function(i,t){return{x(e){return i+i+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,o){return e-o},leftForLtr(e,o){return e-o}}},hx=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,t){return i+t},leftForLtr(i,t){return i}}};function Zi(i,t,e){return i?ux(t,e):hx()}function lc(i,t){let e,o;(t==="ltr"||t==="rtl")&&(e=i.canvas.style,o=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),i.prevTextDirection=o)}function cc(i,t){t!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",t[0],t[1]))}function id(i){return i==="angle"?{between:Ss,compare:Tv,normalize:Ue}:{between:Dn,compare:(t,e)=>t-e,normalize:t=>t}}function Mf({start:i,end:t,count:e,loop:o,style:a}){return{start:i%e,end:t%e,loop:o&&(t-i+1)%e===0,style:a}}function fx(i,t,e){let{property:o,start:a,end:h}=e,{between:p,normalize:u}=id(o),l=t.length,{start:f,end:m,loop:v}=i,y,w;if(v){for(f+=l,m+=l,y=0,w=l;y<w&&p(u(t[f%l][o]),a,h);++y)f--,m--;f%=l,m%=l}return m<f&&(m+=l),{start:f,end:m,loop:v,style:i.style}}function uc(i,t,e){if(!e)return[i];let{property:o,start:a,end:h}=e,p=t.length,{compare:u,between:l,normalize:f}=id(o),{start:m,end:v,loop:y,style:w}=fx(i,t,e),P=[],C=!1,M=null,O,A,L,E=()=>l(a,L,O)&&u(a,L)!==0,F=()=>u(h,O)===0||l(h,L,O),N=()=>C||E(),H=()=>!C||F();for(let W=m,G=m;W<=v;++W)A=t[W%p],!A.skip&&(O=f(A[o]),O!==L&&(C=l(O,a,h),M===null&&N()&&(M=u(O,a)===0?W:G),M!==null&&H()&&(P.push(Mf({start:M,end:W,loop:y,count:p,style:w})),M=null),G=W,L=O));return M!==null&&P.push(Mf({start:M,end:v,loop:y,count:p,style:w})),P}function hc(i,t){let e=[],o=i.segments;for(let a=0;a<o.length;a++){let h=uc(o[a],i.points,t);h.length&&e.push(...h)}return e}function dx(i,t,e,o){let a=0,h=t-1;if(e&&!o)for(;a<t&&!i[a].skip;)a++;for(;a<t&&i[a].skip;)a++;for(a%=t,e&&(h+=a);h>a&&i[h%t].skip;)h--;return h%=t,{start:a,end:h}}function px(i,t,e,o){let a=i.length,h=[],p=t,u=i[t],l;for(l=t+1;l<=e;++l){let f=i[l%a];f.skip||f.stop?u.skip||(o=!1,h.push({start:t%a,end:(l-1)%a,loop:o}),t=p=f.stop?l:null):(p=l,u.skip&&(t=l)),u=f}return p!==null&&h.push({start:t%a,end:p%a,loop:o}),h}function sd(i,t){let e=i.points,o=i.options.spanGaps,a=e.length;if(!a)return[];let h=!!i._loop,{start:p,end:u}=dx(e,a,h,o);if(o===!0)return Of(i,[{start:p,end:u,loop:h}],e,t);let l=u<p?u+a:u,f=!!i._fullLoop&&p===0&&u===a-1;return Of(i,px(e,p,l,f),e,t)}function Of(i,t,e,o){return!o||!o.setContext||!e?t:gx(i,t,e,o)}function gx(i,t,e,o){let a=i._chart.getContext(),h=Tf(i.options),{_datasetIndex:p,options:{spanGaps:u}}=i,l=e.length,f=[],m=h,v=t[0].start,y=v;function w(P,C,M,O){let A=u?-1:1;if(P!==C){for(P+=l;e[P%l].skip;)P-=A;for(;e[C%l].skip;)C+=A;P%l!==C%l&&(f.push({start:P%l,end:C%l,loop:M,style:O}),m=O,v=C%l)}}for(let P of t){v=u?v:P.start;let C=e[v%l],M;for(y=v+1;y<=P.end;y++){let O=e[y%l];M=Tf(o.setContext(Xn(a,{type:"segment",p0:C,p1:O,p0DataIndex:(y-1)%l,p1DataIndex:y%l,datasetIndex:p}))),mx(M,m)&&w(v,y-1,P.loop,m),C=O,m=M}v<y-1&&w(v,y-1,P.loop,m)}return f}function Tf(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function mx(i,t){return t&&JSON.stringify(i)!==JSON.stringify(t)}var yc=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,o,a){let h=e.listeners[a],p=e.duration;h.forEach(u=>u({chart:t,initial:e.initial,numSteps:p,currentStep:Math.min(o-e.start,p)}))}_refresh(){this._request||(this._running=!0,this._request=Xl.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((o,a)=>{if(!o.running||!o.items.length)return;let h=o.items,p=h.length-1,u=!1,l;for(;p>=0;--p)l=h[p],l._active?(l._total>o.duration&&(o.duration=l._total),l.tick(t),u=!0):(h[p]=h[h.length-1],h.pop());u&&(a.draw(),this._notify(a,o,t,"progress")),h.length||(o.running=!1,this._notify(a,o,t,"complete"),o.initial=!1),e+=h.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){let e=this._charts,o=e.get(t);return o||(o={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,o)),o}listen(t,e,o){this._getAnims(t).listeners[e].push(o)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){let e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((o,a)=>Math.max(o,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;let e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){let e=this._charts.get(t);if(!e||!e.items.length)return;let o=e.items,a=o.length-1;for(;a>=0;--a)o[a].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}},Gn=new yc,od="transparent",bx={boolean(i,t,e){return e>.5?t:i},color(i,t,e){let o=Zl(i||od),a=o.valid&&Zl(t||od);return a&&a.valid?a.mix(o,e).hexString():t},number(i,t,e){return i+(t-i)*e}},wc=class{constructor(t,e,o,a){let h=e[o];a=Fs([t.to,a,h,t.from]);let p=Fs([t.from,h,a]);this._active=!0,this._fn=t.fn||bx[t.type||typeof p],this._easing=Os[t.easing]||Os.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=o,this._from=p,this._to=a,this._promises=void 0}active(){return this._active}update(t,e,o){if(this._active){this._notify(!1);let a=this._target[this._prop],h=o-this._start,p=this._duration-h;this._start=o,this._duration=Math.floor(Math.max(p,t.duration)),this._total+=h,this._loop=!!t.loop,this._to=Fs([t.to,e,a,t.from]),this._from=Fs([t.from,a,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){let e=t-this._start,o=this._duration,a=this._prop,h=this._from,p=this._loop,u=this._to,l;if(this._active=h!==u&&(p||e<o),!this._active){this._target[a]=u,this._notify(!0);return}if(e<0){this._target[a]=h;return}l=e/o%2,l=p&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[a]=this._fn(h,u,l)}wait(){let t=this._promises||(this._promises=[]);return new Promise((e,o)=>{t.push({res:e,rej:o})})}_notify(t){let e=t?"res":"rej",o=this._promises||[];for(let a=0;a<o.length;a++)o[a][e]()}},ga=class{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Rt(t))return;let e=Object.keys(ce.animation),o=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{let h=t[a];if(!Rt(h))return;let p={};for(let u of e)p[u]=h[u];(Jt(h.properties)&&h.properties||[a]).forEach(u=>{(u===a||!o.has(u))&&o.set(u,p)})})}_animateOptions(t,e){let o=e.options,a=xx(t,o);if(!a)return[];let h=this._createAnimations(a,o);return o.$shared&&vx(t.options.$animations,o).then(()=>{t.options=o},()=>{}),h}_createAnimations(t,e){let o=this._properties,a=[],h=t.$animations||(t.$animations={}),p=Object.keys(e),u=Date.now(),l;for(l=p.length-1;l>=0;--l){let f=p[l];if(f.charAt(0)==="$")continue;if(f==="options"){a.push(...this._animateOptions(t,e));continue}let m=e[f],v=h[f],y=o.get(f);if(v)if(y&&v.active()){v.update(y,m,u);continue}else v.cancel();if(!y||!y.duration){t[f]=m;continue}h[f]=v=new wc(y,t,f,m),a.push(v)}return a}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}let o=this._createAnimations(t,e);if(o.length)return Gn.add(this._chart,o),!0}};function vx(i,t){let e=[],o=Object.keys(t);for(let a=0;a<o.length;a++){let h=i[o[a]];h&&h.active()&&e.push(h.wait())}return Promise.all(e)}function xx(i,t){if(!t)return;let e=i.options;if(!e){i.options=t;return}return e.$shared&&(i.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function rd(i,t){let e=i&&i.options||{},o=e.reverse,a=e.min===void 0?t:0,h=e.max===void 0?t:0;return{start:o?h:a,end:o?a:h}}function _x(i,t,e){if(e===!1)return!1;let o=rd(i,e),a=rd(t,e);return{top:a.end,right:o.end,bottom:a.start,left:o.start}}function yx(i){let t,e,o,a;return Rt(i)?(t=i.top,e=i.right,o=i.bottom,a=i.left):t=e=o=a=i,{top:t,right:e,bottom:o,left:a,disabled:i===!1}}function np(i,t){let e=[],o=i._getSortedDatasetMetas(t),a,h;for(a=0,h=o.length;a<h;++a)e.push(o[a].index);return e}function ad(i,t,e,o={}){let a=i.keys,h=o.mode==="single",p,u,l,f;if(t!==null){for(p=0,u=a.length;p<u;++p){if(l=+a[p],l===e){if(o.all)continue;break}f=i.values[l],oe(f)&&(h||t===0||vn(t)===vn(f))&&(t+=f)}return t}}function wx(i){let t=Object.keys(i),e=new Array(t.length),o,a,h;for(o=0,a=t.length;o<a;++o)h=t[o],e[o]={x:h,y:i[h]};return e}function ld(i,t){let e=i&&i.options.stacked;return e||e===void 0&&t.stack!==void 0}function kx(i,t,e){return`${i.id}.${t.id}.${e.stack||e.type}`}function Px(i){let{min:t,max:e,minDefined:o,maxDefined:a}=i.getUserBounds();return{min:o?t:Number.NEGATIVE_INFINITY,max:a?e:Number.POSITIVE_INFINITY}}function Cx(i,t,e){let o=i[t]||(i[t]={});return o[e]||(o[e]={})}function cd(i,t,e,o){for(let a of t.getMatchingVisibleMetas(o).reverse()){let h=i[a.index];if(e&&h>0||!e&&h<0)return a.index}return null}function ud(i,t){let{chart:e,_cachedMeta:o}=i,a=e._stacks||(e._stacks={}),{iScale:h,vScale:p,index:u}=o,l=h.axis,f=p.axis,m=kx(h,p,o),v=t.length,y;for(let w=0;w<v;++w){let P=t[w],{[l]:C,[f]:M}=P,O=P._stacks||(P._stacks={});y=O[f]=Cx(a,m,C),y[u]=M,y._top=cd(y,p,!0,o.type),y._bottom=cd(y,p,!1,o.type);let A=y._visualValues||(y._visualValues={});A[u]=M}}function fc(i,t){let e=i.scales;return Object.keys(e).filter(o=>e[o].axis===t).shift()}function Mx(i,t){return Xn(i,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Ox(i,t,e){return Xn(i,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Do(i,t){let e=i.controller.index,o=i.vScale&&i.vScale.axis;if(o){t=t||i._parsed;for(let a of t){let h=a._stacks;if(!h||h[o]===void 0||h[o][e]===void 0)return;delete h[o][e],h[o]._visualValues!==void 0&&h[o]._visualValues[e]!==void 0&&delete h[o]._visualValues[e]}}}var dc=i=>i==="reset"||i==="none",hd=(i,t)=>t?i:Object.assign({},i),Tx=(i,t,e)=>i&&!t.hidden&&t._stacked&&{keys:np(e,!0),values:null},Je=class{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=ld(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Do(this._cachedMeta),this.index=t}linkScales(){let t=this.chart,e=this._cachedMeta,o=this.getDataset(),a=(v,y,w,P)=>v==="x"?y:v==="r"?P:w,h=e.xAxisID=Mt(o.xAxisID,fc(t,"x")),p=e.yAxisID=Mt(o.yAxisID,fc(t,"y")),u=e.rAxisID=Mt(o.rAxisID,fc(t,"r")),l=e.indexAxis,f=e.iAxisID=a(l,h,p,u),m=e.vAxisID=a(l,p,h,u);e.xScale=this.getScaleForId(h),e.yScale=this.getScaleForId(p),e.rScale=this.getScaleForId(u),e.iScale=this.getScaleForId(f),e.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){let e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){let t=this._cachedMeta;this._data&&ql(this._data,this),t._stacked&&Do(t)}_dataCheck(){let t=this.getDataset(),e=t.data||(t.data=[]),o=this._data;if(Rt(e))this._data=wx(e);else if(o!==e){if(o){ql(o,this);let a=this._cachedMeta;Do(a),a._parsed=[]}e&&Object.isExtensible(e)&&Nf(e,this),this._syncList=[],this._data=e}}addElements(){let t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){let e=this._cachedMeta,o=this.getDataset(),a=!1;this._dataCheck();let h=e._stacked;e._stacked=ld(e.vScale,e),e.stack!==o.stack&&(a=!0,Do(e),e.stack=o.stack),this._resyncElements(t),(a||h!==e._stacked)&&ud(this,e._parsed)}configure(){let t=this.chart.config,e=t.datasetScopeKeys(this._type),o=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(o,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){let{_cachedMeta:o,_data:a}=this,{iScale:h,_stacked:p}=o,u=h.axis,l=t===0&&e===a.length?!0:o._sorted,f=t>0&&o._parsed[t-1],m,v,y;if(this._parsing===!1)o._parsed=a,o._sorted=!0,y=a;else{Jt(a[t])?y=this.parseArrayData(o,a,t,e):Rt(a[t])?y=this.parseObjectData(o,a,t,e):y=this.parsePrimitiveData(o,a,t,e);let w=()=>v[u]===null||f&&v[u]<f[u];for(m=0;m<e;++m)o._parsed[m+t]=v=y[m],l&&(w()&&(l=!1),f=v);o._sorted=l}p&&ud(this,y)}parsePrimitiveData(t,e,o,a){let{iScale:h,vScale:p}=t,u=h.axis,l=p.axis,f=h.getLabels(),m=h===p,v=new Array(a),y,w,P;for(y=0,w=a;y<w;++y)P=y+o,v[y]={[u]:m||h.parse(f[P],P),[l]:p.parse(e[P],P)};return v}parseArrayData(t,e,o,a){let{xScale:h,yScale:p}=t,u=new Array(a),l,f,m,v;for(l=0,f=a;l<f;++l)m=l+o,v=e[m],u[l]={x:h.parse(v[0],m),y:p.parse(v[1],m)};return u}parseObjectData(t,e,o,a){let{xScale:h,yScale:p}=t,{xAxisKey:u="x",yAxisKey:l="y"}=this._parsing,f=new Array(a),m,v,y,w;for(m=0,v=a;m<v;++m)y=m+o,w=e[y],f[m]={x:h.parse(Un(w,u),y),y:p.parse(Un(w,l),y)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,o){let a=this.chart,h=this._cachedMeta,p=e[t.axis],u={keys:np(a,!0),values:e._stacks[t.axis]._visualValues};return ad(u,p,h.index,{mode:o})}updateRangeFromParsed(t,e,o,a){let h=o[e.axis],p=h===null?NaN:h,u=a&&o._stacks[e.axis];a&&u&&(a.values=u,p=ad(a,h,this._cachedMeta.index)),t.min=Math.min(t.min,p),t.max=Math.max(t.max,p)}getMinMax(t,e){let o=this._cachedMeta,a=o._parsed,h=o._sorted&&t===o.iScale,p=a.length,u=this._getOtherScale(t),l=Tx(e,o,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:v}=Px(u),y,w;function P(){w=a[y];let C=w[u.axis];return!oe(w[t.axis])||m>C||v<C}for(y=0;y<p&&!(!P()&&(this.updateRangeFromParsed(f,t,w,l),h));++y);if(h){for(y=p-1;y>=0;--y)if(!P()){this.updateRangeFromParsed(f,t,w,l);break}}return f}getAllParsedValues(t){let e=this._cachedMeta._parsed,o=[],a,h,p;for(a=0,h=e.length;a<h;++a)p=e[a][t.axis],oe(p)&&o.push(p);return o}getMaxOverflow(){return!1}getLabelAndValue(t){let e=this._cachedMeta,o=e.iScale,a=e.vScale,h=this.getParsed(t);return{label:o?""+o.getLabelForValue(h[o.axis]):"",value:a?""+a.getLabelForValue(h[a.axis]):""}}_update(t){let e=this._cachedMeta;this.update(t||"default"),e._clip=yx(Mt(this.options.clip,_x(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){let t=this._ctx,e=this.chart,o=this._cachedMeta,a=o.data||[],h=e.chartArea,p=[],u=this._drawStart||0,l=this._drawCount||a.length-u,f=this.options.drawActiveElementsOnTop,m;for(o.dataset&&o.dataset.draw(t,h,u,l),m=u;m<u+l;++m){let v=a[m];v.hidden||(v.active&&f?p.push(v):v.draw(t,h))}for(m=0;m<p.length;++m)p[m].draw(t,h)}getStyle(t,e){let o=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(o):this.resolveDataElementOptions(t||0,o)}getContext(t,e,o){let a=this.getDataset(),h;if(t>=0&&t<this._cachedMeta.data.length){let p=this._cachedMeta.data[t];h=p.$context||(p.$context=Ox(this.getContext(),t,p)),h.parsed=this.getParsed(t),h.raw=a.data[t],h.index=h.dataIndex=t}else h=this.$context||(this.$context=Mx(this.chart.getContext(),this.index)),h.dataset=a,h.index=h.datasetIndex=this.index;return h.active=!!e,h.mode=o,h}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",o){let a=e==="active",h=this._cachedDataOpts,p=t+"-"+e,u=h[p],l=this.enableOptionSharing&&Ze(o);if(u)return hd(u,l);let f=this.chart.config,m=f.datasetElementScopeKeys(this._type,t),v=a?[`${t}Hover`,"hover",t,""]:[t,""],y=f.getOptionScopes(this.getDataset(),m),w=Object.keys(ce.elements[t]),P=()=>this.getContext(o,a,e),C=f.resolveNamedOptions(y,w,P,v);return C.$shared&&(C.$shared=l,h[p]=Object.freeze(hd(C,l))),C}_resolveAnimations(t,e,o){let a=this.chart,h=this._cachedDataOpts,p=`animation-${e}`,u=h[p];if(u)return u;let l;if(a.options.animation!==!1){let m=this.chart.config,v=m.datasetAnimationScopeKeys(this._type,e),y=m.getOptionScopes(this.getDataset(),v);l=m.createResolver(y,this.getContext(t,o,e))}let f=new ga(a,l&&l.animations);return l&&l._cacheable&&(h[p]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||dc(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){let o=this.resolveDataElementOptions(t,e),a=this._sharedOptions,h=this.getSharedOptions(o),p=this.includeOptions(e,h)||h!==a;return this.updateSharedOptions(h,e,o),{sharedOptions:h,includeOptions:p}}updateElement(t,e,o,a){dc(a)?Object.assign(t,o):this._resolveAnimations(e,a).update(t,o)}updateSharedOptions(t,e,o){t&&!dc(e)&&this._resolveAnimations(void 0,e).update(t,o)}_setStyle(t,e,o,a){t.active=a;let h=this.getStyle(e,a);this._resolveAnimations(e,o,a).update(t,{options:!a&&this.getSharedOptions(h)||h})}removeHoverStyle(t,e,o){this._setStyle(t,o,"active",!1)}setHoverStyle(t,e,o){this._setStyle(t,o,"active",!0)}_removeDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){let e=this._data,o=this._cachedMeta.data;for(let[u,l,f]of this._syncList)this[u](l,f);this._syncList=[];let a=o.length,h=e.length,p=Math.min(h,a);p&&this.parse(0,p),h>a?this._insertElements(a,h-a,t):h<a&&this._removeElements(h,a-h)}_insertElements(t,e,o=!0){let a=this._cachedMeta,h=a.data,p=t+e,u,l=f=>{for(f.length+=e,u=f.length-1;u>=p;u--)f[u]=f[u-e]};for(l(h),u=t;u<p;++u)h[u]=new this.dataElementType;this._parsing&&l(a._parsed),this.parse(t,e),o&&this.updateElements(h,t,e,"reset")}updateElements(t,e,o,a){}_removeElements(t,e){let o=this._cachedMeta;if(this._parsing){let a=o._parsed.splice(t,e);o._stacked&&Do(o,a)}o.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{let[e,o,a]=t;this[e](o,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){let t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);let o=arguments.length-2;o&&this._sync(["_insertElements",t,o])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}};bt(Je,"defaults",{}),bt(Je,"datasetElementType",null),bt(Je,"dataElementType",null);function Ax(i,t){if(!i._cache.$bar){let e=i.getMatchingVisibleMetas(t),o=[];for(let a=0,h=e.length;a<h;a++)o=o.concat(e[a].controller.getAllParsedValues(i));i._cache.$bar=Ul(o.sort((a,h)=>a-h))}return i._cache.$bar}function Ex(i){let t=i.iScale,e=Ax(t,i.type),o=t._length,a,h,p,u,l=()=>{p===32767||p===-32768||(Ze(u)&&(o=Math.min(o,Math.abs(p-u)||o)),u=p)};for(a=0,h=e.length;a<h;++a)p=t.getPixelForValue(e[a]),l();for(u=void 0,a=0,h=t.ticks.length;a<h;++a)p=t.getPixelForTick(a),l();return o}function Dx(i,t,e,o){let a=e.barThickness,h,p;return Bt(a)?(h=t.min*e.categoryPercentage,p=e.barPercentage):(h=a*o,p=1),{chunk:h/o,ratio:p,start:t.pixels[i]-h/2}}function Lx(i,t,e,o){let a=t.pixels,h=a[i],p=i>0?a[i-1]:null,u=i<a.length-1?a[i+1]:null,l=e.categoryPercentage;p===null&&(p=h-(u===null?t.end-t.start:u-h)),u===null&&(u=h+h-p);let f=h-(h-Math.min(p,u))/2*l;return{chunk:Math.abs(u-p)/2*l/o,ratio:e.barPercentage,start:f}}function Sx(i,t,e,o){let a=e.parse(i[0],o),h=e.parse(i[1],o),p=Math.min(a,h),u=Math.max(a,h),l=p,f=u;Math.abs(p)>Math.abs(u)&&(l=u,f=p),t[e.axis]=f,t._custom={barStart:l,barEnd:f,start:a,end:h,min:p,max:u}}function ip(i,t,e,o){return Jt(i)?Sx(i,t,e,o):t[e.axis]=e.parse(i,o),t}function fd(i,t,e,o){let a=i.iScale,h=i.vScale,p=a.getLabels(),u=a===h,l=[],f,m,v,y;for(f=e,m=e+o;f<m;++f)y=t[f],v={},v[a.axis]=u||a.parse(p[f],f),l.push(ip(y,v,h,f));return l}function pc(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function Rx(i,t,e){return i!==0?vn(i):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function Ix(i){let t,e,o,a,h;return i.horizontal?(t=i.base>i.x,e="left",o="right"):(t=i.base<i.y,e="bottom",o="top"),t?(a="end",h="start"):(a="start",h="end"),{start:e,end:o,reverse:t,top:a,bottom:h}}function Fx(i,t,e,o){let a=t.borderSkipped,h={};if(!a){i.borderSkipped=h;return}if(a===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:p,end:u,reverse:l,top:f,bottom:m}=Ix(i);a==="middle"&&e&&(i.enableBorderRadius=!0,(e._top||0)===o?a=f:(e._bottom||0)===o?a=m:(h[dd(m,p,u,l)]=!0,a=f)),h[dd(a,p,u,l)]=!0,i.borderSkipped=h}function dd(i,t,e,o){return o?(i=Bx(i,t,e),i=pd(i,e,t)):i=pd(i,t,e),i}function Bx(i,t,e){return i===t?e:i===e?t:i}function pd(i,t,e){return i==="start"?t:i==="end"?e:i}function zx(i,{inflateAmount:t},e){i.inflateAmount=t==="auto"?e===1?.33:0:t}var zs=class extends Je{parsePrimitiveData(t,e,o,a){return fd(t,e,o,a)}parseArrayData(t,e,o,a){return fd(t,e,o,a)}parseObjectData(t,e,o,a){let{iScale:h,vScale:p}=t,{xAxisKey:u="x",yAxisKey:l="y"}=this._parsing,f=h.axis==="x"?u:l,m=p.axis==="x"?u:l,v=[],y,w,P,C;for(y=o,w=o+a;y<w;++y)C=e[y],P={},P[h.axis]=h.parse(Un(C,f),y),v.push(ip(Un(C,m),P,p,y));return v}updateRangeFromParsed(t,e,o,a){super.updateRangeFromParsed(t,e,o,a);let h=o._custom;h&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,h.min),t.max=Math.max(t.max,h.max))}getMaxOverflow(){return 0}getLabelAndValue(t){let e=this._cachedMeta,{iScale:o,vScale:a}=e,h=this.getParsed(t),p=h._custom,u=pc(p)?"["+p.start+", "+p.end+"]":""+a.getLabelForValue(h[a.axis]);return{label:""+o.getLabelForValue(h[o.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();let t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){let e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,o,a){let h=a==="reset",{index:p,_cachedMeta:{vScale:u}}=this,l=u.getBasePixel(),f=u.isHorizontal(),m=this._getRuler(),{sharedOptions:v,includeOptions:y}=this._getSharedOptions(e,a);for(let w=e;w<e+o;w++){let P=this.getParsed(w),C=h||Bt(P[u.axis])?{base:l,head:l}:this._calculateBarValuePixels(w),M=this._calculateBarIndexPixels(w,m),O=(P._stacks||{})[u.axis],A={horizontal:f,base:C.base,enableBorderRadius:!O||pc(P._custom)||p===O._top||p===O._bottom,x:f?C.head:M.center,y:f?M.center:C.head,height:f?M.size:Math.abs(C.size),width:f?Math.abs(C.size):M.size};y&&(A.options=v||this.resolveDataElementOptions(w,t[w].active?"active":a));let L=A.options||t[w].options;Fx(A,L,O,p),zx(A,L,m.ratio),this.updateElement(t[w],w,A,a)}}_getStacks(t,e){let{iScale:o}=this._cachedMeta,a=o.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),h=o.options.stacked,p=[],u=l=>{let f=l.controller.getParsed(e),m=f&&f[l.vScale.axis];if(Bt(m)||isNaN(m))return!0};for(let l of a)if(!(e!==void 0&&u(l))&&((h===!1||p.indexOf(l.stack)===-1||h===void 0&&l.stack===void 0)&&p.push(l.stack),l.index===t))break;return p.length||p.push(void 0),p}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,o){let a=this._getStacks(t,o),h=e!==void 0?a.indexOf(e):-1;return h===-1?a.length-1:h}_getRuler(){let t=this.options,e=this._cachedMeta,o=e.iScale,a=[],h,p;for(h=0,p=e.data.length;h<p;++h)a.push(o.getPixelForValue(this.getParsed(h)[o.axis],h));let u=t.barThickness;return{min:u||Ex(e),pixels:a,start:o._startPixel,end:o._endPixel,stackCount:this._getStackCount(),scale:o,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){let{_cachedMeta:{vScale:e,_stacked:o,index:a},options:{base:h,minBarLength:p}}=this,u=h||0,l=this.getParsed(t),f=l._custom,m=pc(f),v=l[e.axis],y=0,w=o?this.applyStack(e,l,o):v,P,C;w!==v&&(y=w-v,w=v),m&&(v=f.barStart,w=f.barEnd-f.barStart,v!==0&&vn(v)!==vn(f.barEnd)&&(y=0),y+=v);let M=!Bt(h)&&!m?h:y,O=e.getPixelForValue(M);if(this.chart.getDataVisibility(t)?P=e.getPixelForValue(y+w):P=O,C=P-O,Math.abs(C)<p){C=Rx(C,e,u)*p,v===u&&(O-=C/2);let A=e.getPixelForDecimal(0),L=e.getPixelForDecimal(1),E=Math.min(A,L),F=Math.max(A,L);O=Math.max(Math.min(O,F),E),P=O+C,o&&!m&&(l._stacks[e.axis]._visualValues[a]=e.getValueForPixel(P)-e.getValueForPixel(O))}if(O===e.getPixelForValue(u)){let A=vn(C)*e.getLineWidthForValue(u)/2;O+=A,C-=A}return{size:C,base:O,head:P,center:P+C/2}}_calculateBarIndexPixels(t,e){let o=e.scale,a=this.options,h=a.skipNull,p=Mt(a.maxBarThickness,1/0),u,l;if(e.grouped){let f=h?this._getStackCount(t):e.stackCount,m=a.barThickness==="flex"?Lx(t,e,a,f):Dx(t,e,a,f),v=this._getStackIndex(this.index,this._cachedMeta.stack,h?t:void 0);u=m.start+m.chunk*v+m.chunk/2,l=Math.min(p,m.chunk*m.ratio)}else u=o.getPixelForValue(this.getParsed(t)[o.axis],t),l=Math.min(p,e.min*e.ratio);return{base:u-l/2,head:u+l/2,center:u,size:l}}draw(){let t=this._cachedMeta,e=t.vScale,o=t.data,a=o.length,h=0;for(;h<a;++h)this.getParsed(h)[e.axis]!==null&&o[h].draw(this._ctx)}};bt(zs,"id","bar"),bt(zs,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),bt(zs,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});var Ns=class extends Je{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,o,a){let h=super.parsePrimitiveData(t,e,o,a);for(let p=0;p<h.length;p++)h[p]._custom=this.resolveDataElementOptions(p+o).radius;return h}parseArrayData(t,e,o,a){let h=super.parseArrayData(t,e,o,a);for(let p=0;p<h.length;p++){let u=e[o+p];h[p]._custom=Mt(u[2],this.resolveDataElementOptions(p+o).radius)}return h}parseObjectData(t,e,o,a){let h=super.parseObjectData(t,e,o,a);for(let p=0;p<h.length;p++){let u=e[o+p];h[p]._custom=Mt(u&&u.r&&+u.r,this.resolveDataElementOptions(p+o).radius)}return h}getMaxOverflow(){let t=this._cachedMeta.data,e=0;for(let o=t.length-1;o>=0;--o)e=Math.max(e,t[o].size(this.resolveDataElementOptions(o))/2);return e>0&&e}getLabelAndValue(t){let e=this._cachedMeta,o=this.chart.data.labels||[],{xScale:a,yScale:h}=e,p=this.getParsed(t),u=a.getLabelForValue(p.x),l=h.getLabelForValue(p.y),f=p._custom;return{label:o[t]||"",value:"("+u+", "+l+(f?", "+f:"")+")"}}update(t){let e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,o,a){let h=a==="reset",{iScale:p,vScale:u}=this._cachedMeta,{sharedOptions:l,includeOptions:f}=this._getSharedOptions(e,a),m=p.axis,v=u.axis;for(let y=e;y<e+o;y++){let w=t[y],P=!h&&this.getParsed(y),C={},M=C[m]=h?p.getPixelForDecimal(.5):p.getPixelForValue(P[m]),O=C[v]=h?u.getBasePixel():u.getPixelForValue(P[v]);C.skip=isNaN(M)||isNaN(O),f&&(C.options=l||this.resolveDataElementOptions(y,w.active?"active":a),h&&(C.options.radius=0)),this.updateElement(w,y,C,a)}}resolveDataElementOptions(t,e){let o=this.getParsed(t),a=super.resolveDataElementOptions(t,e);a.$shared&&(a=Object.assign({},a,{$shared:!1}));let h=a.radius;return e!=="active"&&(a.radius=0),a.radius+=Mt(o&&o._custom,h),a}};bt(Ns,"id","bubble"),bt(Ns,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),bt(Ns,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Nx(i,t,e){let o=1,a=1,h=0,p=0;if(t<jt){let u=i,l=u+t,f=Math.cos(u),m=Math.sin(u),v=Math.cos(l),y=Math.sin(l),w=(L,E,F)=>Ss(L,u,l,!0)?1:Math.max(E,E*e,F,F*e),P=(L,E,F)=>Ss(L,u,l,!0)?-1:Math.min(E,E*e,F,F*e),C=w(0,f,v),M=w(se,m,y),O=P(ee,f,v),A=P(ee+se,m,y);o=(C-O)/2,a=(M-A)/2,h=-(C+O)/2,p=-(M+A)/2}return{ratioX:o,ratioY:a,offsetX:h,offsetY:p}}var Qn=class extends Je{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){let o=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=o;else{let h=l=>+o[l];if(Rt(o[t])){let{key:l="value"}=this._parsing;h=f=>+Un(o[f],l)}let p,u;for(p=t,u=t+e;p<u;++p)a._parsed[p]=h(p)}}_getRotation(){return ln(this.options.rotation-90)}_getCircumference(){return ln(this.options.circumference)}_getRotationExtents(){let t=jt,e=-jt;for(let o=0;o<this.chart.data.datasets.length;++o)if(this.chart.isDatasetVisible(o)&&this.chart.getDatasetMeta(o).type===this._type){let a=this.chart.getDatasetMeta(o).controller,h=a._getRotation(),p=a._getCircumference();t=Math.min(t,h),e=Math.max(e,h+p)}return{rotation:t,circumference:e-t}}update(t){let e=this.chart,{chartArea:o}=e,a=this._cachedMeta,h=a.data,p=this.getMaxBorderWidth()+this.getMaxOffset(h)+this.options.spacing,u=Math.max((Math.min(o.width,o.height)-p)/2,0),l=Math.min(Ef(this.options.cutout,u),1),f=this._getRingWeight(this.index),{circumference:m,rotation:v}=this._getRotationExtents(),{ratioX:y,ratioY:w,offsetX:P,offsetY:C}=Nx(v,m,l),M=(o.width-p)/y,O=(o.height-p)/w,A=Math.max(Math.min(M,O)/2,0),L=Nl(this.options.radius,A),E=Math.max(L*l,0),F=(L-E)/this._getVisibleDatasetWeightTotal();this.offsetX=P*L,this.offsetY=C*L,a.total=this.calculateTotal(),this.outerRadius=L-F*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-F*f,0),this.updateElements(h,0,h.length,t)}_circumference(t,e){let o=this.options,a=this._cachedMeta,h=this._getCircumference();return e&&o.animation.animateRotate||!this.chart.getDataVisibility(t)||a._parsed[t]===null||a.data[t].hidden?0:this.calculateCircumference(a._parsed[t]*h/jt)}updateElements(t,e,o,a){let h=a==="reset",p=this.chart,u=p.chartArea,f=p.options.animation,m=(u.left+u.right)/2,v=(u.top+u.bottom)/2,y=h&&f.animateScale,w=y?0:this.innerRadius,P=y?0:this.outerRadius,{sharedOptions:C,includeOptions:M}=this._getSharedOptions(e,a),O=this._getRotation(),A;for(A=0;A<e;++A)O+=this._circumference(A,h);for(A=e;A<e+o;++A){let L=this._circumference(A,h),E=t[A],F={x:m+this.offsetX,y:v+this.offsetY,startAngle:O,endAngle:O+L,circumference:L,outerRadius:P,innerRadius:w};M&&(F.options=C||this.resolveDataElementOptions(A,E.active?"active":a)),O+=L,this.updateElement(E,A,F,a)}}calculateTotal(){let t=this._cachedMeta,e=t.data,o=0,a;for(a=0;a<e.length;a++){let h=t._parsed[a];h!==null&&!isNaN(h)&&this.chart.getDataVisibility(a)&&!e[a].hidden&&(o+=Math.abs(h))}return o}calculateCircumference(t){let e=this._cachedMeta.total;return e>0&&!isNaN(t)?jt*(Math.abs(t)/e):0}getLabelAndValue(t){let e=this._cachedMeta,o=this.chart,a=o.data.labels||[],h=Rs(e._parsed[t],o.options.locale);return{label:a[t]||"",value:h}}getMaxBorderWidth(t){let e=0,o=this.chart,a,h,p,u,l;if(!t){for(a=0,h=o.data.datasets.length;a<h;++a)if(o.isDatasetVisible(a)){p=o.getDatasetMeta(a),t=p.data,u=p.controller;break}}if(!t)return 0;for(a=0,h=t.length;a<h;++a)l=u.resolveDataElementOptions(a),l.borderAlign!=="inner"&&(e=Math.max(e,l.borderWidth||0,l.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let o=0,a=t.length;o<a;++o){let h=this.resolveDataElementOptions(o);e=Math.max(e,h.offset||0,h.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let o=0;o<t;++o)this.chart.isDatasetVisible(o)&&(e+=this._getRingWeight(o));return e}_getRingWeight(t){return Math.max(Mt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}};bt(Qn,"id","doughnut"),bt(Qn,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),bt(Qn,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"}),bt(Qn,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let e=t.data;if(e.labels.length&&e.datasets.length){let{labels:{pointStyle:o,color:a}}=t.legend.options;return e.labels.map((h,p)=>{let l=t.getDatasetMeta(0).controller.getStyle(p);return{text:h,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:a,lineWidth:l.borderWidth,pointStyle:o,hidden:!t.getDataVisibility(p),index:p}})}return[]}},onClick(t,e,o){o.chart.toggleDataVisibility(e.index),o.chart.update()}}}});var Vs=class extends Je{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){let e=this._cachedMeta,{dataset:o,data:a=[],_dataset:h}=e,p=this.chart._animationsDisabled,{start:u,count:l}=Kl(e,a,p);this._drawStart=u,this._drawCount=l,Ql(e)&&(u=0,l=a.length),o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!h._decimated,o.points=a;let f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(o,void 0,{animated:!p,options:f},t),this.updateElements(a,u,l,t)}updateElements(t,e,o,a){let h=a==="reset",{iScale:p,vScale:u,_stacked:l,_dataset:f}=this._cachedMeta,{sharedOptions:m,includeOptions:v}=this._getSharedOptions(e,a),y=p.axis,w=u.axis,{spanGaps:P,segment:C}=this.options,M=Qi(P)?P:Number.POSITIVE_INFINITY,O=this.chart._animationsDisabled||h||a==="none",A=e+o,L=t.length,E=e>0&&this.getParsed(e-1);for(let F=0;F<L;++F){let N=t[F],H=O?N:{};if(F<e||F>=A){H.skip=!0;continue}let W=this.getParsed(F),G=Bt(W[w]),et=H[y]=p.getPixelForValue(W[y],F),nt=H[w]=h||G?u.getBasePixel():u.getPixelForValue(l?this.applyStack(u,W,l):W[w],F);H.skip=isNaN(et)||isNaN(nt)||G,H.stop=F>0&&Math.abs(W[y]-E[y])>M,C&&(H.parsed=W,H.raw=f.data[F]),v&&(H.options=m||this.resolveDataElementOptions(F,N.active?"active":a)),O||this.updateElement(N,F,H,a),E=W}}getMaxOverflow(){let t=this._cachedMeta,e=t.dataset,o=e.options&&e.options.borderWidth||0,a=t.data||[];if(!a.length)return o;let h=a[0].size(this.resolveDataElementOptions(0)),p=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(o,h,p)/2}draw(){let t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}};bt(Vs,"id","line"),bt(Vs,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),bt(Vs,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});var es=class extends Je{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){let e=this._cachedMeta,o=this.chart,a=o.data.labels||[],h=Rs(e._parsed[t].r,o.options.locale);return{label:a[t]||"",value:h}}parseObjectData(t,e,o,a){return sc.bind(this)(t,e,o,a)}update(t){let e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){let t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((o,a)=>{let h=this.getParsed(a).r;!isNaN(h)&&this.chart.getDataVisibility(a)&&(h<e.min&&(e.min=h),h>e.max&&(e.max=h))}),e}_updateRadius(){let t=this.chart,e=t.chartArea,o=t.options,a=Math.min(e.right-e.left,e.bottom-e.top),h=Math.max(a/2,0),p=Math.max(o.cutoutPercentage?h/100*o.cutoutPercentage:1,0),u=(h-p)/t.getVisibleDatasetCount();this.outerRadius=h-u*this.index,this.innerRadius=this.outerRadius-u}updateElements(t,e,o,a){let h=a==="reset",p=this.chart,l=p.options.animation,f=this._cachedMeta.rScale,m=f.xCenter,v=f.yCenter,y=f.getIndexAngle(0)-.5*ee,w=y,P,C=360/this.countVisibleElements();for(P=0;P<e;++P)w+=this._computeAngle(P,a,C);for(P=e;P<e+o;P++){let M=t[P],O=w,A=w+this._computeAngle(P,a,C),L=p.getDataVisibility(P)?f.getDistanceFromCenterForValue(this.getParsed(P).r):0;w=A,h&&(l.animateScale&&(L=0),l.animateRotate&&(O=A=y));let E={x:m,y:v,innerRadius:0,outerRadius:L,startAngle:O,endAngle:A,options:this.resolveDataElementOptions(P,M.active?"active":a)};this.updateElement(M,P,E,a)}}countVisibleElements(){let t=this._cachedMeta,e=0;return t.data.forEach((o,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&e++}),e}_computeAngle(t,e,o){return this.chart.getDataVisibility(t)?ln(this.resolveDataElementOptions(t,e).angle||o):0}};bt(es,"id","polarArea"),bt(es,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),bt(es,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let e=t.data;if(e.labels.length&&e.datasets.length){let{labels:{pointStyle:o,color:a}}=t.legend.options;return e.labels.map((h,p)=>{let l=t.getDatasetMeta(0).controller.getStyle(p);return{text:h,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:a,lineWidth:l.borderWidth,pointStyle:o,hidden:!t.getDataVisibility(p),index:p}})}return[]}},onClick(t,e,o){o.chart.toggleDataVisibility(e.index),o.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});var Fo=class extends Qn{};bt(Fo,"id","pie"),bt(Fo,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});var Hs=class extends Je{getLabelAndValue(t){let e=this._cachedMeta.vScale,o=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(o[e.axis])}}parseObjectData(t,e,o,a){return sc.bind(this)(t,e,o,a)}update(t){let e=this._cachedMeta,o=e.dataset,a=e.data||[],h=e.iScale.getLabels();if(o.points=a,t!=="resize"){let p=this.resolveDatasetElementOptions(t);this.options.showLine||(p.borderWidth=0);let u={_loop:!0,_fullLoop:h.length===a.length,options:p};this.updateElement(o,void 0,u,t)}this.updateElements(a,0,a.length,t)}updateElements(t,e,o,a){let h=this._cachedMeta.rScale,p=a==="reset";for(let u=e;u<e+o;u++){let l=t[u],f=this.resolveDataElementOptions(u,l.active?"active":a),m=h.getPointPositionForValue(u,this.getParsed(u).r),v=p?h.xCenter:m.x,y=p?h.yCenter:m.y,w={x:v,y,angle:m.angle,skip:isNaN(v)||isNaN(y),options:f};this.updateElement(l,u,w,a)}}};bt(Hs,"id","radar"),bt(Hs,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),bt(Hs,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});var Ws=class extends Je{getLabelAndValue(t){let e=this._cachedMeta,o=this.chart.data.labels||[],{xScale:a,yScale:h}=e,p=this.getParsed(t),u=a.getLabelForValue(p.x),l=h.getLabelForValue(p.y);return{label:o[t]||"",value:"("+u+", "+l+")"}}update(t){let e=this._cachedMeta,{data:o=[]}=e,a=this.chart._animationsDisabled,{start:h,count:p}=Kl(e,o,a);if(this._drawStart=h,this._drawCount=p,Ql(e)&&(h=0,p=o.length),this.options.showLine){let{dataset:u,_dataset:l}=e;u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!l._decimated,u.points=o;let f=this.resolveDatasetElementOptions(t);f.segment=this.options.segment,this.updateElement(u,void 0,{animated:!a,options:f},t)}this.updateElements(o,h,p,t)}addElements(){let{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,o,a){let h=a==="reset",{iScale:p,vScale:u,_stacked:l,_dataset:f}=this._cachedMeta,m=this.resolveDataElementOptions(e,a),v=this.getSharedOptions(m),y=this.includeOptions(a,v),w=p.axis,P=u.axis,{spanGaps:C,segment:M}=this.options,O=Qi(C)?C:Number.POSITIVE_INFINITY,A=this.chart._animationsDisabled||h||a==="none",L=e>0&&this.getParsed(e-1);for(let E=e;E<e+o;++E){let F=t[E],N=this.getParsed(E),H=A?F:{},W=Bt(N[P]),G=H[w]=p.getPixelForValue(N[w],E),et=H[P]=h||W?u.getBasePixel():u.getPixelForValue(l?this.applyStack(u,N,l):N[P],E);H.skip=isNaN(G)||isNaN(et)||W,H.stop=E>0&&Math.abs(N[w]-L[w])>O,M&&(H.parsed=N,H.raw=f.data[E]),y&&(H.options=v||this.resolveDataElementOptions(E,F.active?"active":a)),A||this.updateElement(F,E,H,a),L=N}this.updateSharedOptions(v,a,m)}getMaxOverflow(){let t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let u=0;for(let l=e.length-1;l>=0;--l)u=Math.max(u,e[l].size(this.resolveDataElementOptions(l))/2);return u>0&&u}let o=t.dataset,a=o.options&&o.options.borderWidth||0;if(!e.length)return a;let h=e[0].size(this.resolveDataElementOptions(0)),p=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(a,h,p)/2}};bt(Ws,"id","scatter"),bt(Ws,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),bt(Ws,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Vx=Object.freeze({__proto__:null,BarController:zs,BubbleController:Ns,DoughnutController:Qn,LineController:Vs,PolarAreaController:es,PieController:Fo,RadarController:Hs,ScatterController:Ws});function Ji(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var Yo=class{static override(t){Object.assign(Yo.prototype,t)}constructor(t){this.options=t||{}}init(){}formats(){return Ji()}parse(){return Ji()}format(){return Ji()}add(){return Ji()}diff(){return Ji()}startOf(){return Ji()}endOf(){return Ji()}},Hx={_date:Yo};function Wx(i,t,e,o){let{controller:a,data:h,_sorted:p}=i,u=a._cachedMeta.iScale;if(u&&t===u.axis&&t!=="r"&&p&&h.length){let l=u._reversePixels?Ff:An;if(o){if(a._sharedOptions){let f=h[0],m=typeof f.getRange=="function"&&f.getRange(t);if(m){let v=l(h,t,e-m),y=l(h,t,e+m);return{lo:v.lo,hi:y.hi}}}}else return l(h,t,e)}return{lo:0,hi:h.length-1}}function Go(i,t,e,o,a){let h=i.getSortedVisibleDatasetMetas(),p=e[t];for(let u=0,l=h.length;u<l;++u){let{index:f,data:m}=h[u],{lo:v,hi:y}=Wx(h[u],t,p,a);for(let w=v;w<=y;++w){let P=m[w];P.skip||o(P,f,w)}}}function $x(i){let t=i.indexOf("x")!==-1,e=i.indexOf("y")!==-1;return function(o,a){let h=t?Math.abs(o.x-a.x):0,p=e?Math.abs(o.y-a.y):0;return Math.sqrt(Math.pow(h,2)+Math.pow(p,2))}}function gc(i,t,e,o,a){let h=[];return!a&&!i.isPointInArea(t)||Go(i,e,t,function(u,l,f){!a&&!As(u,i.chartArea,0)||u.inRange(t.x,t.y,o)&&h.push({element:u,datasetIndex:l,index:f})},!0),h}function Yx(i,t,e,o){let a=[];function h(p,u,l){let{startAngle:f,endAngle:m}=p.getProps(["startAngle","endAngle"],o),{angle:v}=Yl(p,{x:t.x,y:t.y});Ss(v,f,m)&&a.push({element:p,datasetIndex:u,index:l})}return Go(i,e,t,h),a}function qx(i,t,e,o,a,h){let p=[],u=$x(e),l=Number.POSITIVE_INFINITY;function f(m,v,y){let w=m.inRange(t.x,t.y,a);if(o&&!w)return;let P=m.getCenterPoint(a);if(!(!!h||i.isPointInArea(P))&&!w)return;let M=u(t,P);M<l?(p=[{element:m,datasetIndex:v,index:y}],l=M):M===l&&p.push({element:m,datasetIndex:v,index:y})}return Go(i,e,t,f),p}function mc(i,t,e,o,a,h){return!h&&!i.isPointInArea(t)?[]:e==="r"&&!o?Yx(i,t,e,a):qx(i,t,e,o,a,h)}function gd(i,t,e,o,a){let h=[],p=e==="x"?"inXRange":"inYRange",u=!1;return Go(i,e,t,(l,f,m)=>{l[p](t[e],a)&&(h.push({element:l,datasetIndex:f,index:m}),u=u||l.inRange(t.x,t.y,a))}),o&&!u?[]:h}var Ux={evaluateInteractionItems:Go,modes:{index(i,t,e,o){let a=Di(t,i),h=e.axis||"x",p=e.includeInvisible||!1,u=e.intersect?gc(i,a,h,o,p):mc(i,a,h,!1,o,p),l=[];return u.length?(i.getSortedVisibleDatasetMetas().forEach(f=>{let m=u[0].index,v=f.data[m];v&&!v.skip&&l.push({element:v,datasetIndex:f.index,index:m})}),l):[]},dataset(i,t,e,o){let a=Di(t,i),h=e.axis||"xy",p=e.includeInvisible||!1,u=e.intersect?gc(i,a,h,o,p):mc(i,a,h,!1,o,p);if(u.length>0){let l=u[0].datasetIndex,f=i.getDatasetMeta(l).data;u=[];for(let m=0;m<f.length;++m)u.push({element:f[m],datasetIndex:l,index:m})}return u},point(i,t,e,o){let a=Di(t,i),h=e.axis||"xy",p=e.includeInvisible||!1;return gc(i,a,h,o,p)},nearest(i,t,e,o){let a=Di(t,i),h=e.axis||"xy",p=e.includeInvisible||!1;return mc(i,a,h,e.intersect,o,p)},x(i,t,e,o){let a=Di(t,i);return gd(i,a,"x",e.intersect,o)},y(i,t,e,o){let a=Di(t,i);return gd(i,a,"y",e.intersect,o)}}},sp=["left","top","right","bottom"];function Lo(i,t){return i.filter(e=>e.pos===t)}function md(i,t){return i.filter(e=>sp.indexOf(e.pos)===-1&&e.box.axis===t)}function So(i,t){return i.sort((e,o)=>{let a=t?o:e,h=t?e:o;return a.weight===h.weight?a.index-h.index:a.weight-h.weight})}function Xx(i){let t=[],e,o,a,h,p,u;for(e=0,o=(i||[]).length;e<o;++e)a=i[e],{position:h,options:{stack:p,stackWeight:u=1}}=a,t.push({index:e,box:a,pos:h,horizontal:a.isHorizontal(),weight:a.weight,stack:p&&h+p,stackWeight:u});return t}function Gx(i){let t={};for(let e of i){let{stack:o,pos:a,stackWeight:h}=e;if(!o||!sp.includes(a))continue;let p=t[o]||(t[o]={count:0,placed:0,weight:0,size:0});p.count++,p.weight+=h}return t}function Kx(i,t){let e=Gx(i),{vBoxMaxWidth:o,hBoxMaxHeight:a}=t,h,p,u;for(h=0,p=i.length;h<p;++h){u=i[h];let{fullSize:l}=u.box,f=e[u.stack],m=f&&u.stackWeight/f.weight;u.horizontal?(u.width=m?m*o:l&&t.availableWidth,u.height=a):(u.width=o,u.height=m?m*a:l&&t.availableHeight)}return e}function Qx(i){let t=Xx(i),e=So(t.filter(f=>f.box.fullSize),!0),o=So(Lo(t,"left"),!0),a=So(Lo(t,"right")),h=So(Lo(t,"top"),!0),p=So(Lo(t,"bottom")),u=md(t,"x"),l=md(t,"y");return{fullSize:e,leftAndTop:o.concat(h),rightAndBottom:a.concat(l).concat(p).concat(u),chartArea:Lo(t,"chartArea"),vertical:o.concat(a).concat(l),horizontal:h.concat(p).concat(u)}}function bd(i,t,e,o){return Math.max(i[e],t[e])+Math.max(i[o],t[o])}function op(i,t){i.top=Math.max(i.top,t.top),i.left=Math.max(i.left,t.left),i.bottom=Math.max(i.bottom,t.bottom),i.right=Math.max(i.right,t.right)}function Zx(i,t,e,o){let{pos:a,box:h}=e,p=i.maxPadding;if(!Rt(a)){e.size&&(i[a]-=e.size);let v=o[e.stack]||{size:0,count:1};v.size=Math.max(v.size,e.horizontal?h.height:h.width),e.size=v.size/v.count,i[a]+=e.size}h.getPadding&&op(p,h.getPadding());let u=Math.max(0,t.outerWidth-bd(p,i,"left","right")),l=Math.max(0,t.outerHeight-bd(p,i,"top","bottom")),f=u!==i.w,m=l!==i.h;return i.w=u,i.h=l,e.horizontal?{same:f,other:m}:{same:m,other:f}}function Jx(i){let t=i.maxPadding;function e(o){let a=Math.max(t[o]-i[o],0);return i[o]+=a,a}i.y+=e("top"),i.x+=e("left"),e("right"),e("bottom")}function jx(i,t){let e=t.maxPadding;function o(a){let h={left:0,top:0,right:0,bottom:0};return a.forEach(p=>{h[p]=Math.max(t[p],e[p])}),h}return o(i?["left","right"]:["top","bottom"])}function Bo(i,t,e,o){let a=[],h,p,u,l,f,m;for(h=0,p=i.length,f=0;h<p;++h){u=i[h],l=u.box,l.update(u.width||t.w,u.height||t.h,jx(u.horizontal,t));let{same:v,other:y}=Zx(t,e,u,o);f|=v&&a.length,m=m||y,l.fullSize||a.push(u)}return f&&Bo(a,t,e,o)||m}function aa(i,t,e,o,a){i.top=e,i.left=t,i.right=t+o,i.bottom=e+a,i.width=o,i.height=a}function vd(i,t,e,o){let a=e.padding,{x:h,y:p}=t;for(let u of i){let l=u.box,f=o[u.stack]||{count:1,placed:0,weight:1},m=u.stackWeight/f.weight||1;if(u.horizontal){let v=t.w*m,y=f.size||l.height;Ze(f.start)&&(p=f.start),l.fullSize?aa(l,a.left,p,e.outerWidth-a.right-a.left,y):aa(l,t.left+f.placed,p,v,y),f.start=p,f.placed+=v,p=l.bottom}else{let v=t.h*m,y=f.size||l.width;Ze(f.start)&&(h=f.start),l.fullSize?aa(l,h,a.top,y,e.outerHeight-a.bottom-a.top):aa(l,h,t.top+f.placed,y,v),f.start=h,f.placed+=v,h=l.right}}t.x=h,t.y=p}var Ne={addBox(i,t){i.boxes||(i.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},i.boxes.push(t)},removeBox(i,t){let e=i.boxes?i.boxes.indexOf(t):-1;e!==-1&&i.boxes.splice(e,1)},configure(i,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(i,t,e,o){if(!i)return;let a=Re(i.options.layout.padding),h=Math.max(t-a.width,0),p=Math.max(e-a.height,0),u=Qx(i.boxes),l=u.vertical,f=u.horizontal;$t(i.boxes,C=>{typeof C.beforeLayout=="function"&&C.beforeLayout()});let m=l.reduce((C,M)=>M.box.options&&M.box.options.display===!1?C:C+1,0)||1,v=Object.freeze({outerWidth:t,outerHeight:e,padding:a,availableWidth:h,availableHeight:p,vBoxMaxWidth:h/2/m,hBoxMaxHeight:p/2}),y=Object.assign({},a);op(y,Re(o));let w=Object.assign({maxPadding:y,w:h,h:p,x:a.left,y:a.top},a),P=Kx(l.concat(f),v);Bo(u.fullSize,w,v,P),Bo(l,w,v,P),Bo(f,w,v,P)&&Bo(l,w,v,P),Jx(w),vd(u.leftAndTop,w,v,P),w.x+=w.w,w.y+=w.h,vd(u.rightAndBottom,w,v,P),i.chartArea={left:w.left,top:w.top,right:w.left+w.w,bottom:w.top+w.h,height:w.h,width:w.w},$t(u.chartArea,C=>{let M=C.box;Object.assign(M,i.chartArea),M.update(w.w,w.h,{left:0,top:0,right:0,bottom:0})})}},ma=class{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,o){}removeEventListener(t,e,o){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,o,a){return e=Math.max(0,e||t.width),o=o||t.height,{width:e,height:Math.max(0,a?Math.floor(e/a):o)}}isAttached(t){return!0}updateConfig(t){}},kc=class extends ma{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}},da="$chartjs",t_={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},xd=i=>i===null||i==="";function e_(i,t){let e=i.style,o=i.getAttribute("height"),a=i.getAttribute("width");if(i[da]={initial:{height:o,width:a,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",xd(a)){let h=ac(i,"width");h!==void 0&&(i.width=h)}if(xd(o))if(i.style.height==="")i.height=i.width/(t||2);else{let h=ac(i,"height");h!==void 0&&(i.height=h)}return i}var rp=td?{passive:!0}:!1;function n_(i,t,e){i.addEventListener(t,e,rp)}function i_(i,t,e){i.canvas.removeEventListener(t,e,rp)}function s_(i,t){let e=t_[i.type]||i.type,{x:o,y:a}=Di(i,t);return{type:e,chart:t,native:i,x:o!==void 0?o:null,y:a!==void 0?a:null}}function ba(i,t){for(let e of i)if(e===t||e.contains(t))return!0}function o_(i,t,e){let o=i.canvas,a=new MutationObserver(h=>{let p=!1;for(let u of h)p=p||ba(u.addedNodes,o),p=p&&!ba(u.removedNodes,o);p&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}function r_(i,t,e){let o=i.canvas,a=new MutationObserver(h=>{let p=!1;for(let u of h)p=p||ba(u.removedNodes,o),p=p&&!ba(u.addedNodes,o);p&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}var qo=new Map,_d=0;function ap(){let i=window.devicePixelRatio;i!==_d&&(_d=i,qo.forEach((t,e)=>{e.currentDevicePixelRatio!==i&&t()}))}function a_(i,t){qo.size||window.addEventListener("resize",ap),qo.set(i,t)}function l_(i){qo.delete(i),qo.size||window.removeEventListener("resize",ap)}function c_(i,t,e){let o=i.canvas,a=o&&oa(o);if(!a)return;let h=Gl((u,l)=>{let f=a.clientWidth;e(u,l),f<a.clientWidth&&e()},window),p=new ResizeObserver(u=>{let l=u[0],f=l.contentRect.width,m=l.contentRect.height;f===0&&m===0||h(f,m)});return p.observe(a),a_(i,h),p}function bc(i,t,e){e&&e.disconnect(),t==="resize"&&l_(i)}function u_(i,t,e){let o=i.canvas,a=Gl(h=>{i.ctx!==null&&e(s_(h,i))},i);return n_(o,t,a),a}var Pc=class extends ma{acquireContext(t,e){let o=t&&t.getContext&&t.getContext("2d");return o&&o.canvas===t?(e_(t,e),o):null}releaseContext(t){let e=t.canvas;if(!e[da])return!1;let o=e[da].initial;["height","width"].forEach(h=>{let p=o[h];Bt(p)?e.removeAttribute(h):e.setAttribute(h,p)});let a=o.style||{};return Object.keys(a).forEach(h=>{e.style[h]=a[h]}),e.width=e.width,delete e[da],!0}addEventListener(t,e,o){this.removeEventListener(t,e);let a=t.$proxies||(t.$proxies={}),p={attach:o_,detach:r_,resize:c_}[e]||u_;a[e]=p(t,e,o)}removeEventListener(t,e){let o=t.$proxies||(t.$proxies={}),a=o[e];if(!a)return;({attach:bc,detach:bc,resize:bc}[e]||i_)(t,e,a),o[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,o,a){return jf(t,e,o,a)}isAttached(t){let e=oa(t);return!!(e&&e.isConnected)}};function h_(i){return!oc()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?kc:Pc}var je=class{active=!1;tooltipPosition(t){let{x:e,y:o}=this.getProps(["x","y"],t);return{x:e,y:o}}hasValue(){return Qi(this.x)&&Qi(this.y)}getProps(t,e){let o=this.$animations;if(!e||!o)return this;let a={};return t.forEach(h=>{a[h]=o[h]&&o[h].active()?o[h]._to:this[h]}),a}};bt(je,"defaults",{}),bt(je,"defaultRoutes");function f_(i,t){let e=i.options.ticks,o=d_(i),a=Math.min(e.maxTicksLimit||o,o),h=e.major.enabled?g_(t):[],p=h.length,u=h[0],l=h[p-1],f=[];if(p>a)return m_(t,f,h,p/a),f;let m=p_(h,t,a);if(p>0){let v,y,w=p>1?Math.round((l-u)/(p-1)):null;for(la(t,f,m,Bt(w)?0:u-w,u),v=0,y=p-1;v<y;v++)la(t,f,m,h[v],h[v+1]);return la(t,f,m,l,Bt(w)?t.length:l+w),f}return la(t,f,m),f}function d_(i){let t=i.options.offset,e=i._tickSize(),o=i._length/e+(t?0:1),a=i._maxLength/e;return Math.floor(Math.min(o,a))}function p_(i,t,e){let o=b_(i),a=t.length/e;if(!o)return Math.max(a,1);let h=Sf(o);for(let p=0,u=h.length-1;p<u;p++){let l=h[p];if(l>a)return l}return Math.max(a,1)}function g_(i){let t=[],e,o;for(e=0,o=i.length;e<o;e++)i[e].major&&t.push(e);return t}function m_(i,t,e,o){let a=0,h=e[0],p;for(o=Math.ceil(o),p=0;p<i.length;p++)p===h&&(t.push(i[p]),a++,h=e[a*o])}function la(i,t,e,o,a){let h=Mt(o,0),p=Math.min(Mt(a,i.length),i.length),u=0,l,f,m;for(e=Math.ceil(e),a&&(l=a-o,e=l/Math.floor(l/e)),m=h;m<0;)u++,m=Math.round(h+u*e);for(f=Math.max(h,0);f<p;f++)f===m&&(t.push(i[f]),u++,m=Math.round(h+u*e))}function b_(i){let t=i.length,e,o;if(t<2)return!1;for(o=i[0],e=1;e<t;++e)if(i[e]-i[e-1]!==o)return!1;return o}var v_=i=>i==="left"?"right":i==="right"?"left":i,yd=(i,t,e)=>t==="top"||t==="left"?i[t]+e:i[t]-e,wd=(i,t)=>Math.min(t||i,i);function kd(i,t){let e=[],o=i.length/t,a=i.length,h=0;for(;h<a;h+=o)e.push(i[Math.floor(h)]);return e}function x_(i,t,e){let o=i.ticks.length,a=Math.min(t,o-1),h=i._startPixel,p=i._endPixel,u=1e-6,l=i.getPixelForTick(a),f;if(!(e&&(o===1?f=Math.max(l-h,p-l):t===0?f=(i.getPixelForTick(1)-l)/2:f=(l-i.getPixelForTick(a-1))/2,l+=a<t?f:-f,l<h-u||l>p+u)))return l}function __(i,t){$t(i,e=>{let o=e.gc,a=o.length/2,h;if(a>t){for(h=0;h<a;++h)delete e.data[o[h]];o.splice(0,a)}})}function Ro(i){return i.drawTicks?i.tickLength:0}function Pd(i,t){if(!i.display)return 0;let e=_e(i.font,t),o=Re(i.padding);return(Jt(i.text)?i.text.length:1)*e.lineHeight+o.height}function y_(i,t){return Xn(i,{scale:t,type:"scale"})}function w_(i,t,e){return Xn(i,{tick:e,index:t,type:"tick"})}function k_(i,t,e){let o=ta(i);return(e&&t!=="right"||!e&&t==="right")&&(o=v_(o)),o}function P_(i,t,e,o){let{top:a,left:h,bottom:p,right:u,chart:l}=i,{chartArea:f,scales:m}=l,v=0,y,w,P,C=p-a,M=u-h;if(i.isHorizontal()){if(w=Se(o,h,u),Rt(e)){let O=Object.keys(e)[0],A=e[O];P=m[O].getPixelForValue(A)+C-t}else e==="center"?P=(f.bottom+f.top)/2+C-t:P=yd(i,e,t);y=u-h}else{if(Rt(e)){let O=Object.keys(e)[0],A=e[O];w=m[O].getPixelForValue(A)-M+t}else e==="center"?w=(f.left+f.right)/2-M+t:w=yd(i,e,t);P=Se(o,p,a),v=e==="left"?-se:se}return{titleX:w,titleY:P,maxWidth:y,rotation:v}}var Zn=class extends je{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:o,_suggestedMax:a}=this;return t=Xe(t,Number.POSITIVE_INFINITY),e=Xe(e,Number.NEGATIVE_INFINITY),o=Xe(o,Number.POSITIVE_INFINITY),a=Xe(a,Number.NEGATIVE_INFINITY),{min:Xe(t,o),max:Xe(e,a),minDefined:oe(t),maxDefined:oe(e)}}getMinMax(t){let{min:e,max:o,minDefined:a,maxDefined:h}=this.getUserBounds(),p;if(a&&h)return{min:e,max:o};let u=this.getMatchingVisibleMetas();for(let l=0,f=u.length;l<f;++l)p=u[l].controller.getMinMax(this,t),a||(e=Math.min(e,p.min)),h||(o=Math.max(o,p.max));return e=h&&e>o?o:e,o=a&&e>o?e:o,{min:Xe(e,Xe(o,e)),max:Xe(o,Xe(e,o))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Gt(this.options.beforeUpdate,[this])}update(t,e,o){let{beginAtZero:a,grace:h,ticks:p}=this.options,u=p.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=o=Object.assign({left:0,right:0,top:0,bottom:0},o),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+o.left+o.right:this.height+o.top+o.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Xf(this,h,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=u<this.ticks.length;this._convertTicksToLabels(l?kd(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),p.display&&(p.autoSkip||p.source==="auto")&&(this.ticks=f_(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,o;this.isHorizontal()?(e=this.left,o=this.right):(e=this.top,o=this.bottom,t=!t),this._startPixel=e,this._endPixel=o,this._reversePixels=t,this._length=o-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Gt(this.options.afterUpdate,[this])}beforeSetDimensions(){Gt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Gt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Gt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Gt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){let e=this.options.ticks,o,a,h;for(o=0,a=t.length;o<a;o++)h=t[o],h.label=Gt(e.callback,[h.value,o,t],this)}afterTickToLabelConversion(){Gt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Gt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let t=this.options,e=t.ticks,o=wd(this.ticks.length,t.ticks.maxTicksLimit),a=e.minRotation||0,h=e.maxRotation,p=a,u,l,f;if(!this._isVisible()||!e.display||a>=h||o<=1||!this.isHorizontal()){this.labelRotation=a;return}let m=this._getLabelSizes(),v=m.widest.width,y=m.highest.height,w=Pe(this.chart.width-v,0,this.maxWidth);u=t.offset?this.maxWidth/o:w/(o-1),v+6>u&&(u=w/(o-(t.offset?.5:1)),l=this.maxHeight-Ro(t.grid)-e.padding-Pd(t.title,this.chart.options.font),f=Math.sqrt(v*v+y*y),p=Jr(Math.min(Math.asin(Pe((m.highest.height+6)/u,-1,1)),Math.asin(Pe(l/f,-1,1))-Math.asin(Pe(y/f,-1,1)))),p=Math.max(a,Math.min(h,p))),this.labelRotation=p}afterCalculateLabelRotation(){Gt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Gt(this.options.beforeFit,[this])}fit(){let t={width:0,height:0},{chart:e,options:{ticks:o,title:a,grid:h}}=this,p=this._isVisible(),u=this.isHorizontal();if(p){let l=Pd(a,e.options.font);if(u?(t.width=this.maxWidth,t.height=Ro(h)+l):(t.height=this.maxHeight,t.width=Ro(h)+l),o.display&&this.ticks.length){let{first:f,last:m,widest:v,highest:y}=this._getLabelSizes(),w=o.padding*2,P=ln(this.labelRotation),C=Math.cos(P),M=Math.sin(P);if(u){let O=o.mirror?0:M*v.width+C*y.height;t.height=Math.min(this.maxHeight,t.height+O+w)}else{let O=o.mirror?0:C*v.width+M*y.height;t.width=Math.min(this.maxWidth,t.width+O+w)}this._calculatePadding(f,m,M,C)}}this._handleMargins(),u?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,o,a){let{ticks:{align:h,padding:p},position:u}=this.options,l=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){let m=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1),y=0,w=0;l?f?(y=a*t.width,w=o*e.height):(y=o*t.height,w=a*e.width):h==="start"?w=e.width:h==="end"?y=t.width:h!=="inner"&&(y=t.width/2,w=e.width/2),this.paddingLeft=Math.max((y-m+p)*this.width/(this.width-m),0),this.paddingRight=Math.max((w-v+p)*this.width/(this.width-v),0)}else{let m=e.height/2,v=t.height/2;h==="start"?(m=0,v=t.height):h==="end"&&(m=e.height,v=0),this.paddingTop=m+p,this.paddingBottom=v+p}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Gt(this.options.afterFit,[this])}isHorizontal(){let{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,o;for(e=0,o=t.length;e<o;e++)Bt(t[e].label)&&(t.splice(e,1),o--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){let e=this.options.ticks.sampleSize,o=this.ticks;e<o.length&&(o=kd(o,e)),this._labelSizes=t=this._computeLabelSizes(o,o.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,o){let{ctx:a,_longestTextCache:h}=this,p=[],u=[],l=Math.floor(e/wd(e,o)),f=0,m=0,v,y,w,P,C,M,O,A,L,E,F;for(v=0;v<e;v+=l){if(P=t[v].label,C=this._resolveTickFontOptions(v),a.font=M=C.string,O=h[M]=h[M]||{data:{},gc:[]},A=C.lineHeight,L=E=0,!Bt(P)&&!Jt(P))L=Mo(a,O.data,O.gc,L,P),E=A;else if(Jt(P))for(y=0,w=P.length;y<w;++y)F=P[y],!Bt(F)&&!Jt(F)&&(L=Mo(a,O.data,O.gc,L,F),E+=A);p.push(L),u.push(E),f=Math.max(L,f),m=Math.max(E,m)}__(h,e);let N=p.indexOf(f),H=u.indexOf(m),W=G=>({width:p[G]||0,height:u[G]||0});return{first:W(0),last:W(e-1),widest:W(N),highest:W(H),widths:p,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);let e=this._startPixel+t*this._length;return If(this._alignToPixels?Ti(this.chart,e,0):e)}getDecimalForPixel(t){let e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){let e=this.ticks||[];if(t>=0&&t<e.length){let o=e[t];return o.$context||(o.$context=w_(this.getContext(),t,o))}return this.$context||(this.$context=y_(this.chart.getContext(),this))}_tickSize(){let t=this.options.ticks,e=ln(this.labelRotation),o=Math.abs(Math.cos(e)),a=Math.abs(Math.sin(e)),h=this._getLabelSizes(),p=t.autoSkipPadding||0,u=h?h.widest.width+p:0,l=h?h.highest.height+p:0;return this.isHorizontal()?l*o>u*a?u/o:l/a:l*a<u*o?l/o:u/a}_isVisible(){let t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){let e=this.axis,o=this.chart,a=this.options,{grid:h,position:p,border:u}=a,l=h.offset,f=this.isHorizontal(),v=this.ticks.length+(l?1:0),y=Ro(h),w=[],P=u.setContext(this.getContext()),C=P.display?P.width:0,M=C/2,O=function(mt){return Ti(o,mt,C)},A,L,E,F,N,H,W,G,et,nt,it,J;if(p==="top")A=O(this.bottom),H=this.bottom-y,G=A-M,nt=O(t.top)+M,J=t.bottom;else if(p==="bottom")A=O(this.top),nt=t.top,J=O(t.bottom)-M,H=A+M,G=this.top+y;else if(p==="left")A=O(this.right),N=this.right-y,W=A-M,et=O(t.left)+M,it=t.right;else if(p==="right")A=O(this.left),et=t.left,it=O(t.right)-M,N=A+M,W=this.left+y;else if(e==="x"){if(p==="center")A=O((t.top+t.bottom)/2+.5);else if(Rt(p)){let mt=Object.keys(p)[0],vt=p[mt];A=O(this.chart.scales[mt].getPixelForValue(vt))}nt=t.top,J=t.bottom,H=A+M,G=H+y}else if(e==="y"){if(p==="center")A=O((t.left+t.right)/2);else if(Rt(p)){let mt=Object.keys(p)[0],vt=p[mt];A=O(this.chart.scales[mt].getPixelForValue(vt))}N=A-M,W=N-y,et=t.left,it=t.right}let at=Mt(a.ticks.maxTicksLimit,v),ct=Math.max(1,Math.ceil(v/at));for(L=0;L<v;L+=ct){let mt=this.getContext(L),vt=h.setContext(mt),gt=u.setContext(mt),kt=vt.lineWidth,Lt=vt.color,Ct=gt.dash||[],At=gt.dashOffset,Kt=vt.tickWidth,Qt=vt.tickColor,Dt=vt.tickBorderDash||[],Wt=vt.tickBorderDashOffset;E=x_(this,L,l),E!==void 0&&(F=Ti(o,E,kt),f?N=W=et=it=F:H=G=nt=J=F,w.push({tx1:N,ty1:H,tx2:W,ty2:G,x1:et,y1:nt,x2:it,y2:J,width:kt,color:Lt,borderDash:Ct,borderDashOffset:At,tickWidth:Kt,tickColor:Qt,tickBorderDash:Dt,tickBorderDashOffset:Wt}))}return this._ticksLength=v,this._borderValue=A,w}_computeLabelItems(t){let e=this.axis,o=this.options,{position:a,ticks:h}=o,p=this.isHorizontal(),u=this.ticks,{align:l,crossAlign:f,padding:m,mirror:v}=h,y=Ro(o.grid),w=y+m,P=v?-m:w,C=-ln(this.labelRotation),M=[],O,A,L,E,F,N,H,W,G,et,nt,it,J="middle";if(a==="top")N=this.bottom-P,H=this._getXAxisLabelAlignment();else if(a==="bottom")N=this.top+P,H=this._getXAxisLabelAlignment();else if(a==="left"){let ct=this._getYAxisLabelAlignment(y);H=ct.textAlign,F=ct.x}else if(a==="right"){let ct=this._getYAxisLabelAlignment(y);H=ct.textAlign,F=ct.x}else if(e==="x"){if(a==="center")N=(t.top+t.bottom)/2+w;else if(Rt(a)){let ct=Object.keys(a)[0],mt=a[ct];N=this.chart.scales[ct].getPixelForValue(mt)+w}H=this._getXAxisLabelAlignment()}else if(e==="y"){if(a==="center")F=(t.left+t.right)/2-w;else if(Rt(a)){let ct=Object.keys(a)[0],mt=a[ct];F=this.chart.scales[ct].getPixelForValue(mt)}H=this._getYAxisLabelAlignment(y).textAlign}e==="y"&&(l==="start"?J="top":l==="end"&&(J="bottom"));let at=this._getLabelSizes();for(O=0,A=u.length;O<A;++O){L=u[O],E=L.label;let ct=h.setContext(this.getContext(O));W=this.getPixelForTick(O)+h.labelOffset,G=this._resolveTickFontOptions(O),et=G.lineHeight,nt=Jt(E)?E.length:1;let mt=nt/2,vt=ct.color,gt=ct.textStrokeColor,kt=ct.textStrokeWidth,Lt=H;p?(F=W,H==="inner"&&(O===A-1?Lt=this.options.reverse?"left":"right":O===0?Lt=this.options.reverse?"right":"left":Lt="center"),a==="top"?f==="near"||C!==0?it=-nt*et+et/2:f==="center"?it=-at.highest.height/2-mt*et+et:it=-at.highest.height+et/2:f==="near"||C!==0?it=et/2:f==="center"?it=at.highest.height/2-mt*et:it=at.highest.height-nt*et,v&&(it*=-1),C!==0&&!ct.showLabelBackdrop&&(F+=et/2*Math.sin(C))):(N=W,it=(1-nt)*et/2);let Ct;if(ct.showLabelBackdrop){let At=Re(ct.backdropPadding),Kt=at.heights[O],Qt=at.widths[O],Dt=it-At.top,Wt=0-At.left;switch(J){case"middle":Dt-=Kt/2;break;case"bottom":Dt-=Kt;break}switch(H){case"center":Wt-=Qt/2;break;case"right":Wt-=Qt;break}Ct={left:Wt,top:Dt,width:Qt+At.width,height:Kt+At.height,color:ct.backdropColor}}M.push({label:E,font:G,textOffset:it,options:{rotation:C,color:vt,strokeColor:gt,strokeWidth:kt,textAlign:Lt,textBaseline:J,translation:[F,N],backdrop:Ct}})}return M}_getXAxisLabelAlignment(){let{position:t,ticks:e}=this.options;if(-ln(this.labelRotation))return t==="top"?"left":"right";let a="center";return e.align==="start"?a="left":e.align==="end"?a="right":e.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){let{position:e,ticks:{crossAlign:o,mirror:a,padding:h}}=this.options,p=this._getLabelSizes(),u=t+h,l=p.widest.width,f,m;return e==="left"?a?(m=this.right+h,o==="near"?f="left":o==="center"?(f="center",m+=l/2):(f="right",m+=l)):(m=this.right-u,o==="near"?f="right":o==="center"?(f="center",m-=l/2):(f="left",m=this.left)):e==="right"?a?(m=this.left+h,o==="near"?f="right":o==="center"?(f="center",m-=l/2):(f="left",m-=l)):(m=this.left+u,o==="near"?f="left":o==="center"?(f="center",m+=l/2):(f="right",m=this.right)):f="right",{textAlign:f,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;let t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){let{ctx:t,options:{backgroundColor:e},left:o,top:a,width:h,height:p}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(o,a,h,p),t.restore())}getLineWidthForValue(t){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let a=this.ticks.findIndex(h=>h.value===t);return a>=0?e.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){let e=this.options.grid,o=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),h,p,u=(l,f,m)=>{!m.width||!m.color||(o.save(),o.lineWidth=m.width,o.strokeStyle=m.color,o.setLineDash(m.borderDash||[]),o.lineDashOffset=m.borderDashOffset,o.beginPath(),o.moveTo(l.x,l.y),o.lineTo(f.x,f.y),o.stroke(),o.restore())};if(e.display)for(h=0,p=a.length;h<p;++h){let l=a[h];e.drawOnChartArea&&u({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&u({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:t,ctx:e,options:{border:o,grid:a}}=this,h=o.setContext(this.getContext()),p=o.display?h.width:0;if(!p)return;let u=a.setContext(this.getContext(0)).lineWidth,l=this._borderValue,f,m,v,y;this.isHorizontal()?(f=Ti(t,this.left,p)-p/2,m=Ti(t,this.right,u)+u/2,v=y=l):(v=Ti(t,this.top,p)-p/2,y=Ti(t,this.bottom,u)+u/2,f=m=l),e.save(),e.lineWidth=h.width,e.strokeStyle=h.color,e.beginPath(),e.moveTo(f,v),e.lineTo(m,y),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;let o=this.ctx,a=this._computeLabelArea();a&&Ao(o,a);let h=this.getLabelItems(t);for(let p of h){let u=p.options,l=p.font,f=p.label,m=p.textOffset;Ai(o,f,0,m,l,u)}a&&Eo(o)}drawTitle(){let{ctx:t,options:{position:e,title:o,reverse:a}}=this;if(!o.display)return;let h=_e(o.font),p=Re(o.padding),u=o.align,l=h.lineHeight/2;e==="bottom"||e==="center"||Rt(e)?(l+=p.bottom,Jt(o.text)&&(l+=h.lineHeight*(o.text.length-1))):l+=p.top;let{titleX:f,titleY:m,maxWidth:v,rotation:y}=P_(this,l,e,u);Ai(t,o.text,0,0,h,{color:o.color,maxWidth:v,rotation:y,textAlign:k_(u,e,a),textBaseline:"middle",translation:[f,m]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){let t=this.options,e=t.ticks&&t.ticks.z||0,o=Mt(t.grid&&t.grid.z,-1),a=Mt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Zn.prototype.draw?[{z:e,draw:h=>{this.draw(h)}}]:[{z:o,draw:h=>{this.drawBackground(),this.drawGrid(h),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:e,draw:h=>{this.drawLabels(h)}}]}getMatchingVisibleMetas(t){let e=this.chart.getSortedVisibleDatasetMetas(),o=this.axis+"AxisID",a=[],h,p;for(h=0,p=e.length;h<p;++h){let u=e[h];u[o]===this.id&&(!t||u.type===t)&&a.push(u)}return a}_resolveTickFontOptions(t){let e=this.options.ticks.setContext(this.getContext(t));return _e(e.font)}_maxDigits(){let t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}},Us=class{constructor(t,e,o){this.type=t,this.scope=e,this.override=o,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){let e=Object.getPrototypeOf(t),o;O_(e)&&(o=this.register(e));let a=this.items,h=t.id,p=this.scope+"."+h;if(!h)throw new Error("class does not have id: "+t);return h in a||(a[h]=t,C_(t,p,o),this.override&&ce.override(t.id,t.overrides)),p}get(t){return this.items[t]}unregister(t){let e=this.items,o=t.id,a=this.scope;o in e&&delete e[o],a&&o in ce[a]&&(delete ce[a][o],this.override&&delete Oi[o])}};function C_(i,t,e){let o=Ts(Object.create(null),[e?ce.get(e):{},ce.get(t),i.defaults]);ce.set(t,o),i.defaultRoutes&&M_(t,i.defaultRoutes),i.descriptors&&ce.describe(t,i.descriptors)}function M_(i,t){Object.keys(t).forEach(e=>{let o=e.split("."),a=o.pop(),h=[i].concat(o).join("."),p=t[e].split("."),u=p.pop(),l=p.join(".");ce.route(h,a,l,u)})}function O_(i){return"id"in i&&"defaults"in i}var Cc=class{constructor(){this.controllers=new Us(Je,"datasets",!0),this.elements=new Us(je,"elements"),this.plugins=new Us(Object,"plugins"),this.scales=new Us(Zn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,o){[...e].forEach(a=>{let h=o||this._getRegistryForType(a);o||h.isForType(a)||h===this.plugins&&a.id?this._exec(t,h,a):$t(a,p=>{let u=o||this._getRegistryForType(p);this._exec(t,u,p)})})}_exec(t,e,o){let a=Zr(t);Gt(o["before"+a],[],o),e[t](o),Gt(o["after"+a],[],o)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){let o=this._typedRegistries[e];if(o.isForType(t))return o}return this.plugins}_get(t,e,o){let a=e.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+o+".");return a}},Sn=new Cc,Mc=class{constructor(){this._init=[]}notify(t,e,o,a){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));let h=a?this._descriptors(t).filter(a):this._descriptors(t),p=this._notify(h,t,e,o);return e==="afterDestroy"&&(this._notify(h,t,"stop"),this._notify(this._init,t,"uninstall")),p}_notify(t,e,o,a){a=a||{};for(let h of t){let p=h.plugin,u=p[o],l=[e,a,h.options];if(Gt(u,l,p)===!1&&a.cancelable)return!1}return!0}invalidate(){Bt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){let o=t&&t.config,a=Mt(o.options&&o.options.plugins,{}),h=T_(o);return a===!1&&!e?[]:E_(t,h,a,e)}_notifyStateChanges(t){let e=this._oldCache||[],o=this._cache,a=(h,p)=>h.filter(u=>!p.some(l=>u.plugin.id===l.plugin.id));this._notify(a(e,o),t,"stop"),this._notify(a(o,e),t,"start")}};function T_(i){let t={},e=[],o=Object.keys(Sn.plugins.items);for(let h=0;h<o.length;h++)e.push(Sn.getPlugin(o[h]));let a=i.plugins||[];for(let h=0;h<a.length;h++){let p=a[h];e.indexOf(p)===-1&&(e.push(p),t[p.id]=!0)}return{plugins:e,localIds:t}}function A_(i,t){return!t&&i===!1?null:i===!0?{}:i}function E_(i,{plugins:t,localIds:e},o,a){let h=[],p=i.getContext();for(let u of t){let l=u.id,f=A_(o[l],a);f!==null&&h.push({plugin:u,options:D_(i.config,{plugin:u,local:e[l]},f,p)})}return h}function D_(i,{plugin:t,local:e},o,a){let h=i.pluginScopeKeys(t),p=i.getOptionScopes(o,h);return e&&t.defaults&&p.push(t.defaults),i.createResolver(p,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Oc(i,t){let e=ce.datasets[i]||{};return((t.datasets||{})[i]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function L_(i,t){let e=i;return i==="_index_"?e=t:i==="_value_"&&(e=t==="x"?"y":"x"),e}function S_(i,t){return i===t?"_index_":"_value_"}function R_(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function va(i,t){if(i==="x"||i==="y"||i==="r"||(i=t.axis||R_(t.position)||i.length>1&&va(i[0].toLowerCase(),t),i))return i;throw new Error(`Cannot determine type of '${name}' axis. Please provide 'axis' or 'position' option.`)}function I_(i,t){let e=Oi[i.type]||{scales:{}},o=t.scales||{},a=Oc(i.type,t),h=Object.create(null);return Object.keys(o).forEach(p=>{let u=o[p];if(!Rt(u))return console.error(`Invalid scale configuration for scale: ${p}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${p}`);let l=va(p,u),f=S_(l,a),m=e.scales||{};h[p]=Ds(Object.create(null),[{axis:l},u,m[l],m[f]])}),i.data.datasets.forEach(p=>{let u=p.type||i.type,l=p.indexAxis||Oc(u,t),m=(Oi[u]||{}).scales||{};Object.keys(m).forEach(v=>{let y=L_(v,l),w=p[y+"AxisID"]||y;h[w]=h[w]||Object.create(null),Ds(h[w],[{axis:y},o[w],m[v]])})}),Object.keys(h).forEach(p=>{let u=h[p];Ds(u,[ce.scales[u.type],ce.scale])}),h}function lp(i){let t=i.options||(i.options={});t.plugins=Mt(t.plugins,{}),t.scales=I_(i,t)}function cp(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function F_(i){return i=i||{},i.data=cp(i.data),lp(i),i}var Cd=new Map,up=new Set;function ca(i,t){let e=Cd.get(i);return e||(e=t(),Cd.set(i,e),up.add(e)),e}var Io=(i,t,e)=>{let o=Un(t,e);o!==void 0&&i.add(o)},Tc=class{constructor(t){this._config=F_(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=cp(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){let t=this._config;this.clearCache(),lp(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return ca(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return ca(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return ca(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){let e=t.id,o=this.type;return ca(`${o}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){let o=this._scopeCache,a=o.get(t);return(!a||e)&&(a=new Map,o.set(t,a)),a}getOptionScopes(t,e,o){let{options:a,type:h}=this,p=this._cachedScopes(t,o),u=p.get(e);if(u)return u;let l=new Set;e.forEach(m=>{t&&(l.add(t),m.forEach(v=>Io(l,t,v))),m.forEach(v=>Io(l,a,v)),m.forEach(v=>Io(l,Oi[h]||{},v)),m.forEach(v=>Io(l,ce,v)),m.forEach(v=>Io(l,ea,v))});let f=Array.from(l);return f.length===0&&f.push(Object.create(null)),up.has(e)&&p.set(e,f),f}chartOptionScopes(){let{options:t,type:e}=this;return[t,Oi[e]||{},ce.datasets[e]||{},{type:e},ce,ea]}resolveNamedOptions(t,e,o,a=[""]){let h={$shared:!0},{resolver:p,subPrefixes:u}=Md(this._resolverCache,t,a),l=p;if(z_(p,e)){h.$shared=!1,o=Yn(o)?o():o;let f=this.createResolver(t,o,u);l=Ki(p,o,f)}for(let f of e)h[f]=l[f];return h}createResolver(t,e,o=[""],a){let{resolver:h}=Md(this._resolverCache,t,o);return Rt(e)?Ki(h,e,void 0,a):h}};function Md(i,t,e){let o=i.get(t);o||(o=new Map,i.set(t,o));let a=e.join(),h=o.get(a);return h||(h={resolver:sa(t,e),subPrefixes:e.filter(u=>!u.toLowerCase().includes("hover"))},o.set(a,h)),h}var B_=i=>Rt(i)&&Object.getOwnPropertyNames(i).reduce((t,e)=>t||Yn(i[e]),!1);function z_(i,t){let{isScriptable:e,isIndexable:o}=ec(i);for(let a of t){let h=e(a),p=o(a),u=(p||h)&&i[a];if(h&&(Yn(u)||B_(u))||p&&Jt(u))return!0}return!1}var N_="4.2.1",V_=["top","bottom","left","right","chartArea"];function Od(i,t){return i==="top"||i==="bottom"||V_.indexOf(i)===-1&&t==="x"}function Td(i,t){return function(e,o){return e[i]===o[i]?e[t]-o[t]:e[i]-o[i]}}function Ad(i){let t=i.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Gt(e&&e.onComplete,[i],t)}function H_(i){let t=i.chart,e=t.options.animation;Gt(e&&e.onProgress,[i],t)}function hp(i){return oc()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}var pa={},Ed=i=>{let t=hp(i);return Object.values(pa).filter(e=>e.canvas===t).pop()};function W_(i,t,e){let o=Object.keys(i);for(let a of o){let h=+a;if(h>=t){let p=i[a];delete i[a],(e>0||h>t)&&(i[h+e]=p)}}}function $_(i,t,e,o){return!e||i.type==="mouseout"?null:o?t:i}function Y_(i){let{xScale:t,yScale:e}=i;if(t&&e)return{left:t.left,right:t.right,top:e.top,bottom:e.bottom}}var cn=class{static register(...t){Sn.add(...t),Dd()}static unregister(...t){Sn.remove(...t),Dd()}constructor(t,e){let o=this.config=new Tc(e),a=hp(t),h=Ed(a);if(h)throw new Error("Canvas is already in use. Chart with ID '"+h.id+"' must be destroyed before the canvas with ID '"+h.canvas.id+"' can be reused.");let p=o.createResolver(o.chartOptionScopes(),this.getContext());this.platform=new(o.platform||h_(a)),this.platform.updateConfig(o);let u=this.platform.acquireContext(a,p.aspectRatio),l=u&&u.canvas,f=l&&l.height,m=l&&l.width;if(this.id=Af(),this.ctx=u,this.canvas=l,this.width=m,this.height=f,this._options=p,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Mc,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Vf(v=>this.update(v),p.resizeDelay||0),this._dataChanges=[],pa[this.id]=this,!u||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Gn.listen(this,"complete",Ad),Gn.listen(this,"progress",H_),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:t,maintainAspectRatio:e},width:o,height:a,_aspectRatio:h}=this;return Bt(t)?e&&h?h:a?o/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Sn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():rc(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Jl(this.canvas,this.ctx),this}stop(){return Gn.stop(this),this}resize(t,e){Gn.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){let o=this.options,a=this.canvas,h=o.maintainAspectRatio&&this.aspectRatio,p=this.platform.getMaximumSize(a,t,e,h),u=o.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=p.width,this.height=p.height,this._aspectRatio=this.aspectRatio,rc(this,u,!0)&&(this.notifyPlugins("resize",{size:p}),Gt(o.onResize,[this,p],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){let e=this.options.scales||{};$t(e,(o,a)=>{o.id=a})}buildOrUpdateScales(){let t=this.options,e=t.scales,o=this.scales,a=Object.keys(o).reduce((p,u)=>(p[u]=!1,p),{}),h=[];e&&(h=h.concat(Object.keys(e).map(p=>{let u=e[p],l=va(p,u),f=l==="r",m=l==="x";return{options:u,dposition:f?"chartArea":m?"bottom":"left",dtype:f?"radialLinear":m?"category":"linear"}}))),$t(h,p=>{let u=p.options,l=u.id,f=va(l,u),m=Mt(u.type,p.dtype);(u.position===void 0||Od(u.position,f)!==Od(p.dposition))&&(u.position=p.dposition),a[l]=!0;let v=null;if(l in o&&o[l].type===m)v=o[l];else{let y=Sn.getScale(m);v=new y({id:l,type:m,ctx:this.ctx,chart:this}),o[v.id]=v}v.init(u,t)}),$t(a,(p,u)=>{p||delete o[u]}),$t(o,p=>{Ne.configure(this,p,p.options),Ne.addBox(this,p)})}_updateMetasets(){let t=this._metasets,e=this.data.datasets.length,o=t.length;if(t.sort((a,h)=>a.index-h.index),o>e){for(let a=e;a<o;++a)this._destroyDatasetMeta(a);t.splice(e,o-e)}this._sortedMetasets=t.slice(0).sort(Td("order","index"))}_removeUnreferencedMetasets(){let{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((o,a)=>{e.filter(h=>h===o._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){let t=[],e=this.data.datasets,o,a;for(this._removeUnreferencedMetasets(),o=0,a=e.length;o<a;o++){let h=e[o],p=this.getDatasetMeta(o),u=h.type||this.config.type;if(p.type&&p.type!==u&&(this._destroyDatasetMeta(o),p=this.getDatasetMeta(o)),p.type=u,p.indexAxis=h.indexAxis||Oc(u,this.options),p.order=h.order||0,p.index=o,p.label=""+h.label,p.visible=this.isDatasetVisible(o),p.controller)p.controller.updateIndex(o),p.controller.linkScales();else{let l=Sn.getController(u),{datasetElementType:f,dataElementType:m}=ce.datasets[u];Object.assign(l,{dataElementType:Sn.getElement(m),datasetElementType:f&&Sn.getElement(f)}),p.controller=new l(this,o),t.push(p.controller)}}return this._updateMetasets(),t}_resetElements(){$t(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){let e=this.config;e.update();let o=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!o.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;let h=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let p=0;for(let f=0,m=this.data.datasets.length;f<m;f++){let{controller:v}=this.getDatasetMeta(f),y=!a&&h.indexOf(v)===-1;v.buildOrUpdateElements(y),p=Math.max(+v.getMaxOverflow(),p)}p=this._minPadding=o.layout.autoPadding?p:0,this._updateLayout(p),a||$t(h,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Td("z","_idx"));let{_active:u,_lastEvent:l}=this;l?this._eventHandler(l,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){$t(this.scales,t=>{Ne.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let t=this.options,e=new Set(Object.keys(this._listeners)),o=new Set(t.events);(!Vl(e,o)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(let{method:o,start:a,count:h}of e){let p=o==="_removeElements"?-h:h;W_(t,a,p)}}_getUniformDataChanges(){let t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];let e=this.data.datasets.length,o=h=>new Set(t.filter(p=>p[0]===h).map((p,u)=>u+","+p.splice(1).join(","))),a=o(0);for(let h=1;h<e;h++)if(!Vl(a,o(h)))return;return Array.from(a).map(h=>h.split(",")).map(h=>({method:h[1],start:+h[2],count:+h[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ne.update(this,this.width,this.height,t);let e=this.chartArea,o=e.width<=0||e.height<=0;this._layers=[],$t(this.boxes,a=>{o&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,h)=>{a._idx=h}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,o=this.data.datasets.length;e<o;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,o=this.data.datasets.length;e<o;++e)this._updateDataset(e,Yn(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){let o=this.getDatasetMeta(t),a={meta:o,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(o.controller._update(e),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Gn.has(this)?this.attached&&!Gn.running(this)&&Gn.start(this):(this.draw(),Ad({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){let{width:o,height:a}=this._resizeBeforeDraw;this._resize(o,a),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){let e=this._sortedMetasets,o=[],a,h;for(a=0,h=e.length;a<h;++a){let p=e[a];(!t||p.visible)&&o.push(p)}return o}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){let e=this.ctx,o=t._clip,a=!o.disabled,h=Y_(t)||this.chartArea,p={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",p)!==!1&&(a&&Ao(e,{left:o.left===!1?0:h.left-o.left,right:o.right===!1?this.width:h.right+o.right,top:o.top===!1?0:h.top-o.top,bottom:o.bottom===!1?this.height:h.bottom+o.bottom}),t.controller.draw(),a&&Eo(e),p.cancelable=!1,this.notifyPlugins("afterDatasetDraw",p))}isPointInArea(t){return As(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,o,a){let h=Ux.modes[e];return typeof h=="function"?h(this,t,o,a):[]}getDatasetMeta(t){let e=this.data.datasets[t],o=this._metasets,a=o.filter(h=>h&&h._dataset===e).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},o.push(a)),a}getContext(){return this.$context||(this.$context=Xn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){let e=this.data.datasets[t];if(!e)return!1;let o=this.getDatasetMeta(t);return typeof o.hidden=="boolean"?!o.hidden:!e.hidden}setDatasetVisibility(t,e){let o=this.getDatasetMeta(t);o.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,o){let a=o?"show":"hide",h=this.getDatasetMeta(t),p=h.controller._resolveAnimations(void 0,a);Ze(e)?(h.data[e].hidden=!o,this.update()):(this.setDatasetVisibility(t,o),p.update(h,{visible:o}),this.update(u=>u.datasetIndex===t?a:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){let e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Gn.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Jl(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete pa[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let t=this._listeners,e=this.platform,o=(h,p)=>{e.addEventListener(this,h,p),t[h]=p},a=(h,p,u)=>{h.offsetX=p,h.offsetY=u,this._eventHandler(h)};$t(this.options.events,h=>o(h,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let t=this._responsiveListeners,e=this.platform,o=(l,f)=>{e.addEventListener(this,l,f),t[l]=f},a=(l,f)=>{t[l]&&(e.removeEventListener(this,l,f),delete t[l])},h=(l,f)=>{this.canvas&&this.resize(l,f)},p,u=()=>{a("attach",u),this.attached=!0,this.resize(),o("resize",h),o("detach",p)};p=()=>{this.attached=!1,a("resize",h),this._stop(),this._resize(0,0),o("attach",u)},e.isAttached(this.canvas)?u():p()}unbindEvents(){$t(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},$t(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,o){let a=o?"set":"remove",h,p,u,l;for(e==="dataset"&&(h=this.getDatasetMeta(t[0].datasetIndex),h.controller["_"+a+"DatasetHoverStyle"]()),u=0,l=t.length;u<l;++u){p=t[u];let f=p&&this.getDatasetMeta(p.datasetIndex).controller;f&&f[a+"HoverStyle"](p.element,p.datasetIndex,p.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){let e=this._active||[],o=t.map(({datasetIndex:h,index:p})=>{let u=this.getDatasetMeta(h);if(!u)throw new Error("No dataset found at index "+h);return{datasetIndex:h,element:u.data[p],index:p}});!Oo(o,e)&&(this._active=o,this._lastEvent=null,this._updateHoverStyles(o,e))}notifyPlugins(t,e,o){return this._plugins.notify(this,t,e,o)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,o){let a=this.options.hover,h=(l,f)=>l.filter(m=>!f.some(v=>m.datasetIndex===v.datasetIndex&&m.index===v.index)),p=h(e,t),u=o?t:h(t,e);p.length&&this.updateHoverStyle(p,a.mode,!1),u.length&&a.mode&&this.updateHoverStyle(u,a.mode,!0)}_eventHandler(t,e){let o={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},a=p=>(p.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",o,a)===!1)return;let h=this._handleEvent(t,e,o.inChartArea);return o.cancelable=!1,this.notifyPlugins("afterEvent",o,a),(h||o.changed)&&this.render(),this}_handleEvent(t,e,o){let{_active:a=[],options:h}=this,p=e,u=this._getActiveElements(t,a,o,p),l=Lf(t),f=$_(t,this._lastEvent,o,l);o&&(this._lastEvent=null,Gt(h.onHover,[t,u,this],this),l&&Gt(h.onClick,[t,u,this],this));let m=!Oo(u,a);return(m||e)&&(this._active=u,this._updateHoverStyles(u,a,e)),this._lastEvent=f,m}_getActiveElements(t,e,o,a){if(t.type==="mouseout")return[];if(!o)return e;let h=this.options.hover;return this.getElementsAtEventForMode(t,h.mode,h,a)}};bt(cn,"defaults",ce),bt(cn,"instances",pa),bt(cn,"overrides",Oi),bt(cn,"registry",Sn),bt(cn,"version",N_),bt(cn,"getChart",Ed);function Dd(){return $t(cn.instances,i=>i._plugins.invalidate())}function q_(i,t,e){let{startAngle:o,pixelMargin:a,x:h,y:p,outerRadius:u,innerRadius:l}=t,f=a/u;i.beginPath(),i.arc(h,p,u,o-f,e+f),l>a?(f=a/l,i.arc(h,p,l,e+f,o-f,!0)):i.arc(h,p,a,e+se,o-se),i.closePath(),i.clip()}function U_(i){return ia(i,["outerStart","outerEnd","innerStart","innerEnd"])}function X_(i,t,e,o){let a=U_(i.options.borderRadius),h=(e-t)/2,p=Math.min(h,o*t/2),u=l=>{let f=(e-Math.min(h,l))*o/2;return Pe(l,0,Math.min(h,f))};return{outerStart:u(a.outerStart),outerEnd:u(a.outerEnd),innerStart:Pe(a.innerStart,0,p),innerEnd:Pe(a.innerEnd,0,p)}}function Bs(i,t,e,o){return{x:e+i*Math.cos(t),y:o+i*Math.sin(t)}}function xa(i,t,e,o,a,h){let{x:p,y:u,startAngle:l,pixelMargin:f,innerRadius:m}=t,v=Math.max(t.outerRadius+o+e-f,0),y=m>0?m+o+e+f:0,w=0,P=a-l;if(o){let ct=m>0?m-o:0,mt=v>0?v-o:0,vt=(ct+mt)/2,gt=vt!==0?P*vt/(vt+o):P;w=(P-gt)/2}let C=Math.max(.001,P*v-e/ee)/v,M=(P-C)/2,O=l+M+w,A=a-M-w,{outerStart:L,outerEnd:E,innerStart:F,innerEnd:N}=X_(t,y,v,A-O),H=v-L,W=v-E,G=O+L/H,et=A-E/W,nt=y+F,it=y+N,J=O+F/nt,at=A-N/it;if(i.beginPath(),h){let ct=(G+et)/2;if(i.arc(p,u,v,G,ct),i.arc(p,u,v,ct,et),E>0){let kt=Bs(W,et,p,u);i.arc(kt.x,kt.y,E,et,A+se)}let mt=Bs(it,A,p,u);if(i.lineTo(mt.x,mt.y),N>0){let kt=Bs(it,at,p,u);i.arc(kt.x,kt.y,N,A+se,at+Math.PI)}let vt=(A-N/y+(O+F/y))/2;if(i.arc(p,u,y,A-N/y,vt,!0),i.arc(p,u,y,vt,O+F/y,!0),F>0){let kt=Bs(nt,J,p,u);i.arc(kt.x,kt.y,F,J+Math.PI,O-se)}let gt=Bs(H,O,p,u);if(i.lineTo(gt.x,gt.y),L>0){let kt=Bs(H,G,p,u);i.arc(kt.x,kt.y,L,O-se,G)}}else{i.moveTo(p,u);let ct=Math.cos(G)*v+p,mt=Math.sin(G)*v+u;i.lineTo(ct,mt);let vt=Math.cos(et)*v+p,gt=Math.sin(et)*v+u;i.lineTo(vt,gt)}i.closePath()}function G_(i,t,e,o,a){let{fullCircles:h,startAngle:p,circumference:u}=t,l=t.endAngle;if(h){xa(i,t,e,o,l,a);for(let f=0;f<h;++f)i.fill();isNaN(u)||(l=p+(u%jt||jt))}return xa(i,t,e,o,l,a),i.fill(),l}function K_(i,t,e,o,a){let{fullCircles:h,startAngle:p,circumference:u,options:l}=t,{borderWidth:f,borderJoinStyle:m}=l,v=l.borderAlign==="inner";if(!f)return;v?(i.lineWidth=f*2,i.lineJoin=m||"round"):(i.lineWidth=f,i.lineJoin=m||"bevel");let y=t.endAngle;if(h){xa(i,t,e,o,y,a);for(let w=0;w<h;++w)i.stroke();isNaN(u)||(y=p+(u%jt||jt))}v&&q_(i,t,y),h||(xa(i,t,e,o,y,a),i.stroke())}var $s=class extends je{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,o){let a=this.getProps(["x","y"],o),{angle:h,distance:p}=Yl(a,{x:t,y:e}),{startAngle:u,endAngle:l,innerRadius:f,outerRadius:m,circumference:v}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],o),y=this.options.spacing/2,P=Mt(v,l-u)>=jt||Ss(h,u,l),C=Dn(p,f+y,m+y);return P&&C}getCenterPoint(t){let{x:e,y:o,startAngle:a,endAngle:h,innerRadius:p,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:l,spacing:f}=this.options,m=(a+h)/2,v=(p+u+f+l)/2;return{x:e+Math.cos(m)*v,y:o+Math.sin(m)*v}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){let{options:e,circumference:o}=this,a=(e.offset||0)/4,h=(e.spacing||0)/2,p=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=o>jt?Math.floor(o/jt):0,o===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let u=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(u)*a,Math.sin(u)*a);let l=1-Math.sin(Math.min(ee,o||0)),f=a*l;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,G_(t,this,f,h,p),K_(t,this,f,h,p),t.restore()}};bt($s,"id","arc"),bt($s,"defaults",{borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),bt($s,"defaultRoutes",{backgroundColor:"backgroundColor"});function fp(i,t,e=t){i.lineCap=Mt(e.borderCapStyle,t.borderCapStyle),i.setLineDash(Mt(e.borderDash,t.borderDash)),i.lineDashOffset=Mt(e.borderDashOffset,t.borderDashOffset),i.lineJoin=Mt(e.borderJoinStyle,t.borderJoinStyle),i.lineWidth=Mt(e.borderWidth,t.borderWidth),i.strokeStyle=Mt(e.borderColor,t.borderColor)}function Q_(i,t,e){i.lineTo(e.x,e.y)}function Z_(i){return i.stepped?qf:i.tension||i.cubicInterpolationMode==="monotone"?Uf:Q_}function dp(i,t,e={}){let o=i.length,{start:a=0,end:h=o-1}=e,{start:p,end:u}=t,l=Math.max(a,p),f=Math.min(h,u),m=a<p&&h<p||a>u&&h>u;return{count:o,start:l,loop:t.loop,ilen:f<l&&!m?o+f-l:f-l}}function J_(i,t,e,o){let{points:a,options:h}=t,{count:p,start:u,loop:l,ilen:f}=dp(a,e,o),m=Z_(h),{move:v=!0,reverse:y}=o||{},w,P,C;for(w=0;w<=f;++w)P=a[(u+(y?f-w:w))%p],!P.skip&&(v?(i.moveTo(P.x,P.y),v=!1):m(i,C,P,y,h.stepped),C=P);return l&&(P=a[(u+(y?f:0))%p],m(i,C,P,y,h.stepped)),!!l}function j_(i,t,e,o){let a=t.points,{count:h,start:p,ilen:u}=dp(a,e,o),{move:l=!0,reverse:f}=o||{},m=0,v=0,y,w,P,C,M,O,A=E=>(p+(f?u-E:E))%h,L=()=>{C!==M&&(i.lineTo(m,M),i.lineTo(m,C),i.lineTo(m,O))};for(l&&(w=a[A(0)],i.moveTo(w.x,w.y)),y=0;y<=u;++y){if(w=a[A(y)],w.skip)continue;let E=w.x,F=w.y,N=E|0;N===P?(F<C?C=F:F>M&&(M=F),m=(v*m+E)/++v):(L(),i.lineTo(E,F),P=N,v=0,C=M=F),O=F}L()}function Ac(i){let t=i.options,e=t.borderDash&&t.borderDash.length;return!i._decimated&&!i._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?j_:J_}function ty(i){return i.stepped?ed:i.tension||i.cubicInterpolationMode==="monotone"?nd:Mi}function ey(i,t,e,o){let a=t._path;a||(a=t._path=new Path2D,t.path(a,e,o)&&a.closePath()),fp(i,t.options),i.stroke(a)}function ny(i,t,e,o){let{segments:a,options:h}=t,p=Ac(t);for(let u of a)fp(i,h,u.style),i.beginPath(),p(i,t,u,{start:e,end:e+o-1})&&i.closePath(),i.stroke()}var iy=typeof Path2D=="function";function sy(i,t,e,o){iy&&!t.options.segment?ey(i,t,e,o):ny(i,t,e,o)}var Rn=class extends je{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){let o=this.options;if((o.tension||o.cubicInterpolationMode==="monotone")&&!o.stepped&&!this._pointsUpdated){let a=o.spanGaps?this._loop:this._fullLoop;Jf(this._points,o,t,a,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=sd(this,this.options.segment))}first(){let t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){let t=this.segments,e=this.points,o=t.length;return o&&e[t[o-1].end]}interpolate(t,e){let o=this.options,a=t[e],h=this.points,p=hc(this,{property:e,start:a,end:a});if(!p.length)return;let u=[],l=ty(o),f,m;for(f=0,m=p.length;f<m;++f){let{start:v,end:y}=p[f],w=h[v],P=h[y];if(w===P){u.push(w);continue}let C=Math.abs((a-w[e])/(P[e]-w[e])),M=l(w,P,C,o.stepped);M[e]=t[e],u.push(M)}return u.length===1?u[0]:u}pathSegment(t,e,o){return Ac(this)(t,this,e,o)}path(t,e,o){let a=this.segments,h=Ac(this),p=this._loop;e=e||0,o=o||this.points.length-e;for(let u of a)p&=h(t,this,u,{start:e,end:e+o-1});return!!p}draw(t,e,o,a){let h=this.options||{};(this.points||[]).length&&h.borderWidth&&(t.save(),sy(t,this,o,a),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}};bt(Rn,"id","line"),bt(Rn,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),bt(Rn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),bt(Rn,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function Ld(i,t,e,o){let a=i.options,{[e]:h}=i.getProps([e],o);return Math.abs(t-h)<a.radius+a.hitRadius}var Ys=class extends je{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,o){let a=this.options,{x:h,y:p}=this.getProps(["x","y"],o);return Math.pow(t-h,2)+Math.pow(e-p,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(t,e){return Ld(this,t,"x",e)}inYRange(t,e){return Ld(this,t,"y",e)}getCenterPoint(t){let{x:e,y:o}=this.getProps(["x","y"],t);return{x:e,y:o}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);let o=e&&t.borderWidth||0;return(e+o)*2}draw(t,e){let o=this.options;this.skip||o.radius<.1||!As(this,e,this.size(o)/2)||(t.strokeStyle=o.borderColor,t.lineWidth=o.borderWidth,t.fillStyle=o.backgroundColor,na(t,o,this.x,this.y))}getRange(){let t=this.options||{};return t.radius+t.hitRadius}};bt(Ys,"id","point"),bt(Ys,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),bt(Ys,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function pp(i,t){let{x:e,y:o,base:a,width:h,height:p}=i.getProps(["x","y","base","width","height"],t),u,l,f,m,v;return i.horizontal?(v=p/2,u=Math.min(e,a),l=Math.max(e,a),f=o-v,m=o+v):(v=h/2,u=e-v,l=e+v,f=Math.min(o,a),m=Math.max(o,a)),{left:u,top:f,right:l,bottom:m}}function Li(i,t,e,o){return i?0:Pe(t,e,o)}function oy(i,t,e){let o=i.options.borderWidth,a=i.borderSkipped,h=tc(o);return{t:Li(a.top,h.top,0,e),r:Li(a.right,h.right,0,t),b:Li(a.bottom,h.bottom,0,e),l:Li(a.left,h.left,0,t)}}function ry(i,t,e){let{enableBorderRadius:o}=i.getProps(["enableBorderRadius"]),a=i.options.borderRadius,h=Ei(a),p=Math.min(t,e),u=i.borderSkipped,l=o||Rt(a);return{topLeft:Li(!l||u.top||u.left,h.topLeft,0,p),topRight:Li(!l||u.top||u.right,h.topRight,0,p),bottomLeft:Li(!l||u.bottom||u.left,h.bottomLeft,0,p),bottomRight:Li(!l||u.bottom||u.right,h.bottomRight,0,p)}}function ay(i){let t=pp(i),e=t.right-t.left,o=t.bottom-t.top,a=oy(i,e/2,o/2),h=ry(i,e/2,o/2);return{outer:{x:t.left,y:t.top,w:e,h:o,radius:h},inner:{x:t.left+a.l,y:t.top+a.t,w:e-a.l-a.r,h:o-a.t-a.b,radius:{topLeft:Math.max(0,h.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,h.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,h.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,h.bottomRight-Math.max(a.b,a.r))}}}}function vc(i,t,e,o){let a=t===null,h=e===null,u=i&&!(a&&h)&&pp(i,o);return u&&(a||Dn(t,u.left,u.right))&&(h||Dn(e,u.top,u.bottom))}function ly(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function cy(i,t){i.rect(t.x,t.y,t.w,t.h)}function xc(i,t,e={}){let o=i.x!==e.x?-t:0,a=i.y!==e.y?-t:0,h=(i.x+i.w!==e.x+e.w?t:0)-o,p=(i.y+i.h!==e.y+e.h?t:0)-a;return{x:i.x+o,y:i.y+a,w:i.w+h,h:i.h+p,radius:i.radius}}var qs=class extends je{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){let{inflateAmount:e,options:{borderColor:o,backgroundColor:a}}=this,{inner:h,outer:p}=ay(this),u=ly(p.radius)?Is:cy;t.save(),(p.w!==h.w||p.h!==h.h)&&(t.beginPath(),u(t,xc(p,e,h)),t.clip(),u(t,xc(h,-e,p)),t.fillStyle=o,t.fill("evenodd")),t.beginPath(),u(t,xc(h,e)),t.fillStyle=a,t.fill(),t.restore()}inRange(t,e,o){return vc(this,t,e,o)}inXRange(t,e){return vc(this,t,null,e)}inYRange(t,e){return vc(this,null,t,e)}getCenterPoint(t){let{x:e,y:o,base:a,horizontal:h}=this.getProps(["x","y","base","horizontal"],t);return{x:h?(e+a)/2:e,y:h?o:(o+a)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}};bt(qs,"id","bar"),bt(qs,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),bt(qs,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var uy=Object.freeze({__proto__:null,ArcElement:$s,LineElement:Rn,PointElement:Ys,BarElement:qs}),Ec=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Sd=Ec.map(i=>i.replace("rgb(","rgba(").replace(")",", 0.5)"));function gp(i){return Ec[i%Ec.length]}function mp(i){return Sd[i%Sd.length]}function hy(i,t){return i.borderColor=gp(t),i.backgroundColor=mp(t),++t}function fy(i,t){return i.backgroundColor=i.data.map(()=>gp(t++)),t}function dy(i,t){return i.backgroundColor=i.data.map(()=>mp(t++)),t}function py(i){let t=0;return(e,o)=>{let a=i.getDatasetMeta(o).controller;a instanceof Qn?t=fy(e,t):a instanceof es?t=dy(e,t):a&&(t=hy(e,t))}}function Rd(i){let t;for(t in i)if(i[t].borderColor||i[t].backgroundColor)return!0;return!1}function gy(i){return i&&(i.borderColor||i.backgroundColor)}var my={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(i,t,e){if(!e.enabled)return;let{data:{datasets:o},options:a}=i.config,{elements:h}=a;if(!e.forceOverride&&(Rd(o)||gy(a)||h&&Rd(h)))return;let p=py(i);o.forEach(p)}};function by(i,t,e,o,a){let h=a.samples||o;if(h>=e)return i.slice(t,t+e);let p=[],u=(e-2)/(h-2),l=0,f=t+e-1,m=t,v,y,w,P,C;for(p[l++]=i[m],v=0;v<h-2;v++){let M=0,O=0,A,L=Math.floor((v+1)*u)+1+t,E=Math.min(Math.floor((v+2)*u)+1,e)+t,F=E-L;for(A=L;A<E;A++)M+=i[A].x,O+=i[A].y;M/=F,O/=F;let N=Math.floor(v*u)+1+t,H=Math.min(Math.floor((v+1)*u)+1,e)+t,{x:W,y:G}=i[m];for(w=P=-1,A=N;A<H;A++)P=.5*Math.abs((W-M)*(i[A].y-G)-(W-i[A].x)*(O-G)),P>w&&(w=P,y=i[A],C=A);p[l++]=y,m=C}return p[l++]=i[f],p}function vy(i,t,e,o){let a=0,h=0,p,u,l,f,m,v,y,w,P,C,M=[],O=t+e-1,A=i[t].x,E=i[O].x-A;for(p=t;p<t+e;++p){u=i[p],l=(u.x-A)/E*o,f=u.y;let F=l|0;if(F===m)f<P?(P=f,v=p):f>C&&(C=f,y=p),a=(h*a+u.x)/++h;else{let N=p-1;if(!Bt(v)&&!Bt(y)){let H=Math.min(v,y),W=Math.max(v,y);H!==w&&H!==N&&M.push({...i[H],x:a}),W!==w&&W!==N&&M.push({...i[W],x:a})}p>0&&N!==w&&M.push(i[N]),M.push(u),m=F,h=0,P=C=f,v=y=w=p}}return M}function bp(i){if(i._decimated){let t=i._data;delete i._decimated,delete i._data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Id(i){i.data.datasets.forEach(t=>{bp(t)})}function xy(i,t){let e=t.length,o=0,a,{iScale:h}=i,{min:p,max:u,minDefined:l,maxDefined:f}=h.getUserBounds();return l&&(o=Pe(An(t,h.axis,p).lo,0,e-1)),f?a=Pe(An(t,h.axis,u).hi+1,o,e)-o:a=e-o,{start:o,count:a}}var _y={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(i,t,e)=>{if(!e.enabled){Id(i);return}let o=i.width;i.data.datasets.forEach((a,h)=>{let{_data:p,indexAxis:u}=a,l=i.getDatasetMeta(h),f=p||a.data;if(Fs([u,i.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let m=i.scales[l.xAxisID];if(m.type!=="linear"&&m.type!=="time"||i.options.parsing)return;let{start:v,count:y}=xy(l,f),w=e.threshold||4*o;if(y<=w){bp(a);return}Bt(p)&&(a._data=f,delete a.data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(C){this._data=C}}));let P;switch(e.algorithm){case"lttb":P=by(f,v,y,o,e);break;case"min-max":P=vy(f,v,y,o);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}a._decimated=P})},destroy(i){Id(i)}};function yy(i,t,e){let o=i.segments,a=i.points,h=t.points,p=[];for(let u of o){let{start:l,end:f}=u;f=Sc(l,f,a);let m=Dc(e,a[l],a[f],u.loop);if(!t.segments){p.push({source:u,target:m,start:a[l],end:a[f]});continue}let v=hc(t,m);for(let y of v){let w=Dc(e,h[y.start],h[y.end],y.loop),P=uc(u,a,w);for(let C of P)p.push({source:C,target:y,start:{[e]:Fd(m,w,"start",Math.max)},end:{[e]:Fd(m,w,"end",Math.min)}})}}return p}function Dc(i,t,e,o){if(o)return;let a=t[i],h=e[i];return i==="angle"&&(a=Ue(a),h=Ue(h)),{property:i,start:a,end:h}}function wy(i,t){let{x:e=null,y:o=null}=i||{},a=t.points,h=[];return t.segments.forEach(({start:p,end:u})=>{u=Sc(p,u,a);let l=a[p],f=a[u];o!==null?(h.push({x:l.x,y:o}),h.push({x:f.x,y:o})):e!==null&&(h.push({x:e,y:l.y}),h.push({x:e,y:f.y}))}),h}function Sc(i,t,e){for(;t>i;t--){let o=e[t];if(!isNaN(o.x)&&!isNaN(o.y))break}return t}function Fd(i,t,e,o){return i&&t?o(i[e],t[e]):i?i[e]:t?t[e]:0}function vp(i,t){let e=[],o=!1;return Jt(i)?(o=!0,e=i):e=wy(i,t),e.length?new Rn({points:e,options:{tension:0},_loop:o,_fullLoop:o}):null}function Bd(i){return i&&i.fill!==!1}function ky(i,t,e){let a=i[t].fill,h=[t],p;if(!e)return a;for(;a!==!1&&h.indexOf(a)===-1;){if(!oe(a))return a;if(p=i[a],!p)return!1;if(p.visible)return a;h.push(a),a=p.fill}return!1}function Py(i,t,e){let o=Ty(i);if(Rt(o))return isNaN(o.value)?!1:o;let a=parseFloat(o);return oe(a)&&Math.floor(a)===a?Cy(o[0],t,a,e):["origin","start","end","stack","shape"].indexOf(o)>=0&&o}function Cy(i,t,e,o){return(i==="-"||i==="+")&&(e=t+e),e===t||e<0||e>=o?!1:e}function My(i,t){let e=null;return i==="start"?e=t.bottom:i==="end"?e=t.top:Rt(i)?e=t.getPixelForValue(i.value):t.getBasePixel&&(e=t.getBasePixel()),e}function Oy(i,t,e){let o;return i==="start"?o=e:i==="end"?o=t.options.reverse?t.min:t.max:Rt(i)?o=i.value:o=t.getBaseValue(),o}function Ty(i){let t=i.options,e=t.fill,o=Mt(e&&e.target,e);return o===void 0&&(o=!!t.backgroundColor),o===!1||o===null?!1:o===!0?"origin":o}function Ay(i){let{scale:t,index:e,line:o}=i,a=[],h=o.segments,p=o.points,u=Ey(t,e);u.push(vp({x:null,y:t.bottom},o));for(let l=0;l<h.length;l++){let f=h[l];for(let m=f.start;m<=f.end;m++)Dy(a,p[m],u)}return new Rn({points:a,options:{}})}function Ey(i,t){let e=[],o=i.getMatchingVisibleMetas("line");for(let a=0;a<o.length;a++){let h=o[a];if(h.index===t)break;h.hidden||e.unshift(h.dataset)}return e}function Dy(i,t,e){let o=[];for(let a=0;a<e.length;a++){let h=e[a],{first:p,last:u,point:l}=Ly(h,t,"x");if(!(!l||p&&u)){if(p)o.unshift(l);else if(i.push(l),!u)break}}i.push(...o)}function Ly(i,t,e){let o=i.interpolate(t,e);if(!o)return{};let a=o[e],h=i.segments,p=i.points,u=!1,l=!1;for(let f=0;f<h.length;f++){let m=h[f],v=p[m.start][e],y=p[m.end][e];if(Dn(a,v,y)){u=a===v,l=a===y;break}}return{first:u,last:l,point:o}}var _a=class{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,o){let{x:a,y:h,radius:p}=this;return e=e||{start:0,end:jt},t.arc(a,h,p,e.end,e.start,!0),!o.bounds}interpolate(t){let{x:e,y:o,radius:a}=this,h=t.angle;return{x:e+Math.cos(h)*a,y:o+Math.sin(h)*a,angle:h}}};function Sy(i){let{chart:t,fill:e,line:o}=i;if(oe(e))return Ry(t,e);if(e==="stack")return Ay(i);if(e==="shape")return!0;let a=Iy(i);return a instanceof _a?a:vp(a,o)}function Ry(i,t){let e=i.getDatasetMeta(t);return e&&i.isDatasetVisible(t)?e.dataset:null}function Iy(i){return(i.scale||{}).getPointPositionForValue?By(i):Fy(i)}function Fy(i){let{scale:t={},fill:e}=i,o=My(e,t);if(oe(o)){let a=t.isHorizontal();return{x:a?o:null,y:a?null:o}}return null}function By(i){let{scale:t,fill:e}=i,o=t.options,a=t.getLabels().length,h=o.reverse?t.max:t.min,p=Oy(e,t,h),u=[];if(o.grid.circular){let l=t.getPointPositionForValue(0,h);return new _a({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(p)})}for(let l=0;l<a;++l)u.push(t.getPointPositionForValue(l,p));return u}function _c(i,t,e){let o=Sy(t),{line:a,scale:h,axis:p}=t,u=a.options,l=u.fill,f=u.backgroundColor,{above:m=f,below:v=f}=l||{};o&&a.points.length&&(Ao(i,e),zy(i,{line:a,target:o,above:m,below:v,area:e,scale:h,axis:p}),Eo(i))}function zy(i,t){let{line:e,target:o,above:a,below:h,area:p,scale:u}=t,l=e._loop?"angle":t.axis;i.save(),l==="x"&&h!==a&&(zd(i,o,p.top),Nd(i,{line:e,target:o,color:a,scale:u,property:l}),i.restore(),i.save(),zd(i,o,p.bottom)),Nd(i,{line:e,target:o,color:h,scale:u,property:l}),i.restore()}function zd(i,t,e){let{segments:o,points:a}=t,h=!0,p=!1;i.beginPath();for(let u of o){let{start:l,end:f}=u,m=a[l],v=a[Sc(l,f,a)];h?(i.moveTo(m.x,m.y),h=!1):(i.lineTo(m.x,e),i.lineTo(m.x,m.y)),p=!!t.pathSegment(i,u,{move:p}),p?i.closePath():i.lineTo(v.x,e)}i.lineTo(t.first().x,e),i.closePath(),i.clip()}function Nd(i,t){let{line:e,target:o,property:a,color:h,scale:p}=t,u=yy(e,o,a);for(let{source:l,target:f,start:m,end:v}of u){let{style:{backgroundColor:y=h}={}}=l,w=o!==!0;i.save(),i.fillStyle=y,Ny(i,p,w&&Dc(a,m,v)),i.beginPath();let P=!!e.pathSegment(i,l),C;if(w){P?i.closePath():Vd(i,o,v,a);let M=!!o.pathSegment(i,f,{move:P,reverse:!0});C=P&&M,C||Vd(i,o,m,a)}i.closePath(),i.fill(C?"evenodd":"nonzero"),i.restore()}}function Ny(i,t,e){let{top:o,bottom:a}=t.chart.chartArea,{property:h,start:p,end:u}=e||{};h==="x"&&(i.beginPath(),i.rect(p,o,u-p,a-o),i.clip())}function Vd(i,t,e,o){let a=t.interpolate(e,o);a&&i.lineTo(a.x,a.y)}var Vy={id:"filler",afterDatasetsUpdate(i,t,e){let o=(i.data.datasets||[]).length,a=[],h,p,u,l;for(p=0;p<o;++p)h=i.getDatasetMeta(p),u=h.dataset,l=null,u&&u.options&&u instanceof Rn&&(l={visible:i.isDatasetVisible(p),index:p,fill:Py(u,p,o),chart:i,axis:h.controller.options.indexAxis,scale:h.vScale,line:u}),h.$filler=l,a.push(l);for(p=0;p<o;++p)l=a[p],!(!l||l.fill===!1)&&(l.fill=ky(a,p,e.propagate))},beforeDraw(i,t,e){let o=e.drawTime==="beforeDraw",a=i.getSortedVisibleDatasetMetas(),h=i.chartArea;for(let p=a.length-1;p>=0;--p){let u=a[p].$filler;u&&(u.line.updateControlPoints(h,u.axis),o&&u.fill&&_c(i.ctx,u,h))}},beforeDatasetsDraw(i,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;let o=i.getSortedVisibleDatasetMetas();for(let a=o.length-1;a>=0;--a){let h=o[a].$filler;Bd(h)&&_c(i.ctx,h,i.chartArea)}},beforeDatasetDraw(i,t,e){let o=t.meta.$filler;!Bd(o)||e.drawTime!=="beforeDatasetDraw"||_c(i.ctx,o,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},Hd=(i,t)=>{let{boxHeight:e=t,boxWidth:o=t}=i;return i.usePointStyle&&(e=Math.min(e,t),o=i.pointStyleWidth||Math.min(o,t)),{boxWidth:o,boxHeight:e,itemHeight:Math.max(t,e)}},Hy=(i,t)=>i!==null&&t!==null&&i.datasetIndex===t.datasetIndex&&i.index===t.index,ya=class extends je{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,o){this.maxWidth=t,this.maxHeight=e,this._margins=o,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let t=this.options.labels||{},e=Gt(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(o=>t.filter(o,this.chart.data))),t.sort&&(e=e.sort((o,a)=>t.sort(o,a,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}let o=t.labels,a=_e(o.font),h=a.size,p=this._computeTitleHeight(),{boxWidth:u,itemHeight:l}=Hd(o,h),f,m;e.font=a.string,this.isHorizontal()?(f=this.maxWidth,m=this._fitRows(p,h,u,l)+10):(m=this.maxHeight,f=this._fitCols(p,a,u,l)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(m,t.maxHeight||this.maxHeight)}_fitRows(t,e,o,a){let{ctx:h,maxWidth:p,options:{labels:{padding:u}}}=this,l=this.legendHitBoxes=[],f=this.lineWidths=[0],m=a+u,v=t;h.textAlign="left",h.textBaseline="middle";let y=-1,w=-m;return this.legendItems.forEach((P,C)=>{let M=o+e/2+h.measureText(P.text).width;(C===0||f[f.length-1]+M+2*u>p)&&(v+=m,f[f.length-(C>0?0:1)]=0,w+=m,y++),l[C]={left:0,top:w,row:y,width:M,height:a},f[f.length-1]+=M+u}),v}_fitCols(t,e,o,a){let{ctx:h,maxHeight:p,options:{labels:{padding:u}}}=this,l=this.legendHitBoxes=[],f=this.columnSizes=[],m=p-t,v=u,y=0,w=0,P=0,C=0;return this.legendItems.forEach((M,O)=>{let{itemWidth:A,itemHeight:L}=Wy(o,e,h,M,a);O>0&&w+L+2*u>m&&(v+=y+u,f.push({width:y,height:w}),P+=y+u,C++,y=w=0),l[O]={left:P,top:w,col:C,width:A,height:L},y=Math.max(y,A),w+=L+u}),v+=y,f.push({width:y,height:w}),v}adjustHitBoxes(){if(!this.options.display)return;let t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:o,labels:{padding:a},rtl:h}}=this,p=Zi(h,this.left,this.width);if(this.isHorizontal()){let u=0,l=Se(o,this.left+a,this.right-this.lineWidths[u]);for(let f of e)u!==f.row&&(u=f.row,l=Se(o,this.left+a,this.right-this.lineWidths[u])),f.top+=this.top+t+a,f.left=p.leftForLtr(p.x(l),f.width),l+=f.width+a}else{let u=0,l=Se(o,this.top+t+a,this.bottom-this.columnSizes[u].height);for(let f of e)f.col!==u&&(u=f.col,l=Se(o,this.top+t+a,this.bottom-this.columnSizes[u].height)),f.top=l,f.left+=this.left+a,f.left=p.leftForLtr(p.x(f.left),f.width),l+=f.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let t=this.ctx;Ao(t,this),this._draw(),Eo(t)}}_draw(){let{options:t,columnSizes:e,lineWidths:o,ctx:a}=this,{align:h,labels:p}=t,u=ce.color,l=Zi(t.rtl,this.left,this.width),f=_e(p.font),{padding:m}=p,v=f.size,y=v/2,w;this.drawTitle(),a.textAlign=l.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=f.string;let{boxWidth:P,boxHeight:C,itemHeight:M}=Hd(p,v),O=function(N,H,W){if(isNaN(P)||P<=0||isNaN(C)||C<0)return;a.save();let G=Mt(W.lineWidth,1);if(a.fillStyle=Mt(W.fillStyle,u),a.lineCap=Mt(W.lineCap,"butt"),a.lineDashOffset=Mt(W.lineDashOffset,0),a.lineJoin=Mt(W.lineJoin,"miter"),a.lineWidth=G,a.strokeStyle=Mt(W.strokeStyle,u),a.setLineDash(Mt(W.lineDash,[])),p.usePointStyle){let et={radius:C*Math.SQRT2/2,pointStyle:W.pointStyle,rotation:W.rotation,borderWidth:G},nt=l.xPlus(N,P/2),it=H+y;jl(a,et,nt,it,p.pointStyleWidth&&P)}else{let et=H+Math.max((v-C)/2,0),nt=l.leftForLtr(N,P),it=Ei(W.borderRadius);a.beginPath(),Object.values(it).some(J=>J!==0)?Is(a,{x:nt,y:et,w:P,h:C,radius:it}):a.rect(nt,et,P,C),a.fill(),G!==0&&a.stroke()}a.restore()},A=function(N,H,W){Ai(a,W.text,N,H+M/2,f,{strikethrough:W.hidden,textAlign:l.textAlign(W.textAlign)})},L=this.isHorizontal(),E=this._computeTitleHeight();L?w={x:Se(h,this.left+m,this.right-o[0]),y:this.top+m+E,line:0}:w={x:this.left+m,y:Se(h,this.top+E+m,this.bottom-e[0].height),line:0},lc(this.ctx,t.textDirection);let F=M+m;this.legendItems.forEach((N,H)=>{a.strokeStyle=N.fontColor,a.fillStyle=N.fontColor;let W=a.measureText(N.text).width,G=l.textAlign(N.textAlign||(N.textAlign=p.textAlign)),et=P+y+W,nt=w.x,it=w.y;l.setWidth(this.width),L?H>0&&nt+et+m>this.right&&(it=w.y+=F,w.line++,nt=w.x=Se(h,this.left+m,this.right-o[w.line])):H>0&&it+F>this.bottom&&(nt=w.x=nt+e[w.line].width+m,w.line++,it=w.y=Se(h,this.top+E+m,this.bottom-e[w.line].height));let J=l.x(nt);if(O(J,it,N),nt=Hf(G,nt+P+y,L?nt+et:this.right,t.rtl),A(l.x(nt),it,N),L)w.x+=et+m;else if(typeof N.text!="string"){let at=f.lineHeight;w.y+=xp(N,at)}else w.y+=F}),cc(this.ctx,t.textDirection)}drawTitle(){let t=this.options,e=t.title,o=_e(e.font),a=Re(e.padding);if(!e.display)return;let h=Zi(t.rtl,this.left,this.width),p=this.ctx,u=e.position,l=o.size/2,f=a.top+l,m,v=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),m=this.top+f,v=Se(t.align,v,this.right-y);else{let P=this.columnSizes.reduce((C,M)=>Math.max(C,M.height),0);m=f+Se(t.align,this.top,this.bottom-P-t.labels.padding-this._computeTitleHeight())}let w=Se(u,v,v+y);p.textAlign=h.textAlign(ta(u)),p.textBaseline="middle",p.strokeStyle=e.color,p.fillStyle=e.color,p.font=o.string,Ai(p,e.text,w,m,o)}_computeTitleHeight(){let t=this.options.title,e=_e(t.font),o=Re(t.padding);return t.display?e.lineHeight+o.height:0}_getLegendItemAt(t,e){let o,a,h;if(Dn(t,this.left,this.right)&&Dn(e,this.top,this.bottom)){for(h=this.legendHitBoxes,o=0;o<h.length;++o)if(a=h[o],Dn(t,a.left,a.left+a.width)&&Dn(e,a.top,a.top+a.height))return this.legendItems[o]}return null}handleEvent(t){let e=this.options;if(!qy(t.type,e))return;let o=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){let a=this._hoveredItem,h=Hy(a,o);a&&!h&&Gt(e.onLeave,[t,a,this],this),this._hoveredItem=o,o&&!h&&Gt(e.onHover,[t,o,this],this)}else o&&Gt(e.onClick,[t,o,this],this)}};function Wy(i,t,e,o,a){let h=$y(o,i,t,e),p=Yy(a,o,t.lineHeight);return{itemWidth:h,itemHeight:p}}function $y(i,t,e,o){let a=i.text;return a&&typeof a!="string"&&(a=a.reduce((h,p)=>h.length>p.length?h:p)),t+e.size/2+o.measureText(a).width}function Yy(i,t,e){let o=i;return typeof t.text!="string"&&(o=xp(t,e)),o}function xp(i,t){let e=i.text?i.text.length+.5:0;return t*e}function qy(i,t){return!!((i==="mousemove"||i==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(i==="click"||i==="mouseup"))}var Uy={id:"legend",_element:ya,start(i,t,e){let o=i.legend=new ya({ctx:i.ctx,options:e,chart:i});Ne.configure(i,o,e),Ne.addBox(i,o)},stop(i){Ne.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,t,e){let o=i.legend;Ne.configure(i,o,e),o.options=e},afterUpdate(i){let t=i.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(i,t){t.replay||i.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,t,e){let o=t.datasetIndex,a=e.chart;a.isDatasetVisible(o)?(a.hide(o),t.hidden=!0):(a.show(o),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){let t=i.data.datasets,{labels:{usePointStyle:e,pointStyle:o,textAlign:a,color:h,useBorderRadius:p,borderRadius:u}}=i.legend.options;return i._getSortedDatasetMetas().map(l=>{let f=l.controller.getStyle(e?0:void 0),m=Re(f.borderWidth);return{text:t[l.index].label,fillStyle:f.backgroundColor,fontColor:h,hidden:!l.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:f.borderColor,pointStyle:o||f.pointStyle,rotation:f.rotation,textAlign:a||f.textAlign,borderRadius:p&&(u||f.borderRadius),datasetIndex:l.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}},Uo=class extends je{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){let o=this.options;if(this.left=0,this.top=0,!o.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;let a=Jt(o.text)?o.text.length:1;this._padding=Re(o.padding);let h=a*_e(o.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=h:this.width=h}isHorizontal(){let t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){let{top:e,left:o,bottom:a,right:h,options:p}=this,u=p.align,l=0,f,m,v;return this.isHorizontal()?(m=Se(u,o,h),v=e+t,f=h-o):(p.position==="left"?(m=o+t,v=Se(u,a,e),l=ee*-.5):(m=h-t,v=Se(u,e,a),l=ee*.5),f=a-e),{titleX:m,titleY:v,maxWidth:f,rotation:l}}draw(){let t=this.ctx,e=this.options;if(!e.display)return;let o=_e(e.font),h=o.lineHeight/2+this._padding.top,{titleX:p,titleY:u,maxWidth:l,rotation:f}=this._drawArgs(h);Ai(t,e.text,0,0,o,{color:e.color,maxWidth:l,rotation:f,textAlign:ta(e.align),textBaseline:"middle",translation:[p,u]})}};function Xy(i,t){let e=new Uo({ctx:i.ctx,options:t,chart:i});Ne.configure(i,e,t),Ne.addBox(i,e),i.titleBlock=e}var Gy={id:"title",_element:Uo,start(i,t,e){Xy(i,e)},stop(i){let t=i.titleBlock;Ne.removeBox(i,t),delete i.titleBlock},beforeUpdate(i,t,e){let o=i.titleBlock;Ne.configure(i,o,e),o.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},ua=new WeakMap,Ky={id:"subtitle",start(i,t,e){let o=new Uo({ctx:i.ctx,options:e,chart:i});Ne.configure(i,o,e),Ne.addBox(i,o),ua.set(i,o)},stop(i){Ne.removeBox(i,ua.get(i)),ua.delete(i)},beforeUpdate(i,t,e){let o=ua.get(i);Ne.configure(i,o,e),o.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},zo={average(i){if(!i.length)return!1;let t,e,o=0,a=0,h=0;for(t=0,e=i.length;t<e;++t){let p=i[t].element;if(p&&p.hasValue()){let u=p.tooltipPosition();o+=u.x,a+=u.y,++h}}return{x:o/h,y:a/h}},nearest(i,t){if(!i.length)return!1;let e=t.x,o=t.y,a=Number.POSITIVE_INFINITY,h,p,u;for(h=0,p=i.length;h<p;++h){let l=i[h].element;if(l&&l.hasValue()){let f=l.getCenterPoint(),m=Kr(t,f);m<a&&(a=m,u=l)}}if(u){let l=u.tooltipPosition();e=l.x,o=l.y}return{x:e,y:o}}};function Ln(i,t){return t&&(Jt(t)?Array.prototype.push.apply(i,t):i.push(t)),i}function Kn(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function Qy(i,t){let{element:e,datasetIndex:o,index:a}=t,h=i.getDatasetMeta(o).controller,{label:p,value:u}=h.getLabelAndValue(a);return{chart:i,label:p,parsed:h.getParsed(a),raw:i.data.datasets[o].data[a],formattedValue:u,dataset:h.getDataset(),dataIndex:a,datasetIndex:o,element:e}}function Wd(i,t){let e=i.chart.ctx,{body:o,footer:a,title:h}=i,{boxWidth:p,boxHeight:u}=t,l=_e(t.bodyFont),f=_e(t.titleFont),m=_e(t.footerFont),v=h.length,y=a.length,w=o.length,P=Re(t.padding),C=P.height,M=0,O=o.reduce((E,F)=>E+F.before.length+F.lines.length+F.after.length,0);if(O+=i.beforeBody.length+i.afterBody.length,v&&(C+=v*f.lineHeight+(v-1)*t.titleSpacing+t.titleMarginBottom),O){let E=t.displayColors?Math.max(u,l.lineHeight):l.lineHeight;C+=w*E+(O-w)*l.lineHeight+(O-1)*t.bodySpacing}y&&(C+=t.footerMarginTop+y*m.lineHeight+(y-1)*t.footerSpacing);let A=0,L=function(E){M=Math.max(M,e.measureText(E).width+A)};return e.save(),e.font=f.string,$t(i.title,L),e.font=l.string,$t(i.beforeBody.concat(i.afterBody),L),A=t.displayColors?p+2+t.boxPadding:0,$t(o,E=>{$t(E.before,L),$t(E.lines,L),$t(E.after,L)}),A=0,e.font=m.string,$t(i.footer,L),e.restore(),M+=P.width,{width:M,height:C}}function Zy(i,t){let{y:e,height:o}=t;return e<o/2?"top":e>i.height-o/2?"bottom":"center"}function Jy(i,t,e,o){let{x:a,width:h}=o,p=e.caretSize+e.caretPadding;if(i==="left"&&a+h+p>t.width||i==="right"&&a-h-p<0)return!0}function jy(i,t,e,o){let{x:a,width:h}=e,{width:p,chartArea:{left:u,right:l}}=i,f="center";return o==="center"?f=a<=(u+l)/2?"left":"right":a<=h/2?f="left":a>=p-h/2&&(f="right"),Jy(f,i,t,e)&&(f="center"),f}function $d(i,t,e){let o=e.yAlign||t.yAlign||Zy(i,e);return{xAlign:e.xAlign||t.xAlign||jy(i,t,e,o),yAlign:o}}function t1(i,t){let{x:e,width:o}=i;return t==="right"?e-=o:t==="center"&&(e-=o/2),e}function e1(i,t,e){let{y:o,height:a}=i;return t==="top"?o+=e:t==="bottom"?o-=a+e:o-=a/2,o}function Yd(i,t,e,o){let{caretSize:a,caretPadding:h,cornerRadius:p}=i,{xAlign:u,yAlign:l}=e,f=a+h,{topLeft:m,topRight:v,bottomLeft:y,bottomRight:w}=Ei(p),P=t1(t,u),C=e1(t,l,f);return l==="center"?u==="left"?P+=f:u==="right"&&(P-=f):u==="left"?P-=Math.max(m,y)+a:u==="right"&&(P+=Math.max(v,w)+a),{x:Pe(P,0,o.width-t.width),y:Pe(C,0,o.height-t.height)}}function ha(i,t,e){let o=Re(e.padding);return t==="center"?i.x+i.width/2:t==="right"?i.x+i.width-o.right:i.x+o.left}function qd(i){return Ln([],Kn(i))}function n1(i,t,e){return Xn(i,{tooltip:t,tooltipItems:e,type:"tooltip"})}function Ud(i,t){let e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?i.override(e):i}var _p={beforeTitle:En,title(i){if(i.length>0){let t=i[0],e=t.chart.data.labels,o=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(o>0&&t.dataIndex<o)return e[t.dataIndex]}return""},afterTitle:En,beforeBody:En,beforeLabel:En,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let t=i.dataset.label||"";t&&(t+=": ");let e=i.formattedValue;return Bt(e)||(t+=e),t},labelColor(i){let e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){let e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:En,afterBody:En,beforeFooter:En,footer:En,afterFooter:En};function Ge(i,t,e,o){let a=i[t].call(e,o);return typeof a>"u"?_p[t].call(e,o):a}var $o=class extends je{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let t=this._cachedAnimations;if(t)return t;let e=this.chart,o=this.options.setContext(this.getContext()),a=o.enabled&&e.options.animation&&o.animations,h=new ga(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(h)),h}getContext(){return this.$context||(this.$context=n1(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){let{callbacks:o}=e,a=Ge(o,"beforeTitle",this,t),h=Ge(o,"title",this,t),p=Ge(o,"afterTitle",this,t),u=[];return u=Ln(u,Kn(a)),u=Ln(u,Kn(h)),u=Ln(u,Kn(p)),u}getBeforeBody(t,e){return qd(Ge(e.callbacks,"beforeBody",this,t))}getBody(t,e){let{callbacks:o}=e,a=[];return $t(t,h=>{let p={before:[],lines:[],after:[]},u=Ud(o,h);Ln(p.before,Kn(Ge(u,"beforeLabel",this,h))),Ln(p.lines,Ge(u,"label",this,h)),Ln(p.after,Kn(Ge(u,"afterLabel",this,h))),a.push(p)}),a}getAfterBody(t,e){return qd(Ge(e.callbacks,"afterBody",this,t))}getFooter(t,e){let{callbacks:o}=e,a=Ge(o,"beforeFooter",this,t),h=Ge(o,"footer",this,t),p=Ge(o,"afterFooter",this,t),u=[];return u=Ln(u,Kn(a)),u=Ln(u,Kn(h)),u=Ln(u,Kn(p)),u}_createItems(t){let e=this._active,o=this.chart.data,a=[],h=[],p=[],u=[],l,f;for(l=0,f=e.length;l<f;++l)u.push(Qy(this.chart,e[l]));return t.filter&&(u=u.filter((m,v,y)=>t.filter(m,v,y,o))),t.itemSort&&(u=u.sort((m,v)=>t.itemSort(m,v,o))),$t(u,m=>{let v=Ud(t.callbacks,m);a.push(Ge(v,"labelColor",this,m)),h.push(Ge(v,"labelPointStyle",this,m)),p.push(Ge(v,"labelTextColor",this,m))}),this.labelColors=a,this.labelPointStyles=h,this.labelTextColors=p,this.dataPoints=u,u}update(t,e){let o=this.options.setContext(this.getContext()),a=this._active,h,p=[];if(!a.length)this.opacity!==0&&(h={opacity:0});else{let u=zo[o.position].call(this,a,this._eventPosition);p=this._createItems(o),this.title=this.getTitle(p,o),this.beforeBody=this.getBeforeBody(p,o),this.body=this.getBody(p,o),this.afterBody=this.getAfterBody(p,o),this.footer=this.getFooter(p,o);let l=this._size=Wd(this,o),f=Object.assign({},u,l),m=$d(this.chart,o,f),v=Yd(o,f,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,h={opacity:1,x:v.x,y:v.y,width:l.width,height:l.height,caretX:u.x,caretY:u.y}}this._tooltipItems=p,this.$context=void 0,h&&this._resolveAnimations().update(this,h),t&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,o,a){let h=this.getCaretPosition(t,o,a);e.lineTo(h.x1,h.y1),e.lineTo(h.x2,h.y2),e.lineTo(h.x3,h.y3)}getCaretPosition(t,e,o){let{xAlign:a,yAlign:h}=this,{caretSize:p,cornerRadius:u}=o,{topLeft:l,topRight:f,bottomLeft:m,bottomRight:v}=Ei(u),{x:y,y:w}=t,{width:P,height:C}=e,M,O,A,L,E,F;return h==="center"?(E=w+C/2,a==="left"?(M=y,O=M-p,L=E+p,F=E-p):(M=y+P,O=M+p,L=E-p,F=E+p),A=M):(a==="left"?O=y+Math.max(l,m)+p:a==="right"?O=y+P-Math.max(f,v)-p:O=this.caretX,h==="top"?(L=w,E=L-p,M=O-p,A=O+p):(L=w+C,E=L+p,M=O+p,A=O-p),F=L),{x1:M,x2:O,x3:A,y1:L,y2:E,y3:F}}drawTitle(t,e,o){let a=this.title,h=a.length,p,u,l;if(h){let f=Zi(o.rtl,this.x,this.width);for(t.x=ha(this,o.titleAlign,o),e.textAlign=f.textAlign(o.titleAlign),e.textBaseline="middle",p=_e(o.titleFont),u=o.titleSpacing,e.fillStyle=o.titleColor,e.font=p.string,l=0;l<h;++l)e.fillText(a[l],f.x(t.x),t.y+p.lineHeight/2),t.y+=p.lineHeight+u,l+1===h&&(t.y+=o.titleMarginBottom-u)}}_drawColorBox(t,e,o,a,h){let p=this.labelColors[o],u=this.labelPointStyles[o],{boxHeight:l,boxWidth:f,boxPadding:m}=h,v=_e(h.bodyFont),y=ha(this,"left",h),w=a.x(y),P=l<v.lineHeight?(v.lineHeight-l)/2:0,C=e.y+P;if(h.usePointStyle){let M={radius:Math.min(f,l)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},O=a.leftForLtr(w,f)+f/2,A=C+l/2;t.strokeStyle=h.multiKeyBackground,t.fillStyle=h.multiKeyBackground,na(t,M,O,A),t.strokeStyle=p.borderColor,t.fillStyle=p.backgroundColor,na(t,M,O,A)}else{t.lineWidth=Rt(p.borderWidth)?Math.max(...Object.values(p.borderWidth)):p.borderWidth||1,t.strokeStyle=p.borderColor,t.setLineDash(p.borderDash||[]),t.lineDashOffset=p.borderDashOffset||0;let M=a.leftForLtr(w,f-m),O=a.leftForLtr(a.xPlus(w,1),f-m-2),A=Ei(p.borderRadius);Object.values(A).some(L=>L!==0)?(t.beginPath(),t.fillStyle=h.multiKeyBackground,Is(t,{x:M,y:C,w:f,h:l,radius:A}),t.fill(),t.stroke(),t.fillStyle=p.backgroundColor,t.beginPath(),Is(t,{x:O,y:C+1,w:f-2,h:l-2,radius:A}),t.fill()):(t.fillStyle=h.multiKeyBackground,t.fillRect(M,C,f,l),t.strokeRect(M,C,f,l),t.fillStyle=p.backgroundColor,t.fillRect(O,C+1,f-2,l-2))}t.fillStyle=this.labelTextColors[o]}drawBody(t,e,o){let{body:a}=this,{bodySpacing:h,bodyAlign:p,displayColors:u,boxHeight:l,boxWidth:f,boxPadding:m}=o,v=_e(o.bodyFont),y=v.lineHeight,w=0,P=Zi(o.rtl,this.x,this.width),C=function(W){e.fillText(W,P.x(t.x+w),t.y+y/2),t.y+=y+h},M=P.textAlign(p),O,A,L,E,F,N,H;for(e.textAlign=p,e.textBaseline="middle",e.font=v.string,t.x=ha(this,M,o),e.fillStyle=o.bodyColor,$t(this.beforeBody,C),w=u&&M!=="right"?p==="center"?f/2+m:f+2+m:0,E=0,N=a.length;E<N;++E){for(O=a[E],A=this.labelTextColors[E],e.fillStyle=A,$t(O.before,C),L=O.lines,u&&L.length&&(this._drawColorBox(e,t,E,P,o),y=Math.max(v.lineHeight,l)),F=0,H=L.length;F<H;++F)C(L[F]),y=v.lineHeight;$t(O.after,C)}w=0,y=v.lineHeight,$t(this.afterBody,C),t.y-=h}drawFooter(t,e,o){let a=this.footer,h=a.length,p,u;if(h){let l=Zi(o.rtl,this.x,this.width);for(t.x=ha(this,o.footerAlign,o),t.y+=o.footerMarginTop,e.textAlign=l.textAlign(o.footerAlign),e.textBaseline="middle",p=_e(o.footerFont),e.fillStyle=o.footerColor,e.font=p.string,u=0;u<h;++u)e.fillText(a[u],l.x(t.x),t.y+p.lineHeight/2),t.y+=p.lineHeight+o.footerSpacing}}drawBackground(t,e,o,a){let{xAlign:h,yAlign:p}=this,{x:u,y:l}=t,{width:f,height:m}=o,{topLeft:v,topRight:y,bottomLeft:w,bottomRight:P}=Ei(a.cornerRadius);e.fillStyle=a.backgroundColor,e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth,e.beginPath(),e.moveTo(u+v,l),p==="top"&&this.drawCaret(t,e,o,a),e.lineTo(u+f-y,l),e.quadraticCurveTo(u+f,l,u+f,l+y),p==="center"&&h==="right"&&this.drawCaret(t,e,o,a),e.lineTo(u+f,l+m-P),e.quadraticCurveTo(u+f,l+m,u+f-P,l+m),p==="bottom"&&this.drawCaret(t,e,o,a),e.lineTo(u+w,l+m),e.quadraticCurveTo(u,l+m,u,l+m-w),p==="center"&&h==="left"&&this.drawCaret(t,e,o,a),e.lineTo(u,l+v),e.quadraticCurveTo(u,l,u+v,l),e.closePath(),e.fill(),a.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){let e=this.chart,o=this.$animations,a=o&&o.x,h=o&&o.y;if(a||h){let p=zo[t.position].call(this,this._active,this._eventPosition);if(!p)return;let u=this._size=Wd(this,t),l=Object.assign({},p,this._size),f=$d(e,t,l),m=Yd(t,l,f,e);(a._to!==m.x||h._to!==m.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=p.x,this.caretY=p.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(t){let e=this.options.setContext(this.getContext()),o=this.opacity;if(!o)return;this._updateAnimationTarget(e);let a={width:this.width,height:this.height},h={x:this.x,y:this.y};o=Math.abs(o)<.001?0:o;let p=Re(e.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&u&&(t.save(),t.globalAlpha=o,this.drawBackground(h,t,a,e),lc(t,e.textDirection),h.y+=p.top,this.drawTitle(h,t,e),this.drawBody(h,t,e),this.drawFooter(h,t,e),cc(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){let o=this._active,a=t.map(({datasetIndex:u,index:l})=>{let f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[l],index:l}}),h=!Oo(o,a),p=this._positionChanged(a,e);(h||p)&&(this._active=a,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,o=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let a=this.options,h=this._active||[],p=this._getActiveElements(t,h,e,o),u=this._positionChanged(p,t),l=e||!Oo(p,h)||u;return l&&(this._active=p,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),l}_getActiveElements(t,e,o,a){let h=this.options;if(t.type==="mouseout")return[];if(!a)return e;let p=this.chart.getElementsAtEventForMode(t,h.mode,h,o);return h.reverse&&p.reverse(),p}_positionChanged(t,e){let{caretX:o,caretY:a,options:h}=this,p=zo[h.position].call(this,t,e);return p!==!1&&(o!==p.x||a!==p.y)}};bt($o,"positioners",zo);var i1={id:"tooltip",_element:$o,positioners:zo,afterInit(i,t,e){e&&(i.tooltip=new $o({chart:i,options:e}))},beforeUpdate(i,t,e){i.tooltip&&i.tooltip.initialize(e)},reset(i,t,e){i.tooltip&&i.tooltip.initialize(e)},afterDraw(i){let t=i.tooltip;if(t&&t._willRender()){let e={tooltip:t};if(i.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",e)}},afterEvent(i,t){if(i.tooltip){let e=t.replay;i.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,t)=>t.bodyFont.size,boxWidth:(i,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:_p},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},s1=Object.freeze({__proto__:null,Colors:my,Decimation:_y,Filler:Vy,Legend:Uy,SubTitle:Ky,Title:Gy,Tooltip:i1}),o1=(i,t,e,o)=>(typeof t=="string"?(e=i.push(t)-1,o.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function r1(i,t,e,o){let a=i.indexOf(t);if(a===-1)return o1(i,t,e,o);let h=i.lastIndexOf(t);return a!==h?e:a}var a1=(i,t)=>i===null?null:Pe(Math.round(i),0,t);function Xd(i){let t=this.getLabels();return i>=0&&i<t.length?t[i]:i}var No=class extends Zn{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){let e=this._addedLabels;if(e.length){let o=this.getLabels();for(let{index:a,label:h}of e)o[a]===h&&o.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Bt(t))return null;let o=this.getLabels();return e=isFinite(e)&&o[e]===t?e:r1(o,t,Mt(e,t),this._addedLabels),a1(e,o.length-1)}determineDataLimits(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),{min:o,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(o=0),e||(a=this.getLabels().length-1)),this.min=o,this.max=a}buildTicks(){let t=this.min,e=this.max,o=this.options.offset,a=[],h=this.getLabels();h=t===0&&e===h.length-1?h:h.slice(t,e+1),this._valueRange=Math.max(h.length-(o?0:1),1),this._startValue=this.min-(o?.5:0);for(let p=t;p<=e;p++)a.push({value:p});return a}getLabelForValue(t){return Xd.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}};bt(No,"id","category"),bt(No,"defaults",{ticks:{callback:Xd}});function l1(i,t){let e=[],{bounds:a,step:h,min:p,max:u,precision:l,count:f,maxTicks:m,maxDigits:v,includeBounds:y}=i,w=h||1,P=m-1,{min:C,max:M}=t,O=!Bt(p),A=!Bt(u),L=!Bt(f),E=(M-C)/(v+1),F=Hl((M-C)/P/w)*w,N,H,W,G;if(F<1e-14&&!O&&!A)return[{value:C},{value:M}];G=Math.ceil(M/F)-Math.floor(C/F),G>P&&(F=Hl(G*F/P/w)*w),Bt(l)||(N=Math.pow(10,l),F=Math.ceil(F*N)/N),a==="ticks"?(H=Math.floor(C/F)*F,W=Math.ceil(M/F)*F):(H=C,W=M),O&&A&&h&&Rf((u-p)/h,F/1e3)?(G=Math.round(Math.min((u-p)/F,m)),F=(u-p)/G,H=p,W=u):L?(H=O?p:H,W=A?u:W,G=f-1,F=(W-H)/G):(G=(W-H)/F,Ls(G,Math.round(G),F/1e3)?G=Math.round(G):G=Math.ceil(G));let et=Math.max($l(F),$l(H));N=Math.pow(10,Bt(l)?et:l),H=Math.round(H*N)/N,W=Math.round(W*N)/N;let nt=0;for(O&&(y&&H!==p?(e.push({value:p}),H<p&&nt++,Ls(Math.round((H+nt*F)*N)/N,p,Gd(p,E,i))&&nt++):H<p&&nt++);nt<G;++nt)e.push({value:Math.round((H+nt*F)*N)/N});return A&&y&&W!==u?e.length&&Ls(e[e.length-1].value,u,Gd(u,E,i))?e[e.length-1].value=u:e.push({value:u}):(!A||W===u)&&e.push({value:W}),e}function Gd(i,t,{horizontal:e,minRotation:o}){let a=ln(o),h=(e?Math.sin(a):Math.cos(a))||.001,p=.75*t*(""+i).length;return Math.min(t/h,p)}var Xs=class extends Zn{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Bt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let{beginAtZero:t}=this.options,{minDefined:e,maxDefined:o}=this.getUserBounds(),{min:a,max:h}=this,p=l=>a=e?a:l,u=l=>h=o?h:l;if(t){let l=vn(a),f=vn(h);l<0&&f<0?u(0):l>0&&f>0&&p(0)}if(a===h){let l=h===0?1:Math.abs(h*.05);u(h+l),t||p(a-l)}this.min=a,this.max=h}getTickLimit(){let t=this.options.ticks,{maxTicksLimit:e,stepSize:o}=t,a;return o?(a=Math.ceil(this.max/o)-Math.floor(this.min/o)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${o} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),e=e||11),e&&(a=Math.min(e,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let t=this.options,e=t.ticks,o=this.getTickLimit();o=Math.max(2,o);let a={maxTicks:o,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},h=this._range||this,p=l1(a,h);return t.bounds==="ticks"&&Wl(p,this,"value"),t.reverse?(p.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),p}configure(){let t=this.ticks,e=this.min,o=this.max;if(super.configure(),this.options.offset&&t.length){let a=(o-e)/Math.max(t.length-1,1)/2;e-=a,o+=a}this._startValue=e,this._endValue=o,this._valueRange=o-e}getLabelForValue(t){return Rs(t,this.chart.options.locale,this.options.ticks.format)}},Vo=class extends Xs{determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=oe(t)?t:0,this.max=oe(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let t=this.isHorizontal(),e=t?this.width:this.height,o=ln(this.options.ticks.minRotation),a=(t?Math.sin(o):Math.cos(o))||.001,h=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,h.lineHeight/a))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}};bt(Vo,"id","linear"),bt(Vo,"defaults",{ticks:{callback:To.formatters.numeric}});var Xo=i=>Math.floor(qn(i)),ji=(i,t)=>Math.pow(10,Xo(i)+t);function Kd(i){return i/Math.pow(10,Xo(i))===1}function Qd(i,t,e){let o=Math.pow(10,e),a=Math.floor(i/o);return Math.ceil(t/o)-a}function c1(i,t){let e=t-i,o=Xo(e);for(;Qd(i,t,o)>10;)o++;for(;Qd(i,t,o)<10;)o--;return Math.min(o,Xo(i))}function u1(i,{min:t,max:e}){t=Xe(i.min,t);let o=[],a=Xo(t),h=c1(t,e),p=h<0?Math.pow(10,Math.abs(h)):1,u=Math.pow(10,h),l=a>h?Math.pow(10,a):0,f=Math.round((t-l)*p)/p,m=Math.floor((t-l)/u/10)*u*10,v=Math.floor((f-m)/Math.pow(10,h)),y=Xe(i.min,Math.round((l+m+v*Math.pow(10,h))*p)/p);for(;y<e;)o.push({value:y,major:Kd(y),significand:v}),v>=10?v=v<15?15:20:v++,v>=20&&(h++,v=2,p=h>=0?1:p),y=Math.round((l+m+v*Math.pow(10,h))*p)/p;let w=Xe(i.max,y);return o.push({value:w,major:Kd(w),significand:v}),o}var Ho=class extends Zn{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){let o=Xs.prototype.parse.apply(this,[t,e]);if(o===0){this._zero=!0;return}return oe(o)&&o>0?o:null}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=oe(t)?Math.max(0,t):null,this.max=oe(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!oe(this._userMin)&&(this.min=t===ji(this.min,0)?ji(this.min,-1):ji(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),o=this.min,a=this.max,h=u=>o=t?o:u,p=u=>a=e?a:u;o===a&&(o<=0?(h(1),p(10)):(h(ji(o,-1)),p(ji(a,1)))),o<=0&&h(ji(a,-1)),a<=0&&p(ji(o,1)),this.min=o,this.max=a}buildTicks(){let t=this.options,e={min:this._userMin,max:this._userMax},o=u1(e,this);return t.bounds==="ticks"&&Wl(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}getLabelForValue(t){return t===void 0?"0":Rs(t,this.chart.options.locale,this.options.ticks.format)}configure(){let t=this.min;super.configure(),this._startValue=qn(t),this._valueRange=qn(this.max)-qn(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(qn(t)-this._startValue)/this._valueRange)}getValueForPixel(t){let e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}};bt(Ho,"id","logarithmic"),bt(Ho,"defaults",{ticks:{callback:To.formatters.logarithmic,major:{enabled:!0}}});function Lc(i){let t=i.ticks;if(t.display&&i.display){let e=Re(t.backdropPadding);return Mt(t.font&&t.font.size,ce.font.size)+e.height}return 0}function h1(i,t,e){return e=Jt(e)?e:[e],{w:Yf(i,t.string,e),h:e.length*t.lineHeight}}function Zd(i,t,e,o,a){return i===o||i===a?{start:t-e/2,end:t+e/2}:i<o||i>a?{start:t-e,end:t}:{start:t,end:t+e}}function f1(i){let t={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},e=Object.assign({},t),o=[],a=[],h=i._pointLabels.length,p=i.options.pointLabels,u=p.centerPointLabels?ee/h:0;for(let l=0;l<h;l++){let f=p.setContext(i.getPointLabelContext(l));a[l]=f.padding;let m=i.getPointPosition(l,i.drawingArea+a[l],u),v=_e(f.font),y=h1(i.ctx,v,i._pointLabels[l]);o[l]=y;let w=Ue(i.getIndexAngle(l)+u),P=Math.round(Jr(w)),C=Zd(P,m.x,y.w,0,180),M=Zd(P,m.y,y.h,90,270);d1(e,t,w,C,M)}i.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),i._pointLabelItems=p1(i,o,a)}function d1(i,t,e,o,a){let h=Math.abs(Math.sin(e)),p=Math.abs(Math.cos(e)),u=0,l=0;o.start<t.l?(u=(t.l-o.start)/h,i.l=Math.min(i.l,t.l-u)):o.end>t.r&&(u=(o.end-t.r)/h,i.r=Math.max(i.r,t.r+u)),a.start<t.t?(l=(t.t-a.start)/p,i.t=Math.min(i.t,t.t-l)):a.end>t.b&&(l=(a.end-t.b)/p,i.b=Math.max(i.b,t.b+l))}function p1(i,t,e){let o=[],a=i._pointLabels.length,h=i.options,p=Lc(h)/2,u=i.drawingArea,l=h.pointLabels.centerPointLabels?ee/a:0;for(let f=0;f<a;f++){let m=i.getPointPosition(f,u+p+e[f],l),v=Math.round(Jr(Ue(m.angle+se))),y=t[f],w=b1(m.y,y.h,v),P=g1(v),C=m1(m.x,y.w,P);o.push({x:m.x,y:w,textAlign:P,left:C,top:w,right:C+y.w,bottom:w+y.h})}return o}function g1(i){return i===0||i===180?"center":i<180?"left":"right"}function m1(i,t,e){return e==="right"?i-=t:e==="center"&&(i-=t/2),i}function b1(i,t,e){return e===90||e===270?i-=t/2:(e>270||e<90)&&(i-=t),i}function v1(i,t){let{ctx:e,options:{pointLabels:o}}=i;for(let a=t-1;a>=0;a--){let h=o.setContext(i.getPointLabelContext(a)),p=_e(h.font),{x:u,y:l,textAlign:f,left:m,top:v,right:y,bottom:w}=i._pointLabelItems[a],{backdropColor:P}=h;if(!Bt(P)){let C=Ei(h.borderRadius),M=Re(h.backdropPadding);e.fillStyle=P;let O=m-M.left,A=v-M.top,L=y-m+M.width,E=w-v+M.height;Object.values(C).some(F=>F!==0)?(e.beginPath(),Is(e,{x:O,y:A,w:L,h:E,radius:C}),e.fill()):e.fillRect(O,A,L,E)}Ai(e,i._pointLabels[a],u,l+p.lineHeight/2,p,{color:h.color,textAlign:f,textBaseline:"middle"})}}function yp(i,t,e,o){let{ctx:a}=i;if(e)a.arc(i.xCenter,i.yCenter,t,0,jt);else{let h=i.getPointPosition(0,t);a.moveTo(h.x,h.y);for(let p=1;p<o;p++)h=i.getPointPosition(p,t),a.lineTo(h.x,h.y)}}function x1(i,t,e,o,a){let h=i.ctx,p=t.circular,{color:u,lineWidth:l}=t;!p&&!o||!u||!l||e<0||(h.save(),h.strokeStyle=u,h.lineWidth=l,h.setLineDash(a.dash),h.lineDashOffset=a.dashOffset,h.beginPath(),yp(i,e,p,o),h.closePath(),h.stroke(),h.restore())}function _1(i,t,e){return Xn(i,{label:e,index:t,type:"pointLabel"})}var ts=class extends Xs{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let t=this._padding=Re(Lc(this.options)/2),e=this.width=this.maxWidth-t.width,o=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+o/2+t.top),this.drawingArea=Math.floor(Math.min(e,o)/2)}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!1);this.min=oe(t)&&!isNaN(t)?t:0,this.max=oe(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Lc(this.options))}generateTickLabels(t){Xs.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,o)=>{let a=Gt(this.options.pointLabels.callback,[e,o],this);return a||a===0?a:""}).filter((e,o)=>this.chart.getDataVisibility(o))}fit(){let t=this.options;t.display&&t.pointLabels.display?f1(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,o,a){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((o-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,o,a))}getIndexAngle(t){let e=jt/(this._pointLabels.length||1),o=this.options.startAngle||0;return Ue(t*e+ln(o))}getDistanceFromCenterForValue(t){if(Bt(t))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Bt(t))return NaN;let e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){let e=this._pointLabels||[];if(t>=0&&t<e.length){let o=e[t];return _1(this.getContext(),t,o)}}getPointPosition(t,e,o=0){let a=this.getIndexAngle(t)-se+o;return{x:Math.cos(a)*e+this.xCenter,y:Math.sin(a)*e+this.yCenter,angle:a}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){let{left:e,top:o,right:a,bottom:h}=this._pointLabelItems[t];return{left:e,top:o,right:a,bottom:h}}drawBackground(){let{backgroundColor:t,grid:{circular:e}}=this.options;if(t){let o=this.ctx;o.save(),o.beginPath(),yp(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),o.closePath(),o.fillStyle=t,o.fill(),o.restore()}}drawGrid(){let t=this.ctx,e=this.options,{angleLines:o,grid:a,border:h}=e,p=this._pointLabels.length,u,l,f;if(e.pointLabels.display&&v1(this,p),a.display&&this.ticks.forEach((m,v)=>{if(v!==0){l=this.getDistanceFromCenterForValue(m.value);let y=this.getContext(v),w=a.setContext(y),P=h.setContext(y);x1(this,w,l,p,P)}}),o.display){for(t.save(),u=p-1;u>=0;u--){let m=o.setContext(this.getPointLabelContext(u)),{color:v,lineWidth:y}=m;!y||!v||(t.lineWidth=y,t.strokeStyle=v,t.setLineDash(m.borderDash),t.lineDashOffset=m.borderDashOffset,l=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),f=this.getPointPosition(u,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(f.x,f.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){let t=this.ctx,e=this.options,o=e.ticks;if(!o.display)return;let a=this.getIndexAngle(0),h,p;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(a),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((u,l)=>{if(l===0&&!e.reverse)return;let f=o.setContext(this.getContext(l)),m=_e(f.font);if(h=this.getDistanceFromCenterForValue(this.ticks[l].value),f.showLabelBackdrop){t.font=m.string,p=t.measureText(u.label).width,t.fillStyle=f.backdropColor;let v=Re(f.backdropPadding);t.fillRect(-p/2-v.left,-h-m.size/2-v.top,p+v.width,m.size+v.height)}Ai(t,u.label,0,-h,m,{color:f.color})}),t.restore()}drawTitle(){}};bt(ts,"id","radialLinear"),bt(ts,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:To.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),bt(ts,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),bt(ts,"descriptors",{angleLines:{_fallback:"grid"}});var wa={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ke=Object.keys(wa);function y1(i,t){return i-t}function Jd(i,t){if(Bt(t))return null;let e=i._adapter,{parser:o,round:a,isoWeekday:h}=i._parseOpts,p=t;return typeof o=="function"&&(p=o(p)),oe(p)||(p=typeof o=="string"?e.parse(p,o):e.parse(p)),p===null?null:(a&&(p=a==="week"&&(Qi(h)||h===!0)?e.startOf(p,"isoWeek",h):e.startOf(p,a)),+p)}function jd(i,t,e,o){let a=Ke.length;for(let h=Ke.indexOf(i);h<a-1;++h){let p=wa[Ke[h]],u=p.steps?p.steps:Number.MAX_SAFE_INTEGER;if(p.common&&Math.ceil((e-t)/(u*p.size))<=o)return Ke[h]}return Ke[a-1]}function w1(i,t,e,o,a){for(let h=Ke.length-1;h>=Ke.indexOf(e);h--){let p=Ke[h];if(wa[p].common&&i._adapter.diff(a,o,p)>=t-1)return p}return Ke[e?Ke.indexOf(e):0]}function k1(i){for(let t=Ke.indexOf(i)+1,e=Ke.length;t<e;++t)if(wa[Ke[t]].common)return Ke[t]}function tp(i,t,e){if(!e)i[t]=!0;else if(e.length){let{lo:o,hi:a}=jr(e,t),h=e[o]>=t?e[o]:e[a];i[h]=!0}}function P1(i,t,e,o){let a=i._adapter,h=+a.startOf(t[0].value,o),p=t[t.length-1].value,u,l;for(u=h;u<=p;u=+a.add(u,1,o))l=e[u],l>=0&&(t[l].major=!0);return t}function ep(i,t,e){let o=[],a={},h=t.length,p,u;for(p=0;p<h;++p)u=t[p],a[u]=p,o.push({value:u,major:!1});return h===0||!e?o:P1(i,o,a,e)}var ns=class extends Zn{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){let o=t.time||(t.time={}),a=this._adapter=new Hx._date(t.adapters.date);a.init(e),Ds(o.displayFormats,a.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:Jd(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let t=this.options,e=this._adapter,o=t.time.unit||"day",{min:a,max:h,minDefined:p,maxDefined:u}=this.getUserBounds();function l(f){!p&&!isNaN(f.min)&&(a=Math.min(a,f.min)),!u&&!isNaN(f.max)&&(h=Math.max(h,f.max))}(!p||!u)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),a=oe(a)&&!isNaN(a)?a:+e.startOf(Date.now(),o),h=oe(h)&&!isNaN(h)?h:+e.endOf(Date.now(),o)+1,this.min=Math.min(a,h-1),this.max=Math.max(a+1,h)}_getLabelBounds(){let t=this.getLabelTimestamps(),e=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],o=t[t.length-1]),{min:e,max:o}}buildTicks(){let t=this.options,e=t.time,o=t.ticks,a=o.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);let h=this.min,p=this.max,u=Bf(a,h,p);return this._unit=e.unit||(o.autoSkip?jd(e.minUnit,this.min,this.max,this._getLabelCapacity(h)):w1(this,u.length,e.minUnit,this.min,this.max)),this._majorUnit=!o.major.enabled||this._unit==="year"?void 0:k1(this._unit),this.initOffsets(a),t.reverse&&u.reverse(),ep(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,o=0,a,h;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?e=1-a:e=(this.getDecimalForValue(t[1])-a)/2,h=this.getDecimalForValue(t[t.length-1]),t.length===1?o=h:o=(h-this.getDecimalForValue(t[t.length-2]))/2);let p=t.length<3?.5:.25;e=Pe(e,0,p),o=Pe(o,0,p),this._offsets={start:e,end:o,factor:1/(e+1+o)}}_generate(){let t=this._adapter,e=this.min,o=this.max,a=this.options,h=a.time,p=h.unit||jd(h.minUnit,e,o,this._getLabelCapacity(e)),u=Mt(a.ticks.stepSize,1),l=p==="week"?h.isoWeekday:!1,f=Qi(l)||l===!0,m={},v=e,y,w;if(f&&(v=+t.startOf(v,"isoWeek",l)),v=+t.startOf(v,f?"day":p),t.diff(o,e,p)>1e5*u)throw new Error(e+" and "+o+" are too far apart with stepSize of "+u+" "+p);let P=a.ticks.source==="data"&&this.getDataTimestamps();for(y=v,w=0;y<o;y=+t.add(y,u,p),w++)tp(m,y,P);return(y===o||a.bounds==="ticks"||w===1)&&tp(m,y,P),Object.keys(m).sort((C,M)=>C-M).map(C=>+C)}getLabelForValue(t){let e=this._adapter,o=this.options.time;return o.tooltipFormat?e.format(t,o.tooltipFormat):e.format(t,o.displayFormats.datetime)}format(t,e){let a=this.options.time.displayFormats,h=this._unit,p=e||a[h];return this._adapter.format(t,p)}_tickFormatFunction(t,e,o,a){let h=this.options,p=h.ticks.callback;if(p)return Gt(p,[t,e,o],this);let u=h.time.displayFormats,l=this._unit,f=this._majorUnit,m=l&&u[l],v=f&&u[f],y=o[e],w=f&&v&&y&&y.major;return this._adapter.format(t,a||(w?v:m))}generateTickLabels(t){let e,o,a;for(e=0,o=t.length;e<o;++e)a=t[e],a.label=this._tickFormatFunction(a.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){let e=this._offsets,o=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+o)*e.factor)}getValueForPixel(t){let e=this._offsets,o=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+o*(this.max-this.min)}_getLabelSize(t){let e=this.options.ticks,o=this.ctx.measureText(t).width,a=ln(this.isHorizontal()?e.maxRotation:e.minRotation),h=Math.cos(a),p=Math.sin(a),u=this._resolveTickFontOptions(0).size;return{w:o*h+u*p,h:o*p+u*h}}_getLabelCapacity(t){let e=this.options.time,o=e.displayFormats,a=o[e.unit]||o.millisecond,h=this._tickFormatFunction(t,0,ep(this,[t],this._majorUnit),a),p=this._getLabelSize(h),u=Math.floor(this.isHorizontal()?this.width/p.w:this.height/p.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],e,o;if(t.length)return t;let a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(e=0,o=a.length;e<o;++e)t=t.concat(a[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){let t=this._cache.labels||[],e,o;if(t.length)return t;let a=this.getLabels();for(e=0,o=a.length;e<o;++e)t.push(Jd(this,a[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Ul(t.sort(y1))}};bt(ns,"id","time"),bt(ns,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function fa(i,t,e){let o=0,a=i.length-1,h,p,u,l;e?(t>=i[o].pos&&t<=i[a].pos&&({lo:o,hi:a}=An(i,"pos",t)),{pos:h,time:u}=i[o],{pos:p,time:l}=i[a]):(t>=i[o].time&&t<=i[a].time&&({lo:o,hi:a}=An(i,"time",t)),{time:h,pos:u}=i[o],{time:p,pos:l}=i[a]);let f=p-h;return f?u+(l-u)*(t-h)/f:u}var Wo=class extends ns{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=fa(e,this.min),this._tableRange=fa(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){let{min:e,max:o}=this,a=[],h=[],p,u,l,f,m;for(p=0,u=t.length;p<u;++p)f=t[p],f>=e&&f<=o&&a.push(f);if(a.length<2)return[{time:e,pos:0},{time:o,pos:1}];for(p=0,u=a.length;p<u;++p)m=a[p+1],l=a[p-1],f=a[p],Math.round((m+l)/2)!==f&&h.push({time:f,pos:p/(u-1)});return h}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;let e=this.getDataTimestamps(),o=this.getLabelTimestamps();return e.length&&o.length?t=this.normalize(e.concat(o)):t=e.length?e:o,t=this._cache.all=t,t}getDecimalForValue(t){return(fa(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){let e=this._offsets,o=this.getDecimalForPixel(t)/e.factor-e.end;return fa(this._table,o*this._tableRange+this._minPos,!0)}};bt(Wo,"id","timeseries"),bt(Wo,"defaults",ns.defaults);var C1=Object.freeze({__proto__:null,CategoryScale:No,LinearScale:Vo,LogarithmicScale:Ho,RadialLinearScale:ts,TimeScale:ns,TimeSeriesScale:Wo}),ka=[Vx,uy,s1,C1];cn.register(...ka);var Ko=cn;var fg=Ml(kp(),1);var ue="top",Ce="bottom",ye="right",me="left",Pa="auto",Si=[ue,Ce,ye,me],Jn="start",is="end",Pp="clippingParents",Ca="viewport",Gs="popper",Cp="reference",zc=Si.reduce(function(i,t){return i.concat([t+"-"+Jn,t+"-"+is])},[]),Ma=[].concat(Si,[Pa]).reduce(function(i,t){return i.concat([t,t+"-"+Jn,t+"-"+is])},[]),M1="beforeRead",O1="read",T1="afterRead",A1="beforeMain",E1="main",D1="afterMain",L1="beforeWrite",S1="write",R1="afterWrite",Mp=[M1,O1,T1,A1,E1,D1,L1,S1,R1];function Oe(i){return i?(i.nodeName||"").toLowerCase():null}function re(i){if(i==null)return window;if(i.toString()!=="[object Window]"){var t=i.ownerDocument;return t&&t.defaultView||window}return i}function un(i){var t=re(i).Element;return i instanceof t||i instanceof Element}function Me(i){var t=re(i).HTMLElement;return i instanceof t||i instanceof HTMLElement}function Ks(i){if(typeof ShadowRoot>"u")return!1;var t=re(i).ShadowRoot;return i instanceof t||i instanceof ShadowRoot}function I1(i){var t=i.state;Object.keys(t.elements).forEach(function(e){var o=t.styles[e]||{},a=t.attributes[e]||{},h=t.elements[e];!Me(h)||!Oe(h)||(Object.assign(h.style,o),Object.keys(a).forEach(function(p){var u=a[p];u===!1?h.removeAttribute(p):h.setAttribute(p,u===!0?"":u)}))})}function F1(i){var t=i.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(o){var a=t.elements[o],h=t.attributes[o]||{},p=Object.keys(t.styles.hasOwnProperty(o)?t.styles[o]:e[o]),u=p.reduce(function(l,f){return l[f]="",l},{});!Me(a)||!Oe(a)||(Object.assign(a.style,u),Object.keys(h).forEach(function(l){a.removeAttribute(l)}))})}}var Qo={name:"applyStyles",enabled:!0,phase:"write",fn:I1,effect:F1,requires:["computeStyles"]};function Te(i){return i.split("-")[0]}var xn=Math.max,ss=Math.min,jn=Math.round;function Qs(){var i=navigator.userAgentData;return i!=null&&i.brands?i.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Zo(){return!/^((?!chrome|android).)*safari/i.test(Qs())}function hn(i,t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);var o=i.getBoundingClientRect(),a=1,h=1;t&&Me(i)&&(a=i.offsetWidth>0&&jn(o.width)/i.offsetWidth||1,h=i.offsetHeight>0&&jn(o.height)/i.offsetHeight||1);var p=un(i)?re(i):window,u=p.visualViewport,l=!Zo()&&e,f=(o.left+(l&&u?u.offsetLeft:0))/a,m=(o.top+(l&&u?u.offsetTop:0))/h,v=o.width/a,y=o.height/h;return{width:v,height:y,top:m,right:f+v,bottom:m+y,left:f,x:f,y:m}}function os(i){var t=hn(i),e=i.offsetWidth,o=i.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:i.offsetLeft,y:i.offsetTop,width:e,height:o}}function Jo(i,t){var e=t.getRootNode&&t.getRootNode();if(i.contains(t))return!0;if(e&&Ks(e)){var o=t;do{if(o&&i.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function $e(i){return re(i).getComputedStyle(i)}function Nc(i){return["table","td","th"].indexOf(Oe(i))>=0}function Ie(i){return((un(i)?i.ownerDocument:i.document)||window.document).documentElement}function ti(i){return Oe(i)==="html"?i:i.assignedSlot||i.parentNode||(Ks(i)?i.host:null)||Ie(i)}function Op(i){return!Me(i)||$e(i).position==="fixed"?null:i.offsetParent}function B1(i){var t=/firefox/i.test(Qs()),e=/Trident/i.test(Qs());if(e&&Me(i)){var o=$e(i);if(o.position==="fixed")return null}var a=ti(i);for(Ks(a)&&(a=a.host);Me(a)&&["html","body"].indexOf(Oe(a))<0;){var h=$e(a);if(h.transform!=="none"||h.perspective!=="none"||h.contain==="paint"||["transform","perspective"].indexOf(h.willChange)!==-1||t&&h.willChange==="filter"||t&&h.filter&&h.filter!=="none")return a;a=a.parentNode}return null}function _n(i){for(var t=re(i),e=Op(i);e&&Nc(e)&&$e(e).position==="static";)e=Op(e);return e&&(Oe(e)==="html"||Oe(e)==="body"&&$e(e).position==="static")?t:e||B1(i)||t}function rs(i){return["top","bottom"].indexOf(i)>=0?"x":"y"}function as(i,t,e){return xn(i,ss(t,e))}function Tp(i,t,e){var o=as(i,t,e);return o>e?e:o}function jo(){return{top:0,right:0,bottom:0,left:0}}function tr(i){return Object.assign({},jo(),i)}function er(i,t){return t.reduce(function(e,o){return e[o]=i,e},{})}var z1=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,tr(typeof t!="number"?t:er(t,Si))};function N1(i){var t,e=i.state,o=i.name,a=i.options,h=e.elements.arrow,p=e.modifiersData.popperOffsets,u=Te(e.placement),l=rs(u),f=[me,ye].indexOf(u)>=0,m=f?"height":"width";if(!(!h||!p)){var v=z1(a.padding,e),y=os(h),w=l==="y"?ue:me,P=l==="y"?Ce:ye,C=e.rects.reference[m]+e.rects.reference[l]-p[l]-e.rects.popper[m],M=p[l]-e.rects.reference[l],O=_n(h),A=O?l==="y"?O.clientHeight||0:O.clientWidth||0:0,L=C/2-M/2,E=v[w],F=A-y[m]-v[P],N=A/2-y[m]/2+L,H=as(E,N,F),W=l;e.modifiersData[o]=(t={},t[W]=H,t.centerOffset=H-N,t)}}function V1(i){var t=i.state,e=i.options,o=e.element,a=o===void 0?"[data-popper-arrow]":o;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||Jo(t.elements.popper,a)&&(t.elements.arrow=a))}var Ap={name:"arrow",enabled:!0,phase:"main",fn:N1,effect:V1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function fn(i){return i.split("-")[1]}var H1={top:"auto",right:"auto",bottom:"auto",left:"auto"};function W1(i){var t=i.x,e=i.y,o=window,a=o.devicePixelRatio||1;return{x:jn(t*a)/a||0,y:jn(e*a)/a||0}}function Ep(i){var t,e=i.popper,o=i.popperRect,a=i.placement,h=i.variation,p=i.offsets,u=i.position,l=i.gpuAcceleration,f=i.adaptive,m=i.roundOffsets,v=i.isFixed,y=p.x,w=y===void 0?0:y,P=p.y,C=P===void 0?0:P,M=typeof m=="function"?m({x:w,y:C}):{x:w,y:C};w=M.x,C=M.y;var O=p.hasOwnProperty("x"),A=p.hasOwnProperty("y"),L=me,E=ue,F=window;if(f){var N=_n(e),H="clientHeight",W="clientWidth";if(N===re(e)&&(N=Ie(e),$e(N).position!=="static"&&u==="absolute"&&(H="scrollHeight",W="scrollWidth")),N=N,a===ue||(a===me||a===ye)&&h===is){E=Ce;var G=v&&N===F&&F.visualViewport?F.visualViewport.height:N[H];C-=G-o.height,C*=l?1:-1}if(a===me||(a===ue||a===Ce)&&h===is){L=ye;var et=v&&N===F&&F.visualViewport?F.visualViewport.width:N[W];w-=et-o.width,w*=l?1:-1}}var nt=Object.assign({position:u},f&&H1),it=m===!0?W1({x:w,y:C}):{x:w,y:C};if(w=it.x,C=it.y,l){var J;return Object.assign({},nt,(J={},J[E]=A?"0":"",J[L]=O?"0":"",J.transform=(F.devicePixelRatio||1)<=1?"translate("+w+"px, "+C+"px)":"translate3d("+w+"px, "+C+"px, 0)",J))}return Object.assign({},nt,(t={},t[E]=A?C+"px":"",t[L]=O?w+"px":"",t.transform="",t))}function $1(i){var t=i.state,e=i.options,o=e.gpuAcceleration,a=o===void 0?!0:o,h=e.adaptive,p=h===void 0?!0:h,u=e.roundOffsets,l=u===void 0?!0:u;if(!1)var f;var m={placement:Te(t.placement),variation:fn(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Ep(Object.assign({},m,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:p,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Ep(Object.assign({},m,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var Dp={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:$1,data:{}};var Oa={passive:!0};function Y1(i){var t=i.state,e=i.instance,o=i.options,a=o.scroll,h=a===void 0?!0:a,p=o.resize,u=p===void 0?!0:p,l=re(t.elements.popper),f=[].concat(t.scrollParents.reference,t.scrollParents.popper);return h&&f.forEach(function(m){m.addEventListener("scroll",e.update,Oa)}),u&&l.addEventListener("resize",e.update,Oa),function(){h&&f.forEach(function(m){m.removeEventListener("scroll",e.update,Oa)}),u&&l.removeEventListener("resize",e.update,Oa)}}var Lp={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Y1,data:{}};var q1={left:"right",right:"left",bottom:"top",top:"bottom"};function Zs(i){return i.replace(/left|right|bottom|top/g,function(t){return q1[t]})}var U1={start:"end",end:"start"};function Ta(i){return i.replace(/start|end/g,function(t){return U1[t]})}function ls(i){var t=re(i),e=t.pageXOffset,o=t.pageYOffset;return{scrollLeft:e,scrollTop:o}}function cs(i){return hn(Ie(i)).left+ls(i).scrollLeft}function Vc(i,t){var e=re(i),o=Ie(i),a=e.visualViewport,h=o.clientWidth,p=o.clientHeight,u=0,l=0;if(a){h=a.width,p=a.height;var f=Zo();(f||!f&&t==="fixed")&&(u=a.offsetLeft,l=a.offsetTop)}return{width:h,height:p,x:u+cs(i),y:l}}function Hc(i){var t,e=Ie(i),o=ls(i),a=(t=i.ownerDocument)==null?void 0:t.body,h=xn(e.scrollWidth,e.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),p=xn(e.scrollHeight,e.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),u=-o.scrollLeft+cs(i),l=-o.scrollTop;return $e(a||e).direction==="rtl"&&(u+=xn(e.clientWidth,a?a.clientWidth:0)-h),{width:h,height:p,x:u,y:l}}function us(i){var t=$e(i),e=t.overflow,o=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+a+o)}function Aa(i){return["html","body","#document"].indexOf(Oe(i))>=0?i.ownerDocument.body:Me(i)&&us(i)?i:Aa(ti(i))}function Ri(i,t){var e;t===void 0&&(t=[]);var o=Aa(i),a=o===((e=i.ownerDocument)==null?void 0:e.body),h=re(o),p=a?[h].concat(h.visualViewport||[],us(o)?o:[]):o,u=t.concat(p);return a?u:u.concat(Ri(ti(p)))}function Js(i){return Object.assign({},i,{left:i.x,top:i.y,right:i.x+i.width,bottom:i.y+i.height})}function X1(i,t){var e=hn(i,!1,t==="fixed");return e.top=e.top+i.clientTop,e.left=e.left+i.clientLeft,e.bottom=e.top+i.clientHeight,e.right=e.left+i.clientWidth,e.width=i.clientWidth,e.height=i.clientHeight,e.x=e.left,e.y=e.top,e}function Sp(i,t,e){return t===Ca?Js(Vc(i,e)):un(t)?X1(t,e):Js(Hc(Ie(i)))}function G1(i){var t=Ri(ti(i)),e=["absolute","fixed"].indexOf($e(i).position)>=0,o=e&&Me(i)?_n(i):i;return un(o)?t.filter(function(a){return un(a)&&Jo(a,o)&&Oe(a)!=="body"}):[]}function Wc(i,t,e,o){var a=t==="clippingParents"?G1(i):[].concat(t),h=[].concat(a,[e]),p=h[0],u=h.reduce(function(l,f){var m=Sp(i,f,o);return l.top=xn(m.top,l.top),l.right=ss(m.right,l.right),l.bottom=ss(m.bottom,l.bottom),l.left=xn(m.left,l.left),l},Sp(i,p,o));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function nr(i){var t=i.reference,e=i.element,o=i.placement,a=o?Te(o):null,h=o?fn(o):null,p=t.x+t.width/2-e.width/2,u=t.y+t.height/2-e.height/2,l;switch(a){case ue:l={x:p,y:t.y-e.height};break;case Ce:l={x:p,y:t.y+t.height};break;case ye:l={x:t.x+t.width,y:u};break;case me:l={x:t.x-e.width,y:u};break;default:l={x:t.x,y:t.y}}var f=a?rs(a):null;if(f!=null){var m=f==="y"?"height":"width";switch(h){case Jn:l[f]=l[f]-(t[m]/2-e[m]/2);break;case is:l[f]=l[f]+(t[m]/2-e[m]/2);break;default:}}return l}function yn(i,t){t===void 0&&(t={});var e=t,o=e.placement,a=o===void 0?i.placement:o,h=e.strategy,p=h===void 0?i.strategy:h,u=e.boundary,l=u===void 0?Pp:u,f=e.rootBoundary,m=f===void 0?Ca:f,v=e.elementContext,y=v===void 0?Gs:v,w=e.altBoundary,P=w===void 0?!1:w,C=e.padding,M=C===void 0?0:C,O=tr(typeof M!="number"?M:er(M,Si)),A=y===Gs?Cp:Gs,L=i.rects.popper,E=i.elements[P?A:y],F=Wc(un(E)?E:E.contextElement||Ie(i.elements.popper),l,m,p),N=hn(i.elements.reference),H=nr({reference:N,element:L,strategy:"absolute",placement:a}),W=Js(Object.assign({},L,H)),G=y===Gs?W:N,et={top:F.top-G.top+O.top,bottom:G.bottom-F.bottom+O.bottom,left:F.left-G.left+O.left,right:G.right-F.right+O.right},nt=i.modifiersData.offset;if(y===Gs&&nt){var it=nt[a];Object.keys(et).forEach(function(J){var at=[ye,Ce].indexOf(J)>=0?1:-1,ct=[ue,Ce].indexOf(J)>=0?"y":"x";et[J]+=it[ct]*at})}return et}function $c(i,t){t===void 0&&(t={});var e=t,o=e.placement,a=e.boundary,h=e.rootBoundary,p=e.padding,u=e.flipVariations,l=e.allowedAutoPlacements,f=l===void 0?Ma:l,m=fn(o),v=m?u?zc:zc.filter(function(P){return fn(P)===m}):Si,y=v.filter(function(P){return f.indexOf(P)>=0});y.length===0&&(y=v);var w=y.reduce(function(P,C){return P[C]=yn(i,{placement:C,boundary:a,rootBoundary:h,padding:p})[Te(C)],P},{});return Object.keys(w).sort(function(P,C){return w[P]-w[C]})}function K1(i){if(Te(i)===Pa)return[];var t=Zs(i);return[Ta(i),t,Ta(t)]}function Q1(i){var t=i.state,e=i.options,o=i.name;if(!t.modifiersData[o]._skip){for(var a=e.mainAxis,h=a===void 0?!0:a,p=e.altAxis,u=p===void 0?!0:p,l=e.fallbackPlacements,f=e.padding,m=e.boundary,v=e.rootBoundary,y=e.altBoundary,w=e.flipVariations,P=w===void 0?!0:w,C=e.allowedAutoPlacements,M=t.options.placement,O=Te(M),A=O===M,L=l||(A||!P?[Zs(M)]:K1(M)),E=[M].concat(L).reduce(function(Qt,Dt){return Qt.concat(Te(Dt)===Pa?$c(t,{placement:Dt,boundary:m,rootBoundary:v,padding:f,flipVariations:P,allowedAutoPlacements:C}):Dt)},[]),F=t.rects.reference,N=t.rects.popper,H=new Map,W=!0,G=E[0],et=0;et<E.length;et++){var nt=E[et],it=Te(nt),J=fn(nt)===Jn,at=[ue,Ce].indexOf(it)>=0,ct=at?"width":"height",mt=yn(t,{placement:nt,boundary:m,rootBoundary:v,altBoundary:y,padding:f}),vt=at?J?ye:me:J?Ce:ue;F[ct]>N[ct]&&(vt=Zs(vt));var gt=Zs(vt),kt=[];if(h&&kt.push(mt[it]<=0),u&&kt.push(mt[vt]<=0,mt[gt]<=0),kt.every(function(Qt){return Qt})){G=nt,W=!1;break}H.set(nt,kt)}if(W)for(var Lt=P?3:1,Ct=function(Dt){var Wt=E.find(function(Nt){var Ae=H.get(Nt);if(Ae)return Ae.slice(0,Dt).every(function(ne){return ne})});if(Wt)return G=Wt,"break"},At=Lt;At>0;At--){var Kt=Ct(At);if(Kt==="break")break}t.placement!==G&&(t.modifiersData[o]._skip=!0,t.placement=G,t.reset=!0)}}var Rp={name:"flip",enabled:!0,phase:"main",fn:Q1,requiresIfExists:["offset"],data:{_skip:!1}};function Ip(i,t,e){return e===void 0&&(e={x:0,y:0}),{top:i.top-t.height-e.y,right:i.right-t.width+e.x,bottom:i.bottom-t.height+e.y,left:i.left-t.width-e.x}}function Fp(i){return[ue,ye,Ce,me].some(function(t){return i[t]>=0})}function Z1(i){var t=i.state,e=i.name,o=t.rects.reference,a=t.rects.popper,h=t.modifiersData.preventOverflow,p=yn(t,{elementContext:"reference"}),u=yn(t,{altBoundary:!0}),l=Ip(p,o),f=Ip(u,a,h),m=Fp(l),v=Fp(f);t.modifiersData[e]={referenceClippingOffsets:l,popperEscapeOffsets:f,isReferenceHidden:m,hasPopperEscaped:v},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":v})}var Bp={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Z1};function J1(i,t,e){var o=Te(i),a=[me,ue].indexOf(o)>=0?-1:1,h=typeof e=="function"?e(Object.assign({},t,{placement:i})):e,p=h[0],u=h[1];return p=p||0,u=(u||0)*a,[me,ye].indexOf(o)>=0?{x:u,y:p}:{x:p,y:u}}function j1(i){var t=i.state,e=i.options,o=i.name,a=e.offset,h=a===void 0?[0,0]:a,p=Ma.reduce(function(m,v){return m[v]=J1(v,t.rects,h),m},{}),u=p[t.placement],l=u.x,f=u.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=f),t.modifiersData[o]=p}var zp={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:j1};function tw(i){var t=i.state,e=i.name;t.modifiersData[e]=nr({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var Np={name:"popperOffsets",enabled:!0,phase:"read",fn:tw,data:{}};function Yc(i){return i==="x"?"y":"x"}function ew(i){var t=i.state,e=i.options,o=i.name,a=e.mainAxis,h=a===void 0?!0:a,p=e.altAxis,u=p===void 0?!1:p,l=e.boundary,f=e.rootBoundary,m=e.altBoundary,v=e.padding,y=e.tether,w=y===void 0?!0:y,P=e.tetherOffset,C=P===void 0?0:P,M=yn(t,{boundary:l,rootBoundary:f,padding:v,altBoundary:m}),O=Te(t.placement),A=fn(t.placement),L=!A,E=rs(O),F=Yc(E),N=t.modifiersData.popperOffsets,H=t.rects.reference,W=t.rects.popper,G=typeof C=="function"?C(Object.assign({},t.rects,{placement:t.placement})):C,et=typeof G=="number"?{mainAxis:G,altAxis:G}:Object.assign({mainAxis:0,altAxis:0},G),nt=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,it={x:0,y:0};if(N){if(h){var J,at=E==="y"?ue:me,ct=E==="y"?Ce:ye,mt=E==="y"?"height":"width",vt=N[E],gt=vt+M[at],kt=vt-M[ct],Lt=w?-W[mt]/2:0,Ct=A===Jn?H[mt]:W[mt],At=A===Jn?-W[mt]:-H[mt],Kt=t.elements.arrow,Qt=w&&Kt?os(Kt):{width:0,height:0},Dt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:jo(),Wt=Dt[at],Nt=Dt[ct],Ae=as(0,H[mt],Qt[mt]),ne=L?H[mt]/2-Lt-Ae-Wt-et.mainAxis:Ct-Ae-Wt-et.mainAxis,Fe=L?-H[mt]/2+Lt+Ae+Nt+et.mainAxis:At+Ae+Nt+et.mainAxis,Qe=t.elements.arrow&&_n(t.elements.arrow),dn=Qe?E==="y"?Qe.clientTop||0:Qe.clientLeft||0:0,tn=(J=nt?.[E])!=null?J:0,Fn=vt+ne-tn-dn,he=vt+Fe-tn,Ye=as(w?ss(gt,Fn):gt,vt,w?xn(kt,he):kt);N[E]=Ye,it[E]=Ye-vt}if(u){var Ut,Bn=E==="x"?ue:me,Ee=E==="x"?Ce:ye,Be=N[F],fe=F==="y"?"height":"width",kn=Be+M[Bn],en=Be-M[Ee],Pn=[ue,me].indexOf(O)!==-1,zn=(Ut=nt?.[F])!=null?Ut:0,Cn=Pn?kn:Be-H[fe]-W[fe]-zn+et.altAxis,Mn=Pn?Be+H[fe]+W[fe]-zn-et.altAxis:en,ei=w&&Pn?Tp(Cn,Be,Mn):as(w?Cn:kn,Be,w?Mn:en);N[F]=ei,it[F]=ei-Be}t.modifiersData[o]=it}}var Vp={name:"preventOverflow",enabled:!0,phase:"main",fn:ew,requiresIfExists:["offset"]};function qc(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}}function Uc(i){return i===re(i)||!Me(i)?ls(i):qc(i)}function nw(i){var t=i.getBoundingClientRect(),e=jn(t.width)/i.offsetWidth||1,o=jn(t.height)/i.offsetHeight||1;return e!==1||o!==1}function Xc(i,t,e){e===void 0&&(e=!1);var o=Me(t),a=Me(t)&&nw(t),h=Ie(t),p=hn(i,a,e),u={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(o||!o&&!e)&&((Oe(t)!=="body"||us(h))&&(u=Uc(t)),Me(t)?(l=hn(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):h&&(l.x=cs(h))),{x:p.left+u.scrollLeft-l.x,y:p.top+u.scrollTop-l.y,width:p.width,height:p.height}}function iw(i){var t=new Map,e=new Set,o=[];i.forEach(function(h){t.set(h.name,h)});function a(h){e.add(h.name);var p=[].concat(h.requires||[],h.requiresIfExists||[]);p.forEach(function(u){if(!e.has(u)){var l=t.get(u);l&&a(l)}}),o.push(h)}return i.forEach(function(h){e.has(h.name)||a(h)}),o}function Gc(i){var t=iw(i);return Mp.reduce(function(e,o){return e.concat(t.filter(function(a){return a.phase===o}))},[])}function Kc(i){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(i())})})),t}}function Qc(i){var t=i.reduce(function(e,o){var a=e[o.name];return e[o.name]=a?Object.assign({},a,o,{options:Object.assign({},a.options,o.options),data:Object.assign({},a.data,o.data)}):o,e},{});return Object.keys(t).map(function(e){return t[e]})}var Hp={placement:"bottom",modifiers:[],strategy:"absolute"};function Wp(){for(var i=arguments.length,t=new Array(i),e=0;e<i;e++)t[e]=arguments[e];return!t.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function $p(i){i===void 0&&(i={});var t=i,e=t.defaultModifiers,o=e===void 0?[]:e,a=t.defaultOptions,h=a===void 0?Hp:a;return function(u,l,f){f===void 0&&(f=h);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},Hp,h),modifiersData:{},elements:{reference:u,popper:l},attributes:{},styles:{}},v=[],y=!1,w={state:m,setOptions:function(O){var A=typeof O=="function"?O(m.options):O;C(),m.options=Object.assign({},h,m.options,A),m.scrollParents={reference:un(u)?Ri(u):u.contextElement?Ri(u.contextElement):[],popper:Ri(l)};var L=Gc(Qc([].concat(o,m.options.modifiers)));if(m.orderedModifiers=L.filter(function(nt){return nt.enabled}),!1){var E;if(getBasePlacement(m.options.placement)===auto)var F;var N,H,W,G,et}return P(),w.update()},forceUpdate:function(){if(!y){var O=m.elements,A=O.reference,L=O.popper;if(Wp(A,L)){m.rects={reference:Xc(A,_n(L),m.options.strategy==="fixed"),popper:os(L)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(nt){return m.modifiersData[nt.name]=Object.assign({},nt.data)});for(var E=0,F=0;F<m.orderedModifiers.length;F++){if(m.reset===!0){m.reset=!1,F=-1;continue}var N=m.orderedModifiers[F],H=N.fn,W=N.options,G=W===void 0?{}:W,et=N.name;typeof H=="function"&&(m=H({state:m,options:G,name:et,instance:w})||m)}}}},update:Kc(function(){return new Promise(function(M){w.forceUpdate(),M(m)})}),destroy:function(){C(),y=!0}};if(!Wp(u,l))return w;w.setOptions(f).then(function(M){!y&&f.onFirstUpdate&&f.onFirstUpdate(M)});function P(){m.orderedModifiers.forEach(function(M){var O=M.name,A=M.options,L=A===void 0?{}:A,E=M.effect;if(typeof E=="function"){var F=E({state:m,name:O,instance:w,options:L}),N=function(){};v.push(F||N)}})}function C(){v.forEach(function(M){return M()}),v=[]}return w}}var sw=[Lp,Np,Dp,Qo,zp,Rp,Vp,Ap,Bp],Zc=$p({defaultModifiers:sw});var ow="tippy-box",jp="tippy-content",rw="tippy-backdrop",tg="tippy-arrow",eg="tippy-svg-arrow",hs={passive:!0,capture:!0},ng=function(){return document.body};function Jc(i,t,e){if(Array.isArray(i)){var o=i[t];return o??(Array.isArray(e)?e[t]:e)}return i}function su(i,t){var e={}.toString.call(i);return e.indexOf("[object")===0&&e.indexOf(t+"]")>-1}function ig(i,t){return typeof i=="function"?i.apply(void 0,t):i}function Yp(i,t){if(t===0)return i;var e;return function(o){clearTimeout(e),e=setTimeout(function(){i(o)},t)}}function aw(i){return i.split(/\s+/).filter(Boolean)}function js(i){return[].concat(i)}function qp(i,t){i.indexOf(t)===-1&&i.push(t)}function lw(i){return i.filter(function(t,e){return i.indexOf(t)===e})}function cw(i){return i.split("-")[0]}function Da(i){return[].slice.call(i)}function Up(i){return Object.keys(i).reduce(function(t,e){return i[e]!==void 0&&(t[e]=i[e]),t},{})}function ir(){return document.createElement("div")}function La(i){return["Element","Fragment"].some(function(t){return su(i,t)})}function uw(i){return su(i,"NodeList")}function hw(i){return su(i,"MouseEvent")}function fw(i){return!!(i&&i._tippy&&i._tippy.reference===i)}function dw(i){return La(i)?[i]:uw(i)?Da(i):Array.isArray(i)?i:Da(document.querySelectorAll(i))}function jc(i,t){i.forEach(function(e){e&&(e.style.transitionDuration=t+"ms")})}function Xp(i,t){i.forEach(function(e){e&&e.setAttribute("data-state",t)})}function pw(i){var t,e=js(i),o=e[0];return o!=null&&(t=o.ownerDocument)!=null&&t.body?o.ownerDocument:document}function gw(i,t){var e=t.clientX,o=t.clientY;return i.every(function(a){var h=a.popperRect,p=a.popperState,u=a.props,l=u.interactiveBorder,f=cw(p.placement),m=p.modifiersData.offset;if(!m)return!0;var v=f==="bottom"?m.top.y:0,y=f==="top"?m.bottom.y:0,w=f==="right"?m.left.x:0,P=f==="left"?m.right.x:0,C=h.top-o+v>l,M=o-h.bottom-y>l,O=h.left-e+w>l,A=e-h.right-P>l;return C||M||O||A})}function tu(i,t,e){var o=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(a){i[o](a,e)})}function Gp(i,t){for(var e=t;e;){var o;if(i.contains(e))return!0;e=e.getRootNode==null||(o=e.getRootNode())==null?void 0:o.host}return!1}var In={isTouch:!1},Kp=0;function mw(){In.isTouch||(In.isTouch=!0,window.performance&&document.addEventListener("mousemove",sg))}function sg(){var i=performance.now();i-Kp<20&&(In.isTouch=!1,document.removeEventListener("mousemove",sg)),Kp=i}function bw(){var i=document.activeElement;if(fw(i)){var t=i._tippy;i.blur&&!t.state.isVisible&&i.blur()}}function vw(){document.addEventListener("touchstart",mw,hs),window.addEventListener("blur",bw)}var xw=typeof window<"u"&&typeof document<"u",_w=xw?!!window.msCrypto:!1;var yw={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},ww={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},wn=Object.assign({appendTo:ng,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},yw,ww),kw=Object.keys(wn),Pw=function(t){var e=Object.keys(t);e.forEach(function(o){wn[o]=t[o]})};function og(i){var t=i.plugins||[],e=t.reduce(function(o,a){var h=a.name,p=a.defaultValue;if(h){var u;o[h]=i[h]!==void 0?i[h]:(u=wn[h])!=null?u:p}return o},{});return Object.assign({},i,e)}function Cw(i,t){var e=t?Object.keys(og(Object.assign({},wn,{plugins:t}))):kw,o=e.reduce(function(a,h){var p=(i.getAttribute("data-tippy-"+h)||"").trim();if(!p)return a;if(h==="content")a[h]=p;else try{a[h]=JSON.parse(p)}catch{a[h]=p}return a},{});return o}function Qp(i,t){var e=Object.assign({},t,{content:ig(t.content,[i])},t.ignoreAttributes?{}:Cw(i,t.plugins));return e.aria=Object.assign({},wn.aria,e.aria),e.aria={expanded:e.aria.expanded==="auto"?t.interactive:e.aria.expanded,content:e.aria.content==="auto"?t.interactive?null:"describedby":e.aria.content},e}var Mw=function(){return"innerHTML"};function nu(i,t){i[Mw()]=t}function Zp(i){var t=ir();return i===!0?t.className=tg:(t.className=eg,La(i)?t.appendChild(i):nu(t,i)),t}function Jp(i,t){La(t.content)?(nu(i,""),i.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?nu(i,t.content):i.textContent=t.content)}function iu(i){var t=i.firstElementChild,e=Da(t.children);return{box:t,content:e.find(function(o){return o.classList.contains(jp)}),arrow:e.find(function(o){return o.classList.contains(tg)||o.classList.contains(eg)}),backdrop:e.find(function(o){return o.classList.contains(rw)})}}function rg(i){var t=ir(),e=ir();e.className=ow,e.setAttribute("data-state","hidden"),e.setAttribute("tabindex","-1");var o=ir();o.className=jp,o.setAttribute("data-state","hidden"),Jp(o,i.props),t.appendChild(e),e.appendChild(o),a(i.props,i.props);function a(h,p){var u=iu(t),l=u.box,f=u.content,m=u.arrow;p.theme?l.setAttribute("data-theme",p.theme):l.removeAttribute("data-theme"),typeof p.animation=="string"?l.setAttribute("data-animation",p.animation):l.removeAttribute("data-animation"),p.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof p.maxWidth=="number"?p.maxWidth+"px":p.maxWidth,p.role?l.setAttribute("role",p.role):l.removeAttribute("role"),(h.content!==p.content||h.allowHTML!==p.allowHTML)&&Jp(f,i.props),p.arrow?m?h.arrow!==p.arrow&&(l.removeChild(m),l.appendChild(Zp(p.arrow))):l.appendChild(Zp(p.arrow)):m&&l.removeChild(m)}return{popper:t,onUpdate:a}}rg.$$tippy=!0;var Ow=1,Ea=[],eu=[];function Tw(i,t){var e=Qp(i,Object.assign({},wn,og(Up(t)))),o,a,h,p=!1,u=!1,l=!1,f=!1,m,v,y,w=[],P=Yp(Fn,e.interactiveDebounce),C,M=Ow++,O=null,A=lw(e.plugins),L={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},E={id:M,reference:i,popper:ir(),popperInstance:O,props:e,state:L,plugins:A,clearDelayTimeouts:Cn,setProps:Mn,setContent:ei,show:Ii,hide:Fi,hideWithInteractivity:Bi,enable:Pn,disable:zn,unmount:ni,destroy:de};if(!e.render)return E;var F=e.render(E),N=F.popper,H=F.onUpdate;N.setAttribute("data-tippy-root",""),N.id="tippy-"+E.id,E.popper=N,i._tippy=E,N._tippy=E;var W=A.map(function(K){return K.fn(E)}),G=i.hasAttribute("aria-expanded");return Qe(),Lt(),vt(),gt("onCreate",[E]),e.showOnCreate&&kn(),N.addEventListener("mouseenter",function(){E.props.interactive&&E.state.isVisible&&E.clearDelayTimeouts()}),N.addEventListener("mouseleave",function(){E.props.interactive&&E.props.trigger.indexOf("mouseenter")>=0&&at().addEventListener("mousemove",P)}),E;function et(){var K=E.props.touch;return Array.isArray(K)?K:[K,0]}function nt(){return et()[0]==="hold"}function it(){var K;return!!((K=E.props.render)!=null&&K.$$tippy)}function J(){return C||i}function at(){var K=J().parentNode;return K?pw(K):document}function ct(){return iu(N)}function mt(K){return E.state.isMounted&&!E.state.isVisible||In.isTouch||m&&m.type==="focus"?0:Jc(E.props.delay,K?0:1,wn.delay)}function vt(K){K===void 0&&(K=!1),N.style.pointerEvents=E.props.interactive&&!K?"":"none",N.style.zIndex=""+E.props.zIndex}function gt(K,lt,yt){if(yt===void 0&&(yt=!0),W.forEach(function(Pt){Pt[K]&&Pt[K].apply(Pt,lt)}),yt){var Ft;(Ft=E.props)[K].apply(Ft,lt)}}function kt(){var K=E.props.aria;if(K.content){var lt="aria-"+K.content,yt=N.id,Ft=js(E.props.triggerTarget||i);Ft.forEach(function(Pt){var Xt=Pt.getAttribute(lt);if(E.state.isVisible)Pt.setAttribute(lt,Xt?Xt+" "+yt:yt);else{var te=Xt&&Xt.replace(yt,"").trim();te?Pt.setAttribute(lt,te):Pt.removeAttribute(lt)}})}}function Lt(){if(!(G||!E.props.aria.expanded)){var K=js(E.props.triggerTarget||i);K.forEach(function(lt){E.props.interactive?lt.setAttribute("aria-expanded",E.state.isVisible&&lt===J()?"true":"false"):lt.removeAttribute("aria-expanded")})}}function Ct(){at().removeEventListener("mousemove",P),Ea=Ea.filter(function(K){return K!==P})}function At(K){if(!(In.isTouch&&(l||K.type==="mousedown"))){var lt=K.composedPath&&K.composedPath()[0]||K.target;if(!(E.props.interactive&&Gp(N,lt))){if(js(E.props.triggerTarget||i).some(function(yt){return Gp(yt,lt)})){if(In.isTouch||E.state.isVisible&&E.props.trigger.indexOf("click")>=0)return}else gt("onClickOutside",[E,K]);E.props.hideOnClick===!0&&(E.clearDelayTimeouts(),E.hide(),u=!0,setTimeout(function(){u=!1}),E.state.isMounted||Wt())}}}function Kt(){l=!0}function Qt(){l=!1}function Dt(){var K=at();K.addEventListener("mousedown",At,!0),K.addEventListener("touchend",At,hs),K.addEventListener("touchstart",Qt,hs),K.addEventListener("touchmove",Kt,hs)}function Wt(){var K=at();K.removeEventListener("mousedown",At,!0),K.removeEventListener("touchend",At,hs),K.removeEventListener("touchstart",Qt,hs),K.removeEventListener("touchmove",Kt,hs)}function Nt(K,lt){ne(K,function(){!E.state.isVisible&&N.parentNode&&N.parentNode.contains(N)&&lt()})}function Ae(K,lt){ne(K,lt)}function ne(K,lt){var yt=ct().box;function Ft(Pt){Pt.target===yt&&(tu(yt,"remove",Ft),lt())}if(K===0)return lt();tu(yt,"remove",v),tu(yt,"add",Ft),v=Ft}function Fe(K,lt,yt){yt===void 0&&(yt=!1);var Ft=js(E.props.triggerTarget||i);Ft.forEach(function(Pt){Pt.addEventListener(K,lt,yt),w.push({node:Pt,eventType:K,handler:lt,options:yt})})}function Qe(){nt()&&(Fe("touchstart",tn,{passive:!0}),Fe("touchend",he,{passive:!0})),aw(E.props.trigger).forEach(function(K){if(K!=="manual")switch(Fe(K,tn),K){case"mouseenter":Fe("mouseleave",he);break;case"focus":Fe(_w?"focusout":"blur",Ye);break;case"focusin":Fe("focusout",Ye);break}})}function dn(){w.forEach(function(K){var lt=K.node,yt=K.eventType,Ft=K.handler,Pt=K.options;lt.removeEventListener(yt,Ft,Pt)}),w=[]}function tn(K){var lt,yt=!1;if(!(!E.state.isEnabled||Ut(K)||u)){var Ft=((lt=m)==null?void 0:lt.type)==="focus";m=K,C=K.currentTarget,Lt(),!E.state.isVisible&&hw(K)&&Ea.forEach(function(Pt){return Pt(K)}),K.type==="click"&&(E.props.trigger.indexOf("mouseenter")<0||p)&&E.props.hideOnClick!==!1&&E.state.isVisible?yt=!0:kn(K),K.type==="click"&&(p=!yt),yt&&!Ft&&en(K)}}function Fn(K){var lt=K.target,yt=J().contains(lt)||N.contains(lt);if(!(K.type==="mousemove"&&yt)){var Ft=fe().concat(N).map(function(Pt){var Xt,te=Pt._tippy,we=(Xt=te.popperInstance)==null?void 0:Xt.state;return we?{popperRect:Pt.getBoundingClientRect(),popperState:we,props:e}:null}).filter(Boolean);gw(Ft,K)&&(Ct(),en(K))}}function he(K){var lt=Ut(K)||E.props.trigger.indexOf("click")>=0&&p;if(!lt){if(E.props.interactive){E.hideWithInteractivity(K);return}en(K)}}function Ye(K){E.props.trigger.indexOf("focusin")<0&&K.target!==J()||E.props.interactive&&K.relatedTarget&&N.contains(K.relatedTarget)||en(K)}function Ut(K){return In.isTouch?nt()!==K.type.indexOf("touch")>=0:!1}function Bn(){Ee();var K=E.props,lt=K.popperOptions,yt=K.placement,Ft=K.offset,Pt=K.getReferenceClientRect,Xt=K.moveTransition,te=it()?iu(N).arrow:null,we=Pt?{getBoundingClientRect:Pt,contextElement:Pt.contextElement||J()}:i,ze={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(ke){var nn=ke.state;if(it()){var to=ct(),zi=to.box;["placement","reference-hidden","escaped"].forEach(function(ie){ie==="placement"?zi.setAttribute("data-placement",nn.placement):nn.attributes.popper["data-popper-"+ie]?zi.setAttribute("data-"+ie,""):zi.removeAttribute("data-"+ie)}),nn.attributes.popper={}}}},pe=[{name:"offset",options:{offset:Ft}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Xt}},ze];it()&&te&&pe.push({name:"arrow",options:{element:te,padding:3}}),pe.push.apply(pe,lt?.modifiers||[]),E.popperInstance=Zc(we,N,Object.assign({},lt,{placement:yt,onFirstUpdate:y,modifiers:pe}))}function Ee(){E.popperInstance&&(E.popperInstance.destroy(),E.popperInstance=null)}function Be(){var K=E.props.appendTo,lt,yt=J();E.props.interactive&&K===ng||K==="parent"?lt=yt.parentNode:lt=ig(K,[yt]),lt.contains(N)||lt.appendChild(N),E.state.isMounted=!0,Bn()}function fe(){return Da(N.querySelectorAll("[data-tippy-root]"))}function kn(K){E.clearDelayTimeouts(),K&&gt("onTrigger",[E,K]),Dt();var lt=mt(!0),yt=et(),Ft=yt[0],Pt=yt[1];In.isTouch&&Ft==="hold"&&Pt&&(lt=Pt),lt?o=setTimeout(function(){E.show()},lt):E.show()}function en(K){if(E.clearDelayTimeouts(),gt("onUntrigger",[E,K]),!E.state.isVisible){Wt();return}if(!(E.props.trigger.indexOf("mouseenter")>=0&&E.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(K.type)>=0&&p)){var lt=mt(!1);lt?a=setTimeout(function(){E.state.isVisible&&E.hide()},lt):h=requestAnimationFrame(function(){E.hide()})}}function Pn(){E.state.isEnabled=!0}function zn(){E.hide(),E.state.isEnabled=!1}function Cn(){clearTimeout(o),clearTimeout(a),cancelAnimationFrame(h)}function Mn(K){if(!E.state.isDestroyed){gt("onBeforeUpdate",[E,K]),dn();var lt=E.props,yt=Qp(i,Object.assign({},lt,Up(K),{ignoreAttributes:!0}));E.props=yt,Qe(),lt.interactiveDebounce!==yt.interactiveDebounce&&(Ct(),P=Yp(Fn,yt.interactiveDebounce)),lt.triggerTarget&&!yt.triggerTarget?js(lt.triggerTarget).forEach(function(Ft){Ft.removeAttribute("aria-expanded")}):yt.triggerTarget&&i.removeAttribute("aria-expanded"),Lt(),vt(),H&&H(lt,yt),E.popperInstance&&(Bn(),fe().forEach(function(Ft){requestAnimationFrame(Ft._tippy.popperInstance.forceUpdate)})),gt("onAfterUpdate",[E,K])}}function ei(K){E.setProps({content:K})}function Ii(){var K=E.state.isVisible,lt=E.state.isDestroyed,yt=!E.state.isEnabled,Ft=In.isTouch&&!E.props.touch,Pt=Jc(E.props.duration,0,wn.duration);if(!(K||lt||yt||Ft)&&!J().hasAttribute("disabled")&&(gt("onShow",[E],!1),E.props.onShow(E)!==!1)){if(E.state.isVisible=!0,it()&&(N.style.visibility="visible"),vt(),Dt(),E.state.isMounted||(N.style.transition="none"),it()){var Xt=ct(),te=Xt.box,we=Xt.content;jc([te,we],0)}y=function(){var pe;if(!(!E.state.isVisible||f)){if(f=!0,N.offsetHeight,N.style.transition=E.props.moveTransition,it()&&E.props.animation){var ii=ct(),ke=ii.box,nn=ii.content;jc([ke,nn],Pt),Xp([ke,nn],"visible")}kt(),Lt(),qp(eu,E),(pe=E.popperInstance)==null||pe.forceUpdate(),gt("onMount",[E]),E.props.animation&&it()&&Ae(Pt,function(){E.state.isShown=!0,gt("onShown",[E])})}},Be()}}function Fi(){var K=!E.state.isVisible,lt=E.state.isDestroyed,yt=!E.state.isEnabled,Ft=Jc(E.props.duration,1,wn.duration);if(!(K||lt||yt)&&(gt("onHide",[E],!1),E.props.onHide(E)!==!1)){if(E.state.isVisible=!1,E.state.isShown=!1,f=!1,p=!1,it()&&(N.style.visibility="hidden"),Ct(),Wt(),vt(!0),it()){var Pt=ct(),Xt=Pt.box,te=Pt.content;E.props.animation&&(jc([Xt,te],Ft),Xp([Xt,te],"hidden"))}kt(),Lt(),E.props.animation?it()&&Nt(Ft,E.unmount):E.unmount()}}function Bi(K){at().addEventListener("mousemove",P),qp(Ea,P),P(K)}function ni(){E.state.isVisible&&E.hide(),E.state.isMounted&&(Ee(),fe().forEach(function(K){K._tippy.unmount()}),N.parentNode&&N.parentNode.removeChild(N),eu=eu.filter(function(K){return K!==E}),E.state.isMounted=!1,gt("onHidden",[E]))}function de(){E.state.isDestroyed||(E.clearDelayTimeouts(),E.unmount(),dn(),delete i._tippy,E.state.isDestroyed=!0,gt("onDestroy",[E]))}}function sr(i,t){t===void 0&&(t={});var e=wn.plugins.concat(t.plugins||[]);vw();var o=Object.assign({},t,{plugins:e}),a=dw(i);if(!1)var h,p;var u=a.reduce(function(l,f){var m=f&&Tw(f,o);return m&&l.push(m),l},[]);return La(i)?u[0]:u}sr.defaultProps=wn;sr.setDefaultProps=Pw;sr.currentInput=In;var $C=Object.assign({},Qo,{effect:function(t){var e=t.state,o={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(e.elements.popper.style,o.popper),e.styles=o,e.elements.arrow&&Object.assign(e.elements.arrow.style,o.arrow)}});sr.setDefaultProps({render:rg});var ou=sr;function Aw(i,t){let e=i.insertCell(-1),o=document.createElement("BUTTON"),a=document.createElement("SPAN");a.classList.add("material-symbols-outlined"),a.innerText="delete",o.appendChild(a),o.classList.add("pure-button"),e.appendChild(o),o.addEventListener("click",function(h){let p=i.rowIndex;t.deleteRow(p-1)})}function au(i,t,e){let o=i.insertRow(-1);for(let a of t){let h=o.insertCell(-1);h.contentEditable="true",h.innerText=e[a]}Aw(o,i)}function ag(i,t,e,o){let a=i.tHead.rows[0].insertCell(-1),h=document.createElement("BUTTON"),p=document.createElement("SPAN");p.classList.add("material-symbols-outlined"),p.innerText="add",h.appendChild(p),h.classList.add("button-success","pure-button"),a.appendChild(h),h.addEventListener("click",function(){au(t,e,o)})}function ru(i){let t=[],e=0;for(let o of i.rows)t.push({name:o.cells[0].innerText,guestsAverage:Number(o.cells[1].innerText),guestsCV:Number(o.cells[2].innerText),wastePerGuestAverage:Number(o.cells[3].innerText),wastePerGuestCV:Number(o.cells[4].innerText),dinerPerGuestProbability:Number(o.cells[5].innerText)}),e+=1;return t}function lg(i){let t=[],e=0;for(let o of i.rows)t.push({name:o.cells[0].innerText,trueEffectMean:Number(o.cells[1].innerText),trueEffectCV:Number(o.cells[2].innerText),index:e}),e=e+1;return t}function Ew(i,t,e){let o=document.createElement("div"),a=document.createElement("h4");a.innerText="Average Food Wasted: ",o.appendChild(a);let h=document.createElement("table");o.appendChild(h),h.classList.add("pure-table-horizontal"),h.classList.add("pure-table");let p=h.createTHead().insertRow(),u=h.createTBody().insertRow();for(let l of i)p.insertCell().innerText=l.name,u.insertCell().innerText=t.averages[l.name].toFixed(2)+" kg";e.appendChild(o),o.style.margin="0 auto",o.style.width="80%"}function Dw(i,t,e){let o=document.createElement("div"),a=document.createElement("h4");a.innerText="Measured effect (% reduction): ",o.appendChild(a);let h=document.createElement("table");o.appendChild(h),h.classList.add("pure-table-horizontal"),h.classList.add("pure-table");let p=h.createTHead().insertRow(),u=h.createTBody().insertRow();for(let l of i)if(p.insertCell().innerText=l.name,l.index===0)u.insertCell().innerText=" / ";else{let f=t.effects[l.index],m=t.averages[i[0].name];if(m===0)u.insertCell().innerText=" ? ";else{let v=-(1-(m-f)/m)*100;u.insertCell().innerText=v.toFixed(2)+"%"}}e.appendChild(o),o.style.margin="0 auto",o.style.width="80%"}function Lw(i,t,e){let o=document.createElement("div"),a=document.createElement("h4");a.innerText="Significance Test (p-value): ",o.appendChild(a);let h=document.createElement("table");o.appendChild(h),h.classList.add("pure-table-horizontal"),h.classList.add("pure-table");let p=h.createTHead().insertRow(),u=h.createTBody().insertRow();for(let l of i)if(p.insertCell().innerText=l.name,l.index===0)u.insertCell().innerText=" / ";else{let f=t.p_values[l.index],m=f<.05?"green":"red";f=f<.001?"<0.001":f.toFixed(3);let v=document.createElement("span");v.innerText=f,v.style.color=m,u.insertCell().appendChild(v)}e.appendChild(o),o.style.margin="0 auto",o.style.width="80%"}var lu=[],cu=[];function cg(){return Nr[lu.findIndex((i,t)=>i.checked)].assignmentStrategy}function ug(){return Vr[cu.findIndex((i,t)=>i.checked)].analysisMethod}document.addEventListener("DOMContentLoaded",function(i){let t=document.getElementById("hotel_table"),e=["name","guestsAverage","guestsCV","wastePerGuestAverage","wastePerGuestCV","dinerPerGuestProbability"],o=t.getElementsByTagName("tbody")[0];for(let L of zr)au(o,e,L);ag(t,o,e,zr[0]),document.getElementById("export-btn").addEventListener("click",function(){let L=ru(o)});let h=document.getElementById("stimulus_table"),p=["name","trueEffectMean","trueEffectCV"],u=h.getElementsByTagName("tbody")[0];for(let L of Cs)au(u,p,L);ag(h,u,p,Cs[1]);let l=document.getElementById("weekssampled"),f=Number(l.value),m=new Array(f).fill(1),v=Array.from({length:f},(L,E)=>E);console.log(v),console.log(m);let y=document.getElementById("randomassignmentform");y.classList.add("pure-form");for(let L=0;L<Nr.length;L++){let E=Nr[L],F=document.createElement("input");F.name="assignmentStrategy",F.type="radio",F.id="assignmentStrategy"+String(L);let N=document.createElement("label");N.htmlFor=F.id,N.textContent=E.prettyName+" ",N.classList.add("pure-radio"),N.appendChild(F),y.appendChild(N),lu.push(F),ou(N,{content:E.description,placement:"auto-start"})}lu[0].checked=!0,y.appendChild(document.createElement("br"));let w=document.getElementById("analysisform");w.classList.add("pure-form");for(let L=0;L<Vr.length;L++){let E=Vr[L],F=document.createElement("input");F.name="analysisMethod",F.type="radio",F.id="analysisMethod"+String(L);let N=document.createElement("label");N.htmlFor=F.id,N.textContent=E.prettyName+" ",N.classList.add("pure-radio"),N.appendChild(F),w.appendChild(N),cu.push(F),ou(N,{content:E.description,placement:"top-start"})}cu[0].checked=!0,w.appendChild(document.createElement("br")),Ko.register(...ka,fg.default);let P=document.getElementById("weekChartContainer"),C=new Ko(P,{type:"line",data:{labels:v,datasets:[{label:"% of guests compared to average",data:m,fill:!0,borderWidth:1,pointHitRadius:25}]},options:{plugins:{title:{display:!0,text:"Weeks' variation in # of guests",align:"center",font:{size:20,family:"Helvetica"},padding:{bottom:10}},dragData:{round:2,showTooltip:!0,onDragEnd:function(L,E,F,N){}}},scales:{y:{max:3,min:0}},onHover:function(L){L.chart.getElementsAtEventForMode(L,"nearest",{intersect:!0},!1).length?L.native.target.style.cursor="grab":L.native.target.style.cursor="default"}}});l.addEventListener("change",L=>{for(f=Number(l.value);f>m.length;)m.push(1),v.push(m.length);for(;f<m.length;)m.pop(),v.pop();C.update(!1)});let M=document.getElementById("results"),O=document.getElementById("run_simulation_btn"),A=document.getElementById("run_power_btn");O.addEventListener("click",function(){O.disabled=!0,A.disabled=!0,M.replaceChildren();let L=lg(u),E=ru(o),F={};for(let Nt=0;Nt<E.length;Nt++)F[E[Nt].name]=Nt;let N=Tl(f,E,cg(),L,C.data.datasets[0].data);var H=[];for(let Nt of N)H.push(`<tr> <th> ${Nt.date} </th> <th> ${Nt.guests} </th><th> ${Nt.hotel.name} </th><th> ${Nt.meal} </th><th> ${Nt.stimulus.name} </th><th> ${Nt.totalFoodWasteObserved.toFixed(2)} </th></tr>`);let W=document.createElement("div"),G=document.createElement("h4");G.innerText="Simulated Experiment: ",W.appendChild(G),M.appendChild(W),W.classList.add("clusterize");let et=document.createElement("table"),it=et.createTHead().insertRow(-1);it.insertCell(-1).innerText="Date",it.insertCell(-1).innerText="# of guests",it.insertCell(-1).innerText="Hotel",it.insertCell(-1).innerText="Type of meal",it.insertCell(-1).innerText="Experiment",it.insertCell(-1).innerText="Kg wasted",et.classList.add("pure-table-horizontal"),et.classList.add("pure-table"),W.appendChild(et);let J=document.createElement("div");J.id="scrollAreaObservation",J.classList.add("clusterize-scroll");let at=document.createElement("table"),ct=at.createTBody();ct.classList.add("clusterize-content"),ct.id="contentAreaObservation";let mt=document.createElement("tr");mt.classList.add("clusterize-no-data");let vt=mt.insertCell(-1);vt.innerText="Loading data...",ct.appendChild(mt),J.appendChild(at),W.appendChild(J),at.classList.add("pure-table-horizontal"),at.classList.add("pure-table"),et.style.width="100%",at.style.width="100%",W.style.margin="auto";let gt=new hg.default({rows:H,scrollId:"scrollAreaObservation",contentId:"contentAreaObservation"}),kt=ug()(N,L,E,F);Ew(L,kt,M),Dw(L,kt,M),Lw(L,kt,M);let Lt=Array(L.length),Ct=0,At=0;for(let Nt of L)Lt[Nt.index]={label:Nt.name,data:[]};for(let Nt of N)Lt[Nt.stimulus.index].data.push({x:Nt.guests,y:Nt.totalFoodWasteObserved});let Qt={type:"scatter",data:{datasets:Lt},options:{scales:{x:{type:"linear",position:"bottom",text:"# of Guests"},y:{type:"linear",text:"Food wasted",ticks:{callback:function(Nt,Ae,ne){return Nt+" kg"}}}}}},Dt=document.createElement("canvas");Dt.id="scatterplot";let Wt=document.createElement("div");Wt.appendChild(Dt),Wt.style.margin="0 auto",Wt.style.width="80%",M.appendChild(Wt),Wt.scrollIntoView(),new Ko(Dt,Qt),O.disabled=!1,A.disabled=!1}),A.addEventListener("click",function(){return rf(this,null,function*(){O.disabled=!0,A.disabled=!0,M.replaceChildren();let L=document.createElement("div");L.id="myProgress";let E=document.createElement("div");E.id="myBar",E.innerText="5%",E.style.width="5%",E.style.height="30px",E.style.backgroundColor="#04AA6D",E.style.textAlign="center",E.style.lineHeight="30px",E.style.color="white",L.appendChild(E),M.appendChild(L),M.scrollIntoView(!1);let F=[],N=lg(u),H=Number(document.getElementById("weekssampled").value),W=ru(o),G=C.data.datasets[0].data,et={};for(let J=0;J<W.length;J++)et[W[J].name]=J;for(let J=0;J<100;J++){let at=Tl(H,W,cg(),N,G);F.push(ug()(at,N,W,et)),E.style.width=`${J+1}%`,E.innerText=`${J+1}%`}console.log("reading documents");let nt=["<.01","0.05","0.1","not-significant"],it={};for(let J of N)if(J.index!=0){it[J.name]={};for(let at of nt)it[J.name][at]=0}console.log(F),console.log(it);for(let J of F)for(let at of N){if(at.index==0)continue;let ct=J.p_values[at.index];console.log(`pvalue is ${ct}`),ct<.01?(console.log("<.01"),it[at.name]["<.01"]=it[at.name]["<.01"]+1):ct<.05?(console.log("<.05"),it[at.name]["0.05"]=it[at.name]["0.05"]+1):ct<.1?(console.log("<.1"),it[at.name]["0.1"]=it[at.name]["0.1"]+1):it[at.name]["not-significant"]=it[at.name]["not-significant"]+1}for(let J of N){if(J.index==0)continue;let at=document.createElement("div"),ct=document.createElement("h2");ct.innerText=`Significance of '${J.name}'`;let mt=document.createElement("canvas");at.appendChild(ct),at.appendChild(mt),mt.style.width="100px",mt.style.height="100px",at.style.width="500px";let vt=[it[J.name]["<.01"],it[J.name]["0.05"],it[J.name]["0.1"],it[J.name]["not-significant"]];console.log(vt);let gt={labels:nt,datasets:[{label:`Significance of '${J.name}'`,data:vt,hoverOffset:4}]};new Ko(mt,{type:"doughnut",data:gt,options:{aspectRatio:1,layout:{padding:{left:0,right:0,top:0,bottom:0}},responsive:!0}}),M.appendChild(at)}O.disabled=!1,A.disabled=!1})})});})();
/*! Bundled license information:

chart.js/dist/chart.js:
  (*!
   * Chart.js v3.9.1
   * https://www.chartjs.org
   * (c) 2022 Chart.js Contributors
   * Released under the MIT License
   *)
  (*!
   * @kurkle/color v0.2.1
   * https://github.com/kurkle/color#readme
   * (c) 2022 Jukka Kurkela
   * Released under the MIT License
   *)

@kurkle/color/dist/color.esm.js:
  (*!
   * @kurkle/color v0.3.2
   * https://github.com/kurkle/color#readme
   * (c) 2023 Jukka Kurkela
   * Released under the MIT License
   *)

chart.js/dist/chunks/helpers.segment.js:
  (*!
   * Chart.js v4.2.1
   * https://www.chartjs.org
   * (c) 2023 Chart.js Contributors
   * Released under the MIT License
   *)

chart.js/dist/chart.js:
  (*!
   * Chart.js v4.2.1
   * https://www.chartjs.org
   * (c) 2023 Chart.js Contributors
   * Released under the MIT License
   *)
*/
