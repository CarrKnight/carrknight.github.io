(()=>{var Cm=Object.create;var wa=Object.defineProperty;var Am=Object.getOwnPropertyDescriptor;var Tm=Object.getOwnPropertyNames;var Dm=Object.getPrototypeOf,Om=Object.prototype.hasOwnProperty;var Em=(s,t,e)=>t in s?wa(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var Wo=(s,t)=>()=>(t||s((t={exports:{}}).exports,t),t.exports);var Lm=(s,t,e,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of Tm(t))!Om.call(s,l)&&l!==e&&wa(s,l,{get:()=>t[l],enumerable:!(r=Am(t,l))||r.enumerable});return s};var ka=(s,t,e)=>(e=s!=null?Cm(Dm(s)):{},Lm(t||!s||!s.__esModule?wa(e,"default",{value:s,enumerable:!0}):e,s));var ht=(s,t,e)=>(Em(s,typeof t!="symbol"?t+"":t,e),e);var Rh=Wo((Pa,Lh)=>{(function(s,t){typeof Pa=="object"?Lh.exports=t():typeof define=="function"&&define.amd?define(t):s.jStat=t()})(Pa,function(){var s=function(t,e){var r=Array.prototype.concat,l=Array.prototype.slice,f=Object.prototype.toString;function g(T,C){var D=T>C?T:C;return t.pow(10,17-~~(t.log(D>0?D:-D)*t.LOG10E))}var h=Array.isArray||function(C){return f.call(C)==="[object Array]"};function a(T){return f.call(T)==="[object Function]"}function d(T){return typeof T=="number"?T-T===0:!1}function m(T){return r.apply([],T)}function _(){return new _._init(arguments)}_.fn=_.prototype,_._init=function(C){if(h(C[0]))if(h(C[0][0])){a(C[1])&&(C[0]=_.map(C[0],C[1]));for(var D=0;D<C[0].length;D++)this[D]=C[0][D];this.length=C[0].length}else this[0]=a(C[1])?_.map(C[0],C[1]):C[0],this.length=1;else if(d(C[0]))this[0]=_.seq.apply(null,C),this.length=1;else{if(C[0]instanceof _)return _(C[0].toArray());this[0]=[],this.length=1}return this},_._init.prototype=_.prototype,_._init.constructor=_,_.utils={calcRdx:g,isArray:h,isFunction:a,isNumber:d,toVector:m},_._random_fn=t.random,_.setRandom=function(C){if(typeof C!="function")throw new TypeError("fn is not a function");_._random_fn=C},_.extend=function(C){var D,L;if(arguments.length===1){for(L in C)_[L]=C[L];return this}for(D=1;D<arguments.length;D++)for(L in arguments[D])C[L]=arguments[D][L];return C},_.rows=function(C){return C.length||1},_.cols=function(C){return C[0].length||1},_.dimensions=function(C){return{rows:_.rows(C),cols:_.cols(C)}},_.row=function(C,D){return h(D)?D.map(function(L){return _.row(C,L)}):C[D]},_.rowa=function(C,D){return _.row(C,D)},_.col=function(C,D){if(h(D)){var L=_.arange(C.length).map(function(){return new Array(D.length)});return D.forEach(function(N,U){_.arange(C.length).forEach(function(X){L[X][U]=C[X][N]})}),L}for(var I=new Array(C.length),B=0;B<C.length;B++)I[B]=[C[B][D]];return I},_.cola=function(C,D){return _.col(C,D).map(function(L){return L[0]})},_.diag=function(C){for(var D=_.rows(C),L=new Array(D),I=0;I<D;I++)L[I]=[C[I][I]];return L},_.antidiag=function(C){for(var D=_.rows(C)-1,L=new Array(D),I=0;D>=0;D--,I++)L[I]=[C[I][D]];return L},_.transpose=function(C){var D=[],L,I,B,N,U;for(h(C[0])||(C=[C]),I=C.length,B=C[0].length,U=0;U<B;U++){for(L=new Array(I),N=0;N<I;N++)L[N]=C[N][U];D.push(L)}return D.length===1?D[0]:D},_.map=function(C,D,L){var I,B,N,U,X;for(h(C[0])||(C=[C]),B=C.length,N=C[0].length,U=L?C:new Array(B),I=0;I<B;I++)for(U[I]||(U[I]=new Array(N)),X=0;X<N;X++)U[I][X]=D(C[I][X],I,X);return U.length===1?U[0]:U},_.cumreduce=function(C,D,L){var I,B,N,U,X;for(h(C[0])||(C=[C]),B=C.length,N=C[0].length,U=L?C:new Array(B),I=0;I<B;I++)for(U[I]||(U[I]=new Array(N)),N>0&&(U[I][0]=C[I][0]),X=1;X<N;X++)U[I][X]=D(U[I][X-1],C[I][X]);return U.length===1?U[0]:U},_.alter=function(C,D){return _.map(C,D,!0)},_.create=function(C,D,L){var I=new Array(C),B,N;for(a(D)&&(L=D,D=C),B=0;B<C;B++)for(I[B]=new Array(D),N=0;N<D;N++)I[B][N]=L(B,N);return I};function y(){return 0}_.zeros=function(C,D){return d(D)||(D=C),_.create(C,D,y)};function w(){return 1}_.ones=function(C,D){return d(D)||(D=C),_.create(C,D,w)},_.rand=function(C,D){return d(D)||(D=C),_.create(C,D,_._random_fn)};function P(T,C){return T===C?1:0}_.identity=function(C,D){return d(D)||(D=C),_.create(C,D,P)},_.symmetric=function(C){var D=C.length,L,I;if(C.length!==C[0].length)return!1;for(L=0;L<D;L++)for(I=0;I<D;I++)if(C[I][L]!==C[L][I])return!1;return!0},_.clear=function(C){return _.alter(C,y)},_.seq=function(C,D,L,I){a(I)||(I=!1);var B=[],N=g(C,D),U=(D*N-C*N)/((L-1)*N),X=C,G;for(G=0;X<=D&&G<L;G++,X=(C*N+U*N*G)/N)B.push(I?I(X,G):X);return B},_.arange=function(C,D,L){var I=[],B;if(L=L||1,D===e&&(D=C,C=0),C===D||L===0)return[];if(C<D&&L<0)return[];if(C>D&&L>0)return[];if(L>0)for(B=C;B<D;B+=L)I.push(B);else for(B=C;B>D;B+=L)I.push(B);return I},_.slice=function(){function T(D,L,I,B){var N,U=[],X=D.length;if(L===e&&I===e&&B===e)return _.copy(D);if(L=L||0,I=I||D.length,L=L>=0?L:X+L,I=I>=0?I:X+I,B=B||1,L===I||B===0)return[];if(L<I&&B<0)return[];if(L>I&&B>0)return[];if(B>0)for(N=L;N<I;N+=B)U.push(D[N]);else for(N=L;N>I;N+=B)U.push(D[N]);return U}function C(D,L){var I,B;if(L=L||{},d(L.row)){if(d(L.col))return D[L.row][L.col];var N=_.rowa(D,L.row);return I=L.col||{},T(N,I.start,I.end,I.step)}if(d(L.col)){var U=_.cola(D,L.col);return B=L.row||{},T(U,B.start,B.end,B.step)}B=L.row||{},I=L.col||{};var X=T(D,B.start,B.end,B.step);return X.map(function(G){return T(G,I.start,I.end,I.step)})}return C}(),_.sliceAssign=function(C,D,L){var I,B;if(d(D.row)){if(d(D.col))return C[D.row][D.col]=L;D.col=D.col||{},D.col.start=D.col.start||0,D.col.end=D.col.end||C[0].length,D.col.step=D.col.step||1,I=_.arange(D.col.start,t.min(C.length,D.col.end),D.col.step);var N=D.row;return I.forEach(function(X,G){C[N][X]=L[G]}),C}if(d(D.col)){D.row=D.row||{},D.row.start=D.row.start||0,D.row.end=D.row.end||C.length,D.row.step=D.row.step||1,B=_.arange(D.row.start,t.min(C[0].length,D.row.end),D.row.step);var U=D.col;return B.forEach(function(X,G){C[X][U]=L[G]}),C}return L[0].length===e&&(L=[L]),D.row.start=D.row.start||0,D.row.end=D.row.end||C.length,D.row.step=D.row.step||1,D.col.start=D.col.start||0,D.col.end=D.col.end||C[0].length,D.col.step=D.col.step||1,B=_.arange(D.row.start,t.min(C.length,D.row.end),D.row.step),I=_.arange(D.col.start,t.min(C[0].length,D.col.end),D.col.step),B.forEach(function(X,G){I.forEach(function(et,it){C[X][et]=L[G][it]})}),C},_.diagonal=function(C){var D=_.zeros(C.length,C.length);return C.forEach(function(L,I){D[I][I]=L}),D},_.copy=function(C){return C.map(function(D){return d(D)?D:D.map(function(L){return L})})};var M=_.prototype;return M.length=0,M.push=Array.prototype.push,M.sort=Array.prototype.sort,M.splice=Array.prototype.splice,M.slice=Array.prototype.slice,M.toArray=function(){return this.length>1?l.call(this):l.call(this)[0]},M.map=function(C,D){return _(_.map(this,C,D))},M.cumreduce=function(C,D){return _(_.cumreduce(this,C,D))},M.alter=function(C){return _.alter(this,C),this},function(T){for(var C=0;C<T.length;C++)(function(D){M[D]=function(L){var I=this,B;return L?(setTimeout(function(){L.call(I,M[D].call(I))}),this):(B=_[D](this),h(B)?_(B):B)}})(T[C])}("transpose clear symmetric rows cols dimensions diag antidiag".split(" ")),function(T){for(var C=0;C<T.length;C++)(function(D){M[D]=function(L,I){var B=this;return I?(setTimeout(function(){I.call(B,M[D].call(B,L))}),this):_(_[D](this,L))}})(T[C])}("row col".split(" ")),function(T){for(var C=0;C<T.length;C++)(function(D){M[D]=function(){return _(_[D].apply(null,arguments))}})(T[C])}("create zeros ones rand identity".split(" ")),_}(Math);return function(t,e){var r=t.utils.isFunction;function l(h,a){return h-a}function f(h,a,d){return e.max(a,e.min(h,d))}t.sum=function(a){for(var d=0,m=a.length;--m>=0;)d+=a[m];return d},t.sumsqrd=function(a){for(var d=0,m=a.length;--m>=0;)d+=a[m]*a[m];return d},t.sumsqerr=function(a){for(var d=t.mean(a),m=0,_=a.length,y;--_>=0;)y=a[_]-d,m+=y*y;return m},t.sumrow=function(a){for(var d=0,m=a.length;--m>=0;)d+=a[m];return d},t.product=function(a){for(var d=1,m=a.length;--m>=0;)d*=a[m];return d},t.min=function(a){for(var d=a[0],m=0;++m<a.length;)a[m]<d&&(d=a[m]);return d},t.max=function(a){for(var d=a[0],m=0;++m<a.length;)a[m]>d&&(d=a[m]);return d},t.unique=function(a){for(var d={},m=[],_=0;_<a.length;_++)d[a[_]]||(d[a[_]]=!0,m.push(a[_]));return m},t.mean=function(a){return t.sum(a)/a.length},t.meansqerr=function(a){return t.sumsqerr(a)/a.length},t.geomean=function(a){var d=a.map(e.log),m=t.mean(d);return e.exp(m)},t.median=function(a){var d=a.length,m=a.slice().sort(l);return d&1?m[d/2|0]:(m[d/2-1]+m[d/2])/2},t.cumsum=function(a){return t.cumreduce(a,function(d,m){return d+m})},t.cumprod=function(a){return t.cumreduce(a,function(d,m){return d*m})},t.diff=function(a){var d=[],m=a.length,_;for(_=1;_<m;_++)d.push(a[_]-a[_-1]);return d},t.rank=function(h){var a,d=[],m={};for(a=0;a<h.length;a++){var _=h[a];m[_]?m[_]++:(m[_]=1,d.push(_))}var y=d.sort(l),w={},P=1;for(a=0;a<y.length;a++){var _=y[a],M=m[_],T=P,C=P+M-1,D=(T+C)/2;w[_]=D,P+=M}return h.map(function(L){return w[L]})},t.mode=function(a){var d=a.length,m=a.slice().sort(l),_=1,y=0,w=0,P=[],M;for(M=0;M<d;M++)m[M]===m[M+1]?_++:(_>y?(P=[m[M]],y=_,w=0):_===y&&(P.push(m[M]),w++),_=1);return w===0?P[0]:P},t.range=function(a){return t.max(a)-t.min(a)},t.variance=function(a,d){return t.sumsqerr(a)/(a.length-(d?1:0))},t.pooledvariance=function(a){var d=a.reduce(function(_,y){return _+t.sumsqerr(y)},0),m=a.reduce(function(_,y){return _+y.length},0);return d/(m-a.length)},t.deviation=function(h){for(var a=t.mean(h),d=h.length,m=new Array(d),_=0;_<d;_++)m[_]=h[_]-a;return m},t.stdev=function(a,d){return e.sqrt(t.variance(a,d))},t.pooledstdev=function(a){return e.sqrt(t.pooledvariance(a))},t.meandev=function(a){for(var d=t.mean(a),m=[],_=a.length-1;_>=0;_--)m.push(e.abs(a[_]-d));return t.mean(m)},t.meddev=function(a){for(var d=t.median(a),m=[],_=a.length-1;_>=0;_--)m.push(e.abs(a[_]-d));return t.median(m)},t.coeffvar=function(a){return t.stdev(a)/t.mean(a)},t.quartiles=function(a){var d=a.length,m=a.slice().sort(l);return[m[e.round(d/4)-1],m[e.round(d/2)-1],m[e.round(d*3/4)-1]]},t.quantiles=function(a,d,m,_){var y=a.slice().sort(l),w=[d.length],P=a.length,M,T,C,D,L,I;for(typeof m>"u"&&(m=3/8),typeof _>"u"&&(_=3/8),M=0;M<d.length;M++)T=d[M],C=m+T*(1-m-_),D=P*T+C,L=e.floor(f(D,1,P-1)),I=f(D-L,0,1),w[M]=(1-I)*y[L-1]+I*y[L];return w},t.percentile=function(a,d,m){var _=a.slice().sort(l),y=d*(_.length+(m?1:-1))+(m?0:1),w=parseInt(y),P=y-w;return w+1<_.length?_[w-1]+P*(_[w]-_[w-1]):_[w-1]},t.percentileOfScore=function(a,d,m){var _=0,y=a.length,w=!1,P,M;for(m==="strict"&&(w=!0),M=0;M<y;M++)P=a[M],(w&&P<d||!w&&P<=d)&&_++;return _/y},t.histogram=function(a,d){d=d||4;var m=t.min(a),_=(t.max(a)-m)/d,y=a.length,w=[],P;for(P=0;P<d;P++)w[P]=0;for(P=0;P<y;P++)w[e.min(e.floor((a[P]-m)/_),d-1)]+=1;return w},t.covariance=function(a,d){var m=t.mean(a),_=t.mean(d),y=a.length,w=new Array(y),P;for(P=0;P<y;P++)w[P]=(a[P]-m)*(d[P]-_);return t.sum(w)/(y-1)},t.corrcoeff=function(a,d){return t.covariance(a,d)/t.stdev(a,1)/t.stdev(d,1)},t.spearmancoeff=function(h,a){return h=t.rank(h),a=t.rank(a),t.corrcoeff(h,a)},t.stanMoment=function(a,d){for(var m=t.mean(a),_=t.stdev(a),y=a.length,w=0,P=0;P<y;P++)w+=e.pow((a[P]-m)/_,d);return w/a.length},t.skewness=function(a){return t.stanMoment(a,3)},t.kurtosis=function(a){return t.stanMoment(a,4)-3};var g=t.prototype;(function(h){for(var a=0;a<h.length;a++)(function(d){g[d]=function(m,_){var y=[],w=0,P=this;if(r(m)&&(_=m,m=!1),_)return setTimeout(function(){_.call(P,g[d].call(P,m))}),this;if(this.length>1){for(P=m===!0?this:this.transpose();w<P.length;w++)y[w]=t[d](P[w]);return y}return t[d](this[0],m)}})(h[a])})("cumsum cumprod".split(" ")),function(h){for(var a=0;a<h.length;a++)(function(d){g[d]=function(m,_){var y=[],w=0,P=this;if(r(m)&&(_=m,m=!1),_)return setTimeout(function(){_.call(P,g[d].call(P,m))}),this;if(this.length>1){for(d!=="sumrow"&&(P=m===!0?this:this.transpose());w<P.length;w++)y[w]=t[d](P[w]);return m===!0?t[d](t.utils.toVector(y)):y}return t[d](this[0],m)}})(h[a])}("sum sumsqrd sumsqerr sumrow product min max unique mean meansqerr geomean median diff rank mode range variance deviation stdev meandev meddev coeffvar quartiles histogram skewness kurtosis".split(" ")),function(h){for(var a=0;a<h.length;a++)(function(d){g[d]=function(){var m=[],_=0,y=this,w=Array.prototype.slice.call(arguments),P;if(r(w[w.length-1])){P=w[w.length-1];var M=w.slice(0,w.length-1);return setTimeout(function(){P.call(y,g[d].apply(y,M))}),this}else{P=void 0;var T=function(D){return t[d].apply(y,[D].concat(w))}}if(this.length>1){for(y=y.transpose();_<y.length;_++)m[_]=T(y[_]);return m}return T(this[0])}})(h[a])}("quantiles percentileOfScore".split(" "))}(s,Math),function(t,e){t.gammaln=function(l){var f=0,g=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],h=1.000000000190015,a,d,m;for(m=(d=a=l)+5.5,m-=(a+.5)*e.log(m);f<6;f++)h+=g[f]/++d;return e.log(2.5066282746310007*h/a)-m},t.loggam=function(l){var f,g,h,a,d,m,_,y=[.08333333333333333,-.002777777777777778,.0007936507936507937,-.0005952380952380952,.0008417508417508418,-.001917526917526918,.00641025641025641,-.02955065359477124,.1796443723688307,-1.3924322169059];if(f=l,_=0,l==1||l==2)return 0;for(l<=7&&(_=e.floor(7-l),f=l+_),g=1/(f*f),h=2*e.PI,d=y[9],m=8;m>=0;m--)d*=g,d+=y[m];if(a=d/f+.5*e.log(h)+(f-.5)*e.log(f)-f,l<=7)for(m=1;m<=_;m++)a-=e.log(f-1),f-=1;return a},t.gammafn=function(l){var f=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054],g=[-30.8402300119739,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.11842098015,4755.846277527881,-134659.9598649693,-115132.2596755535],h=!1,a=0,d=0,m=0,_=l,y,w,P,M;if(l>171.6243769536076)return 1/0;if(_<=0)if(M=_%1+36e-17,M)h=(_&1?-1:1)*e.PI/e.sin(e.PI*M),_=1-_;else return 1/0;for(P=_,_<1?w=_++:w=(_-=a=(_|0)-1)-1,y=0;y<8;++y)m=(m+f[y])*w,d=d*w+g[y];if(M=m/d+1,P<_)M/=P;else if(P>_)for(y=0;y<a;++y)M*=_,_++;return h&&(M=h/M),M},t.gammap=function(l,f){return t.lowRegGamma(l,f)*t.gammafn(l)},t.lowRegGamma=function(l,f){var g=t.gammaln(l),h=l,a=1/l,d=a,m=f+1-l,_=1/1e-30,y=1/m,w=y,P=1,M=-~(e.log(l>=1?l:1/l)*8.5+l*.4+17),T;if(f<0||l<=0)return NaN;if(f<l+1){for(;P<=M;P++)a+=d*=f/++h;return a*e.exp(-f+l*e.log(f)-g)}for(;P<=M;P++)T=-P*(P-l),m+=2,y=T*y+m,_=m+T/_,y=1/y,w*=y*_;return 1-w*e.exp(-f+l*e.log(f)-g)},t.factorialln=function(l){return l<0?NaN:t.gammaln(l+1)},t.factorial=function(l){return l<0?NaN:t.gammafn(l+1)},t.combination=function(l,f){return l>170||f>170?e.exp(t.combinationln(l,f)):t.factorial(l)/t.factorial(f)/t.factorial(l-f)},t.combinationln=function(l,f){return t.factorialln(l)-t.factorialln(f)-t.factorialln(l-f)},t.permutation=function(l,f){return t.factorial(l)/t.factorial(l-f)},t.betafn=function(l,f){if(!(l<=0||f<=0))return l+f>170?e.exp(t.betaln(l,f)):t.gammafn(l)*t.gammafn(f)/t.gammafn(l+f)},t.betaln=function(l,f){return t.gammaln(l)+t.gammaln(f)-t.gammaln(l+f)},t.betacf=function(l,f,g){var h=1e-30,a=1,d=f+g,m=f+1,_=f-1,y=1,w=1-d*l/m,P,M,T,C;for(e.abs(w)<h&&(w=h),w=1/w,C=w;a<=100&&(P=2*a,M=a*(g-a)*l/((_+P)*(f+P)),w=1+M*w,e.abs(w)<h&&(w=h),y=1+M/y,e.abs(y)<h&&(y=h),w=1/w,C*=w*y,M=-(f+a)*(d+a)*l/((f+P)*(m+P)),w=1+M*w,e.abs(w)<h&&(w=h),y=1+M/y,e.abs(y)<h&&(y=h),w=1/w,T=w*y,C*=T,!(e.abs(T-1)<3e-7));a++);return C},t.gammapinv=function(l,f){var g=0,h=f-1,a=1e-8,d=t.gammaln(f),m,_,y,w,P,M,T;if(l>=1)return e.max(100,f+100*e.sqrt(f));if(l<=0)return 0;for(f>1?(M=e.log(h),T=e.exp(h*(M-1)-d),P=l<.5?l:1-l,y=e.sqrt(-2*e.log(P)),m=(2.30753+y*.27061)/(1+y*(.99229+y*.04481))-y,l<.5&&(m=-m),m=e.max(.001,f*e.pow(1-1/(9*f)-m/(3*e.sqrt(f)),3))):(y=1-f*(.253+f*.12),l<y?m=e.pow(l/y,1/f):m=1-e.log(1-(l-y)/(1-y)));g<12;g++){if(m<=0)return 0;if(_=t.lowRegGamma(f,m)-l,f>1?y=T*e.exp(-(m-h)+h*(e.log(m)-M)):y=e.exp(-m+h*e.log(m)-d),w=_/y,m-=y=w/(1-.5*e.min(1,w*((f-1)/m-1))),m<=0&&(m=.5*(m+y)),e.abs(y)<a*m)break}return m},t.erf=function(l){var f=[-1.3026537197817094,.6419697923564902,.019476473204185836,-.00956151478680863,-.000946595344482036,.000366839497852761,42523324806907e-18,-20278578112534e-18,-1624290004647e-18,130365583558e-17,15626441722e-18,-85238095915e-18,6529054439e-18,5059343495e-18,-991364156e-18,-227365122e-18,96467911e-18,2394038e-18,-6886027e-18,894487e-18,313092e-18,-112708e-18,381e-18,7106e-18,-1523e-18,-94e-18,121e-18,-28e-18],g=f.length-1,h=!1,a=0,d=0,m,_,y,w;for(l<0&&(l=-l,h=!0),m=2/(2+l),_=4*m-2;g>0;g--)y=a,a=_*a-d+f[g],d=y;return w=m*e.exp(-l*l+.5*(f[0]+_*a)-d),h?w-1:1-w},t.erfc=function(l){return 1-t.erf(l)},t.erfcinv=function(l){var f=0,g,h,a,d;if(l>=2)return-100;if(l<=0)return 100;for(d=l<1?l:2-l,a=e.sqrt(-2*e.log(d/2)),g=-.70711*((2.30753+a*.27061)/(1+a*(.99229+a*.04481))-a);f<2;f++)h=t.erfc(g)-d,g+=h/(1.1283791670955126*e.exp(-g*g)-g*h);return l<1?g:-g},t.ibetainv=function(l,f,g){var h=1e-8,a=f-1,d=g-1,m=0,_,y,w,P,M,T,C,D,L,I,B;if(l<=0)return 0;if(l>=1)return 1;for(f>=1&&g>=1?(w=l<.5?l:1-l,P=e.sqrt(-2*e.log(w)),C=(2.30753+P*.27061)/(1+P*(.99229+P*.04481))-P,l<.5&&(C=-C),D=(C*C-3)/6,L=2/(1/(2*f-1)+1/(2*g-1)),I=C*e.sqrt(D+L)/L-(1/(2*g-1)-1/(2*f-1))*(D+5/6-2/(3*L)),C=f/(f+g*e.exp(2*I))):(_=e.log(f/(f+g)),y=e.log(g/(f+g)),P=e.exp(f*_)/f,M=e.exp(g*y)/g,I=P+M,l<P/I?C=e.pow(f*I*l,1/f):C=1-e.pow(g*I*(1-l),1/g)),B=-t.gammaln(f)-t.gammaln(g)+t.gammaln(f+g);m<10;m++){if(C===0||C===1)return C;if(T=t.ibeta(C,f,g)-l,P=e.exp(a*e.log(C)+d*e.log(1-C)+B),M=T/P,C-=P=M/(1-.5*e.min(1,M*(a/C-d/(1-C)))),C<=0&&(C=.5*(C+P)),C>=1&&(C=.5*(C+P+1)),e.abs(P)<h*C&&m>0)break}return C},t.ibeta=function(l,f,g){var h=l===0||l===1?0:e.exp(t.gammaln(f+g)-t.gammaln(f)-t.gammaln(g)+f*e.log(l)+g*e.log(1-l));return l<0||l>1?!1:l<(f+1)/(f+g+2)?h*t.betacf(l,f,g)/f:1-h*t.betacf(1-l,g,f)/g},t.randn=function(l,f){var g,h,a,d,m;if(f||(f=l),l)return t.create(l,f,function(){return t.randn()});do g=t._random_fn(),h=1.7156*(t._random_fn()-.5),a=g-.449871,d=e.abs(h)+.386595,m=a*a+d*(.196*d-.25472*a);while(m>.27597&&(m>.27846||h*h>-4*e.log(g)*g*g));return h/g},t.randg=function(l,f,g){var h=l,a,d,m,_,y,w;if(g||(g=f),l||(l=1),f)return w=t.zeros(f,g),w.alter(function(){return t.randg(l)}),w;l<1&&(l+=1),a=l-1/3,d=1/e.sqrt(9*a);do{do y=t.randn(),_=1+d*y;while(_<=0);_=_*_*_,m=t._random_fn()}while(m>1-.331*e.pow(y,4)&&e.log(m)>.5*y*y+a*(1-_+e.log(_)));if(l==h)return a*_;do m=t._random_fn();while(m===0);return e.pow(m,1/h)*a*_},function(r){for(var l=0;l<r.length;l++)(function(f){t.fn[f]=function(){return t(t.map(this,function(g){return t[f](g)}))}})(r[l])}("gammaln gammafn factorial factorialln".split(" ")),function(r){for(var l=0;l<r.length;l++)(function(f){t.fn[f]=function(){return t(t[f].apply(null,arguments))}})(r[l])}("randn".split(" "))}(s,Math),function(t,e){(function(h){for(var a=0;a<h.length;a++)(function(d){t[d]=function m(_,y,w){return this instanceof m?(this._a=_,this._b=y,this._c=w,this):new m(_,y,w)},t.fn[d]=function(m,_,y){var w=t[d](m,_,y);return w.data=this,w},t[d].prototype.sample=function(m){var _=this._a,y=this._b,w=this._c;return m?t.alter(m,function(){return t[d].sample(_,y,w)}):t[d].sample(_,y,w)},function(m){for(var _=0;_<m.length;_++)(function(y){t[d].prototype[y]=function(w){var P=this._a,M=this._b,T=this._c;return!w&&w!==0&&(w=this.data),typeof w!="number"?t.fn.map.call(w,function(C){return t[d][y](C,P,M,T)}):t[d][y](w,P,M,T)}})(m[_])}("pdf cdf inv".split(" ")),function(m){for(var _=0;_<m.length;_++)(function(y){t[d].prototype[y]=function(){return t[d][y](this._a,this._b,this._c)}})(m[_])}("mean median mode variance".split(" "))})(h[a])})("beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy laplace lognormal noncentralt normal pareto studentt weibull uniform binomial negbin hypgeom poisson triangular tukey arcsine".split(" ")),t.extend(t.beta,{pdf:function(a,d,m){return a>1||a<0?0:d==1&&m==1?1:d<512&&m<512?e.pow(a,d-1)*e.pow(1-a,m-1)/t.betafn(d,m):e.exp((d-1)*e.log(a)+(m-1)*e.log(1-a)-t.betaln(d,m))},cdf:function(a,d,m){return a>1||a<0?(a>1)*1:t.ibeta(a,d,m)},inv:function(a,d,m){return t.ibetainv(a,d,m)},mean:function(a,d){return a/(a+d)},median:function(a,d){return t.ibetainv(.5,a,d)},mode:function(a,d){return(a-1)/(a+d-2)},sample:function(a,d){var m=t.randg(a);return m/(m+t.randg(d))},variance:function(a,d){return a*d/(e.pow(a+d,2)*(a+d+1))}}),t.extend(t.centralF,{pdf:function(a,d,m){var _,y,w;return a<0?0:d<=2?a===0&&d<2?1/0:a===0&&d===2?1:1/t.betafn(d/2,m/2)*e.pow(d/m,d/2)*e.pow(a,d/2-1)*e.pow(1+d/m*a,-(d+m)/2):(_=d*a/(m+a*d),y=m/(m+a*d),w=d*y/2,w*t.binomial.pdf((d-2)/2,(d+m-2)/2,_))},cdf:function(a,d,m){return a<0?0:t.ibeta(d*a/(d*a+m),d/2,m/2)},inv:function(a,d,m){return m/(d*(1/t.ibetainv(a,d/2,m/2)-1))},mean:function(a,d){return d>2?d/(d-2):void 0},mode:function(a,d){return a>2?d*(a-2)/(a*(d+2)):void 0},sample:function(a,d){var m=t.randg(a/2)*2,_=t.randg(d/2)*2;return m/a/(_/d)},variance:function(a,d){if(!(d<=4))return 2*d*d*(a+d-2)/(a*(d-2)*(d-2)*(d-4))}}),t.extend(t.cauchy,{pdf:function(a,d,m){return m<0?0:m/(e.pow(a-d,2)+e.pow(m,2))/e.PI},cdf:function(a,d,m){return e.atan((a-d)/m)/e.PI+.5},inv:function(h,a,d){return a+d*e.tan(e.PI*(h-.5))},median:function(a){return a},mode:function(a){return a},sample:function(a,d){return t.randn()*e.sqrt(1/(2*t.randg(.5)))*d+a}}),t.extend(t.chisquare,{pdf:function(a,d){return a<0?0:a===0&&d===2?.5:e.exp((d/2-1)*e.log(a)-a/2-d/2*e.log(2)-t.gammaln(d/2))},cdf:function(a,d){return a<0?0:t.lowRegGamma(d/2,a/2)},inv:function(h,a){return 2*t.gammapinv(h,.5*a)},mean:function(h){return h},median:function(a){return a*e.pow(1-2/(9*a),3)},mode:function(a){return a-2>0?a-2:0},sample:function(a){return t.randg(a/2)*2},variance:function(a){return 2*a}}),t.extend(t.exponential,{pdf:function(a,d){return a<0?0:d*e.exp(-d*a)},cdf:function(a,d){return a<0?0:1-e.exp(-d*a)},inv:function(h,a){return-e.log(1-h)/a},mean:function(h){return 1/h},median:function(h){return 1/h*e.log(2)},mode:function(){return 0},sample:function(a){return-1/a*e.log(t._random_fn())},variance:function(h){return e.pow(h,-2)}}),t.extend(t.gamma,{pdf:function(a,d,m){return a<0?0:a===0&&d===1?1/m:e.exp((d-1)*e.log(a)-a/m-t.gammaln(d)-d*e.log(m))},cdf:function(a,d,m){return a<0?0:t.lowRegGamma(d,a/m)},inv:function(h,a,d){return t.gammapinv(h,a)*d},mean:function(h,a){return h*a},mode:function(a,d){if(a>1)return(a-1)*d},sample:function(a,d){return t.randg(a)*d},variance:function(a,d){return a*d*d}}),t.extend(t.invgamma,{pdf:function(a,d,m){return a<=0?0:e.exp(-(d+1)*e.log(a)-m/a-t.gammaln(d)+d*e.log(m))},cdf:function(a,d,m){return a<=0?0:1-t.lowRegGamma(d,m/a)},inv:function(h,a,d){return d/t.gammapinv(1-h,a)},mean:function(h,a){return h>1?a/(h-1):void 0},mode:function(a,d){return d/(a+1)},sample:function(a,d){return d/t.randg(a)},variance:function(a,d){if(!(a<=2))return d*d/((a-1)*(a-1)*(a-2))}}),t.extend(t.kumaraswamy,{pdf:function(a,d,m){return a===0&&d===1?m:a===1&&m===1?d:e.exp(e.log(d)+e.log(m)+(d-1)*e.log(a)+(m-1)*e.log(1-e.pow(a,d)))},cdf:function(a,d,m){return a<0?0:a>1?1:1-e.pow(1-e.pow(a,d),m)},inv:function(a,d,m){return e.pow(1-e.pow(1-a,1/m),1/d)},mean:function(h,a){return a*t.gammafn(1+1/h)*t.gammafn(a)/t.gammafn(1+1/h+a)},median:function(a,d){return e.pow(1-e.pow(2,-1/d),1/a)},mode:function(a,d){if(a>=1&&d>=1&&a!==1&&d!==1)return e.pow((a-1)/(a*d-1),1/a)},variance:function(){throw new Error("variance not yet implemented")}}),t.extend(t.lognormal,{pdf:function(a,d,m){return a<=0?0:e.exp(-e.log(a)-.5*e.log(2*e.PI)-e.log(m)-e.pow(e.log(a)-d,2)/(2*m*m))},cdf:function(a,d,m){return a<0?0:.5+.5*t.erf((e.log(a)-d)/e.sqrt(2*m*m))},inv:function(h,a,d){return e.exp(-1.4142135623730951*d*t.erfcinv(2*h)+a)},mean:function(a,d){return e.exp(a+d*d/2)},median:function(a){return e.exp(a)},mode:function(a,d){return e.exp(a-d*d)},sample:function(a,d){return e.exp(t.randn()*d+a)},variance:function(a,d){return(e.exp(d*d)-1)*e.exp(2*a+d*d)}}),t.extend(t.noncentralt,{pdf:function(a,d,m){var _=1e-14;return e.abs(m)<_?t.studentt.pdf(a,d):e.abs(a)<_?e.exp(t.gammaln((d+1)/2)-m*m/2-.5*e.log(e.PI*d)-t.gammaln(d/2)):d/a*(t.noncentralt.cdf(a*e.sqrt(1+2/d),d+2,m)-t.noncentralt.cdf(a,d,m))},cdf:function(a,d,m){var _=1e-14,y=200;if(e.abs(m)<_)return t.studentt.cdf(a,d);var w=!1;a<0&&(w=!0,m=-m);for(var P=t.normal.cdf(-m,0,1),M=_+1,T=M,C=a*a/(a*a+d),D=0,L=e.exp(-m*m/2),I=e.exp(-m*m/2-.5*e.log(2)-t.gammaln(3/2))*m;D<y||T>_||M>_;)T=M,D>0&&(L*=m*m/(2*D),I*=m*m/(2*(D+1/2))),M=L*t.beta.cdf(C,D+.5,d/2)+I*t.beta.cdf(C,D+1,d/2),P+=.5*M,D++;return w?1-P:P}}),t.extend(t.normal,{pdf:function(a,d,m){return e.exp(-.5*e.log(2*e.PI)-e.log(m)-e.pow(a-d,2)/(2*m*m))},cdf:function(a,d,m){return .5*(1+t.erf((a-d)/e.sqrt(2*m*m)))},inv:function(h,a,d){return-1.4142135623730951*d*t.erfcinv(2*h)+a},mean:function(h){return h},median:function(a){return a},mode:function(h){return h},sample:function(a,d){return t.randn()*d+a},variance:function(h,a){return a*a}}),t.extend(t.pareto,{pdf:function(a,d,m){return a<d?0:m*e.pow(d,m)/e.pow(a,m+1)},cdf:function(a,d,m){return a<d?0:1-e.pow(d/a,m)},inv:function(a,d,m){return d/e.pow(1-a,1/m)},mean:function(a,d){if(!(d<=1))return d*e.pow(a,d)/(d-1)},median:function(a,d){return a*(d*e.SQRT2)},mode:function(a){return a},variance:function(h,a){if(!(a<=2))return h*h*a/(e.pow(a-1,2)*(a-2))}}),t.extend(t.studentt,{pdf:function(a,d){return d=d>1e100?1e100:d,1/(e.sqrt(d)*t.betafn(.5,d/2))*e.pow(1+a*a/d,-((d+1)/2))},cdf:function(a,d){var m=d/2;return t.ibeta((a+e.sqrt(a*a+d))/(2*e.sqrt(a*a+d)),m,m)},inv:function(h,a){var d=t.ibetainv(2*e.min(h,1-h),.5*a,.5);return d=e.sqrt(a*(1-d)/d),h>.5?d:-d},mean:function(a){return a>1?0:void 0},median:function(){return 0},mode:function(){return 0},sample:function(a){return t.randn()*e.sqrt(a/(2*t.randg(a/2)))},variance:function(a){return a>2?a/(a-2):a>1?1/0:void 0}}),t.extend(t.weibull,{pdf:function(a,d,m){return a<0||d<0||m<0?0:m/d*e.pow(a/d,m-1)*e.exp(-e.pow(a/d,m))},cdf:function(a,d,m){return a<0?0:1-e.exp(-e.pow(a/d,m))},inv:function(h,a,d){return a*e.pow(-e.log(1-h),1/d)},mean:function(h,a){return h*t.gammafn(1+1/a)},median:function(a,d){return a*e.pow(e.log(2),1/d)},mode:function(a,d){return d<=1?0:a*e.pow((d-1)/d,1/d)},sample:function(a,d){return a*e.pow(-e.log(t._random_fn()),1/d)},variance:function(a,d){return a*a*t.gammafn(1+2/d)-e.pow(t.weibull.mean(a,d),2)}}),t.extend(t.uniform,{pdf:function(a,d,m){return a<d||a>m?0:1/(m-d)},cdf:function(a,d,m){return a<d?0:a<m?(a-d)/(m-d):1},inv:function(h,a,d){return a+h*(d-a)},mean:function(a,d){return .5*(a+d)},median:function(a,d){return t.mean(a,d)},mode:function(){throw new Error("mode is not yet implemented")},sample:function(a,d){return a/2+d/2+(d/2-a/2)*(2*t._random_fn()-1)},variance:function(a,d){return e.pow(d-a,2)/12}});function r(h,a,d,m){for(var _=0,y=1,w=1,P=1,M=0,T=0,C;e.abs((w-T)/w)>m;)T=w,C=-(a+M)*(a+d+M)*h/(a+2*M)/(a+2*M+1),_=w+C*_,y=P+C*y,M=M+1,C=M*(d-M)*h/(a+2*M-1)/(a+2*M),w=_+C*w,P=y+C*P,_=_/P,y=y/P,w=w/P,P=1;return w/a}t.extend(t.binomial,{pdf:function(a,d,m){return m===0||m===1?d*m===a?1:0:t.combination(d,a)*e.pow(m,a)*e.pow(1-m,d-a)},cdf:function(a,d,m){var _,y=1e-10;if(a<0)return 0;if(a>=d)return 1;if(m<0||m>1||d<=0)return NaN;a=e.floor(a);var w=m,P=a+1,M=d-a,T=P+M,C=e.exp(t.gammaln(T)-t.gammaln(M)-t.gammaln(P)+P*e.log(w)+M*e.log(1-w));return w<(P+1)/(T+2)?_=C*r(w,P,M,y):_=1-C*r(1-w,M,P,y),e.round((1-_)*(1/y))/(1/y)}}),t.extend(t.negbin,{pdf:function(a,d,m){return a!==a>>>0?!1:a<0?0:t.combination(a+d-1,d-1)*e.pow(1-m,a)*e.pow(m,d)},cdf:function(a,d,m){var _=0,y=0;if(a<0)return 0;for(;y<=a;y++)_+=t.negbin.pdf(y,d,m);return _}}),t.extend(t.hypgeom,{pdf:function(a,d,m,_){if(a!==a|0)return!1;if(a<0||a<m-(d-_))return 0;if(a>_||a>m)return 0;if(m*2>d)return _*2>d?t.hypgeom.pdf(d-m-_+a,d,d-m,d-_):t.hypgeom.pdf(_-a,d,d-m,_);if(_*2>d)return t.hypgeom.pdf(m-a,d,m,d-_);if(m<_)return t.hypgeom.pdf(a,d,_,m);for(var y=1,w=0,P=0;P<a;P++){for(;y>1&&w<_;)y*=1-m/(d-w),w++;y*=(_-P)*(m-P)/((P+1)*(d-m-_+P+1))}for(;w<_;w++)y*=1-m/(d-w);return e.min(1,e.max(0,y))},cdf:function(a,d,m,_){if(a<0||a<m-(d-_))return 0;if(a>=_||a>=m)return 1;if(m*2>d)return _*2>d?t.hypgeom.cdf(d-m-_+a,d,d-m,d-_):1-t.hypgeom.cdf(_-a-1,d,d-m,_);if(_*2>d)return 1-t.hypgeom.cdf(m-a-1,d,m,d-_);if(m<_)return t.hypgeom.cdf(a,d,_,m);for(var y=1,w=1,P=0,M=0;M<a;M++){for(;y>1&&P<_;){var T=1-m/(d-P);w*=T,y*=T,P++}w*=(_-M)*(m-M)/((M+1)*(d-m-_+M+1)),y+=w}for(;P<_;P++)y*=1-m/(d-P);return e.min(1,e.max(0,y))}}),t.extend(t.poisson,{pdf:function(a,d){return d<0||a%1!==0||a<0?0:e.pow(d,a)*e.exp(-d)/t.factorial(a)},cdf:function(a,d){var m=[],_=0;if(a<0)return 0;for(;_<=a;_++)m.push(t.poisson.pdf(_,d));return t.sum(m)},mean:function(h){return h},variance:function(h){return h},sampleSmall:function(a){var d=1,m=0,_=e.exp(-a);do m++,d*=t._random_fn();while(d>_);return m-1},sampleLarge:function(a){var d=a,m,_,y,w,P,M,T,C,D,L;for(w=e.sqrt(d),P=e.log(d),T=.931+2.53*w,M=-.059+.02483*T,C=1.1239+1.1328/(T-3.4),D=.9277-3.6224/(T-2);;){if(_=e.random()-.5,y=e.random(),L=.5-e.abs(_),m=e.floor((2*M/L+T)*_+d+.43),L>=.07&&y<=D)return m;if(!(m<0||L<.013&&y>L)&&e.log(y)+e.log(C)-e.log(M/(L*L)+T)<=-d+m*P-t.loggam(m+1))return m}},sample:function(a){return a<10?this.sampleSmall(a):this.sampleLarge(a)}}),t.extend(t.triangular,{pdf:function(a,d,m,_){return m<=d||_<d||_>m?NaN:a<d||a>m?0:a<_?2*(a-d)/((m-d)*(_-d)):a===_?2/(m-d):2*(m-a)/((m-d)*(m-_))},cdf:function(a,d,m,_){return m<=d||_<d||_>m?NaN:a<=d?0:a>=m?1:a<=_?e.pow(a-d,2)/((m-d)*(_-d)):1-e.pow(m-a,2)/((m-d)*(m-_))},inv:function(a,d,m,_){return m<=d||_<d||_>m?NaN:a<=(_-d)/(m-d)?d+(m-d)*e.sqrt(a*((_-d)/(m-d))):d+(m-d)*(1-e.sqrt((1-a)*(1-(_-d)/(m-d))))},mean:function(a,d,m){return(a+d+m)/3},median:function(a,d,m){if(m<=(a+d)/2)return d-e.sqrt((d-a)*(d-m))/e.sqrt(2);if(m>(a+d)/2)return a+e.sqrt((d-a)*(m-a))/e.sqrt(2)},mode:function(a,d,m){return m},sample:function(a,d,m){var _=t._random_fn();return _<(m-a)/(d-a)?a+e.sqrt(_*(d-a)*(m-a)):d-e.sqrt((1-_)*(d-a)*(d-m))},variance:function(a,d,m){return(a*a+d*d+m*m-a*d-a*m-d*m)/18}}),t.extend(t.arcsine,{pdf:function(a,d,m){return m<=d?NaN:a<=d||a>=m?0:2/e.PI*e.pow(e.pow(m-d,2)-e.pow(2*a-d-m,2),-.5)},cdf:function(a,d,m){return a<d?0:a<m?2/e.PI*e.asin(e.sqrt((a-d)/(m-d))):1},inv:function(h,a,d){return a+(.5-.5*e.cos(e.PI*h))*(d-a)},mean:function(a,d){return d<=a?NaN:(a+d)/2},median:function(a,d){return d<=a?NaN:(a+d)/2},mode:function(){throw new Error("mode is not yet implemented")},sample:function(a,d){return(a+d)/2+(d-a)/2*e.sin(2*e.PI*t.uniform.sample(0,1))},variance:function(a,d){return d<=a?NaN:e.pow(d-a,2)/8}});function l(h){return h/e.abs(h)}t.extend(t.laplace,{pdf:function(a,d,m){return m<=0?0:e.exp(-e.abs(a-d)/m)/(2*m)},cdf:function(a,d,m){return m<=0?0:a<d?.5*e.exp((a-d)/m):1-.5*e.exp(-(a-d)/m)},mean:function(h){return h},median:function(h){return h},mode:function(h){return h},variance:function(h,a){return 2*a*a},sample:function(a,d){var m=t._random_fn()-.5;return a-d*l(m)*e.log(1-2*e.abs(m))}});function f(h,a,d){var m=12,_=6,y=-30,w=-50,P=60,M=8,T=3,C=2,D=3,L=[.9815606342467192,.9041172563704749,.7699026741943047,.5873179542866175,.3678314989981802,.1252334085114689],I=[.04717533638651183,.10693932599531843,.16007832854334622,.20316742672306592,.2334925365383548,.24914704581340277],B=h*.5;if(B>=M)return 1;var N=2*t.normal.cdf(B,0,1,1,0)-1;N>=e.exp(w/d)?N=e.pow(N,d):N=0;var U;h>T?U=C:U=D;for(var X=B,G=(M-B)/U,et=X+G,it=0,ct=d-1,ut=1;ut<=U;ut++){for(var gt=0,pt=.5*(et+X),_t=.5*(et-X),Pt=1;Pt<=m;Pt++){var bt,Mt;_<Pt?(bt=m-Pt+1,Mt=L[bt-1]):(bt=Pt,Mt=-L[bt-1]);var $t=_t*Mt,kt=pt+$t,Dt=kt*kt;if(Dt>P)break;var Et=2*t.normal.cdf(kt,0,1,1,0),de=2*t.normal.cdf(kt,h,1,1,0),Yt=Et*.5-de*.5;Yt>=e.exp(y/ct)&&(Yt=I[bt-1]*e.exp(-(.5*Dt))*e.pow(Yt,ct),gt+=Yt)}gt*=2*_t*d/e.sqrt(2*e.PI),it+=gt,X=et,et+=G}return N+=it,N<=e.exp(y/a)?0:(N=e.pow(N,a),N>=1?1:N)}function g(h,a,d){var m=.322232421088,_=.099348462606,y=-1,w=.588581570495,P=-.342242088547,M=.531103462366,T=-.204231210125,C=.10353775285,D=-453642210148e-16,L=.0038560700634,I=.8832,B=.2368,N=1.214,U=1.208,X=1.4142,G=120,et=.5-.5*h,it=e.sqrt(e.log(1/(et*et))),ct=it+((((it*D+T)*it+P)*it+y)*it+m)/((((it*L+C)*it+M)*it+w)*it+_);d<G&&(ct+=(ct*ct*ct+ct)/d/4);var ut=I-B*ct;return d<G&&(ut+=-N/d+U*ct/d),ct*(ut*e.log(a-1)+X)}t.extend(t.tukey,{cdf:function(a,d,m){var _=1,y=d,w=16,P=8,M=-30,T=1e-14,C=100,D=800,L=5e3,I=25e3,B=1,N=.5,U=.25,X=.125,G=[.9894009349916499,.9445750230732326,.8656312023878318,.755404408355003,.6178762444026438,.45801677765722737,.2816035507792589,.09501250983763744],et=[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685];if(a<=0)return 0;if(m<2||_<1||y<2)return NaN;if(!Number.isFinite(a))return 1;if(m>I)return f(a,_,y);var it=m*.5,ct=it*e.log(m)-m*e.log(2)-t.gammaln(it),ut=it-1,gt=m*.25,pt;m<=C?pt=B:m<=D?pt=N:m<=L?pt=U:pt=X,ct+=e.log(pt);for(var _t=0,Pt=1;Pt<=50;Pt++){for(var bt=0,Mt=(2*Pt-1)*pt,$t=1;$t<=w;$t++){var kt,Dt;P<$t?(kt=$t-P-1,Dt=ct+ut*e.log(Mt+G[kt]*pt)-(G[kt]*pt+Mt)*gt):(kt=$t-1,Dt=ct+ut*e.log(Mt-G[kt]*pt)+(G[kt]*pt-Mt)*gt);var Et;if(Dt>=M){P<$t?Et=a*e.sqrt((G[kt]*pt+Mt)*.5):Et=a*e.sqrt((-(G[kt]*pt)+Mt)*.5);var de=f(Et,_,y),Yt=de*et[kt]*e.exp(Dt);bt+=Yt}}if(Pt*pt>=1&&bt<=T)break;_t+=bt}if(bt>T)throw new Error("tukey.cdf failed to converge");return _t>1&&(_t=1),_t},inv:function(h,a,d){var m=1,_=a,y=1e-4,w=50;if(d<2||m<1||_<2)return NaN;if(h<0||h>1)return NaN;if(h===0)return 0;if(h===1)return 1/0;var P=g(h,_,d),M=t.tukey.cdf(P,a,d)-h,T;M>0?T=e.max(0,P-1):T=P+1;for(var C=t.tukey.cdf(T,a,d)-h,D,L=1;L<w;L++){D=T-C*(T-P)/(C-M),M=C,P=T,D<0&&(D=0,C=-h),C=t.tukey.cdf(D,a,d)-h,T=D;var I=e.abs(T-P);if(I<y)return D}throw new Error("tukey.inv failed to converge")}})}(s,Math),function(t,e){var r=Array.prototype.push,l=t.utils.isArray;function f(g){return l(g)||g instanceof t}t.extend({add:function(h,a){return f(a)?(f(a[0])||(a=[a]),t.map(h,function(d,m,_){return d+a[m][_]})):t.map(h,function(d){return d+a})},subtract:function(h,a){return f(a)?(f(a[0])||(a=[a]),t.map(h,function(d,m,_){return d-a[m][_]||0})):t.map(h,function(d){return d-a})},divide:function(h,a){return f(a)?(f(a[0])||(a=[a]),t.multiply(h,t.inv(a))):t.map(h,function(d){return d/a})},multiply:function(h,a){var d,m,_,y,w,P,M,T;if(h.length===void 0&&a.length===void 0)return h*a;if(w=h.length,P=h[0].length,M=t.zeros(w,_=f(a)?a[0].length:P),T=0,f(a)){for(;T<_;T++)for(d=0;d<w;d++){for(y=0,m=0;m<P;m++)y+=h[d][m]*a[m][T];M[d][T]=y}return w===1&&T===1?M[0][0]:M}return t.map(h,function(C){return C*a})},outer:function(h,a){return t.multiply(h.map(function(d){return[d]}),[a])},dot:function(h,a){f(h[0])||(h=[h]),f(a[0])||(a=[a]);for(var d=h[0].length===1&&h.length!==1?t.transpose(h):h,m=a[0].length===1&&a.length!==1?t.transpose(a):a,_=[],y=0,w=d.length,P=d[0].length,M,T;y<w;y++){for(_[y]=[],M=0,T=0;T<P;T++)M+=d[y][T]*m[y][T];_[y]=M}return _.length===1?_[0]:_},pow:function(h,a){return t.map(h,function(d){return e.pow(d,a)})},exp:function(h){return t.map(h,function(a){return e.exp(a)})},log:function(h){return t.map(h,function(a){return e.log(a)})},abs:function(h){return t.map(h,function(a){return e.abs(a)})},norm:function(h,a){var d=0,m=0;for(isNaN(a)&&(a=2),f(h[0])&&(h=h[0]);m<h.length;m++)d+=e.pow(e.abs(h[m]),a);return e.pow(d,1/a)},angle:function(h,a){return e.acos(t.dot(h,a)/(t.norm(h)*t.norm(a)))},aug:function(h,a){var d=[],m;for(m=0;m<h.length;m++)d.push(h[m].slice());for(m=0;m<d.length;m++)r.apply(d[m],a[m]);return d},inv:function(h){for(var a=h.length,d=h[0].length,m=t.identity(a,d),_=t.gauss_jordan(h,m),y=[],w=0,P;w<a;w++)for(y[w]=[],P=d;P<_[0].length;P++)y[w][P-d]=_[w][P];return y},det:function g(h){if(h.length===2)return h[0][0]*h[1][1]-h[0][1]*h[1][0];for(var a=0,d=0;d<h.length;d++){for(var m=[],_=1;_<h.length;_++){m[_-1]=[];for(var y=0;y<h.length;y++)y<d?m[_-1][y]=h[_][y]:y>d&&(m[_-1][y-1]=h[_][y])}var w=d%2?-1:1;a+=g(m)*h[0][d]*w}return a},gauss_elimination:function(h,a){var d=0,m=0,_=h.length,y=h[0].length,w=1,P=0,M=[],T,C,D,L;for(h=t.aug(h,a),T=h[0].length,d=0;d<_;d++){for(C=h[d][d],m=d,L=d+1;L<y;L++)C<e.abs(h[L][d])&&(C=h[L][d],m=L);if(m!=d)for(L=0;L<T;L++)D=h[d][L],h[d][L]=h[m][L],h[m][L]=D;for(m=d+1;m<_;m++)for(w=h[m][d]/h[d][d],L=d;L<T;L++)h[m][L]=h[m][L]-w*h[d][L]}for(d=_-1;d>=0;d--){for(P=0,m=d+1;m<=_-1;m++)P=P+M[m]*h[d][m];M[d]=(h[d][T-1]-P)/h[d][d]}return M},gauss_jordan:function(h,a){var d=t.aug(h,a),m=d.length,_=d[0].length,y=0,w,P,M;for(P=0;P<m;P++){var T=P;for(M=P+1;M<m;M++)e.abs(d[M][P])>e.abs(d[T][P])&&(T=M);var C=d[P];for(d[P]=d[T],d[T]=C,M=P+1;M<m;M++)for(y=d[M][P]/d[P][P],w=P;w<_;w++)d[M][w]-=d[P][w]*y}for(P=m-1;P>=0;P--){for(y=d[P][P],M=0;M<P;M++)for(w=_-1;w>P-1;w--)d[M][w]-=d[P][w]*d[M][P]/y;for(d[P][P]/=y,w=m;w<_;w++)d[P][w]/=y}return d},triaUpSolve:function(h,a){var d=h[0].length,m=t.zeros(1,d)[0],_,y=!1;return a[0].length!=null&&(a=a.map(function(w){return w[0]}),y=!0),t.arange(d-1,-1,-1).forEach(function(w){_=t.arange(w+1,d).map(function(P){return m[P]*h[w][P]}),m[w]=(a[w]-t.sum(_))/h[w][w]}),y?m.map(function(w){return[w]}):m},triaLowSolve:function(h,a){var d=h[0].length,m=t.zeros(1,d)[0],_,y=!1;return a[0].length!=null&&(a=a.map(function(w){return w[0]}),y=!0),t.arange(d).forEach(function(w){_=t.arange(w).map(function(P){return h[w][P]*m[P]}),m[w]=(a[w]-t.sum(_))/h[w][w]}),y?m.map(function(w){return[w]}):m},lu:function(h){var a=h.length,d=t.identity(a),m=t.zeros(h.length,h[0].length),_;return t.arange(a).forEach(function(y){m[0][y]=h[0][y]}),t.arange(1,a).forEach(function(y){t.arange(y).forEach(function(w){_=t.arange(w).map(function(P){return d[y][P]*m[P][w]}),d[y][w]=(h[y][w]-t.sum(_))/m[w][w]}),t.arange(y,a).forEach(function(w){_=t.arange(y).map(function(P){return d[y][P]*m[P][w]}),m[y][w]=h[_.length][w]-t.sum(_)})}),[d,m]},cholesky:function(h){var a=h.length,d=t.zeros(h.length,h[0].length),m;return t.arange(a).forEach(function(_){m=t.arange(_).map(function(y){return e.pow(d[_][y],2)}),d[_][_]=e.sqrt(h[_][_]-t.sum(m)),t.arange(_+1,a).forEach(function(y){m=t.arange(_).map(function(w){return d[_][w]*d[y][w]}),d[y][_]=(h[_][y]-t.sum(m))/d[_][_]})}),d},gauss_jacobi:function(h,a,d,m){for(var _=0,y=0,w=h.length,P=[],M=[],T=[],C,D,L,I;_<w;_++)for(P[_]=[],M[_]=[],T[_]=[],y=0;y<w;y++)_>y?(P[_][y]=h[_][y],M[_][y]=T[_][y]=0):_<y?(M[_][y]=h[_][y],P[_][y]=T[_][y]=0):(T[_][y]=h[_][y],P[_][y]=M[_][y]=0);for(L=t.multiply(t.multiply(t.inv(T),t.add(P,M)),-1),D=t.multiply(t.inv(T),a),C=d,I=t.add(t.multiply(L,d),D),_=2;e.abs(t.norm(t.subtract(I,C)))>m;)C=I,I=t.add(t.multiply(L,C),D),_++;return I},gauss_seidel:function(h,a,d,m){for(var _=0,y=h.length,w=[],P=[],M=[],T,C,D,L,I;_<y;_++)for(w[_]=[],P[_]=[],M[_]=[],T=0;T<y;T++)_>T?(w[_][T]=h[_][T],P[_][T]=M[_][T]=0):_<T?(P[_][T]=h[_][T],w[_][T]=M[_][T]=0):(M[_][T]=h[_][T],w[_][T]=P[_][T]=0);for(L=t.multiply(t.multiply(t.inv(t.add(M,w)),P),-1),D=t.multiply(t.inv(t.add(M,w)),a),C=d,I=t.add(t.multiply(L,d),D),_=2;e.abs(t.norm(t.subtract(I,C)))>m;)C=I,I=t.add(t.multiply(L,C),D),_=_+1;return I},SOR:function(h,a,d,m,_){for(var y=0,w=h.length,P=[],M=[],T=[],C,D,L,I,B;y<w;y++)for(P[y]=[],M[y]=[],T[y]=[],C=0;C<w;C++)y>C?(P[y][C]=h[y][C],M[y][C]=T[y][C]=0):y<C?(M[y][C]=h[y][C],P[y][C]=T[y][C]=0):(T[y][C]=h[y][C],P[y][C]=M[y][C]=0);for(I=t.multiply(t.inv(t.add(T,t.multiply(P,_))),t.subtract(t.multiply(T,1-_),t.multiply(M,_))),L=t.multiply(t.multiply(t.inv(t.add(T,t.multiply(P,_))),a),_),D=d,B=t.add(t.multiply(I,d),L),y=2;e.abs(t.norm(t.subtract(B,D)))>m;)D=B,B=t.add(t.multiply(I,D),L),y++;return B},householder:function(h){for(var a=h.length,d=h[0].length,m=0,_=[],y=[],w,P,M,T,C;m<a-1;m++){for(w=0,T=m+1;T<d;T++)w+=h[T][m]*h[T][m];for(C=h[m+1][m]>0?-1:1,w=C*e.sqrt(w),P=e.sqrt((w*w-h[m+1][m]*w)/2),_=t.zeros(a,1),_[m+1][0]=(h[m+1][m]-w)/(2*P),M=m+2;M<a;M++)_[M][0]=h[M][m]/(2*P);y=t.subtract(t.identity(a,d),t.multiply(t.multiply(_,t.transpose(_)),2)),h=t.multiply(y,t.multiply(h,y))}return h},QR:function(){var g=t.sum,h=t.arange;function a(d){var m=d.length,_=d[0].length,y=t.zeros(_,_);d=t.copy(d);var w,P,M;for(P=0;P<_;P++){for(y[P][P]=e.sqrt(g(h(m).map(function(T){return d[T][P]*d[T][P]}))),w=0;w<m;w++)d[w][P]=d[w][P]/y[P][P];for(M=P+1;M<_;M++)for(y[P][M]=g(h(m).map(function(T){return d[T][P]*d[T][M]})),w=0;w<m;w++)d[w][M]=d[w][M]-d[w][P]*y[P][M]}return[d,y]}return a}(),lstsq:function(){function g(a){a=t.copy(a);var d=a.length,m=t.identity(d);return t.arange(d-1,-1,-1).forEach(function(_){t.sliceAssign(m,{row:_},t.divide(t.slice(m,{row:_}),a[_][_])),t.sliceAssign(a,{row:_},t.divide(t.slice(a,{row:_}),a[_][_])),t.arange(_).forEach(function(y){var w=t.multiply(a[y][_],-1),P=t.slice(a,{row:y}),M=t.multiply(t.slice(a,{row:_}),w);t.sliceAssign(a,{row:y},t.add(P,M));var T=t.slice(m,{row:y}),C=t.multiply(t.slice(m,{row:_}),w);t.sliceAssign(m,{row:y},t.add(T,C))})}),m}function h(a,d){var m=!1;d[0].length===void 0&&(d=d.map(function(I){return[I]}),m=!0);var _=t.QR(a),y=_[0],w=_[1],P=a[0].length,M=t.slice(y,{col:{end:P}}),T=t.slice(w,{row:{end:P}}),C=g(T),D=t.transpose(M);D[0].length===void 0&&(D=[D]);var L=t.multiply(t.multiply(C,D),d);return L.length===void 0&&(L=[[L]]),m?L.map(function(I){return I[0]}):L}return h}(),jacobi:function(h){for(var a=1,d=h.length,m=t.identity(d,d),_=[],y,w,P,M,T,C,D,L;a===1;){for(C=h[0][1],M=0,T=1,w=0;w<d;w++)for(P=0;P<d;P++)w!=P&&C<e.abs(h[w][P])&&(C=e.abs(h[w][P]),M=w,T=P);for(h[M][M]===h[T][T]?D=h[M][T]>0?e.PI/4:-e.PI/4:D=e.atan(2*h[M][T]/(h[M][M]-h[T][T]))/2,L=t.identity(d,d),L[M][M]=e.cos(D),L[M][T]=-e.sin(D),L[T][M]=e.sin(D),L[T][T]=e.cos(D),m=t.multiply(m,L),y=t.multiply(t.multiply(t.inv(L),h),L),h=y,a=0,w=1;w<d;w++)for(P=1;P<d;P++)w!=P&&e.abs(h[w][P])>.001&&(a=1)}for(w=0;w<d;w++)_.push(h[w][w]);return[m,_]},rungekutta:function(h,a,d,m,_,y){var w,P,M,T,C;if(y===2)for(;m<=d;)w=a*h(m,_),P=a*h(m+a,_+w),M=_+(w+P)/2,_=M,m=m+a;if(y===4)for(;m<=d;)w=a*h(m,_),P=a*h(m+a/2,_+w/2),T=a*h(m+a/2,_+P/2),C=a*h(m+a,_+T),M=_+(w+2*P+2*T+C)/6,_=M,m=m+a;return _},romberg:function(h,a,d,m){for(var _=0,y=(d-a)/2,w=[],P=[],M=[],T,C,D,L,I;_<m/2;){for(I=h(a),D=a,L=0;D<=d;D=D+y,L++)w[L]=D;for(T=w.length,D=1;D<T-1;D++)I+=(D%2!==0?4:2)*h(w[D]);I=y/3*(I+h(d)),M[_]=I,y/=2,_++}for(C=M.length,T=1;C!==1;){for(D=0;D<C-1;D++)P[D]=(e.pow(4,T)*M[D+1]-M[D])/(e.pow(4,T)-1);C=P.length,M=P,P=[],T++}return M},richardson:function(h,a,d,m){function _(B,N){for(var U=0,X=B.length,G;U<X;U++)B[U]===N&&(G=U);return G}for(var y=e.abs(d-h[_(h,d)+1]),w=0,P=[],M=[],T,C,D,L,I;m>=y;)T=_(h,d+m),C=_(h,d),P[w]=(a[T]-2*a[C]+a[2*C-T])/(m*m),m/=2,w++;for(L=P.length,D=1;L!=1;){for(I=0;I<L-1;I++)M[I]=(e.pow(4,D)*P[I+1]-P[I])/(e.pow(4,D)-1);L=M.length,P=M,M=[],D++}return P},simpson:function(h,a,d,m){for(var _=(d-a)/m,y=h(a),w=[],P=a,M=0,T=1,C;P<=d;P=P+_,M++)w[M]=P;for(C=w.length;T<C-1;T++)y+=(T%2!==0?4:2)*h(w[T]);return _/3*(y+h(d))},hermite:function(h,a,d,m){for(var _=h.length,y=0,w=0,P=[],M=[],T=[],C=[],D;w<_;w++){for(P[w]=1,D=0;D<_;D++)w!=D&&(P[w]*=(m-h[D])/(h[w]-h[D]));for(M[w]=0,D=0;D<_;D++)w!=D&&(M[w]+=1/(h[w]-h[D]));T[w]=(1-2*(m-h[w])*M[w])*(P[w]*P[w]),C[w]=(m-h[w])*(P[w]*P[w]),y+=T[w]*a[w]+C[w]*d[w]}return y},lagrange:function(h,a,d){for(var m=0,_=0,y,w,P=h.length;_<P;_++){for(w=a[_],y=0;y<P;y++)_!=y&&(w*=(d-h[y])/(h[_]-h[y]));m+=w}return m},cubic_spline:function(h,a,d){for(var m=h.length,_=0,y,w=[],P=[],M=[],T=[],C=[],D=[],L=[];_<m-1;_++)C[_]=h[_+1]-h[_];for(M[0]=0,_=1;_<m-1;_++)M[_]=3/C[_]*(a[_+1]-a[_])-3/C[_-1]*(a[_]-a[_-1]);for(_=1;_<m-1;_++)w[_]=[],P[_]=[],w[_][_-1]=C[_-1],w[_][_]=2*(C[_-1]+C[_]),w[_][_+1]=C[_],P[_][0]=M[_];for(T=t.multiply(t.inv(w),P),y=0;y<m-1;y++)D[y]=(a[y+1]-a[y])/C[y]-C[y]*(T[y+1][0]+2*T[y][0])/3,L[y]=(T[y+1][0]-T[y][0])/(3*C[y]);for(y=0;y<m&&!(h[y]>d);y++);return y-=1,a[y]+(d-h[y])*D[y]+t.sq(d-h[y])*T[y]+(d-h[y])*t.sq(d-h[y])*L[y]},gauss_quadrature:function(){throw new Error("gauss_quadrature not yet implemented")},PCA:function(h){var a=h.length,d=h[0].length,m=0,_,y,w=[],P=[],M=[],T=[],C=[],D=[],L=[],I=[],B=[],N=[];for(m=0;m<a;m++)w[m]=t.sum(h[m])/d;for(m=0;m<d;m++)for(L[m]=[],_=0;_<a;_++)L[m][_]=h[_][m]-w[_];for(L=t.transpose(L),m=0;m<a;m++)for(I[m]=[],_=0;_<a;_++)I[m][_]=t.dot([L[m]],[L[_]])/(d-1);for(M=t.jacobi(I),B=M[0],P=M[1],N=t.transpose(B),m=0;m<P.length;m++)for(_=m;_<P.length;_++)P[m]<P[_]&&(y=P[m],P[m]=P[_],P[_]=y,T=N[m],N[m]=N[_],N[_]=T);for(D=t.transpose(L),m=0;m<a;m++)for(C[m]=[],_=0;_<D.length;_++)C[m][_]=t.dot([N[m]],[D[_]]);return[h,P,N,C]}}),function(g){for(var h=0;h<g.length;h++)(function(a){t.fn[a]=function(d,m){var _=this;return m?(setTimeout(function(){m.call(_,t.fn[a].call(_,d))},15),this):typeof t[a](this,d)=="number"?t[a](this,d):t(t[a](this,d))}})(g[h])}("add divide multiply subtract dot pow exp log abs norm angle".split(" "))}(s,Math),function(t,e){var r=[].slice,l=t.utils.isNumber,f=t.utils.isArray;t.extend({zscore:function(){var a=r.call(arguments);return l(a[1])?(a[0]-a[1])/a[2]:(a[0]-t.mean(a[1]))/t.stdev(a[1],a[2])},ztest:function(){var a=r.call(arguments),d;return f(a[1])?(d=t.zscore(a[0],a[1],a[3]),a[2]===1?t.normal.cdf(-e.abs(d),0,1):t.normal.cdf(-e.abs(d),0,1)*2):a.length>2?(d=t.zscore(a[0],a[1],a[2]),a[3]===1?t.normal.cdf(-e.abs(d),0,1):t.normal.cdf(-e.abs(d),0,1)*2):(d=a[0],a[1]===1?t.normal.cdf(-e.abs(d),0,1):t.normal.cdf(-e.abs(d),0,1)*2)}}),t.extend(t.fn,{zscore:function(a,d){return(a-this.mean())/this.stdev(d)},ztest:function(a,d,m){var _=e.abs(this.zscore(a,m));return d===1?t.normal.cdf(-_,0,1):t.normal.cdf(-_,0,1)*2}}),t.extend({tscore:function(){var a=r.call(arguments);return a.length===4?(a[0]-a[1])/(a[2]/e.sqrt(a[3])):(a[0]-t.mean(a[1]))/(t.stdev(a[1],!0)/e.sqrt(a[1].length))},ttest:function(){var a=r.call(arguments),d;return a.length===5?(d=e.abs(t.tscore(a[0],a[1],a[2],a[3])),a[4]===1?t.studentt.cdf(-d,a[3]-1):t.studentt.cdf(-d,a[3]-1)*2):l(a[1])?(d=e.abs(a[0]),a[2]==1?t.studentt.cdf(-d,a[1]-1):t.studentt.cdf(-d,a[1]-1)*2):(d=e.abs(t.tscore(a[0],a[1])),a[2]==1?t.studentt.cdf(-d,a[1].length-1):t.studentt.cdf(-d,a[1].length-1)*2)}}),t.extend(t.fn,{tscore:function(a){return(a-this.mean())/(this.stdev(!0)/e.sqrt(this.cols()))},ttest:function(a,d){return d===1?1-t.studentt.cdf(e.abs(this.tscore(a)),this.cols()-1):t.studentt.cdf(-e.abs(this.tscore(a)),this.cols()-1)*2}}),t.extend({anovafscore:function(){var a=r.call(arguments),d,m,_,y,w,P,M,T;if(a.length===1){for(w=new Array(a[0].length),M=0;M<a[0].length;M++)w[M]=a[0][M];a=w}for(m=new Array,M=0;M<a.length;M++)m=m.concat(a[M]);for(_=t.mean(m),d=0,M=0;M<a.length;M++)d=d+a[M].length*e.pow(t.mean(a[M])-_,2);for(d/=a.length-1,P=0,M=0;M<a.length;M++)for(y=t.mean(a[M]),T=0;T<a[M].length;T++)P+=e.pow(a[M][T]-y,2);return P/=m.length-a.length,d/P},anovaftest:function(){var a=r.call(arguments),d,m,_,y;if(l(a[0]))return 1-t.centralF.cdf(a[0],a[1],a[2]);var w=t.anovafscore(a);for(d=a.length-1,_=0,y=0;y<a.length;y++)_=_+a[y].length;return m=_-d-1,1-t.centralF.cdf(w,d,m)},ftest:function(a,d,m){return 1-t.centralF.cdf(a,d,m)}}),t.extend(t.fn,{anovafscore:function(){return t.anovafscore(this.toArray())},anovaftes:function(){var a=0,d;for(d=0;d<this.length;d++)a=a+this[d].length;return t.ftest(this.anovafscore(),this.length-1,a-this.length)}}),t.extend({qscore:function(){var a=r.call(arguments),d,m,_,y,w;return l(a[0])?(d=a[0],m=a[1],_=a[2],y=a[3],w=a[4]):(d=t.mean(a[0]),m=t.mean(a[1]),_=a[0].length,y=a[1].length,w=a[2]),e.abs(d-m)/(w*e.sqrt((1/_+1/y)/2))},qtest:function(){var a=r.call(arguments),d;a.length===3?(d=a[0],a=a.slice(1)):a.length===7?(d=t.qscore(a[0],a[1],a[2],a[3],a[4]),a=a.slice(5)):(d=t.qscore(a[0],a[1],a[2]),a=a.slice(3));var m=a[0],_=a[1];return 1-t.tukey.cdf(d,_,m-_)},tukeyhsd:function(a){for(var d=t.pooledstdev(a),m=a.map(function(T){return t.mean(T)}),_=a.reduce(function(T,C){return T+C.length},0),y=[],w=0;w<a.length;++w)for(var P=w+1;P<a.length;++P){var M=t.qtest(m[w],m[P],a[w].length,a[P].length,d,_,a.length);y.push([[w,P],M])}return y}}),t.extend({normalci:function(){var a=r.call(arguments),d=new Array(2),m;return a.length===4?m=e.abs(t.normal.inv(a[1]/2,0,1)*a[2]/e.sqrt(a[3])):m=e.abs(t.normal.inv(a[1]/2,0,1)*t.stdev(a[2])/e.sqrt(a[2].length)),d[0]=a[0]-m,d[1]=a[0]+m,d},tci:function(){var a=r.call(arguments),d=new Array(2),m;return a.length===4?m=e.abs(t.studentt.inv(a[1]/2,a[3]-1)*a[2]/e.sqrt(a[3])):m=e.abs(t.studentt.inv(a[1]/2,a[2].length-1)*t.stdev(a[2],!0)/e.sqrt(a[2].length)),d[0]=a[0]-m,d[1]=a[0]+m,d},significant:function(a,d){return a<d}}),t.extend(t.fn,{normalci:function(a,d){return t.normalci(a,d,this.toArray())},tci:function(a,d){return t.tci(a,d,this.toArray())}});function g(h,a,d,m){if(h>1||d>1||h<=0||d<=0)throw new Error("Proportions should be greater than 0 and less than 1");var _=(h*a+d*m)/(a+m),y=e.sqrt(_*(1-_)*(1/a+1/m));return(h-d)/y}t.extend(t.fn,{oneSidedDifferenceOfProportions:function(a,d,m,_){var y=g(a,d,m,_);return t.ztest(y,1)},twoSidedDifferenceOfProportions:function(a,d,m,_){var y=g(a,d,m,_);return t.ztest(y,2)}})}(s,Math),s.models=function(){function t(g){var h=g[0].length,a=s.arange(h).map(function(d){var m=s.arange(h).filter(function(_){return _!==d});return e(s.col(g,d).map(function(_){return _[0]}),s.col(g,m))});return a}function e(g,h){var a=g.length,d=h[0].length-1,m=a-d-1,_=s.lstsq(h,g),y=s.multiply(h,_.map(function(L){return[L]})).map(function(L){return L[0]}),w=s.subtract(g,y),P=s.mean(g),M=s.sum(y.map(function(L){return Math.pow(L-P,2)})),T=s.sum(g.map(function(L,I){return Math.pow(L-y[I],2)})),C=M+T,D=M/C;return{exog:h,endog:g,nobs:a,df_model:d,df_resid:m,coef:_,predict:y,resid:w,ybar:P,SST:C,SSE:M,SSR:T,R2:D}}function r(g){var h=t(g.exog),a=Math.sqrt(g.SSR/g.df_resid),d=h.map(function(P){var M=P.SST,T=P.R2;return a/Math.sqrt(M*(1-T))}),m=g.coef.map(function(P,M){return(P-0)/d[M]}),_=m.map(function(P){var M=s.studentt.cdf(P,g.df_resid);return(M>.5?1-M:M)*2}),y=s.studentt.inv(.975,g.df_resid),w=g.coef.map(function(P,M){var T=y*d[M];return[P-T,P+T]});return{se:d,t:m,p:_,sigmaHat:a,interval95:w}}function l(g){var h=g.R2/g.df_model/((1-g.R2)/g.df_resid),a=function(m,_,y){return s.beta.cdf(m/(y/_+m),_/2,y/2)},d=1-a(h,g.df_model,g.df_resid);return{F_statistic:h,pvalue:d}}function f(g,h){var a=e(g,h),d=r(a),m=l(a),_=1-(1-a.R2)*((a.nobs-1)/a.df_resid);return a.t=d,a.f=m,a.adjust_R2=_,a}return{ols:f}}(),s.extend({buildxmatrix:function(){for(var e=new Array(arguments.length),r=0;r<arguments.length;r++){var l=[1];e[r]=l.concat(arguments[r])}return s(e)},builddxmatrix:function(){for(var e=new Array(arguments[0].length),r=0;r<arguments[0].length;r++){var l=[1];e[r]=l.concat(arguments[0][r])}return s(e)},buildjxmatrix:function(e){for(var r=new Array(e.length),l=0;l<e.length;l++)r[l]=e[l];return s.builddxmatrix(r)},buildymatrix:function(e){return s(e).transpose()},buildjymatrix:function(e){return e.transpose()},matrixmult:function(e,r){var l,f,g,h,a;if(e.cols()==r.rows()){if(r.rows()>1){for(h=[],l=0;l<e.rows();l++)for(h[l]=[],f=0;f<r.cols();f++){for(a=0,g=0;g<e.cols();g++)a+=e.toArray()[l][g]*r.toArray()[g][f];h[l][f]=a}return s(h)}for(h=[],l=0;l<e.rows();l++)for(h[l]=[],f=0;f<r.cols();f++){for(a=0,g=0;g<e.cols();g++)a+=e.toArray()[l][g]*r.toArray()[f];h[l][f]=a}return s(h)}},regress:function(e,r){var l=s.xtranspxinv(e),f=e.transpose(),g=s.matrixmult(s(l),f);return s.matrixmult(g,r)},regresst:function(e,r,l){var f=s.regress(e,r),g={};g.anova={};var h=s.jMatYBar(e,f);g.yBar=h;var a=r.mean();g.anova.residuals=s.residuals(r,h),g.anova.ssr=s.ssr(h,a),g.anova.msr=g.anova.ssr/(e[0].length-1),g.anova.sse=s.sse(r,h),g.anova.mse=g.anova.sse/(r.length-(e[0].length-1)-1),g.anova.sst=s.sst(r,a),g.anova.mst=g.anova.sst/(r.length-1),g.anova.r2=1-g.anova.sse/g.anova.sst,g.anova.r2<0&&(g.anova.r2=0),g.anova.fratio=g.anova.msr/g.anova.mse,g.anova.pvalue=s.anovaftest(g.anova.fratio,e[0].length-1,r.length-(e[0].length-1)-1),g.anova.rmse=Math.sqrt(g.anova.mse),g.anova.r2adj=1-g.anova.mse/g.anova.mst,g.anova.r2adj<0&&(g.anova.r2adj=0),g.stats=new Array(e[0].length);for(var d=s.xtranspxinv(e),m,_,y,w=0;w<f.length;w++)m=Math.sqrt(g.anova.mse*Math.abs(d[w][w])),_=Math.abs(f[w]/m),y=s.ttest(_,r.length-e[0].length-1,l),g.stats[w]=[f[w],m,_,y];return g.regress=f,g},xtranspx:function(e){return s.matrixmult(e.transpose(),e)},xtranspxinv:function(e){var r=s.matrixmult(e.transpose(),e),l=s.inv(r);return l},jMatYBar:function(e,r){var l=s.matrixmult(e,r);return new s(l)},residuals:function(e,r){return s.matrixsubtract(e,r)},ssr:function(e,r){for(var l=0,f=0;f<e.length;f++)l+=Math.pow(e[f]-r,2);return l},sse:function(e,r){for(var l=0,f=0;f<e.length;f++)l+=Math.pow(e[f]-r[f],2);return l},sst:function(e,r){for(var l=0,f=0;f<e.length;f++)l+=Math.pow(e[f]-r,2);return l},matrixsubtract:function(e,r){for(var l=new Array(e.length),f=0;f<e.length;f++){l[f]=new Array(e[f].length);for(var g=0;g<e[f].length;g++)l[f][g]=e[f][g]-r[f][g]}return s(l)}}),s.jStat=s,s})});var Ih=Wo((gv,Aa)=>{(function(s,t){typeof Aa<"u"?Aa.exports=t():typeof define=="function"&&typeof define.amd=="object"?define(t):this[s]=t()})("Clusterize",function(){"use strict";var s=function(){for(var h=3,a=document.createElement("b"),d=a.all||[];a.innerHTML="<!--[if gt IE "+ ++h+"]><i><![endif]-->",d[0];);return h>4?h:document.documentMode}(),t=navigator.platform.toLowerCase().indexOf("mac")+1,e=function(h){if(!(this instanceof e))return new e(h);var a=this,d={rows_in_block:50,blocks_in_cluster:4,tag:null,show_no_data_row:!0,no_data_class:"clusterize-no-data",no_data_text:"No data",keep_parity:!0,callbacks:{}};a.options={};for(var m=["rows_in_block","blocks_in_cluster","show_no_data_row","no_data_class","no_data_text","keep_parity","tag","callbacks"],_=0,y;y=m[_];_++)a.options[y]=typeof h[y]<"u"&&h[y]!=null?h[y]:d[y];for(var w=["scroll","content"],_=0,P;P=w[_];_++)if(a[P+"_elem"]=h[P+"Id"]?document.getElementById(h[P+"Id"]):h[P+"Elem"],!a[P+"_elem"])throw new Error("Error! Could not find "+P+" element");a.content_elem.hasAttribute("tabindex")||a.content_elem.setAttribute("tabindex",0);var M=f(h.rows)?h.rows:a.fetchMarkup(),T={},C=a.scroll_elem.scrollTop;a.insertToDOM(M,T),a.scroll_elem.scrollTop=C;var D=!1,L=0,I=!1,B=function(){t&&(I||(a.content_elem.style.pointerEvents="none"),I=!0,clearTimeout(L),L=setTimeout(function(){a.content_elem.style.pointerEvents="auto",I=!1},50)),D!=(D=a.getClusterNum(M))&&a.insertToDOM(M,T),a.options.callbacks.scrollingProgress&&a.options.callbacks.scrollingProgress(a.getScrollProgress())},N=0,U=function(){clearTimeout(N),N=setTimeout(a.refresh,100)};r("scroll",a.scroll_elem,B),r("resize",window,U),a.destroy=function(G){l("scroll",a.scroll_elem,B),l("resize",window,U),a.html((G?a.generateEmptyRow():M).join(""))},a.refresh=function(G){(a.getRowsHeight(M)||G)&&a.update(M)},a.update=function(G){M=f(G)?G:[];var et=a.scroll_elem.scrollTop;M.length*a.options.item_height<et&&(a.scroll_elem.scrollTop=0,D=0),a.insertToDOM(M,T),a.scroll_elem.scrollTop=et},a.clear=function(){a.update([])},a.getRowsAmount=function(){return M.length},a.getScrollProgress=function(){return this.options.scroll_top/(M.length*this.options.item_height)*100||0};var X=function(G,et){var it=f(et)?et:[];it.length&&(M=G=="append"?M.concat(it):it.concat(M),a.insertToDOM(M,T))};a.append=function(G){X("append",G)},a.prepend=function(G){X("prepend",G)}};e.prototype={constructor:e,fetchMarkup:function(){for(var h=[],a=this.getChildNodes(this.content_elem);a.length;)h.push(a.shift().outerHTML);return h},exploreEnvironment:function(h,a){var d=this.options;d.content_tag=this.content_elem.tagName.toLowerCase(),h.length&&(s&&s<=9&&!d.tag&&(d.tag=h[0].match(/<([^>\s/]*)/)[1].toLowerCase()),this.content_elem.children.length<=1&&(a.data=this.html(h[0]+h[0]+h[0])),d.tag||(d.tag=this.content_elem.children[0].tagName.toLowerCase()),this.getRowsHeight(h))},getRowsHeight:function(h){var a=this.options,d=a.item_height;if(a.cluster_height=0,!!h.length){var m=this.content_elem.children;if(m.length){var _=m[Math.floor(m.length/2)];if(a.item_height=_.offsetHeight,a.tag=="tr"&&g("borderCollapse",this.content_elem)!="collapse"&&(a.item_height+=parseInt(g("borderSpacing",this.content_elem),10)||0),a.tag!="tr"){var y=parseInt(g("marginTop",_),10)||0,w=parseInt(g("marginBottom",_),10)||0;a.item_height+=Math.max(y,w)}return a.block_height=a.item_height*a.rows_in_block,a.rows_in_cluster=a.blocks_in_cluster*a.rows_in_block,a.cluster_height=a.blocks_in_cluster*a.block_height,d!=a.item_height}}},getClusterNum:function(h){var a=this.options;a.scroll_top=this.scroll_elem.scrollTop;var d=a.cluster_height-a.block_height,m=Math.floor(a.scroll_top/d),_=Math.floor(h.length*a.item_height/d);return Math.min(m,_)},generateEmptyRow:function(){var h=this.options;if(!h.tag||!h.show_no_data_row)return[];var a=document.createElement(h.tag),d=document.createTextNode(h.no_data_text),m;return a.className=h.no_data_class,h.tag=="tr"&&(m=document.createElement("td"),m.colSpan=100,m.appendChild(d)),a.appendChild(m||d),[a.outerHTML]},generate:function(h){var a=this.options,d=h.length;if(d<a.rows_in_block)return{top_offset:0,bottom_offset:0,rows_above:0,rows:d?h:this.generateEmptyRow()};var m=Math.max((a.rows_in_cluster-a.rows_in_block)*this.getClusterNum(h),0),_=m+a.rows_in_cluster,y=Math.max(m*a.item_height,0),w=Math.max((d-_)*a.item_height,0),P=[],M=m;y<1&&M++;for(var T=m;T<_;T++)h[T]&&P.push(h[T]);return{top_offset:y,bottom_offset:w,rows_above:M,rows:P}},renderExtraTag:function(h,a){var d=document.createElement(this.options.tag),m="clusterize-";return d.className=[m+"extra-row",m+h].join(" "),a&&(d.style.height=a+"px"),d.outerHTML},insertToDOM:function(h,a){this.options.cluster_height||this.exploreEnvironment(h,a);var d=this.generate(h),m=d.rows.join(""),_=this.checkChanges("data",m,a),y=this.checkChanges("top",d.top_offset,a),w=this.checkChanges("bottom",d.bottom_offset,a),P=this.options.callbacks,M=[];_||y?(d.top_offset&&(this.options.keep_parity&&M.push(this.renderExtraTag("keep-parity")),M.push(this.renderExtraTag("top-space",d.top_offset))),M.push(m),d.bottom_offset&&M.push(this.renderExtraTag("bottom-space",d.bottom_offset)),P.clusterWillChange&&P.clusterWillChange(),this.html(M.join("")),this.options.content_tag=="ol"&&this.content_elem.setAttribute("start",d.rows_above),this.content_elem.style["counter-increment"]="clusterize-counter "+(d.rows_above-1),P.clusterChanged&&P.clusterChanged()):w&&(this.content_elem.lastChild.style.height=d.bottom_offset+"px")},html:function(h){var a=this.content_elem;if(s&&s<=9&&this.options.tag=="tr"){var d=document.createElement("div"),m;for(d.innerHTML="<table><tbody>"+h+"</tbody></table>";m=a.lastChild;)a.removeChild(m);for(var _=this.getChildNodes(d.firstChild.firstChild);_.length;)a.appendChild(_.shift())}else a.innerHTML=h},getChildNodes:function(h){for(var a=h.children,d=[],m=0,_=a.length;m<_;m++)d.push(a[m]);return d},checkChanges:function(h,a,d){var m=a!=d[h];return d[h]=a,m}};function r(h,a,d){return a.addEventListener?a.addEventListener(h,d,!1):a.attachEvent("on"+h,d)}function l(h,a,d){return a.removeEventListener?a.removeEventListener(h,d,!1):a.detachEvent("on"+h,d)}function f(h){return Object.prototype.toString.call(h)==="[object Array]"}function g(h,a){return window.getComputedStyle?window.getComputedStyle(a)[h]:a.currentStyle[h]}return e})});var Xf=Wo((El,Ll)=>{(function(s,t){typeof El=="object"&&typeof Ll<"u"?Ll.exports=t():typeof define=="function"&&define.amd?define(t):(s=typeof globalThis<"u"?globalThis:s||self,s.Chart=t())})(El,function(){"use strict";function s(){}let t=function(){let o=0;return function(){return o++}}();function e(o){return o===null||typeof o>"u"}function r(o){if(Array.isArray&&Array.isArray(o))return!0;let n=Object.prototype.toString.call(o);return n.slice(0,7)==="[object"&&n.slice(-6)==="Array]"}function l(o){return o!==null&&Object.prototype.toString.call(o)==="[object Object]"}let f=o=>(typeof o=="number"||o instanceof Number)&&isFinite(+o);function g(o,n){return f(o)?o:n}function h(o,n){return typeof o>"u"?n:o}let a=(o,n)=>typeof o=="string"&&o.endsWith("%")?parseFloat(o)/100:o/n,d=(o,n)=>typeof o=="string"&&o.endsWith("%")?parseFloat(o)/100*n:+o;function m(o,n,i){if(o&&typeof o.call=="function")return o.apply(i,n)}function _(o,n,i,c){let u,p,b;if(r(o))if(p=o.length,c)for(u=p-1;u>=0;u--)n.call(i,o[u],u);else for(u=0;u<p;u++)n.call(i,o[u],u);else if(l(o))for(b=Object.keys(o),p=b.length,u=0;u<p;u++)n.call(i,o[b[u]],b[u])}function y(o,n){let i,c,u,p;if(!o||!n||o.length!==n.length)return!1;for(i=0,c=o.length;i<c;++i)if(u=o[i],p=n[i],u.datasetIndex!==p.datasetIndex||u.index!==p.index)return!1;return!0}function w(o){if(r(o))return o.map(w);if(l(o)){let n=Object.create(null),i=Object.keys(o),c=i.length,u=0;for(;u<c;++u)n[i[u]]=w(o[i[u]]);return n}return o}function P(o){return["__proto__","prototype","constructor"].indexOf(o)===-1}function M(o,n,i,c){if(!P(o))return;let u=n[o],p=i[o];l(u)&&l(p)?T(u,p,c):n[o]=w(p)}function T(o,n,i){let c=r(n)?n:[n],u=c.length;if(!l(o))return o;i=i||{};let p=i.merger||M;for(let b=0;b<u;++b){if(n=c[b],!l(n))continue;let x=Object.keys(n);for(let v=0,k=x.length;v<k;++v)p(x[v],o,n,i)}return o}function C(o,n){return T(o,n,{merger:D})}function D(o,n,i){if(!P(o))return;let c=n[o],u=i[o];l(c)&&l(u)?C(c,u):Object.prototype.hasOwnProperty.call(n,o)||(n[o]=w(u))}function L(o,n,i,c){n!==void 0&&console.warn(o+': "'+i+'" is deprecated. Please use "'+c+'" instead')}let I={"":o=>o,x:o=>o.x,y:o=>o.y};function B(o,n){return(I[n]||(I[n]=N(n)))(o)}function N(o){let n=U(o);return i=>{for(let c of n){if(c==="")break;i=i&&i[c]}return i}}function U(o){let n=o.split("."),i=[],c="";for(let u of n)c+=u,c.endsWith("\\")?c=c.slice(0,-1)+".":(i.push(c),c="");return i}function X(o){return o.charAt(0).toUpperCase()+o.slice(1)}let G=o=>typeof o<"u",et=o=>typeof o=="function",it=(o,n)=>{if(o.size!==n.size)return!1;for(let i of o)if(!n.has(i))return!1;return!0};function ct(o){return o.type==="mouseup"||o.type==="click"||o.type==="contextmenu"}let ut=Math.PI,gt=2*ut,pt=gt+ut,_t=Number.POSITIVE_INFINITY,Pt=ut/180,bt=ut/2,Mt=ut/4,$t=ut*2/3,kt=Math.log10,Dt=Math.sign;function Et(o){let n=Math.round(o);o=be(o,n,o/1e3)?n:o;let i=Math.pow(10,Math.floor(kt(o))),c=o/i;return(c<=1?1:c<=2?2:c<=5?5:10)*i}function de(o){let n=[],i=Math.sqrt(o),c;for(c=1;c<i;c++)o%c===0&&(n.push(c),n.push(o/c));return i===(i|0)&&n.push(i),n.sort((u,p)=>u-p).pop(),n}function Yt(o){return!isNaN(parseFloat(o))&&isFinite(o)}function be(o,n,i){return Math.abs(o-n)<i}function js(o,n){let i=Math.round(o);return i-n<=o&&i+n>=o}function ci(o,n,i){let c,u,p;for(c=0,u=o.length;c<u;c++)p=o[c][i],isNaN(p)||(n.min=Math.min(n.min,p),n.max=Math.max(n.max,p))}function ce(o){return o*(ut/180)}function Yn(o){return o*(180/ut)}function hi(o){if(!f(o))return;let n=1,i=0;for(;Math.round(o*n)/n!==o;)n*=10,i++;return i}function ui(o,n){let i=n.x-o.x,c=n.y-o.y,u=Math.sqrt(i*i+c*c),p=Math.atan2(c,i);return p<-.5*ut&&(p+=gt),{angle:p,distance:u}}function fi(o,n){return Math.sqrt(Math.pow(n.x-o.x,2)+Math.pow(n.y-o.y,2))}function to(o,n){return(o-n+pt)%gt-ut}function he(o){return(o%gt+gt)%gt}function pn(o,n,i,c){let u=he(o),p=he(n),b=he(i),x=he(p-u),v=he(b-u),k=he(u-p),A=he(u-b);return u===p||u===b||c&&p===b||x>v&&k<A}function Qt(o,n,i){return Math.max(n,Math.min(i,o))}function eo(o){return Qt(o,-32768,32767)}function De(o,n,i,c=1e-6){return o>=Math.min(n,i)-c&&o<=Math.max(n,i)+c}function di(o,n,i){i=i||(b=>o[b]<n);let c=o.length-1,u=0,p;for(;c-u>1;)p=u+c>>1,i(p)?u=p:c=p;return{lo:u,hi:c}}let Oe=(o,n,i,c)=>di(o,i,c?u=>o[u][n]<=i:u=>o[u][n]<i),no=(o,n,i)=>di(o,i,c=>o[c][n]>=i);function io(o,n,i){let c=0,u=o.length;for(;c<u&&o[c]<n;)c++;for(;u>c&&o[u-1]>i;)u--;return c>0||u<o.length?o.slice(c,u):o}let so=["push","pop","shift","splice","unshift"];function oo(o,n){if(o._chartjs){o._chartjs.listeners.push(n);return}Object.defineProperty(o,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[n]}}),so.forEach(i=>{let c="_onData"+X(i),u=o[i];Object.defineProperty(o,i,{configurable:!0,enumerable:!1,value(...p){let b=u.apply(this,p);return o._chartjs.listeners.forEach(x=>{typeof x[c]=="function"&&x[c](...p)}),b}})})}function Ji(o,n){let i=o._chartjs;if(!i)return;let c=i.listeners,u=c.indexOf(n);u!==-1&&c.splice(u,1),!(c.length>0)&&(so.forEach(p=>{delete o[p]}),delete o._chartjs)}function ji(o){let n=new Set,i,c;for(i=0,c=o.length;i<c;++i)n.add(o[i]);return n.size===c?o:Array.from(n)}function Ar(o,n,i){return n+" "+o+"px "+i}let ts=function(){return typeof window>"u"?function(o){return o()}:window.requestAnimationFrame}();function es(o,n,i){let c=i||(b=>Array.prototype.slice.call(b)),u=!1,p=[];return function(...b){p=c(b),u||(u=!0,ts.call(window,()=>{u=!1,o.apply(n,p)}))}}function ns(o,n){let i;return function(...c){return n?(clearTimeout(i),i=setTimeout(o,n,c)):o.apply(this,c),n}}let gi=o=>o==="start"?"left":o==="end"?"right":"center",ne=(o,n,i)=>o==="start"?n:o==="end"?i:(n+i)/2,ro=(o,n,i,c)=>o===(c?"left":"right")?i:o==="center"?(n+i)/2:n;function ue(o,n,i){let c=n.length,u=0,p=c;if(o._sorted){let{iScale:b,_parsed:x}=o,v=b.axis,{min:k,max:A,minDefined:O,maxDefined:R}=b.getUserBounds();O&&(u=Qt(Math.min(Oe(x,b.axis,k).lo,i?c:Oe(n,v,b.getPixelForValue(k)).lo),0,c-1)),R?p=Qt(Math.max(Oe(x,b.axis,A,!0).hi+1,i?0:Oe(n,v,b.getPixelForValue(A),!0).hi+1),u,c)-u:p=c-u}return{start:u,count:p}}function tn(o){let{xScale:n,yScale:i,_scaleRanges:c}=o,u={xmin:n.min,xmax:n.max,ymin:i.min,ymax:i.max};if(!c)return o._scaleRanges=u,!0;let p=c.xmin!==n.min||c.xmax!==n.max||c.ymin!==i.min||c.ymax!==i.max;return Object.assign(c,u),p}class ao{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(n,i,c,u){let p=i.listeners[u],b=i.duration;p.forEach(x=>x({chart:n,initial:i.initial,numSteps:b,currentStep:Math.min(c-i.start,b)}))}_refresh(){this._request||(this._running=!0,this._request=ts.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(n=Date.now()){let i=0;this._charts.forEach((c,u)=>{if(!c.running||!c.items.length)return;let p=c.items,b=p.length-1,x=!1,v;for(;b>=0;--b)v=p[b],v._active?(v._total>c.duration&&(c.duration=v._total),v.tick(n),x=!0):(p[b]=p[p.length-1],p.pop());x&&(u.draw(),this._notify(u,c,n,"progress")),p.length||(c.running=!1,this._notify(u,c,n,"complete"),c.initial=!1),i+=p.length}),this._lastDate=n,i===0&&(this._running=!1)}_getAnims(n){let i=this._charts,c=i.get(n);return c||(c={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},i.set(n,c)),c}listen(n,i,c){this._getAnims(n).listeners[i].push(c)}add(n,i){!i||!i.length||this._getAnims(n).items.push(...i)}has(n){return this._getAnims(n).items.length>0}start(n){let i=this._charts.get(n);i&&(i.running=!0,i.start=Date.now(),i.duration=i.items.reduce((c,u)=>Math.max(c,u._duration),0),this._refresh())}running(n){if(!this._running)return!1;let i=this._charts.get(n);return!(!i||!i.running||!i.items.length)}stop(n){let i=this._charts.get(n);if(!i||!i.items.length)return;let c=i.items,u=c.length-1;for(;u>=0;--u)c[u].cancel();i.items=[],this._notify(n,i,Date.now(),"complete")}remove(n){return this._charts.delete(n)}}var Ee=new ao;function He(o){return o+.5|0}let Le=(o,n,i)=>Math.max(Math.min(o,i),n);function Re(o){return Le(He(o*2.55),0,255)}function Pe(o){return Le(He(o*255),0,255)}function Me(o){return Le(He(o/2.55)/100,0,1)}function lo(o){return Le(He(o*100),0,100)}let _e={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},is=[..."0123456789ABCDEF"],Tr=o=>is[o&15],Dr=o=>is[(o&240)>>4]+is[o&15],ie=o=>(o&240)>>4===(o&15),Ne=o=>ie(o.r)&&ie(o.g)&&ie(o.b)&&ie(o.a);function Se(o){var n=o.length,i;return o[0]==="#"&&(n===4||n===5?i={r:255&_e[o[1]]*17,g:255&_e[o[2]]*17,b:255&_e[o[3]]*17,a:n===5?_e[o[4]]*17:255}:(n===7||n===9)&&(i={r:_e[o[1]]<<4|_e[o[2]],g:_e[o[3]]<<4|_e[o[4]],b:_e[o[5]]<<4|_e[o[6]],a:n===9?_e[o[7]]<<4|_e[o[8]]:255})),i}let Ue=(o,n)=>o<255?n(o):"";function pi(o){var n=Ne(o)?Tr:Dr;return o?"#"+n(o.r)+n(o.g)+n(o.b)+Ue(o.a,n):void 0}let co=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ss(o,n,i){let c=n*Math.min(i,1-i),u=(p,b=(p+o/30)%12)=>i-c*Math.max(Math.min(b-3,9-b,1),-1);return[u(0),u(8),u(4)]}function ho(o,n,i){let c=(u,p=(u+o/60)%6)=>i-i*n*Math.max(Math.min(p,4-p,1),0);return[c(5),c(3),c(1)]}function mn(o,n,i){let c=ss(o,1,.5),u;for(n+i>1&&(u=1/(n+i),n*=u,i*=u),u=0;u<3;u++)c[u]*=1-n-i,c[u]+=n;return c}function en(o,n,i,c,u){return o===u?(n-i)/c+(n<i?6:0):n===u?(i-o)/c+2:(o-n)/c+4}function mi(o){let i=o.r/255,c=o.g/255,u=o.b/255,p=Math.max(i,c,u),b=Math.min(i,c,u),x=(p+b)/2,v,k,A;return p!==b&&(A=p-b,k=x>.5?A/(2-p-b):A/(p+b),v=en(i,c,u,A,p),v=v*60+.5),[v|0,k||0,x]}function qn(o,n,i,c){return(Array.isArray(n)?o(n[0],n[1],n[2]):o(n,i,c)).map(Pe)}function bn(o,n,i){return qn(ss,o,n,i)}function os(o,n,i){return qn(mn,o,n,i)}function Or(o,n,i){return qn(ho,o,n,i)}function rs(o){return(o%360+360)%360}function E(o){let n=co.exec(o),i=255,c;if(!n)return;n[5]!==c&&(i=n[6]?Re(+n[5]):Pe(+n[5]));let u=rs(+n[2]),p=+n[3]/100,b=+n[4]/100;return n[1]==="hwb"?c=os(u,p,b):n[1]==="hsv"?c=Or(u,p,b):c=bn(u,p,b),{r:c[0],g:c[1],b:c[2],a:i}}function z(o,n){var i=mi(o);i[0]=rs(i[0]+n),i=bn(i),o.r=i[0],o.g=i[1],o.b=i[2]}function W(o){if(!o)return;let n=mi(o),i=n[0],c=lo(n[1]),u=lo(n[2]);return o.a<255?`hsla(${i}, ${c}%, ${u}%, ${Me(o.a)})`:`hsl(${i}, ${c}%, ${u}%)`}let $={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},q={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Q(){let o={},n=Object.keys(q),i=Object.keys($),c,u,p,b,x;for(c=0;c<n.length;c++){for(b=x=n[c],u=0;u<i.length;u++)p=i[u],x=x.replace(p,$[p]);p=parseInt(q[b],16),o[x]=[p>>16&255,p>>8&255,p&255]}return o}let Z;function nt(o){Z||(Z=Q(),Z.transparent=[0,0,0,0]);let n=Z[o.toLowerCase()];return n&&{r:n[0],g:n[1],b:n[2],a:n.length===4?n[3]:255}}let lt=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function at(o){let n=lt.exec(o),i=255,c,u,p;if(n){if(n[7]!==c){let b=+n[7];i=n[8]?Re(b):Le(b*255,0,255)}return c=+n[1],u=+n[3],p=+n[5],c=255&(n[2]?Re(c):Le(c,0,255)),u=255&(n[4]?Re(u):Le(u,0,255)),p=255&(n[6]?Re(p):Le(p,0,255)),{r:c,g:u,b:p,a:i}}}function ft(o){return o&&(o.a<255?`rgba(${o.r}, ${o.g}, ${o.b}, ${Me(o.a)})`:`rgb(${o.r}, ${o.g}, ${o.b})`)}let Lt=o=>o<=.0031308?o*12.92:Math.pow(o,1/2.4)*1.055-.055,yt=o=>o<=.04045?o/12.92:Math.pow((o+.055)/1.055,2.4);function ge(o,n,i){let c=yt(Me(o.r)),u=yt(Me(o.g)),p=yt(Me(o.b));return{r:Pe(Lt(c+i*(yt(Me(n.r))-c))),g:Pe(Lt(u+i*(yt(Me(n.g))-u))),b:Pe(Lt(p+i*(yt(Me(n.b))-p))),a:o.a+i*(n.a-o.a)}}function Xt(o,n,i){if(o){let c=mi(o);c[n]=Math.max(0,Math.min(c[n]+c[n]*i,n===0?360:1)),c=bn(c),o.r=c[0],o.g=c[1],o.b=c[2]}}function Un(o,n){return o&&Object.assign(n||{},o)}function Xn(o){var n={r:0,g:0,b:0,a:255};return Array.isArray(o)?o.length>=3&&(n={r:o[0],g:o[1],b:o[2],a:255},o.length>3&&(n.a=Pe(o[3]))):(n=Un(o,{r:0,g:0,b:0,a:1}),n.a=Pe(n.a)),n}function as(o){return o.charAt(0)==="r"?at(o):E(o)}class nn{constructor(n){if(n instanceof nn)return n;let i=typeof n,c;i==="object"?c=Xn(n):i==="string"&&(c=Se(n)||nt(n)||as(n)),this._rgb=c,this._valid=!!c}get valid(){return this._valid}get rgb(){var n=Un(this._rgb);return n&&(n.a=Me(n.a)),n}set rgb(n){this._rgb=Xn(n)}rgbString(){return this._valid?ft(this._rgb):void 0}hexString(){return this._valid?pi(this._rgb):void 0}hslString(){return this._valid?W(this._rgb):void 0}mix(n,i){if(n){let c=this.rgb,u=n.rgb,p,b=i===p?.5:i,x=2*b-1,v=c.a-u.a,k=((x*v===-1?x:(x+v)/(1+x*v))+1)/2;p=1-k,c.r=255&k*c.r+p*u.r+.5,c.g=255&k*c.g+p*u.g+.5,c.b=255&k*c.b+p*u.b+.5,c.a=b*c.a+(1-b)*u.a,this.rgb=c}return this}interpolate(n,i){return n&&(this._rgb=ge(this._rgb,n._rgb,i)),this}clone(){return new nn(this.rgb)}alpha(n){return this._rgb.a=Pe(n),this}clearer(n){let i=this._rgb;return i.a*=1-n,this}greyscale(){let n=this._rgb,i=He(n.r*.3+n.g*.59+n.b*.11);return n.r=n.g=n.b=i,this}opaquer(n){let i=this._rgb;return i.a*=1+n,this}negate(){let n=this._rgb;return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,this}lighten(n){return Xt(this._rgb,2,n),this}darken(n){return Xt(this._rgb,2,-n),this}saturate(n){return Xt(this._rgb,1,n),this}desaturate(n){return Xt(this._rgb,1,-n),this}rotate(n){return z(this._rgb,n),this}}function _n(o){return new nn(o)}function rt(o){if(o&&typeof o=="object"){let n=o.toString();return n==="[object CanvasPattern]"||n==="[object CanvasGradient]"}return!1}function Ct(o){return rt(o)?o:_n(o)}function zt(o){return rt(o)?o:_n(o).saturate(.5).darken(.1).hexString()}let Ft=Object.create(null),Vt=Object.create(null);function We(o,n){if(!n)return o;let i=n.split(".");for(let c=0,u=i.length;c<u;++c){let p=i[c];o=o[p]||(o[p]=Object.create(null))}return o}function xn(o,n,i){return typeof n=="string"?T(We(o,n),i):T(We(o,""),n)}class uo{constructor(n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,c)=>zt(c.backgroundColor),this.hoverBorderColor=(i,c)=>zt(c.borderColor),this.hoverColor=(i,c)=>zt(c.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(n)}set(n,i){return xn(this,n,i)}get(n){return We(this,n)}describe(n,i){return xn(Vt,n,i)}override(n,i){return xn(Ft,n,i)}route(n,i,c,u){let p=We(this,n),b=We(this,c),x="_"+i;Object.defineProperties(p,{[x]:{value:p[i],writable:!0},[i]:{enumerable:!0,get(){let v=this[x],k=b[u];return l(v)?Object.assign({},k,v):h(v,k)},set(v){this[x]=v}}})}}var wt=new uo({_scriptable:o=>!o.startsWith("on"),_indexable:o=>o!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function Gn(){return typeof window<"u"&&typeof document<"u"}function pe(o){let n=o.parentNode;return n&&n.toString()==="[object ShadowRoot]"&&(n=n.host),n}function bi(o,n,i){let c;return typeof o=="string"?(c=parseInt(o,10),o.indexOf("%")!==-1&&(c=c/100*n.parentNode[i])):c=o,c}let vn=o=>window.getComputedStyle(o,null);function ls(o,n){return vn(o).getPropertyValue(n)}let Er=["top","right","bottom","left"];function $e(o,n,i){let c={};i=i?"-"+i:"";for(let u=0;u<4;u++){let p=Er[u];c[p]=parseFloat(o[n+"-"+p+i])||0}return c.width=c.left+c.right,c.height=c.top+c.bottom,c}let fo=(o,n,i)=>(o>0||n>0)&&(!i||!i.shadowRoot);function jf(o,n){let i=o.touches,c=i&&i.length?i[0]:o,{offsetX:u,offsetY:p}=c,b=!1,x,v;if(fo(u,p,o.target))x=u,v=p;else{let k=n.getBoundingClientRect();x=c.clientX-k.left,v=c.clientY-k.top,b=!0}return{x,y:v,box:b}}function yn(o,n){if("native"in o)return o;let{canvas:i,currentDevicePixelRatio:c}=n,u=vn(i),p=u.boxSizing==="border-box",b=$e(u,"padding"),x=$e(u,"border","width"),{x:v,y:k,box:A}=jf(o,i),O=b.left+(A&&x.left),R=b.top+(A&&x.top),{width:S,height:F}=n;return p&&(S-=b.width+x.width,F-=b.height+x.height),{x:Math.round((v-O)/S*i.width/c),y:Math.round((k-R)/F*i.height/c)}}function td(o,n,i){let c,u;if(n===void 0||i===void 0){let p=pe(o);if(!p)n=o.clientWidth,i=o.clientHeight;else{let b=p.getBoundingClientRect(),x=vn(p),v=$e(x,"border","width"),k=$e(x,"padding");n=b.width-k.width-v.width,i=b.height-k.height-v.height,c=bi(x.maxWidth,p,"clientWidth"),u=bi(x.maxHeight,p,"clientHeight")}}return{width:n,height:i,maxWidth:c||_t,maxHeight:u||_t}}let Lr=o=>Math.round(o*10)/10;function zl(o,n,i,c){let u=vn(o),p=$e(u,"margin"),b=bi(u.maxWidth,o,"clientWidth")||_t,x=bi(u.maxHeight,o,"clientHeight")||_t,v=td(o,n,i),{width:k,height:A}=v;if(u.boxSizing==="content-box"){let O=$e(u,"border","width"),R=$e(u,"padding");k-=R.width+O.width,A-=R.height+O.height}return k=Math.max(0,k-p.width),A=Math.max(0,c?Math.floor(k/c):A-p.height),k=Lr(Math.min(k,b,v.maxWidth)),A=Lr(Math.min(A,x,v.maxHeight)),k&&!A&&(A=Lr(k/2)),{width:k,height:A}}function Rr(o,n,i){let c=n||1,u=Math.floor(o.height*c),p=Math.floor(o.width*c);o.height=u/c,o.width=p/c;let b=o.canvas;return b.style&&(i||!b.style.height&&!b.style.width)&&(b.style.height=`${o.height}px`,b.style.width=`${o.width}px`),o.currentDevicePixelRatio!==c||b.height!==u||b.width!==p?(o.currentDevicePixelRatio=c,b.height=u,b.width=p,o.ctx.setTransform(c,0,0,c,0,0),!0):!1}let Bl=function(){let o=!1;try{let n={get passive(){return o=!0,!1}};window.addEventListener("test",null,n),window.removeEventListener("test",null,n)}catch{}return o}();function Sr(o,n){let i=ls(o,n),c=i&&i.match(/^(\d+)(\.\d+)?px$/);return c?+c[1]:void 0}function Vl(o){return!o||e(o.size)||e(o.family)?null:(o.style?o.style+" ":"")+(o.weight?o.weight+" ":"")+o.size+"px "+o.family}function cs(o,n,i,c,u){let p=n[u];return p||(p=n[u]=o.measureText(u).width,i.push(u)),p>c&&(c=p),c}function Hl(o,n,i,c){c=c||{};let u=c.data=c.data||{},p=c.garbageCollect=c.garbageCollect||[];c.font!==n&&(u=c.data={},p=c.garbageCollect=[],c.font=n),o.save(),o.font=n;let b=0,x=i.length,v,k,A,O,R;for(v=0;v<x;v++)if(O=i[v],O!=null&&r(O)!==!0)b=cs(o,u,p,b,O);else if(r(O))for(k=0,A=O.length;k<A;k++)R=O[k],R!=null&&!r(R)&&(b=cs(o,u,p,b,R));o.restore();let S=p.length/2;if(S>i.length){for(v=0;v<S;v++)delete u[p[v]];p.splice(0,S)}return b}function wn(o,n,i){let c=o.currentDevicePixelRatio,u=i!==0?Math.max(i/2,.5):0;return Math.round((n-u)*c)/c+u}function Ir(o,n){n=n||o.getContext("2d"),n.save(),n.resetTransform(),n.clearRect(0,0,o.width,o.height),n.restore()}function go(o,n,i,c){Fr(o,n,i,c,null)}function Fr(o,n,i,c,u){let p,b,x,v,k,A,O=n.pointStyle,R=n.rotation,S=n.radius,F=(R||0)*Pt;if(O&&typeof O=="object"&&(p=O.toString(),p==="[object HTMLImageElement]"||p==="[object HTMLCanvasElement]")){o.save(),o.translate(i,c),o.rotate(F),o.drawImage(O,-O.width/2,-O.height/2,O.width,O.height),o.restore();return}if(!(isNaN(S)||S<=0)){switch(o.beginPath(),O){default:u?o.ellipse(i,c,u/2,S,0,0,gt):o.arc(i,c,S,0,gt),o.closePath();break;case"triangle":o.moveTo(i+Math.sin(F)*S,c-Math.cos(F)*S),F+=$t,o.lineTo(i+Math.sin(F)*S,c-Math.cos(F)*S),F+=$t,o.lineTo(i+Math.sin(F)*S,c-Math.cos(F)*S),o.closePath();break;case"rectRounded":k=S*.516,v=S-k,b=Math.cos(F+Mt)*v,x=Math.sin(F+Mt)*v,o.arc(i-b,c-x,k,F-ut,F-bt),o.arc(i+x,c-b,k,F-bt,F),o.arc(i+b,c+x,k,F,F+bt),o.arc(i-x,c+b,k,F+bt,F+ut),o.closePath();break;case"rect":if(!R){v=Math.SQRT1_2*S,A=u?u/2:v,o.rect(i-A,c-v,2*A,2*v);break}F+=Mt;case"rectRot":b=Math.cos(F)*S,x=Math.sin(F)*S,o.moveTo(i-b,c-x),o.lineTo(i+x,c-b),o.lineTo(i+b,c+x),o.lineTo(i-x,c+b),o.closePath();break;case"crossRot":F+=Mt;case"cross":b=Math.cos(F)*S,x=Math.sin(F)*S,o.moveTo(i-b,c-x),o.lineTo(i+b,c+x),o.moveTo(i+x,c-b),o.lineTo(i-x,c+b);break;case"star":b=Math.cos(F)*S,x=Math.sin(F)*S,o.moveTo(i-b,c-x),o.lineTo(i+b,c+x),o.moveTo(i+x,c-b),o.lineTo(i-x,c+b),F+=Mt,b=Math.cos(F)*S,x=Math.sin(F)*S,o.moveTo(i-b,c-x),o.lineTo(i+b,c+x),o.moveTo(i+x,c-b),o.lineTo(i-x,c+b);break;case"line":b=u?u/2:Math.cos(F)*S,x=Math.sin(F)*S,o.moveTo(i-b,c-x),o.lineTo(i+b,c+x);break;case"dash":o.moveTo(i,c),o.lineTo(i+Math.cos(F)*S,c+Math.sin(F)*S);break}o.fill(),n.borderWidth>0&&o.stroke()}}function _i(o,n,i){return i=i||.5,!n||o&&o.x>n.left-i&&o.x<n.right+i&&o.y>n.top-i&&o.y<n.bottom+i}function hs(o,n){o.save(),o.beginPath(),o.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),o.clip()}function us(o){o.restore()}function Nl(o,n,i,c,u){if(!n)return o.lineTo(i.x,i.y);if(u==="middle"){let p=(n.x+i.x)/2;o.lineTo(p,n.y),o.lineTo(p,i.y)}else u==="after"!=!!c?o.lineTo(n.x,i.y):o.lineTo(i.x,n.y);o.lineTo(i.x,i.y)}function Wl(o,n,i,c){if(!n)return o.lineTo(i.x,i.y);o.bezierCurveTo(c?n.cp1x:n.cp2x,c?n.cp1y:n.cp2y,c?i.cp2x:i.cp1x,c?i.cp2y:i.cp1y,i.x,i.y)}function kn(o,n,i,c,u,p={}){let b=r(n)?n:[n],x=p.strokeWidth>0&&p.strokeColor!=="",v,k;for(o.save(),o.font=u.string,ed(o,p),v=0;v<b.length;++v)k=b[v],x&&(p.strokeColor&&(o.strokeStyle=p.strokeColor),e(p.strokeWidth)||(o.lineWidth=p.strokeWidth),o.strokeText(k,i,c,p.maxWidth)),o.fillText(k,i,c,p.maxWidth),nd(o,i,c,k,p),c+=u.lineHeight;o.restore()}function ed(o,n){n.translation&&o.translate(n.translation[0],n.translation[1]),e(n.rotation)||o.rotate(n.rotation),n.color&&(o.fillStyle=n.color),n.textAlign&&(o.textAlign=n.textAlign),n.textBaseline&&(o.textBaseline=n.textBaseline)}function nd(o,n,i,c,u){if(u.strikethrough||u.underline){let p=o.measureText(c),b=n-p.actualBoundingBoxLeft,x=n+p.actualBoundingBoxRight,v=i-p.actualBoundingBoxAscent,k=i+p.actualBoundingBoxDescent,A=u.strikethrough?(v+k)/2:k;o.strokeStyle=o.fillStyle,o.beginPath(),o.lineWidth=u.decorationWidth||2,o.moveTo(b,A),o.lineTo(x,A),o.stroke()}}function xi(o,n){let{x:i,y:c,w:u,h:p,radius:b}=n;o.arc(i+b.topLeft,c+b.topLeft,b.topLeft,-bt,ut,!0),o.lineTo(i,c+p-b.bottomLeft),o.arc(i+b.bottomLeft,c+p-b.bottomLeft,b.bottomLeft,ut,bt,!0),o.lineTo(i+u-b.bottomRight,c+p),o.arc(i+u-b.bottomRight,c+p-b.bottomRight,b.bottomRight,bt,0,!0),o.lineTo(i+u,c+b.topRight),o.arc(i+u-b.topRight,c+b.topRight,b.topRight,0,-bt,!0),o.lineTo(i+b.topLeft,c)}function po(o,n=[""],i=o,c,u=()=>o[0]){G(c)||(c=Ul("_fallback",o));let p={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:o,_rootScopes:i,_fallback:c,_getTarget:u,override:b=>po([b,...o],n,i,c)};return new Proxy(p,{deleteProperty(b,x){return delete b[x],delete b._keys,delete o[0][x],!0},get(b,x){return $l(b,x,()=>hd(x,n,o,b))},getOwnPropertyDescriptor(b,x){return Reflect.getOwnPropertyDescriptor(b._scopes[0],x)},getPrototypeOf(){return Reflect.getPrototypeOf(o[0])},has(b,x){return Xl(b).includes(x)},ownKeys(b){return Xl(b)},set(b,x,v){let k=b._storage||(b._storage=u());return b[x]=k[x]=v,delete b._keys,!0}})}function Kn(o,n,i,c){let u={_cacheable:!1,_proxy:o,_context:n,_subProxy:i,_stack:new Set,_descriptors:zr(o,c),setContext:p=>Kn(o,p,i,c),override:p=>Kn(o.override(p),n,i,c)};return new Proxy(u,{deleteProperty(p,b){return delete p[b],delete o[b],!0},get(p,b,x){return $l(p,b,()=>sd(p,b,x))},getOwnPropertyDescriptor(p,b){return p._descriptors.allKeys?Reflect.has(o,b)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(o,b)},getPrototypeOf(){return Reflect.getPrototypeOf(o)},has(p,b){return Reflect.has(o,b)},ownKeys(){return Reflect.ownKeys(o)},set(p,b,x){return o[b]=x,delete p[b],!0}})}function zr(o,n={scriptable:!0,indexable:!0}){let{_scriptable:i=n.scriptable,_indexable:c=n.indexable,_allKeys:u=n.allKeys}=o;return{allKeys:u,scriptable:i,indexable:c,isScriptable:et(i)?i:()=>i,isIndexable:et(c)?c:()=>c}}let id=(o,n)=>o?o+X(n):n,Br=(o,n)=>l(n)&&o!=="adapters"&&(Object.getPrototypeOf(n)===null||n.constructor===Object);function $l(o,n,i){if(Object.prototype.hasOwnProperty.call(o,n))return o[n];let c=i();return o[n]=c,c}function sd(o,n,i){let{_proxy:c,_context:u,_subProxy:p,_descriptors:b}=o,x=c[n];return et(x)&&b.isScriptable(n)&&(x=od(n,x,o,i)),r(x)&&x.length&&(x=rd(n,x,o,b.isIndexable)),Br(n,x)&&(x=Kn(x,u,p&&p[n],b)),x}function od(o,n,i,c){let{_proxy:u,_context:p,_subProxy:b,_stack:x}=i;if(x.has(o))throw new Error("Recursion detected: "+Array.from(x).join("->")+"->"+o);return x.add(o),n=n(p,b||c),x.delete(o),Br(o,n)&&(n=Vr(u._scopes,u,o,n)),n}function rd(o,n,i,c){let{_proxy:u,_context:p,_subProxy:b,_descriptors:x}=i;if(G(p.index)&&c(o))n=n[p.index%n.length];else if(l(n[0])){let v=n,k=u._scopes.filter(A=>A!==v);n=[];for(let A of v){let O=Vr(k,u,o,A);n.push(Kn(O,p,b&&b[o],x))}}return n}function Yl(o,n,i){return et(o)?o(n,i):o}let ad=(o,n)=>o===!0?n:typeof o=="string"?B(n,o):void 0;function ld(o,n,i,c,u){for(let p of n){let b=ad(i,p);if(b){o.add(b);let x=Yl(b._fallback,i,u);if(G(x)&&x!==i&&x!==c)return x}else if(b===!1&&G(c)&&i!==c)return null}return!1}function Vr(o,n,i,c){let u=n._rootScopes,p=Yl(n._fallback,i,c),b=[...o,...u],x=new Set;x.add(c);let v=ql(x,b,i,p||i,c);return v===null||G(p)&&p!==i&&(v=ql(x,b,p,v,c),v===null)?!1:po(Array.from(x),[""],u,p,()=>cd(n,i,c))}function ql(o,n,i,c,u){for(;i;)i=ld(o,n,i,c,u);return i}function cd(o,n,i){let c=o._getTarget();n in c||(c[n]={});let u=c[n];return r(u)&&l(i)?i:u}function hd(o,n,i,c){let u;for(let p of n)if(u=Ul(id(p,o),i),G(u))return Br(o,u)?Vr(i,c,o,u):u}function Ul(o,n){for(let i of n){if(!i)continue;let c=i[o];if(G(c))return c}}function Xl(o){let n=o._keys;return n||(n=o._keys=ud(o._scopes)),n}function ud(o){let n=new Set;for(let i of o)for(let c of Object.keys(i).filter(u=>!u.startsWith("_")))n.add(c);return Array.from(n)}function Hr(o,n,i,c){let{iScale:u}=o,{key:p="r"}=this._parsing,b=new Array(c),x,v,k,A;for(x=0,v=c;x<v;++x)k=x+i,A=n[k],b[x]={r:u.parse(B(A,p),k)};return b}let fd=Number.EPSILON||1e-14,vi=(o,n)=>n<o.length&&!o[n].skip&&o[n],Gl=o=>o==="x"?"y":"x";function Kl(o,n,i,c){let u=o.skip?n:o,p=n,b=i.skip?n:i,x=fi(p,u),v=fi(b,p),k=x/(x+v),A=v/(x+v);k=isNaN(k)?0:k,A=isNaN(A)?0:A;let O=c*k,R=c*A;return{previous:{x:p.x-O*(b.x-u.x),y:p.y-O*(b.y-u.y)},next:{x:p.x+R*(b.x-u.x),y:p.y+R*(b.y-u.y)}}}function dd(o,n,i){let c=o.length,u,p,b,x,v,k=vi(o,0);for(let A=0;A<c-1;++A)if(v=k,k=vi(o,A+1),!(!v||!k)){if(be(n[A],0,fd)){i[A]=i[A+1]=0;continue}u=i[A]/n[A],p=i[A+1]/n[A],x=Math.pow(u,2)+Math.pow(p,2),!(x<=9)&&(b=3/Math.sqrt(x),i[A]=u*b*n[A],i[A+1]=p*b*n[A])}}function gd(o,n,i="x"){let c=Gl(i),u=o.length,p,b,x,v=vi(o,0);for(let k=0;k<u;++k){if(b=x,x=v,v=vi(o,k+1),!x)continue;let A=x[i],O=x[c];b&&(p=(A-b[i])/3,x[`cp1${i}`]=A-p,x[`cp1${c}`]=O-p*n[k]),v&&(p=(v[i]-A)/3,x[`cp2${i}`]=A+p,x[`cp2${c}`]=O+p*n[k])}}function Ql(o,n="x"){let i=Gl(n),c=o.length,u=Array(c).fill(0),p=Array(c),b,x,v,k=vi(o,0);for(b=0;b<c;++b)if(x=v,v=k,k=vi(o,b+1),!!v){if(k){let A=k[n]-v[n];u[b]=A!==0?(k[i]-v[i])/A:0}p[b]=x?k?Dt(u[b-1])!==Dt(u[b])?0:(u[b-1]+u[b])/2:u[b-1]:u[b]}dd(o,u,p),gd(o,p,n)}function mo(o,n,i){return Math.max(Math.min(o,i),n)}function pd(o,n){let i,c,u,p,b,x=_i(o[0],n);for(i=0,c=o.length;i<c;++i)b=p,p=x,x=i<c-1&&_i(o[i+1],n),p&&(u=o[i],b&&(u.cp1x=mo(u.cp1x,n.left,n.right),u.cp1y=mo(u.cp1y,n.top,n.bottom)),x&&(u.cp2x=mo(u.cp2x,n.left,n.right),u.cp2y=mo(u.cp2y,n.top,n.bottom)))}function Zl(o,n,i,c,u){let p,b,x,v;if(n.spanGaps&&(o=o.filter(k=>!k.skip)),n.cubicInterpolationMode==="monotone")Ql(o,u);else{let k=c?o[o.length-1]:o[0];for(p=0,b=o.length;p<b;++p)x=o[p],v=Kl(k,x,o[Math.min(p+1,b-(c?0:1))%b],n.tension),x.cp1x=v.previous.x,x.cp1y=v.previous.y,x.cp2x=v.next.x,x.cp2y=v.next.y,k=x}n.capBezierPoints&&pd(o,i)}let bo=o=>o===0||o===1,Jl=(o,n,i)=>-(Math.pow(2,10*(o-=1))*Math.sin((o-n)*gt/i)),jl=(o,n,i)=>Math.pow(2,-10*o)*Math.sin((o-n)*gt/i)+1,yi={linear:o=>o,easeInQuad:o=>o*o,easeOutQuad:o=>-o*(o-2),easeInOutQuad:o=>(o/=.5)<1?.5*o*o:-.5*(--o*(o-2)-1),easeInCubic:o=>o*o*o,easeOutCubic:o=>(o-=1)*o*o+1,easeInOutCubic:o=>(o/=.5)<1?.5*o*o*o:.5*((o-=2)*o*o+2),easeInQuart:o=>o*o*o*o,easeOutQuart:o=>-((o-=1)*o*o*o-1),easeInOutQuart:o=>(o/=.5)<1?.5*o*o*o*o:-.5*((o-=2)*o*o*o-2),easeInQuint:o=>o*o*o*o*o,easeOutQuint:o=>(o-=1)*o*o*o*o+1,easeInOutQuint:o=>(o/=.5)<1?.5*o*o*o*o*o:.5*((o-=2)*o*o*o*o+2),easeInSine:o=>-Math.cos(o*bt)+1,easeOutSine:o=>Math.sin(o*bt),easeInOutSine:o=>-.5*(Math.cos(ut*o)-1),easeInExpo:o=>o===0?0:Math.pow(2,10*(o-1)),easeOutExpo:o=>o===1?1:-Math.pow(2,-10*o)+1,easeInOutExpo:o=>bo(o)?o:o<.5?.5*Math.pow(2,10*(o*2-1)):.5*(-Math.pow(2,-10*(o*2-1))+2),easeInCirc:o=>o>=1?o:-(Math.sqrt(1-o*o)-1),easeOutCirc:o=>Math.sqrt(1-(o-=1)*o),easeInOutCirc:o=>(o/=.5)<1?-.5*(Math.sqrt(1-o*o)-1):.5*(Math.sqrt(1-(o-=2)*o)+1),easeInElastic:o=>bo(o)?o:Jl(o,.075,.3),easeOutElastic:o=>bo(o)?o:jl(o,.075,.3),easeInOutElastic(o){return bo(o)?o:o<.5?.5*Jl(o*2,.1125,.45):.5+.5*jl(o*2-1,.1125,.45)},easeInBack(o){return o*o*((1.70158+1)*o-1.70158)},easeOutBack(o){return(o-=1)*o*((1.70158+1)*o+1.70158)+1},easeInOutBack(o){let n=1.70158;return(o/=.5)<1?.5*(o*o*(((n*=1.525)+1)*o-n)):.5*((o-=2)*o*(((n*=1.525)+1)*o+n)+2)},easeInBounce:o=>1-yi.easeOutBounce(1-o),easeOutBounce(o){return o<1/2.75?7.5625*o*o:o<2/2.75?7.5625*(o-=1.5/2.75)*o+.75:o<2.5/2.75?7.5625*(o-=2.25/2.75)*o+.9375:7.5625*(o-=2.625/2.75)*o+.984375},easeInOutBounce:o=>o<.5?yi.easeInBounce(o*2)*.5:yi.easeOutBounce(o*2-1)*.5+.5};function Pn(o,n,i,c){return{x:o.x+i*(n.x-o.x),y:o.y+i*(n.y-o.y)}}function tc(o,n,i,c){return{x:o.x+i*(n.x-o.x),y:c==="middle"?i<.5?o.y:n.y:c==="after"?i<1?o.y:n.y:i>0?n.y:o.y}}function ec(o,n,i,c){let u={x:o.cp2x,y:o.cp2y},p={x:n.cp1x,y:n.cp1y},b=Pn(o,u,i),x=Pn(u,p,i),v=Pn(p,n,i),k=Pn(b,x,i),A=Pn(x,v,i);return Pn(k,A,i)}let nc=new Map;function md(o,n){n=n||{};let i=o+JSON.stringify(n),c=nc.get(i);return c||(c=new Intl.NumberFormat(o,n),nc.set(i,c)),c}function wi(o,n,i){return md(n,i).format(o)}let bd=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),_d=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function ic(o,n){let i=(""+o).match(bd);if(!i||i[1]==="normal")return n*1.2;switch(o=+i[2],i[3]){case"px":return o;case"%":o/=100;break}return n*o}let xd=o=>+o||0;function _o(o,n){let i={},c=l(n),u=c?Object.keys(n):n,p=l(o)?c?b=>h(o[b],o[n[b]]):b=>o[b]:()=>o;for(let b of u)i[b]=xd(p(b));return i}function Nr(o){return _o(o,{top:"y",right:"x",bottom:"y",left:"x"})}function Mn(o){return _o(o,["topLeft","topRight","bottomLeft","bottomRight"])}function oe(o){let n=Nr(o);return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function Jt(o,n){o=o||{},n=n||wt.font;let i=h(o.size,n.size);typeof i=="string"&&(i=parseInt(i,10));let c=h(o.style,n.style);c&&!(""+c).match(_d)&&(console.warn('Invalid font style specified: "'+c+'"'),c="");let u={family:h(o.family,n.family),lineHeight:ic(h(o.lineHeight,n.lineHeight),i),size:i,style:c,weight:h(o.weight,n.weight),string:""};return u.string=Vl(u),u}function ki(o,n,i,c){let u=!0,p,b,x;for(p=0,b=o.length;p<b;++p)if(x=o[p],x!==void 0&&(n!==void 0&&typeof x=="function"&&(x=x(n),u=!1),i!==void 0&&r(x)&&(x=x[i%x.length],u=!1),x!==void 0))return c&&!u&&(c.cacheable=!1),x}function sc(o,n,i){let{min:c,max:u}=o,p=d(n,(u-c)/2),b=(x,v)=>i&&x===0?0:x+v;return{min:b(c,-Math.abs(p)),max:b(u,p)}}function sn(o,n){return Object.assign(Object.create(o),n)}let vd=function(o,n){return{x(i){return o+o+n-i},setWidth(i){n=i},textAlign(i){return i==="center"?i:i==="right"?"left":"right"},xPlus(i,c){return i-c},leftForLtr(i,c){return i-c}}},yd=function(){return{x(o){return o},setWidth(o){},textAlign(o){return o},xPlus(o,n){return o+n},leftForLtr(o,n){return o}}};function Qn(o,n,i){return o?vd(n,i):yd()}function Wr(o,n){let i,c;(n==="ltr"||n==="rtl")&&(i=o.canvas.style,c=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",n,"important"),o.prevTextDirection=c)}function $r(o,n){n!==void 0&&(delete o.prevTextDirection,o.canvas.style.setProperty("direction",n[0],n[1]))}function oc(o){return o==="angle"?{between:pn,compare:to,normalize:he}:{between:De,compare:(n,i)=>n-i,normalize:n=>n}}function rc({start:o,end:n,count:i,loop:c,style:u}){return{start:o%i,end:n%i,loop:c&&(n-o+1)%i===0,style:u}}function wd(o,n,i){let{property:c,start:u,end:p}=i,{between:b,normalize:x}=oc(c),v=n.length,{start:k,end:A,loop:O}=o,R,S;if(O){for(k+=v,A+=v,R=0,S=v;R<S&&b(x(n[k%v][c]),u,p);++R)k--,A--;k%=v,A%=v}return A<k&&(A+=v),{start:k,end:A,loop:O,style:o.style}}function Yr(o,n,i){if(!i)return[o];let{property:c,start:u,end:p}=i,b=n.length,{compare:x,between:v,normalize:k}=oc(c),{start:A,end:O,loop:R,style:S}=wd(o,n,i),F=[],V=!1,H=null,Y,K,tt,j=()=>v(u,tt,Y)&&x(u,tt)!==0,J=()=>x(p,Y)===0||v(p,tt,Y),st=()=>V||j(),ot=()=>!V||J();for(let mt=A,dt=A;mt<=O;++mt)K=n[mt%b],!K.skip&&(Y=k(K[c]),Y!==tt&&(V=v(Y,u,p),H===null&&st()&&(H=x(Y,u)===0?mt:dt),H!==null&&ot()&&(F.push(rc({start:H,end:mt,loop:R,count:b,style:S})),H=null),dt=mt,tt=Y));return H!==null&&F.push(rc({start:H,end:O,loop:R,count:b,style:S})),F}function qr(o,n){let i=[],c=o.segments;for(let u=0;u<c.length;u++){let p=Yr(c[u],o.points,n);p.length&&i.push(...p)}return i}function kd(o,n,i,c){let u=0,p=n-1;if(i&&!c)for(;u<n&&!o[u].skip;)u++;for(;u<n&&o[u].skip;)u++;for(u%=n,i&&(p+=u);p>u&&o[p%n].skip;)p--;return p%=n,{start:u,end:p}}function Pd(o,n,i,c){let u=o.length,p=[],b=n,x=o[n],v;for(v=n+1;v<=i;++v){let k=o[v%u];k.skip||k.stop?x.skip||(c=!1,p.push({start:n%u,end:(v-1)%u,loop:c}),n=b=k.stop?v:null):(b=v,x.skip&&(n=v)),x=k}return b!==null&&p.push({start:n%u,end:b%u,loop:c}),p}function ac(o,n){let i=o.points,c=o.options.spanGaps,u=i.length;if(!u)return[];let p=!!o._loop,{start:b,end:x}=kd(i,u,p,c);if(c===!0)return lc(o,[{start:b,end:x,loop:p}],i,n);let v=x<b?x+u:x,k=!!o._fullLoop&&b===0&&x===u-1;return lc(o,Pd(i,b,v,k),i,n)}function lc(o,n,i,c){return!c||!c.setContext||!i?n:Md(o,n,i,c)}function Md(o,n,i,c){let u=o._chart.getContext(),p=cc(o.options),{_datasetIndex:b,options:{spanGaps:x}}=o,v=i.length,k=[],A=p,O=n[0].start,R=O;function S(F,V,H,Y){let K=x?-1:1;if(F!==V){for(F+=v;i[F%v].skip;)F-=K;for(;i[V%v].skip;)V+=K;F%v!==V%v&&(k.push({start:F%v,end:V%v,loop:H,style:Y}),A=Y,O=V%v)}}for(let F of n){O=x?O:F.start;let V=i[O%v],H;for(R=O+1;R<=F.end;R++){let Y=i[R%v];H=cc(c.setContext(sn(u,{type:"segment",p0:V,p1:Y,p0DataIndex:(R-1)%v,p1DataIndex:R%v,datasetIndex:b}))),Cd(H,A)&&S(O,R-1,F.loop,A),V=Y,A=H}O<R-1&&S(O,R-1,F.loop,A)}return k}function cc(o){return{backgroundColor:o.backgroundColor,borderCapStyle:o.borderCapStyle,borderDash:o.borderDash,borderDashOffset:o.borderDashOffset,borderJoinStyle:o.borderJoinStyle,borderWidth:o.borderWidth,borderColor:o.borderColor}}function Cd(o,n){return n&&JSON.stringify(o)!==JSON.stringify(n)}var Ad=Object.freeze({__proto__:null,easingEffects:yi,isPatternOrGradient:rt,color:Ct,getHoverColor:zt,noop:s,uid:t,isNullOrUndef:e,isArray:r,isObject:l,isFinite:f,finiteOrDefault:g,valueOrDefault:h,toPercentage:a,toDimension:d,callback:m,each:_,_elementsEqual:y,clone:w,_merger:M,merge:T,mergeIf:C,_mergerIf:D,_deprecated:L,resolveObjectKey:B,_splitKey:U,_capitalize:X,defined:G,isFunction:et,setsEqual:it,_isClickEvent:ct,toFontString:Vl,_measureText:cs,_longestText:Hl,_alignPixel:wn,clearCanvas:Ir,drawPoint:go,drawPointLegend:Fr,_isPointInArea:_i,clipArea:hs,unclipArea:us,_steppedLineTo:Nl,_bezierCurveTo:Wl,renderText:kn,addRoundedRectPath:xi,_lookup:di,_lookupByKey:Oe,_rlookupByKey:no,_filterBetween:io,listenArrayEvents:oo,unlistenArrayEvents:Ji,_arrayUnique:ji,_createResolver:po,_attachContext:Kn,_descriptors:zr,_parseObjectDataRadialScale:Hr,splineCurve:Kl,splineCurveMonotone:Ql,_updateBezierControlPoints:Zl,_isDomSupported:Gn,_getParentNode:pe,getStyle:ls,getRelativePosition:yn,getMaximumSize:zl,retinaScale:Rr,supportsEventListenerOptions:Bl,readUsedSize:Sr,fontString:Ar,requestAnimFrame:ts,throttled:es,debounce:ns,_toLeftRightCenter:gi,_alignStartEnd:ne,_textX:ro,_getStartAndCountOfVisiblePoints:ue,_scaleRangesChanged:tn,_pointInLine:Pn,_steppedInterpolation:tc,_bezierInterpolation:ec,formatNumber:wi,toLineHeight:ic,_readValueToProps:_o,toTRBL:Nr,toTRBLCorners:Mn,toPadding:oe,toFont:Jt,resolve:ki,_addGrace:sc,createContext:sn,PI:ut,TAU:gt,PITAU:pt,INFINITY:_t,RAD_PER_DEG:Pt,HALF_PI:bt,QUARTER_PI:Mt,TWO_THIRDS_PI:$t,log10:kt,sign:Dt,niceNum:Et,_factorize:de,isNumber:Yt,almostEquals:be,almostWhole:js,_setMinAndMaxByKey:ci,toRadians:ce,toDegrees:Yn,_decimalPlaces:hi,getAngleFromPoint:ui,distanceBetweenPoints:fi,_angleDiff:to,_normalizeAngle:he,_angleBetween:pn,_limitValue:Qt,_int16Range:eo,_isBetween:De,getRtlAdapter:Qn,overrideTextDirection:Wr,restoreTextDirection:$r,_boundSegment:Yr,_boundSegments:qr,_computeSegments:ac});function Td(o,n,i,c){let{controller:u,data:p,_sorted:b}=o,x=u._cachedMeta.iScale;if(x&&n===x.axis&&n!=="r"&&b&&p.length){let v=x._reversePixels?no:Oe;if(c){if(u._sharedOptions){let k=p[0],A=typeof k.getRange=="function"&&k.getRange(n);if(A){let O=v(p,n,i-A),R=v(p,n,i+A);return{lo:O.lo,hi:R.hi}}}}else return v(p,n,i)}return{lo:0,hi:p.length-1}}function fs(o,n,i,c,u){let p=o.getSortedVisibleDatasetMetas(),b=i[n];for(let x=0,v=p.length;x<v;++x){let{index:k,data:A}=p[x],{lo:O,hi:R}=Td(p[x],n,b,u);for(let S=O;S<=R;++S){let F=A[S];F.skip||c(F,k,S)}}}function Dd(o){let n=o.indexOf("x")!==-1,i=o.indexOf("y")!==-1;return function(c,u){let p=n?Math.abs(c.x-u.x):0,b=i?Math.abs(c.y-u.y):0;return Math.sqrt(Math.pow(p,2)+Math.pow(b,2))}}function Ur(o,n,i,c,u){let p=[];return!u&&!o.isPointInArea(n)||fs(o,i,n,function(x,v,k){!u&&!_i(x,o.chartArea,0)||x.inRange(n.x,n.y,c)&&p.push({element:x,datasetIndex:v,index:k})},!0),p}function Od(o,n,i,c){let u=[];function p(b,x,v){let{startAngle:k,endAngle:A}=b.getProps(["startAngle","endAngle"],c),{angle:O}=ui(b,{x:n.x,y:n.y});pn(O,k,A)&&u.push({element:b,datasetIndex:x,index:v})}return fs(o,i,n,p),u}function Ed(o,n,i,c,u,p){let b=[],x=Dd(i),v=Number.POSITIVE_INFINITY;function k(A,O,R){let S=A.inRange(n.x,n.y,u);if(c&&!S)return;let F=A.getCenterPoint(u);if(!(!!p||o.isPointInArea(F))&&!S)return;let H=x(n,F);H<v?(b=[{element:A,datasetIndex:O,index:R}],v=H):H===v&&b.push({element:A,datasetIndex:O,index:R})}return fs(o,i,n,k),b}function Xr(o,n,i,c,u,p){return!p&&!o.isPointInArea(n)?[]:i==="r"&&!c?Od(o,n,i,u):Ed(o,n,i,c,u,p)}function hc(o,n,i,c,u){let p=[],b=i==="x"?"inXRange":"inYRange",x=!1;return fs(o,i,n,(v,k,A)=>{v[b](n[i],u)&&(p.push({element:v,datasetIndex:k,index:A}),x=x||v.inRange(n.x,n.y,u))}),c&&!x?[]:p}var uc={evaluateInteractionItems:fs,modes:{index(o,n,i,c){let u=yn(n,o),p=i.axis||"x",b=i.includeInvisible||!1,x=i.intersect?Ur(o,u,p,c,b):Xr(o,u,p,!1,c,b),v=[];return x.length?(o.getSortedVisibleDatasetMetas().forEach(k=>{let A=x[0].index,O=k.data[A];O&&!O.skip&&v.push({element:O,datasetIndex:k.index,index:A})}),v):[]},dataset(o,n,i,c){let u=yn(n,o),p=i.axis||"xy",b=i.includeInvisible||!1,x=i.intersect?Ur(o,u,p,c,b):Xr(o,u,p,!1,c,b);if(x.length>0){let v=x[0].datasetIndex,k=o.getDatasetMeta(v).data;x=[];for(let A=0;A<k.length;++A)x.push({element:k[A],datasetIndex:v,index:A})}return x},point(o,n,i,c){let u=yn(n,o),p=i.axis||"xy",b=i.includeInvisible||!1;return Ur(o,u,p,c,b)},nearest(o,n,i,c){let u=yn(n,o),p=i.axis||"xy",b=i.includeInvisible||!1;return Xr(o,u,p,i.intersect,c,b)},x(o,n,i,c){let u=yn(n,o);return hc(o,u,"x",i.intersect,c)},y(o,n,i,c){let u=yn(n,o);return hc(o,u,"y",i.intersect,c)}}};let fc=["left","top","right","bottom"];function ds(o,n){return o.filter(i=>i.pos===n)}function dc(o,n){return o.filter(i=>fc.indexOf(i.pos)===-1&&i.box.axis===n)}function gs(o,n){return o.sort((i,c)=>{let u=n?c:i,p=n?i:c;return u.weight===p.weight?u.index-p.index:u.weight-p.weight})}function Ld(o){let n=[],i,c,u,p,b,x;for(i=0,c=(o||[]).length;i<c;++i)u=o[i],{position:p,options:{stack:b,stackWeight:x=1}}=u,n.push({index:i,box:u,pos:p,horizontal:u.isHorizontal(),weight:u.weight,stack:b&&p+b,stackWeight:x});return n}function Rd(o){let n={};for(let i of o){let{stack:c,pos:u,stackWeight:p}=i;if(!c||!fc.includes(u))continue;let b=n[c]||(n[c]={count:0,placed:0,weight:0,size:0});b.count++,b.weight+=p}return n}function Sd(o,n){let i=Rd(o),{vBoxMaxWidth:c,hBoxMaxHeight:u}=n,p,b,x;for(p=0,b=o.length;p<b;++p){x=o[p];let{fullSize:v}=x.box,k=i[x.stack],A=k&&x.stackWeight/k.weight;x.horizontal?(x.width=A?A*c:v&&n.availableWidth,x.height=u):(x.width=c,x.height=A?A*u:v&&n.availableHeight)}return i}function Id(o){let n=Ld(o),i=gs(n.filter(k=>k.box.fullSize),!0),c=gs(ds(n,"left"),!0),u=gs(ds(n,"right")),p=gs(ds(n,"top"),!0),b=gs(ds(n,"bottom")),x=dc(n,"x"),v=dc(n,"y");return{fullSize:i,leftAndTop:c.concat(p),rightAndBottom:u.concat(v).concat(b).concat(x),chartArea:ds(n,"chartArea"),vertical:c.concat(u).concat(v),horizontal:p.concat(b).concat(x)}}function gc(o,n,i,c){return Math.max(o[i],n[i])+Math.max(o[c],n[c])}function pc(o,n){o.top=Math.max(o.top,n.top),o.left=Math.max(o.left,n.left),o.bottom=Math.max(o.bottom,n.bottom),o.right=Math.max(o.right,n.right)}function Fd(o,n,i,c){let{pos:u,box:p}=i,b=o.maxPadding;if(!l(u)){i.size&&(o[u]-=i.size);let O=c[i.stack]||{size:0,count:1};O.size=Math.max(O.size,i.horizontal?p.height:p.width),i.size=O.size/O.count,o[u]+=i.size}p.getPadding&&pc(b,p.getPadding());let x=Math.max(0,n.outerWidth-gc(b,o,"left","right")),v=Math.max(0,n.outerHeight-gc(b,o,"top","bottom")),k=x!==o.w,A=v!==o.h;return o.w=x,o.h=v,i.horizontal?{same:k,other:A}:{same:A,other:k}}function zd(o){let n=o.maxPadding;function i(c){let u=Math.max(n[c]-o[c],0);return o[c]+=u,u}o.y+=i("top"),o.x+=i("left"),i("right"),i("bottom")}function Bd(o,n){let i=n.maxPadding;function c(u){let p={left:0,top:0,right:0,bottom:0};return u.forEach(b=>{p[b]=Math.max(n[b],i[b])}),p}return c(o?["left","right"]:["top","bottom"])}function ps(o,n,i,c){let u=[],p,b,x,v,k,A;for(p=0,b=o.length,k=0;p<b;++p){x=o[p],v=x.box,v.update(x.width||n.w,x.height||n.h,Bd(x.horizontal,n));let{same:O,other:R}=Fd(n,i,x,c);k|=O&&u.length,A=A||R,v.fullSize||u.push(x)}return k&&ps(u,n,i,c)||A}function xo(o,n,i,c,u){o.top=i,o.left=n,o.right=n+c,o.bottom=i+u,o.width=c,o.height=u}function mc(o,n,i,c){let u=i.padding,{x:p,y:b}=n;for(let x of o){let v=x.box,k=c[x.stack]||{count:1,placed:0,weight:1},A=x.stackWeight/k.weight||1;if(x.horizontal){let O=n.w*A,R=k.size||v.height;G(k.start)&&(b=k.start),v.fullSize?xo(v,u.left,b,i.outerWidth-u.right-u.left,R):xo(v,n.left+k.placed,b,O,R),k.start=b,k.placed+=O,b=v.bottom}else{let O=n.h*A,R=k.size||v.width;G(k.start)&&(p=k.start),v.fullSize?xo(v,p,u.top,R,i.outerHeight-u.bottom-u.top):xo(v,p,n.top+k.placed,R,O),k.start=p,k.placed+=O,p=v.right}}n.x=p,n.y=b}wt.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var re={addBox(o,n){o.boxes||(o.boxes=[]),n.fullSize=n.fullSize||!1,n.position=n.position||"top",n.weight=n.weight||0,n._layers=n._layers||function(){return[{z:0,draw(i){n.draw(i)}}]},o.boxes.push(n)},removeBox(o,n){let i=o.boxes?o.boxes.indexOf(n):-1;i!==-1&&o.boxes.splice(i,1)},configure(o,n,i){n.fullSize=i.fullSize,n.position=i.position,n.weight=i.weight},update(o,n,i,c){if(!o)return;let u=oe(o.options.layout.padding),p=Math.max(n-u.width,0),b=Math.max(i-u.height,0),x=Id(o.boxes),v=x.vertical,k=x.horizontal;_(o.boxes,V=>{typeof V.beforeLayout=="function"&&V.beforeLayout()});let A=v.reduce((V,H)=>H.box.options&&H.box.options.display===!1?V:V+1,0)||1,O=Object.freeze({outerWidth:n,outerHeight:i,padding:u,availableWidth:p,availableHeight:b,vBoxMaxWidth:p/2/A,hBoxMaxHeight:b/2}),R=Object.assign({},u);pc(R,oe(c));let S=Object.assign({maxPadding:R,w:p,h:b,x:u.left,y:u.top},u),F=Sd(v.concat(k),O);ps(x.fullSize,S,O,F),ps(v,S,O,F),ps(k,S,O,F)&&ps(v,S,O,F),zd(S),mc(x.leftAndTop,S,O,F),S.x+=S.w,S.y+=S.h,mc(x.rightAndBottom,S,O,F),o.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},_(x.chartArea,V=>{let H=V.box;Object.assign(H,o.chartArea),H.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class Gr{acquireContext(n,i){}releaseContext(n){return!1}addEventListener(n,i,c){}removeEventListener(n,i,c){}getDevicePixelRatio(){return 1}getMaximumSize(n,i,c,u){return i=Math.max(0,i||n.width),c=c||n.height,{width:i,height:Math.max(0,u?Math.floor(i/u):c)}}isAttached(n){return!0}updateConfig(n){}}class bc extends Gr{acquireContext(n){return n&&n.getContext&&n.getContext("2d")||null}updateConfig(n){n.options.animation=!1}}let vo="$chartjs",Vd={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},_c=o=>o===null||o==="";function Hd(o,n){let i=o.style,c=o.getAttribute("height"),u=o.getAttribute("width");if(o[vo]={initial:{height:c,width:u,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",_c(u)){let p=Sr(o,"width");p!==void 0&&(o.width=p)}if(_c(c))if(o.style.height==="")o.height=o.width/(n||2);else{let p=Sr(o,"height");p!==void 0&&(o.height=p)}return o}let xc=Bl?{passive:!0}:!1;function Nd(o,n,i){o.addEventListener(n,i,xc)}function Wd(o,n,i){o.canvas.removeEventListener(n,i,xc)}function $d(o,n){let i=Vd[o.type]||o.type,{x:c,y:u}=yn(o,n);return{type:i,chart:n,native:o,x:c!==void 0?c:null,y:u!==void 0?u:null}}function yo(o,n){for(let i of o)if(i===n||i.contains(n))return!0}function Yd(o,n,i){let c=o.canvas,u=new MutationObserver(p=>{let b=!1;for(let x of p)b=b||yo(x.addedNodes,c),b=b&&!yo(x.removedNodes,c);b&&i()});return u.observe(document,{childList:!0,subtree:!0}),u}function qd(o,n,i){let c=o.canvas,u=new MutationObserver(p=>{let b=!1;for(let x of p)b=b||yo(x.removedNodes,c),b=b&&!yo(x.addedNodes,c);b&&i()});return u.observe(document,{childList:!0,subtree:!0}),u}let ms=new Map,vc=0;function yc(){let o=window.devicePixelRatio;o!==vc&&(vc=o,ms.forEach((n,i)=>{i.currentDevicePixelRatio!==o&&n()}))}function Ud(o,n){ms.size||window.addEventListener("resize",yc),ms.set(o,n)}function Xd(o){ms.delete(o),ms.size||window.removeEventListener("resize",yc)}function Gd(o,n,i){let c=o.canvas,u=c&&pe(c);if(!u)return;let p=es((x,v)=>{let k=u.clientWidth;i(x,v),k<u.clientWidth&&i()},window),b=new ResizeObserver(x=>{let v=x[0],k=v.contentRect.width,A=v.contentRect.height;k===0&&A===0||p(k,A)});return b.observe(u),Ud(o,p),b}function Kr(o,n,i){i&&i.disconnect(),n==="resize"&&Xd(o)}function Kd(o,n,i){let c=o.canvas,u=es(p=>{o.ctx!==null&&i($d(p,o))},o,p=>{let b=p[0];return[b,b.offsetX,b.offsetY]});return Nd(c,n,u),u}class wc extends Gr{acquireContext(n,i){let c=n&&n.getContext&&n.getContext("2d");return c&&c.canvas===n?(Hd(n,i),c):null}releaseContext(n){let i=n.canvas;if(!i[vo])return!1;let c=i[vo].initial;["height","width"].forEach(p=>{let b=c[p];e(b)?i.removeAttribute(p):i.setAttribute(p,b)});let u=c.style||{};return Object.keys(u).forEach(p=>{i.style[p]=u[p]}),i.width=i.width,delete i[vo],!0}addEventListener(n,i,c){this.removeEventListener(n,i);let u=n.$proxies||(n.$proxies={}),b={attach:Yd,detach:qd,resize:Gd}[i]||Kd;u[i]=b(n,i,c)}removeEventListener(n,i){let c=n.$proxies||(n.$proxies={}),u=c[i];if(!u)return;({attach:Kr,detach:Kr,resize:Kr}[i]||Wd)(n,i,u),c[i]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(n,i,c,u){return zl(n,i,c,u)}isAttached(n){let i=pe(n);return!!(i&&i.isConnected)}}function kc(o){return!Gn()||typeof OffscreenCanvas<"u"&&o instanceof OffscreenCanvas?bc:wc}var Pc=Object.freeze({__proto__:null,_detectPlatform:kc,BasePlatform:Gr,BasicPlatform:bc,DomPlatform:wc});let Mc="transparent",Qd={boolean(o,n,i){return i>.5?n:o},color(o,n,i){let c=Ct(o||Mc),u=c.valid&&Ct(n||Mc);return u&&u.valid?u.mix(c,i).hexString():n},number(o,n,i){return o+(n-o)*i}};class Cc{constructor(n,i,c,u){let p=i[c];u=ki([n.to,u,p,n.from]);let b=ki([n.from,p,u]);this._active=!0,this._fn=n.fn||Qd[n.type||typeof b],this._easing=yi[n.easing]||yi.linear,this._start=Math.floor(Date.now()+(n.delay||0)),this._duration=this._total=Math.floor(n.duration),this._loop=!!n.loop,this._target=i,this._prop=c,this._from=b,this._to=u,this._promises=void 0}active(){return this._active}update(n,i,c){if(this._active){this._notify(!1);let u=this._target[this._prop],p=c-this._start,b=this._duration-p;this._start=c,this._duration=Math.floor(Math.max(b,n.duration)),this._total+=p,this._loop=!!n.loop,this._to=ki([n.to,i,u,n.from]),this._from=ki([n.from,u,i])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(n){let i=n-this._start,c=this._duration,u=this._prop,p=this._from,b=this._loop,x=this._to,v;if(this._active=p!==x&&(b||i<c),!this._active){this._target[u]=x,this._notify(!0);return}if(i<0){this._target[u]=p;return}v=i/c%2,v=b&&v>1?2-v:v,v=this._easing(Math.min(1,Math.max(0,v))),this._target[u]=this._fn(p,x,v)}wait(){let n=this._promises||(this._promises=[]);return new Promise((i,c)=>{n.push({res:i,rej:c})})}_notify(n){let i=n?"res":"rej",c=this._promises||[];for(let u=0;u<c.length;u++)c[u][i]()}}let Zd=["x","y","borderWidth","radius","tension"],Jd=["color","borderColor","backgroundColor"];wt.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});let jd=Object.keys(wt.animation);wt.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:o=>o!=="onProgress"&&o!=="onComplete"&&o!=="fn"}),wt.set("animations",{colors:{type:"color",properties:Jd},numbers:{type:"number",properties:Zd}}),wt.describe("animations",{_fallback:"animation"}),wt.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:o=>o|0}}}});class Qr{constructor(n,i){this._chart=n,this._properties=new Map,this.configure(i)}configure(n){if(!l(n))return;let i=this._properties;Object.getOwnPropertyNames(n).forEach(c=>{let u=n[c];if(!l(u))return;let p={};for(let b of jd)p[b]=u[b];(r(u.properties)&&u.properties||[c]).forEach(b=>{(b===c||!i.has(b))&&i.set(b,p)})})}_animateOptions(n,i){let c=i.options,u=eg(n,c);if(!u)return[];let p=this._createAnimations(u,c);return c.$shared&&tg(n.options.$animations,c).then(()=>{n.options=c},()=>{}),p}_createAnimations(n,i){let c=this._properties,u=[],p=n.$animations||(n.$animations={}),b=Object.keys(i),x=Date.now(),v;for(v=b.length-1;v>=0;--v){let k=b[v];if(k.charAt(0)==="$")continue;if(k==="options"){u.push(...this._animateOptions(n,i));continue}let A=i[k],O=p[k],R=c.get(k);if(O)if(R&&O.active()){O.update(R,A,x);continue}else O.cancel();if(!R||!R.duration){n[k]=A;continue}p[k]=O=new Cc(R,n,k,A),u.push(O)}return u}update(n,i){if(this._properties.size===0){Object.assign(n,i);return}let c=this._createAnimations(n,i);if(c.length)return Ee.add(this._chart,c),!0}}function tg(o,n){let i=[],c=Object.keys(n);for(let u=0;u<c.length;u++){let p=o[c[u]];p&&p.active()&&i.push(p.wait())}return Promise.all(i)}function eg(o,n){if(!n)return;let i=o.options;if(!i){o.options=n;return}return i.$shared&&(o.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i}function Ac(o,n){let i=o&&o.options||{},c=i.reverse,u=i.min===void 0?n:0,p=i.max===void 0?n:0;return{start:c?p:u,end:c?u:p}}function ng(o,n,i){if(i===!1)return!1;let c=Ac(o,i),u=Ac(n,i);return{top:u.end,right:c.end,bottom:u.start,left:c.start}}function ig(o){let n,i,c,u;return l(o)?(n=o.top,i=o.right,c=o.bottom,u=o.left):n=i=c=u=o,{top:n,right:i,bottom:c,left:u,disabled:o===!1}}function Tc(o,n){let i=[],c=o._getSortedDatasetMetas(n),u,p;for(u=0,p=c.length;u<p;++u)i.push(c[u].index);return i}function Dc(o,n,i,c={}){let u=o.keys,p=c.mode==="single",b,x,v,k;if(n!==null){for(b=0,x=u.length;b<x;++b){if(v=+u[b],v===i){if(c.all)continue;break}k=o.values[v],f(k)&&(p||n===0||Dt(n)===Dt(k))&&(n+=k)}return n}}function sg(o){let n=Object.keys(o),i=new Array(n.length),c,u,p;for(c=0,u=n.length;c<u;++c)p=n[c],i[c]={x:p,y:o[p]};return i}function Oc(o,n){let i=o&&o.options.stacked;return i||i===void 0&&n.stack!==void 0}function og(o,n,i){return`${o.id}.${n.id}.${i.stack||i.type}`}function rg(o){let{min:n,max:i,minDefined:c,maxDefined:u}=o.getUserBounds();return{min:c?n:Number.NEGATIVE_INFINITY,max:u?i:Number.POSITIVE_INFINITY}}function ag(o,n,i){let c=o[n]||(o[n]={});return c[i]||(c[i]={})}function Ec(o,n,i,c){for(let u of n.getMatchingVisibleMetas(c).reverse()){let p=o[u.index];if(i&&p>0||!i&&p<0)return u.index}return null}function Lc(o,n){let{chart:i,_cachedMeta:c}=o,u=i._stacks||(i._stacks={}),{iScale:p,vScale:b,index:x}=c,v=p.axis,k=b.axis,A=og(p,b,c),O=n.length,R;for(let S=0;S<O;++S){let F=n[S],{[v]:V,[k]:H}=F,Y=F._stacks||(F._stacks={});R=Y[k]=ag(u,A,V),R[x]=H,R._top=Ec(R,b,!0,c.type),R._bottom=Ec(R,b,!1,c.type)}}function Zr(o,n){let i=o.scales;return Object.keys(i).filter(c=>i[c].axis===n).shift()}function lg(o,n){return sn(o,{active:!1,dataset:void 0,datasetIndex:n,index:n,mode:"default",type:"dataset"})}function cg(o,n,i){return sn(o,{active:!1,dataIndex:n,parsed:void 0,raw:void 0,element:i,index:n,mode:"default",type:"data"})}function bs(o,n){let i=o.controller.index,c=o.vScale&&o.vScale.axis;if(c){n=n||o._parsed;for(let u of n){let p=u._stacks;if(!p||p[c]===void 0||p[c][i]===void 0)return;delete p[c][i]}}}let Jr=o=>o==="reset"||o==="none",Rc=(o,n)=>n?o:Object.assign({},o),hg=(o,n,i)=>o&&!n.hidden&&n._stacked&&{keys:Tc(i,!0),values:null};class Ie{constructor(n,i){this.chart=n,this._ctx=n.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){let n=this._cachedMeta;this.configure(),this.linkScales(),n._stacked=Oc(n.vScale,n),this.addElements()}updateIndex(n){this.index!==n&&bs(this._cachedMeta),this.index=n}linkScales(){let n=this.chart,i=this._cachedMeta,c=this.getDataset(),u=(O,R,S,F)=>O==="x"?R:O==="r"?F:S,p=i.xAxisID=h(c.xAxisID,Zr(n,"x")),b=i.yAxisID=h(c.yAxisID,Zr(n,"y")),x=i.rAxisID=h(c.rAxisID,Zr(n,"r")),v=i.indexAxis,k=i.iAxisID=u(v,p,b,x),A=i.vAxisID=u(v,b,p,x);i.xScale=this.getScaleForId(p),i.yScale=this.getScaleForId(b),i.rScale=this.getScaleForId(x),i.iScale=this.getScaleForId(k),i.vScale=this.getScaleForId(A)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(n){return this.chart.scales[n]}_getOtherScale(n){let i=this._cachedMeta;return n===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){let n=this._cachedMeta;this._data&&Ji(this._data,this),n._stacked&&bs(n)}_dataCheck(){let n=this.getDataset(),i=n.data||(n.data=[]),c=this._data;if(l(i))this._data=sg(i);else if(c!==i){if(c){Ji(c,this);let u=this._cachedMeta;bs(u),u._parsed=[]}i&&Object.isExtensible(i)&&oo(i,this),this._syncList=[],this._data=i}}addElements(){let n=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(n.dataset=new this.datasetElementType)}buildOrUpdateElements(n){let i=this._cachedMeta,c=this.getDataset(),u=!1;this._dataCheck();let p=i._stacked;i._stacked=Oc(i.vScale,i),i.stack!==c.stack&&(u=!0,bs(i),i.stack=c.stack),this._resyncElements(n),(u||p!==i._stacked)&&Lc(this,i._parsed)}configure(){let n=this.chart.config,i=n.datasetScopeKeys(this._type),c=n.getOptionScopes(this.getDataset(),i,!0);this.options=n.createResolver(c,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(n,i){let{_cachedMeta:c,_data:u}=this,{iScale:p,_stacked:b}=c,x=p.axis,v=n===0&&i===u.length?!0:c._sorted,k=n>0&&c._parsed[n-1],A,O,R;if(this._parsing===!1)c._parsed=u,c._sorted=!0,R=u;else{r(u[n])?R=this.parseArrayData(c,u,n,i):l(u[n])?R=this.parseObjectData(c,u,n,i):R=this.parsePrimitiveData(c,u,n,i);let S=()=>O[x]===null||k&&O[x]<k[x];for(A=0;A<i;++A)c._parsed[A+n]=O=R[A],v&&(S()&&(v=!1),k=O);c._sorted=v}b&&Lc(this,R)}parsePrimitiveData(n,i,c,u){let{iScale:p,vScale:b}=n,x=p.axis,v=b.axis,k=p.getLabels(),A=p===b,O=new Array(u),R,S,F;for(R=0,S=u;R<S;++R)F=R+c,O[R]={[x]:A||p.parse(k[F],F),[v]:b.parse(i[F],F)};return O}parseArrayData(n,i,c,u){let{xScale:p,yScale:b}=n,x=new Array(u),v,k,A,O;for(v=0,k=u;v<k;++v)A=v+c,O=i[A],x[v]={x:p.parse(O[0],A),y:b.parse(O[1],A)};return x}parseObjectData(n,i,c,u){let{xScale:p,yScale:b}=n,{xAxisKey:x="x",yAxisKey:v="y"}=this._parsing,k=new Array(u),A,O,R,S;for(A=0,O=u;A<O;++A)R=A+c,S=i[R],k[A]={x:p.parse(B(S,x),R),y:b.parse(B(S,v),R)};return k}getParsed(n){return this._cachedMeta._parsed[n]}getDataElement(n){return this._cachedMeta.data[n]}applyStack(n,i,c){let u=this.chart,p=this._cachedMeta,b=i[n.axis],x={keys:Tc(u,!0),values:i._stacks[n.axis]};return Dc(x,b,p.index,{mode:c})}updateRangeFromParsed(n,i,c,u){let p=c[i.axis],b=p===null?NaN:p,x=u&&c._stacks[i.axis];u&&x&&(u.values=x,b=Dc(u,p,this._cachedMeta.index)),n.min=Math.min(n.min,b),n.max=Math.max(n.max,b)}getMinMax(n,i){let c=this._cachedMeta,u=c._parsed,p=c._sorted&&n===c.iScale,b=u.length,x=this._getOtherScale(n),v=hg(i,c,this.chart),k={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:A,max:O}=rg(x),R,S;function F(){S=u[R];let V=S[x.axis];return!f(S[n.axis])||A>V||O<V}for(R=0;R<b&&!(!F()&&(this.updateRangeFromParsed(k,n,S,v),p));++R);if(p){for(R=b-1;R>=0;--R)if(!F()){this.updateRangeFromParsed(k,n,S,v);break}}return k}getAllParsedValues(n){let i=this._cachedMeta._parsed,c=[],u,p,b;for(u=0,p=i.length;u<p;++u)b=i[u][n.axis],f(b)&&c.push(b);return c}getMaxOverflow(){return!1}getLabelAndValue(n){let i=this._cachedMeta,c=i.iScale,u=i.vScale,p=this.getParsed(n);return{label:c?""+c.getLabelForValue(p[c.axis]):"",value:u?""+u.getLabelForValue(p[u.axis]):""}}_update(n){let i=this._cachedMeta;this.update(n||"default"),i._clip=ig(h(this.options.clip,ng(i.xScale,i.yScale,this.getMaxOverflow())))}update(n){}draw(){let n=this._ctx,i=this.chart,c=this._cachedMeta,u=c.data||[],p=i.chartArea,b=[],x=this._drawStart||0,v=this._drawCount||u.length-x,k=this.options.drawActiveElementsOnTop,A;for(c.dataset&&c.dataset.draw(n,p,x,v),A=x;A<x+v;++A){let O=u[A];O.hidden||(O.active&&k?b.push(O):O.draw(n,p))}for(A=0;A<b.length;++A)b[A].draw(n,p)}getStyle(n,i){let c=i?"active":"default";return n===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(c):this.resolveDataElementOptions(n||0,c)}getContext(n,i,c){let u=this.getDataset(),p;if(n>=0&&n<this._cachedMeta.data.length){let b=this._cachedMeta.data[n];p=b.$context||(b.$context=cg(this.getContext(),n,b)),p.parsed=this.getParsed(n),p.raw=u.data[n],p.index=p.dataIndex=n}else p=this.$context||(this.$context=lg(this.chart.getContext(),this.index)),p.dataset=u,p.index=p.datasetIndex=this.index;return p.active=!!i,p.mode=c,p}resolveDatasetElementOptions(n){return this._resolveElementOptions(this.datasetElementType.id,n)}resolveDataElementOptions(n,i){return this._resolveElementOptions(this.dataElementType.id,i,n)}_resolveElementOptions(n,i="default",c){let u=i==="active",p=this._cachedDataOpts,b=n+"-"+i,x=p[b],v=this.enableOptionSharing&&G(c);if(x)return Rc(x,v);let k=this.chart.config,A=k.datasetElementScopeKeys(this._type,n),O=u?[`${n}Hover`,"hover",n,""]:[n,""],R=k.getOptionScopes(this.getDataset(),A),S=Object.keys(wt.elements[n]),F=()=>this.getContext(c,u),V=k.resolveNamedOptions(R,S,F,O);return V.$shared&&(V.$shared=v,p[b]=Object.freeze(Rc(V,v))),V}_resolveAnimations(n,i,c){let u=this.chart,p=this._cachedDataOpts,b=`animation-${i}`,x=p[b];if(x)return x;let v;if(u.options.animation!==!1){let A=this.chart.config,O=A.datasetAnimationScopeKeys(this._type,i),R=A.getOptionScopes(this.getDataset(),O);v=A.createResolver(R,this.getContext(n,c,i))}let k=new Qr(u,v&&v.animations);return v&&v._cacheable&&(p[b]=Object.freeze(k)),k}getSharedOptions(n){if(n.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},n))}includeOptions(n,i){return!i||Jr(n)||this.chart._animationsDisabled}_getSharedOptions(n,i){let c=this.resolveDataElementOptions(n,i),u=this._sharedOptions,p=this.getSharedOptions(c),b=this.includeOptions(i,p)||p!==u;return this.updateSharedOptions(p,i,c),{sharedOptions:p,includeOptions:b}}updateElement(n,i,c,u){Jr(u)?Object.assign(n,c):this._resolveAnimations(i,u).update(n,c)}updateSharedOptions(n,i,c){n&&!Jr(i)&&this._resolveAnimations(void 0,i).update(n,c)}_setStyle(n,i,c,u){n.active=u;let p=this.getStyle(i,u);this._resolveAnimations(i,c,u).update(n,{options:!u&&this.getSharedOptions(p)||p})}removeHoverStyle(n,i,c){this._setStyle(n,c,"active",!1)}setHoverStyle(n,i,c){this._setStyle(n,c,"active",!0)}_removeDatasetHoverStyle(){let n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!1)}_setDatasetHoverStyle(){let n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!0)}_resyncElements(n){let i=this._data,c=this._cachedMeta.data;for(let[x,v,k]of this._syncList)this[x](v,k);this._syncList=[];let u=c.length,p=i.length,b=Math.min(p,u);b&&this.parse(0,b),p>u?this._insertElements(u,p-u,n):p<u&&this._removeElements(p,u-p)}_insertElements(n,i,c=!0){let u=this._cachedMeta,p=u.data,b=n+i,x,v=k=>{for(k.length+=i,x=k.length-1;x>=b;x--)k[x]=k[x-i]};for(v(p),x=n;x<b;++x)p[x]=new this.dataElementType;this._parsing&&v(u._parsed),this.parse(n,i),c&&this.updateElements(p,n,i,"reset")}updateElements(n,i,c,u){}_removeElements(n,i){let c=this._cachedMeta;if(this._parsing){let u=c._parsed.splice(n,i);c._stacked&&bs(c,u)}c.data.splice(n,i)}_sync(n){if(this._parsing)this._syncList.push(n);else{let[i,c,u]=n;this[i](c,u)}this.chart._dataChanges.push([this.index,...n])}_onDataPush(){let n=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-n,n])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(n,i){i&&this._sync(["_removeElements",n,i]);let c=arguments.length-2;c&&this._sync(["_insertElements",n,c])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ie.defaults={},Ie.prototype.datasetElementType=null,Ie.prototype.dataElementType=null;class Fe{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(n){let{x:i,y:c}=this.getProps(["x","y"],n);return{x:i,y:c}}hasValue(){return Yt(this.x)&&Yt(this.y)}getProps(n,i){let c=this.$animations;if(!i||!c)return this;let u={};return n.forEach(p=>{u[p]=c[p]&&c[p].active()?c[p]._to:this[p]}),u}}Fe.defaults={},Fe.defaultRoutes=void 0;let Sc={values(o){return r(o)?o:""+o},numeric(o,n,i){if(o===0)return"0";let c=this.chart.options.locale,u,p=o;if(i.length>1){let k=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(k<1e-4||k>1e15)&&(u="scientific"),p=ug(o,i)}let b=kt(Math.abs(p)),x=Math.max(Math.min(-1*Math.floor(b),20),0),v={notation:u,minimumFractionDigits:x,maximumFractionDigits:x};return Object.assign(v,this.options.ticks.format),wi(o,c,v)},logarithmic(o,n,i){if(o===0)return"0";let c=o/Math.pow(10,Math.floor(kt(o)));return c===1||c===2||c===5?Sc.numeric.call(this,o,n,i):""}};function ug(o,n){let i=n.length>3?n[2].value-n[1].value:n[1].value-n[0].value;return Math.abs(i)>=1&&o!==Math.floor(o)&&(i=o-Math.floor(o)),i}var _s={formatters:Sc};wt.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(o,n)=>n.lineWidth,tickColor:(o,n)=>n.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:_s.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),wt.route("scale.ticks","color","","color"),wt.route("scale.grid","color","","borderColor"),wt.route("scale.grid","borderColor","","borderColor"),wt.route("scale.title","color","","color"),wt.describe("scale",{_fallback:!1,_scriptable:o=>!o.startsWith("before")&&!o.startsWith("after")&&o!=="callback"&&o!=="parser",_indexable:o=>o!=="borderDash"&&o!=="tickBorderDash"}),wt.describe("scales",{_fallback:"scale"}),wt.describe("scale.ticks",{_scriptable:o=>o!=="backdropPadding"&&o!=="callback",_indexable:o=>o!=="backdropPadding"});function fg(o,n){let i=o.options.ticks,c=i.maxTicksLimit||dg(o),u=i.major.enabled?pg(n):[],p=u.length,b=u[0],x=u[p-1],v=[];if(p>c)return mg(n,v,u,p/c),v;let k=gg(u,n,c);if(p>0){let A,O,R=p>1?Math.round((x-b)/(p-1)):null;for(wo(n,v,k,e(R)?0:b-R,b),A=0,O=p-1;A<O;A++)wo(n,v,k,u[A],u[A+1]);return wo(n,v,k,x,e(R)?n.length:x+R),v}return wo(n,v,k),v}function dg(o){let n=o.options.offset,i=o._tickSize(),c=o._length/i+(n?0:1),u=o._maxLength/i;return Math.floor(Math.min(c,u))}function gg(o,n,i){let c=bg(o),u=n.length/i;if(!c)return Math.max(u,1);let p=de(c);for(let b=0,x=p.length-1;b<x;b++){let v=p[b];if(v>u)return v}return Math.max(u,1)}function pg(o){let n=[],i,c;for(i=0,c=o.length;i<c;i++)o[i].major&&n.push(i);return n}function mg(o,n,i,c){let u=0,p=i[0],b;for(c=Math.ceil(c),b=0;b<o.length;b++)b===p&&(n.push(o[b]),u++,p=i[u*c])}function wo(o,n,i,c,u){let p=h(c,0),b=Math.min(h(u,o.length),o.length),x=0,v,k,A;for(i=Math.ceil(i),u&&(v=u-c,i=v/Math.floor(v/i)),A=p;A<0;)x++,A=Math.round(p+x*i);for(k=Math.max(p,0);k<b;k++)k===A&&(n.push(o[k]),x++,A=Math.round(p+x*i))}function bg(o){let n=o.length,i,c;if(n<2)return!1;for(c=o[0],i=1;i<n;++i)if(o[i]-o[i-1]!==c)return!1;return c}let _g=o=>o==="left"?"right":o==="right"?"left":o,Ic=(o,n,i)=>n==="top"||n==="left"?o[n]+i:o[n]-i;function Fc(o,n){let i=[],c=o.length/n,u=o.length,p=0;for(;p<u;p+=c)i.push(o[Math.floor(p)]);return i}function xg(o,n,i){let c=o.ticks.length,u=Math.min(n,c-1),p=o._startPixel,b=o._endPixel,x=1e-6,v=o.getPixelForTick(u),k;if(!(i&&(c===1?k=Math.max(v-p,b-v):n===0?k=(o.getPixelForTick(1)-v)/2:k=(v-o.getPixelForTick(u-1))/2,v+=u<n?k:-k,v<p-x||v>b+x)))return v}function vg(o,n){_(o,i=>{let c=i.gc,u=c.length/2,p;if(u>n){for(p=0;p<u;++p)delete i.data[c[p]];c.splice(0,u)}})}function xs(o){return o.drawTicks?o.tickLength:0}function zc(o,n){if(!o.display)return 0;let i=Jt(o.font,n),c=oe(o.padding);return(r(o.text)?o.text.length:1)*i.lineHeight+c.height}function yg(o,n){return sn(o,{scale:n,type:"scale"})}function wg(o,n,i){return sn(o,{tick:i,index:n,type:"tick"})}function kg(o,n,i){let c=gi(o);return(i&&n!=="right"||!i&&n==="right")&&(c=_g(c)),c}function Pg(o,n,i,c){let{top:u,left:p,bottom:b,right:x,chart:v}=o,{chartArea:k,scales:A}=v,O=0,R,S,F,V=b-u,H=x-p;if(o.isHorizontal()){if(S=ne(c,p,x),l(i)){let Y=Object.keys(i)[0],K=i[Y];F=A[Y].getPixelForValue(K)+V-n}else i==="center"?F=(k.bottom+k.top)/2+V-n:F=Ic(o,i,n);R=x-p}else{if(l(i)){let Y=Object.keys(i)[0],K=i[Y];S=A[Y].getPixelForValue(K)-H+n}else i==="center"?S=(k.left+k.right)/2-H+n:S=Ic(o,i,n);F=ne(c,b,u),O=i==="left"?-bt:bt}return{titleX:S,titleY:F,maxWidth:R,rotation:O}}class Cn extends Fe{constructor(n){super(),this.id=n.id,this.type=n.type,this.options=void 0,this.ctx=n.ctx,this.chart=n.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(n){this.options=n.setContext(this.getContext()),this.axis=n.axis,this._userMin=this.parse(n.min),this._userMax=this.parse(n.max),this._suggestedMin=this.parse(n.suggestedMin),this._suggestedMax=this.parse(n.suggestedMax)}parse(n,i){return n}getUserBounds(){let{_userMin:n,_userMax:i,_suggestedMin:c,_suggestedMax:u}=this;return n=g(n,Number.POSITIVE_INFINITY),i=g(i,Number.NEGATIVE_INFINITY),c=g(c,Number.POSITIVE_INFINITY),u=g(u,Number.NEGATIVE_INFINITY),{min:g(n,c),max:g(i,u),minDefined:f(n),maxDefined:f(i)}}getMinMax(n){let{min:i,max:c,minDefined:u,maxDefined:p}=this.getUserBounds(),b;if(u&&p)return{min:i,max:c};let x=this.getMatchingVisibleMetas();for(let v=0,k=x.length;v<k;++v)b=x[v].controller.getMinMax(this,n),u||(i=Math.min(i,b.min)),p||(c=Math.max(c,b.max));return i=p&&i>c?c:i,c=u&&i>c?i:c,{min:g(i,g(c,i)),max:g(c,g(i,c))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let n=this.chart.data;return this.options.labels||(this.isHorizontal()?n.xLabels:n.yLabels)||n.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){m(this.options.beforeUpdate,[this])}update(n,i,c){let{beginAtZero:u,grace:p,ticks:b}=this.options,x=b.sampleSize;this.beforeUpdate(),this.maxWidth=n,this.maxHeight=i,this._margins=c=Object.assign({left:0,right:0,top:0,bottom:0},c),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+c.left+c.right:this.height+c.top+c.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=sc(this,p,u),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let v=x<this.ticks.length;this._convertTicksToLabels(v?Fc(this.ticks,x):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),b.display&&(b.autoSkip||b.source==="auto")&&(this.ticks=fg(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),v&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let n=this.options.reverse,i,c;this.isHorizontal()?(i=this.left,c=this.right):(i=this.top,c=this.bottom,n=!n),this._startPixel=i,this._endPixel=c,this._reversePixels=n,this._length=c-i,this._alignToPixels=this.options.alignToPixels}afterUpdate(){m(this.options.afterUpdate,[this])}beforeSetDimensions(){m(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){m(this.options.afterSetDimensions,[this])}_callHooks(n){this.chart.notifyPlugins(n,this.getContext()),m(this.options[n],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){m(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(n){let i=this.options.ticks,c,u,p;for(c=0,u=n.length;c<u;c++)p=n[c],p.label=m(i.callback,[p.value,c,n],this)}afterTickToLabelConversion(){m(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){m(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let n=this.options,i=n.ticks,c=this.ticks.length,u=i.minRotation||0,p=i.maxRotation,b=u,x,v,k;if(!this._isVisible()||!i.display||u>=p||c<=1||!this.isHorizontal()){this.labelRotation=u;return}let A=this._getLabelSizes(),O=A.widest.width,R=A.highest.height,S=Qt(this.chart.width-O,0,this.maxWidth);x=n.offset?this.maxWidth/c:S/(c-1),O+6>x&&(x=S/(c-(n.offset?.5:1)),v=this.maxHeight-xs(n.grid)-i.padding-zc(n.title,this.chart.options.font),k=Math.sqrt(O*O+R*R),b=Yn(Math.min(Math.asin(Qt((A.highest.height+6)/x,-1,1)),Math.asin(Qt(v/k,-1,1))-Math.asin(Qt(R/k,-1,1)))),b=Math.max(u,Math.min(p,b))),this.labelRotation=b}afterCalculateLabelRotation(){m(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){m(this.options.beforeFit,[this])}fit(){let n={width:0,height:0},{chart:i,options:{ticks:c,title:u,grid:p}}=this,b=this._isVisible(),x=this.isHorizontal();if(b){let v=zc(u,i.options.font);if(x?(n.width=this.maxWidth,n.height=xs(p)+v):(n.height=this.maxHeight,n.width=xs(p)+v),c.display&&this.ticks.length){let{first:k,last:A,widest:O,highest:R}=this._getLabelSizes(),S=c.padding*2,F=ce(this.labelRotation),V=Math.cos(F),H=Math.sin(F);if(x){let Y=c.mirror?0:H*O.width+V*R.height;n.height=Math.min(this.maxHeight,n.height+Y+S)}else{let Y=c.mirror?0:V*O.width+H*R.height;n.width=Math.min(this.maxWidth,n.width+Y+S)}this._calculatePadding(k,A,H,V)}}this._handleMargins(),x?(this.width=this._length=i.width-this._margins.left-this._margins.right,this.height=n.height):(this.width=n.width,this.height=this._length=i.height-this._margins.top-this._margins.bottom)}_calculatePadding(n,i,c,u){let{ticks:{align:p,padding:b},position:x}=this.options,v=this.labelRotation!==0,k=x!=="top"&&this.axis==="x";if(this.isHorizontal()){let A=this.getPixelForTick(0)-this.left,O=this.right-this.getPixelForTick(this.ticks.length-1),R=0,S=0;v?k?(R=u*n.width,S=c*i.height):(R=c*n.height,S=u*i.width):p==="start"?S=i.width:p==="end"?R=n.width:p!=="inner"&&(R=n.width/2,S=i.width/2),this.paddingLeft=Math.max((R-A+b)*this.width/(this.width-A),0),this.paddingRight=Math.max((S-O+b)*this.width/(this.width-O),0)}else{let A=i.height/2,O=n.height/2;p==="start"?(A=0,O=n.height):p==="end"&&(A=i.height,O=0),this.paddingTop=A+b,this.paddingBottom=O+b}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){m(this.options.afterFit,[this])}isHorizontal(){let{axis:n,position:i}=this.options;return i==="top"||i==="bottom"||n==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(n){this.beforeTickToLabelConversion(),this.generateTickLabels(n);let i,c;for(i=0,c=n.length;i<c;i++)e(n[i].label)&&(n.splice(i,1),c--,i--);this.afterTickToLabelConversion()}_getLabelSizes(){let n=this._labelSizes;if(!n){let i=this.options.ticks.sampleSize,c=this.ticks;i<c.length&&(c=Fc(c,i)),this._labelSizes=n=this._computeLabelSizes(c,c.length)}return n}_computeLabelSizes(n,i){let{ctx:c,_longestTextCache:u}=this,p=[],b=[],x=0,v=0,k,A,O,R,S,F,V,H,Y,K,tt;for(k=0;k<i;++k){if(R=n[k].label,S=this._resolveTickFontOptions(k),c.font=F=S.string,V=u[F]=u[F]||{data:{},gc:[]},H=S.lineHeight,Y=K=0,!e(R)&&!r(R))Y=cs(c,V.data,V.gc,Y,R),K=H;else if(r(R))for(A=0,O=R.length;A<O;++A)tt=R[A],!e(tt)&&!r(tt)&&(Y=cs(c,V.data,V.gc,Y,tt),K+=H);p.push(Y),b.push(K),x=Math.max(Y,x),v=Math.max(K,v)}vg(u,i);let j=p.indexOf(x),J=b.indexOf(v),st=ot=>({width:p[ot]||0,height:b[ot]||0});return{first:st(0),last:st(i-1),widest:st(j),highest:st(J),widths:p,heights:b}}getLabelForValue(n){return n}getPixelForValue(n,i){return NaN}getValueForPixel(n){}getPixelForTick(n){let i=this.ticks;return n<0||n>i.length-1?null:this.getPixelForValue(i[n].value)}getPixelForDecimal(n){this._reversePixels&&(n=1-n);let i=this._startPixel+n*this._length;return eo(this._alignToPixels?wn(this.chart,i,0):i)}getDecimalForPixel(n){let i=(n-this._startPixel)/this._length;return this._reversePixels?1-i:i}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:n,max:i}=this;return n<0&&i<0?i:n>0&&i>0?n:0}getContext(n){let i=this.ticks||[];if(n>=0&&n<i.length){let c=i[n];return c.$context||(c.$context=wg(this.getContext(),n,c))}return this.$context||(this.$context=yg(this.chart.getContext(),this))}_tickSize(){let n=this.options.ticks,i=ce(this.labelRotation),c=Math.abs(Math.cos(i)),u=Math.abs(Math.sin(i)),p=this._getLabelSizes(),b=n.autoSkipPadding||0,x=p?p.widest.width+b:0,v=p?p.highest.height+b:0;return this.isHorizontal()?v*c>x*u?x/c:v/u:v*u<x*c?v/c:x/u}_isVisible(){let n=this.options.display;return n!=="auto"?!!n:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(n){let i=this.axis,c=this.chart,u=this.options,{grid:p,position:b}=u,x=p.offset,v=this.isHorizontal(),A=this.ticks.length+(x?1:0),O=xs(p),R=[],S=p.setContext(this.getContext()),F=S.drawBorder?S.borderWidth:0,V=F/2,H=function(vt){return wn(c,vt,F)},Y,K,tt,j,J,st,ot,mt,dt,Rt,St,Tt;if(b==="top")Y=H(this.bottom),st=this.bottom-O,mt=Y-V,Rt=H(n.top)+V,Tt=n.bottom;else if(b==="bottom")Y=H(this.top),Rt=n.top,Tt=H(n.bottom)-V,st=Y+V,mt=this.top+O;else if(b==="left")Y=H(this.right),J=this.right-O,ot=Y-V,dt=H(n.left)+V,St=n.right;else if(b==="right")Y=H(this.left),dt=n.left,St=H(n.right)-V,J=Y+V,ot=this.left+O;else if(i==="x"){if(b==="center")Y=H((n.top+n.bottom)/2+.5);else if(l(b)){let vt=Object.keys(b)[0],te=b[vt];Y=H(this.chart.scales[vt].getPixelForValue(te))}Rt=n.top,Tt=n.bottom,st=Y+V,mt=st+O}else if(i==="y"){if(b==="center")Y=H((n.left+n.right)/2);else if(l(b)){let vt=Object.keys(b)[0],te=b[vt];Y=H(this.chart.scales[vt].getPixelForValue(te))}J=Y-V,ot=J-O,dt=n.left,St=n.right}let jt=h(u.ticks.maxTicksLimit,A),me=Math.max(1,Math.ceil(A/jt));for(K=0;K<A;K+=me){let vt=p.setContext(this.getContext(K)),te=vt.lineWidth,Zt=vt.color,Jn=vt.borderDash||[],_a=vt.borderDashOffset,Ci=vt.tickWidth,No=vt.tickColor,Ai=vt.tickBorderDash||[],Ps=vt.tickBorderDashOffset;tt=xg(this,K,x),tt!==void 0&&(j=wn(c,tt,te),v?J=ot=dt=St=j:st=mt=Rt=Tt=j,R.push({tx1:J,ty1:st,tx2:ot,ty2:mt,x1:dt,y1:Rt,x2:St,y2:Tt,width:te,color:Zt,borderDash:Jn,borderDashOffset:_a,tickWidth:Ci,tickColor:No,tickBorderDash:Ai,tickBorderDashOffset:Ps}))}return this._ticksLength=A,this._borderValue=Y,R}_computeLabelItems(n){let i=this.axis,c=this.options,{position:u,ticks:p}=c,b=this.isHorizontal(),x=this.ticks,{align:v,crossAlign:k,padding:A,mirror:O}=p,R=xs(c.grid),S=R+A,F=O?-A:S,V=-ce(this.labelRotation),H=[],Y,K,tt,j,J,st,ot,mt,dt,Rt,St,Tt,jt="middle";if(u==="top")st=this.bottom-F,ot=this._getXAxisLabelAlignment();else if(u==="bottom")st=this.top+F,ot=this._getXAxisLabelAlignment();else if(u==="left"){let vt=this._getYAxisLabelAlignment(R);ot=vt.textAlign,J=vt.x}else if(u==="right"){let vt=this._getYAxisLabelAlignment(R);ot=vt.textAlign,J=vt.x}else if(i==="x"){if(u==="center")st=(n.top+n.bottom)/2+S;else if(l(u)){let vt=Object.keys(u)[0],te=u[vt];st=this.chart.scales[vt].getPixelForValue(te)+S}ot=this._getXAxisLabelAlignment()}else if(i==="y"){if(u==="center")J=(n.left+n.right)/2-S;else if(l(u)){let vt=Object.keys(u)[0],te=u[vt];J=this.chart.scales[vt].getPixelForValue(te)}ot=this._getYAxisLabelAlignment(R).textAlign}i==="y"&&(v==="start"?jt="top":v==="end"&&(jt="bottom"));let me=this._getLabelSizes();for(Y=0,K=x.length;Y<K;++Y){tt=x[Y],j=tt.label;let vt=p.setContext(this.getContext(Y));mt=this.getPixelForTick(Y)+p.labelOffset,dt=this._resolveTickFontOptions(Y),Rt=dt.lineHeight,St=r(j)?j.length:1;let te=St/2,Zt=vt.color,Jn=vt.textStrokeColor,_a=vt.textStrokeWidth,Ci=ot;b?(J=mt,ot==="inner"&&(Y===K-1?Ci=this.options.reverse?"left":"right":Y===0?Ci=this.options.reverse?"right":"left":Ci="center"),u==="top"?k==="near"||V!==0?Tt=-St*Rt+Rt/2:k==="center"?Tt=-me.highest.height/2-te*Rt+Rt:Tt=-me.highest.height+Rt/2:k==="near"||V!==0?Tt=Rt/2:k==="center"?Tt=me.highest.height/2-te*Rt:Tt=me.highest.height-St*Rt,O&&(Tt*=-1)):(st=mt,Tt=(1-St)*Rt/2);let No;if(vt.showLabelBackdrop){let Ai=oe(vt.backdropPadding),Ps=me.heights[Y],xa=me.widths[Y],va=st+Tt-Ai.top,ya=J-Ai.left;switch(jt){case"middle":va-=Ps/2;break;case"bottom":va-=Ps;break}switch(ot){case"center":ya-=xa/2;break;case"right":ya-=xa;break}No={left:ya,top:va,width:xa+Ai.width,height:Ps+Ai.height,color:vt.backdropColor}}H.push({rotation:V,label:j,font:dt,color:Zt,strokeColor:Jn,strokeWidth:_a,textOffset:Tt,textAlign:Ci,textBaseline:jt,translation:[J,st],backdrop:No})}return H}_getXAxisLabelAlignment(){let{position:n,ticks:i}=this.options;if(-ce(this.labelRotation))return n==="top"?"left":"right";let u="center";return i.align==="start"?u="left":i.align==="end"?u="right":i.align==="inner"&&(u="inner"),u}_getYAxisLabelAlignment(n){let{position:i,ticks:{crossAlign:c,mirror:u,padding:p}}=this.options,b=this._getLabelSizes(),x=n+p,v=b.widest.width,k,A;return i==="left"?u?(A=this.right+p,c==="near"?k="left":c==="center"?(k="center",A+=v/2):(k="right",A+=v)):(A=this.right-x,c==="near"?k="right":c==="center"?(k="center",A-=v/2):(k="left",A=this.left)):i==="right"?u?(A=this.left+p,c==="near"?k="right":c==="center"?(k="center",A-=v/2):(k="left",A-=v)):(A=this.left+x,c==="near"?k="left":c==="center"?(k="center",A+=v/2):(k="right",A=this.right)):k="right",{textAlign:k,x:A}}_computeLabelArea(){if(this.options.ticks.mirror)return;let n=this.chart,i=this.options.position;if(i==="left"||i==="right")return{top:0,left:this.left,bottom:n.height,right:this.right};if(i==="top"||i==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:n.width}}drawBackground(){let{ctx:n,options:{backgroundColor:i},left:c,top:u,width:p,height:b}=this;i&&(n.save(),n.fillStyle=i,n.fillRect(c,u,p,b),n.restore())}getLineWidthForValue(n){let i=this.options.grid;if(!this._isVisible()||!i.display)return 0;let u=this.ticks.findIndex(p=>p.value===n);return u>=0?i.setContext(this.getContext(u)).lineWidth:0}drawGrid(n){let i=this.options.grid,c=this.ctx,u=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(n)),p,b,x=(v,k,A)=>{!A.width||!A.color||(c.save(),c.lineWidth=A.width,c.strokeStyle=A.color,c.setLineDash(A.borderDash||[]),c.lineDashOffset=A.borderDashOffset,c.beginPath(),c.moveTo(v.x,v.y),c.lineTo(k.x,k.y),c.stroke(),c.restore())};if(i.display)for(p=0,b=u.length;p<b;++p){let v=u[p];i.drawOnChartArea&&x({x:v.x1,y:v.y1},{x:v.x2,y:v.y2},v),i.drawTicks&&x({x:v.tx1,y:v.ty1},{x:v.tx2,y:v.ty2},{color:v.tickColor,width:v.tickWidth,borderDash:v.tickBorderDash,borderDashOffset:v.tickBorderDashOffset})}}drawBorder(){let{chart:n,ctx:i,options:{grid:c}}=this,u=c.setContext(this.getContext()),p=c.drawBorder?u.borderWidth:0;if(!p)return;let b=c.setContext(this.getContext(0)).lineWidth,x=this._borderValue,v,k,A,O;this.isHorizontal()?(v=wn(n,this.left,p)-p/2,k=wn(n,this.right,b)+b/2,A=O=x):(A=wn(n,this.top,p)-p/2,O=wn(n,this.bottom,b)+b/2,v=k=x),i.save(),i.lineWidth=u.borderWidth,i.strokeStyle=u.borderColor,i.beginPath(),i.moveTo(v,A),i.lineTo(k,O),i.stroke(),i.restore()}drawLabels(n){if(!this.options.ticks.display)return;let c=this.ctx,u=this._computeLabelArea();u&&hs(c,u);let p=this._labelItems||(this._labelItems=this._computeLabelItems(n)),b,x;for(b=0,x=p.length;b<x;++b){let v=p[b],k=v.font,A=v.label;v.backdrop&&(c.fillStyle=v.backdrop.color,c.fillRect(v.backdrop.left,v.backdrop.top,v.backdrop.width,v.backdrop.height));let O=v.textOffset;kn(c,A,0,O,k,v)}u&&us(c)}drawTitle(){let{ctx:n,options:{position:i,title:c,reverse:u}}=this;if(!c.display)return;let p=Jt(c.font),b=oe(c.padding),x=c.align,v=p.lineHeight/2;i==="bottom"||i==="center"||l(i)?(v+=b.bottom,r(c.text)&&(v+=p.lineHeight*(c.text.length-1))):v+=b.top;let{titleX:k,titleY:A,maxWidth:O,rotation:R}=Pg(this,v,i,x);kn(n,c.text,0,0,p,{color:c.color,maxWidth:O,rotation:R,textAlign:kg(x,i,u),textBaseline:"middle",translation:[k,A]})}draw(n){this._isVisible()&&(this.drawBackground(),this.drawGrid(n),this.drawBorder(),this.drawTitle(),this.drawLabels(n))}_layers(){let n=this.options,i=n.ticks&&n.ticks.z||0,c=h(n.grid&&n.grid.z,-1);return!this._isVisible()||this.draw!==Cn.prototype.draw?[{z:i,draw:u=>{this.draw(u)}}]:[{z:c,draw:u=>{this.drawBackground(),this.drawGrid(u),this.drawTitle()}},{z:c+1,draw:()=>{this.drawBorder()}},{z:i,draw:u=>{this.drawLabels(u)}}]}getMatchingVisibleMetas(n){let i=this.chart.getSortedVisibleDatasetMetas(),c=this.axis+"AxisID",u=[],p,b;for(p=0,b=i.length;p<b;++p){let x=i[p];x[c]===this.id&&(!n||x.type===n)&&u.push(x)}return u}_resolveTickFontOptions(n){let i=this.options.ticks.setContext(this.getContext(n));return Jt(i.font)}_maxDigits(){let n=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/n}}class ko{constructor(n,i,c){this.type=n,this.scope=i,this.override=c,this.items=Object.create(null)}isForType(n){return Object.prototype.isPrototypeOf.call(this.type.prototype,n.prototype)}register(n){let i=Object.getPrototypeOf(n),c;Ag(i)&&(c=this.register(i));let u=this.items,p=n.id,b=this.scope+"."+p;if(!p)throw new Error("class does not have id: "+n);return p in u||(u[p]=n,Mg(n,b,c),this.override&&wt.override(n.id,n.overrides)),b}get(n){return this.items[n]}unregister(n){let i=this.items,c=n.id,u=this.scope;c in i&&delete i[c],u&&c in wt[u]&&(delete wt[u][c],this.override&&delete Ft[c])}}function Mg(o,n,i){let c=T(Object.create(null),[i?wt.get(i):{},wt.get(n),o.defaults]);wt.set(n,c),o.defaultRoutes&&Cg(n,o.defaultRoutes),o.descriptors&&wt.describe(n,o.descriptors)}function Cg(o,n){Object.keys(n).forEach(i=>{let c=i.split("."),u=c.pop(),p=[o].concat(c).join("."),b=n[i].split("."),x=b.pop(),v=b.join(".");wt.route(p,u,v,x)})}function Ag(o){return"id"in o&&"defaults"in o}class Tg{constructor(){this.controllers=new ko(Ie,"datasets",!0),this.elements=new ko(Fe,"elements"),this.plugins=new ko(Object,"plugins"),this.scales=new ko(Cn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...n){this._each("register",n)}remove(...n){this._each("unregister",n)}addControllers(...n){this._each("register",n,this.controllers)}addElements(...n){this._each("register",n,this.elements)}addPlugins(...n){this._each("register",n,this.plugins)}addScales(...n){this._each("register",n,this.scales)}getController(n){return this._get(n,this.controllers,"controller")}getElement(n){return this._get(n,this.elements,"element")}getPlugin(n){return this._get(n,this.plugins,"plugin")}getScale(n){return this._get(n,this.scales,"scale")}removeControllers(...n){this._each("unregister",n,this.controllers)}removeElements(...n){this._each("unregister",n,this.elements)}removePlugins(...n){this._each("unregister",n,this.plugins)}removeScales(...n){this._each("unregister",n,this.scales)}_each(n,i,c){[...i].forEach(u=>{let p=c||this._getRegistryForType(u);c||p.isForType(u)||p===this.plugins&&u.id?this._exec(n,p,u):_(u,b=>{let x=c||this._getRegistryForType(b);this._exec(n,x,b)})})}_exec(n,i,c){let u=X(n);m(c["before"+u],[],c),i[n](c),m(c["after"+u],[],c)}_getRegistryForType(n){for(let i=0;i<this._typedRegistries.length;i++){let c=this._typedRegistries[i];if(c.isForType(n))return c}return this.plugins}_get(n,i,c){let u=i.get(n);if(u===void 0)throw new Error('"'+n+'" is not a registered '+c+".");return u}}var Ye=new Tg;class Dg{constructor(){this._init=[]}notify(n,i,c,u){i==="beforeInit"&&(this._init=this._createDescriptors(n,!0),this._notify(this._init,n,"install"));let p=u?this._descriptors(n).filter(u):this._descriptors(n),b=this._notify(p,n,i,c);return i==="afterDestroy"&&(this._notify(p,n,"stop"),this._notify(this._init,n,"uninstall")),b}_notify(n,i,c,u){u=u||{};for(let p of n){let b=p.plugin,x=b[c],v=[i,u,p.options];if(m(x,v,b)===!1&&u.cancelable)return!1}return!0}invalidate(){e(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(n){if(this._cache)return this._cache;let i=this._cache=this._createDescriptors(n);return this._notifyStateChanges(n),i}_createDescriptors(n,i){let c=n&&n.config,u=h(c.options&&c.options.plugins,{}),p=Og(c);return u===!1&&!i?[]:Lg(n,p,u,i)}_notifyStateChanges(n){let i=this._oldCache||[],c=this._cache,u=(p,b)=>p.filter(x=>!b.some(v=>x.plugin.id===v.plugin.id));this._notify(u(i,c),n,"stop"),this._notify(u(c,i),n,"start")}}function Og(o){let n={},i=[],c=Object.keys(Ye.plugins.items);for(let p=0;p<c.length;p++)i.push(Ye.getPlugin(c[p]));let u=o.plugins||[];for(let p=0;p<u.length;p++){let b=u[p];i.indexOf(b)===-1&&(i.push(b),n[b.id]=!0)}return{plugins:i,localIds:n}}function Eg(o,n){return!n&&o===!1?null:o===!0?{}:o}function Lg(o,{plugins:n,localIds:i},c,u){let p=[],b=o.getContext();for(let x of n){let v=x.id,k=Eg(c[v],u);k!==null&&p.push({plugin:x,options:Rg(o.config,{plugin:x,local:i[v]},k,b)})}return p}function Rg(o,{plugin:n,local:i},c,u){let p=o.pluginScopeKeys(n),b=o.getOptionScopes(c,p);return i&&n.defaults&&b.push(n.defaults),o.createResolver(b,u,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function jr(o,n){let i=wt.datasets[o]||{};return((n.datasets||{})[o]||{}).indexAxis||n.indexAxis||i.indexAxis||"x"}function Sg(o,n){let i=o;return o==="_index_"?i=n:o==="_value_"&&(i=n==="x"?"y":"x"),i}function Ig(o,n){return o===n?"_index_":"_value_"}function Fg(o){if(o==="top"||o==="bottom")return"x";if(o==="left"||o==="right")return"y"}function ta(o,n){return o==="x"||o==="y"?o:n.axis||Fg(n.position)||o.charAt(0).toLowerCase()}function zg(o,n){let i=Ft[o.type]||{scales:{}},c=n.scales||{},u=jr(o.type,n),p=Object.create(null),b=Object.create(null);return Object.keys(c).forEach(x=>{let v=c[x];if(!l(v))return console.error(`Invalid scale configuration for scale: ${x}`);if(v._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${x}`);let k=ta(x,v),A=Ig(k,u),O=i.scales||{};p[k]=p[k]||x,b[x]=C(Object.create(null),[{axis:k},v,O[k],O[A]])}),o.data.datasets.forEach(x=>{let v=x.type||o.type,k=x.indexAxis||jr(v,n),O=(Ft[v]||{}).scales||{};Object.keys(O).forEach(R=>{let S=Sg(R,k),F=x[S+"AxisID"]||p[S]||S;b[F]=b[F]||Object.create(null),C(b[F],[{axis:S},c[F],O[R]])})}),Object.keys(b).forEach(x=>{let v=b[x];C(v,[wt.scales[v.type],wt.scale])}),b}function Bc(o){let n=o.options||(o.options={});n.plugins=h(n.plugins,{}),n.scales=zg(o,n)}function Vc(o){return o=o||{},o.datasets=o.datasets||[],o.labels=o.labels||[],o}function Bg(o){return o=o||{},o.data=Vc(o.data),Bc(o),o}let Hc=new Map,Nc=new Set;function Po(o,n){let i=Hc.get(o);return i||(i=n(),Hc.set(o,i),Nc.add(i)),i}let vs=(o,n,i)=>{let c=B(n,i);c!==void 0&&o.add(c)};class Vg{constructor(n){this._config=Bg(n),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(n){this._config.type=n}get data(){return this._config.data}set data(n){this._config.data=Vc(n)}get options(){return this._config.options}set options(n){this._config.options=n}get plugins(){return this._config.plugins}update(){let n=this._config;this.clearCache(),Bc(n)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(n){return Po(n,()=>[[`datasets.${n}`,""]])}datasetAnimationScopeKeys(n,i){return Po(`${n}.transition.${i}`,()=>[[`datasets.${n}.transitions.${i}`,`transitions.${i}`],[`datasets.${n}`,""]])}datasetElementScopeKeys(n,i){return Po(`${n}-${i}`,()=>[[`datasets.${n}.elements.${i}`,`datasets.${n}`,`elements.${i}`,""]])}pluginScopeKeys(n){let i=n.id,c=this.type;return Po(`${c}-plugin-${i}`,()=>[[`plugins.${i}`,...n.additionalOptionScopes||[]]])}_cachedScopes(n,i){let c=this._scopeCache,u=c.get(n);return(!u||i)&&(u=new Map,c.set(n,u)),u}getOptionScopes(n,i,c){let{options:u,type:p}=this,b=this._cachedScopes(n,c),x=b.get(i);if(x)return x;let v=new Set;i.forEach(A=>{n&&(v.add(n),A.forEach(O=>vs(v,n,O))),A.forEach(O=>vs(v,u,O)),A.forEach(O=>vs(v,Ft[p]||{},O)),A.forEach(O=>vs(v,wt,O)),A.forEach(O=>vs(v,Vt,O))});let k=Array.from(v);return k.length===0&&k.push(Object.create(null)),Nc.has(i)&&b.set(i,k),k}chartOptionScopes(){let{options:n,type:i}=this;return[n,Ft[i]||{},wt.datasets[i]||{},{type:i},wt,Vt]}resolveNamedOptions(n,i,c,u=[""]){let p={$shared:!0},{resolver:b,subPrefixes:x}=Wc(this._resolverCache,n,u),v=b;if(Ng(b,i)){p.$shared=!1,c=et(c)?c():c;let k=this.createResolver(n,c,x);v=Kn(b,c,k)}for(let k of i)p[k]=v[k];return p}createResolver(n,i,c=[""],u){let{resolver:p}=Wc(this._resolverCache,n,c);return l(i)?Kn(p,i,void 0,u):p}}function Wc(o,n,i){let c=o.get(n);c||(c=new Map,o.set(n,c));let u=i.join(),p=c.get(u);return p||(p={resolver:po(n,i),subPrefixes:i.filter(x=>!x.toLowerCase().includes("hover"))},c.set(u,p)),p}let Hg=o=>l(o)&&Object.getOwnPropertyNames(o).reduce((n,i)=>n||et(o[i]),!1);function Ng(o,n){let{isScriptable:i,isIndexable:c}=zr(o);for(let u of n){let p=i(u),b=c(u),x=(b||p)&&o[u];if(p&&(et(x)||Hg(x))||b&&r(x))return!0}return!1}var Wg="3.9.1";let $g=["top","bottom","left","right","chartArea"];function $c(o,n){return o==="top"||o==="bottom"||$g.indexOf(o)===-1&&n==="x"}function Yc(o,n){return function(i,c){return i[o]===c[o]?i[n]-c[n]:i[o]-c[o]}}function qc(o){let n=o.chart,i=n.options.animation;n.notifyPlugins("afterRender"),m(i&&i.onComplete,[o],n)}function Yg(o){let n=o.chart,i=n.options.animation;m(i&&i.onProgress,[o],n)}function Uc(o){return Gn()&&typeof o=="string"?o=document.getElementById(o):o&&o.length&&(o=o[0]),o&&o.canvas&&(o=o.canvas),o}let Mo={},Xc=o=>{let n=Uc(o);return Object.values(Mo).filter(i=>i.canvas===n).pop()};function qg(o,n,i){let c=Object.keys(o);for(let u of c){let p=+u;if(p>=n){let b=o[u];delete o[u],(i>0||p>n)&&(o[p+i]=b)}}}function Ug(o,n,i,c){return!i||o.type==="mouseout"?null:c?n:o}class Gt{constructor(n,i){let c=this.config=new Vg(i),u=Uc(n),p=Xc(u);if(p)throw new Error("Canvas is already in use. Chart with ID '"+p.id+"' must be destroyed before the canvas with ID '"+p.canvas.id+"' can be reused.");let b=c.createResolver(c.chartOptionScopes(),this.getContext());this.platform=new(c.platform||kc(u)),this.platform.updateConfig(c);let x=this.platform.acquireContext(u,b.aspectRatio),v=x&&x.canvas,k=v&&v.height,A=v&&v.width;if(this.id=t(),this.ctx=x,this.canvas=v,this.width=A,this.height=k,this._options=b,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Dg,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=ns(O=>this.update(O),b.resizeDelay||0),this._dataChanges=[],Mo[this.id]=this,!x||!v){console.error("Failed to create chart: can't acquire context from the given item");return}Ee.listen(this,"complete",qc),Ee.listen(this,"progress",Yg),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:n,maintainAspectRatio:i},width:c,height:u,_aspectRatio:p}=this;return e(n)?i&&p?p:u?c/u:null:n}get data(){return this.config.data}set data(n){this.config.data=n}get options(){return this._options}set options(n){this.config.options=n}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Rr(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ir(this.canvas,this.ctx),this}stop(){return Ee.stop(this),this}resize(n,i){Ee.running(this)?this._resizeBeforeDraw={width:n,height:i}:this._resize(n,i)}_resize(n,i){let c=this.options,u=this.canvas,p=c.maintainAspectRatio&&this.aspectRatio,b=this.platform.getMaximumSize(u,n,i,p),x=c.devicePixelRatio||this.platform.getDevicePixelRatio(),v=this.width?"resize":"attach";this.width=b.width,this.height=b.height,this._aspectRatio=this.aspectRatio,Rr(this,x,!0)&&(this.notifyPlugins("resize",{size:b}),m(c.onResize,[this,b],this),this.attached&&this._doResize(v)&&this.render())}ensureScalesHaveIDs(){let i=this.options.scales||{};_(i,(c,u)=>{c.id=u})}buildOrUpdateScales(){let n=this.options,i=n.scales,c=this.scales,u=Object.keys(c).reduce((b,x)=>(b[x]=!1,b),{}),p=[];i&&(p=p.concat(Object.keys(i).map(b=>{let x=i[b],v=ta(b,x),k=v==="r",A=v==="x";return{options:x,dposition:k?"chartArea":A?"bottom":"left",dtype:k?"radialLinear":A?"category":"linear"}}))),_(p,b=>{let x=b.options,v=x.id,k=ta(v,x),A=h(x.type,b.dtype);(x.position===void 0||$c(x.position,k)!==$c(b.dposition))&&(x.position=b.dposition),u[v]=!0;let O=null;if(v in c&&c[v].type===A)O=c[v];else{let R=Ye.getScale(A);O=new R({id:v,type:A,ctx:this.ctx,chart:this}),c[O.id]=O}O.init(x,n)}),_(u,(b,x)=>{b||delete c[x]}),_(c,b=>{re.configure(this,b,b.options),re.addBox(this,b)})}_updateMetasets(){let n=this._metasets,i=this.data.datasets.length,c=n.length;if(n.sort((u,p)=>u.index-p.index),c>i){for(let u=i;u<c;++u)this._destroyDatasetMeta(u);n.splice(i,c-i)}this._sortedMetasets=n.slice(0).sort(Yc("order","index"))}_removeUnreferencedMetasets(){let{_metasets:n,data:{datasets:i}}=this;n.length>i.length&&delete this._stacks,n.forEach((c,u)=>{i.filter(p=>p===c._dataset).length===0&&this._destroyDatasetMeta(u)})}buildOrUpdateControllers(){let n=[],i=this.data.datasets,c,u;for(this._removeUnreferencedMetasets(),c=0,u=i.length;c<u;c++){let p=i[c],b=this.getDatasetMeta(c),x=p.type||this.config.type;if(b.type&&b.type!==x&&(this._destroyDatasetMeta(c),b=this.getDatasetMeta(c)),b.type=x,b.indexAxis=p.indexAxis||jr(x,this.options),b.order=p.order||0,b.index=c,b.label=""+p.label,b.visible=this.isDatasetVisible(c),b.controller)b.controller.updateIndex(c),b.controller.linkScales();else{let v=Ye.getController(x),{datasetElementType:k,dataElementType:A}=wt.datasets[x];Object.assign(v.prototype,{dataElementType:Ye.getElement(A),datasetElementType:k&&Ye.getElement(k)}),b.controller=new v(this,c),n.push(b.controller)}}return this._updateMetasets(),n}_resetElements(){_(this.data.datasets,(n,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(n){let i=this.config;i.update();let c=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),u=this._animationsDisabled=!c.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:n,cancelable:!0})===!1)return;let p=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let b=0;for(let k=0,A=this.data.datasets.length;k<A;k++){let{controller:O}=this.getDatasetMeta(k),R=!u&&p.indexOf(O)===-1;O.buildOrUpdateElements(R),b=Math.max(+O.getMaxOverflow(),b)}b=this._minPadding=c.layout.autoPadding?b:0,this._updateLayout(b),u||_(p,k=>{k.reset()}),this._updateDatasets(n),this.notifyPlugins("afterUpdate",{mode:n}),this._layers.sort(Yc("z","_idx"));let{_active:x,_lastEvent:v}=this;v?this._eventHandler(v,!0):x.length&&this._updateHoverStyles(x,x,!0),this.render()}_updateScales(){_(this.scales,n=>{re.removeBox(this,n)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let n=this.options,i=new Set(Object.keys(this._listeners)),c=new Set(n.events);(!it(i,c)||!!this._responsiveListeners!==n.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:n}=this,i=this._getUniformDataChanges()||[];for(let{method:c,start:u,count:p}of i){let b=c==="_removeElements"?-p:p;qg(n,u,b)}}_getUniformDataChanges(){let n=this._dataChanges;if(!n||!n.length)return;this._dataChanges=[];let i=this.data.datasets.length,c=p=>new Set(n.filter(b=>b[0]===p).map((b,x)=>x+","+b.splice(1).join(","))),u=c(0);for(let p=1;p<i;p++)if(!it(u,c(p)))return;return Array.from(u).map(p=>p.split(",")).map(p=>({method:p[1],start:+p[2],count:+p[3]}))}_updateLayout(n){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;re.update(this,this.width,this.height,n);let i=this.chartArea,c=i.width<=0||i.height<=0;this._layers=[],_(this.boxes,u=>{c&&u.position==="chartArea"||(u.configure&&u.configure(),this._layers.push(...u._layers()))},this),this._layers.forEach((u,p)=>{u._idx=p}),this.notifyPlugins("afterLayout")}_updateDatasets(n){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:n,cancelable:!0})!==!1){for(let i=0,c=this.data.datasets.length;i<c;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,c=this.data.datasets.length;i<c;++i)this._updateDataset(i,et(n)?n({datasetIndex:i}):n);this.notifyPlugins("afterDatasetsUpdate",{mode:n})}}_updateDataset(n,i){let c=this.getDatasetMeta(n),u={meta:c,index:n,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",u)!==!1&&(c.controller._update(i),u.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",u))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ee.has(this)?this.attached&&!Ee.running(this)&&Ee.start(this):(this.draw(),qc({chart:this})))}draw(){let n;if(this._resizeBeforeDraw){let{width:c,height:u}=this._resizeBeforeDraw;this._resize(c,u),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let i=this._layers;for(n=0;n<i.length&&i[n].z<=0;++n)i[n].draw(this.chartArea);for(this._drawDatasets();n<i.length;++n)i[n].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(n){let i=this._sortedMetasets,c=[],u,p;for(u=0,p=i.length;u<p;++u){let b=i[u];(!n||b.visible)&&c.push(b)}return c}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let n=this.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i)this._drawDataset(n[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(n){let i=this.ctx,c=n._clip,u=!c.disabled,p=this.chartArea,b={meta:n,index:n.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",b)!==!1&&(u&&hs(i,{left:c.left===!1?0:p.left-c.left,right:c.right===!1?this.width:p.right+c.right,top:c.top===!1?0:p.top-c.top,bottom:c.bottom===!1?this.height:p.bottom+c.bottom}),n.controller.draw(),u&&us(i),b.cancelable=!1,this.notifyPlugins("afterDatasetDraw",b))}isPointInArea(n){return _i(n,this.chartArea,this._minPadding)}getElementsAtEventForMode(n,i,c,u){let p=uc.modes[i];return typeof p=="function"?p(this,n,c,u):[]}getDatasetMeta(n){let i=this.data.datasets[n],c=this._metasets,u=c.filter(p=>p&&p._dataset===i).pop();return u||(u={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:n,_dataset:i,_parsed:[],_sorted:!1},c.push(u)),u}getContext(){return this.$context||(this.$context=sn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(n){let i=this.data.datasets[n];if(!i)return!1;let c=this.getDatasetMeta(n);return typeof c.hidden=="boolean"?!c.hidden:!i.hidden}setDatasetVisibility(n,i){let c=this.getDatasetMeta(n);c.hidden=!i}toggleDataVisibility(n){this._hiddenIndices[n]=!this._hiddenIndices[n]}getDataVisibility(n){return!this._hiddenIndices[n]}_updateVisibility(n,i,c){let u=c?"show":"hide",p=this.getDatasetMeta(n),b=p.controller._resolveAnimations(void 0,u);G(i)?(p.data[i].hidden=!c,this.update()):(this.setDatasetVisibility(n,c),b.update(p,{visible:c}),this.update(x=>x.datasetIndex===n?u:void 0))}hide(n,i){this._updateVisibility(n,i,!1)}show(n,i){this._updateVisibility(n,i,!0)}_destroyDatasetMeta(n){let i=this._metasets[n];i&&i.controller&&i.controller._destroy(),delete this._metasets[n]}_stop(){let n,i;for(this.stop(),Ee.remove(this),n=0,i=this.data.datasets.length;n<i;++n)this._destroyDatasetMeta(n)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:n,ctx:i}=this;this._stop(),this.config.clearCache(),n&&(this.unbindEvents(),Ir(n,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete Mo[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...n){return this.canvas.toDataURL(...n)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let n=this._listeners,i=this.platform,c=(p,b)=>{i.addEventListener(this,p,b),n[p]=b},u=(p,b,x)=>{p.offsetX=b,p.offsetY=x,this._eventHandler(p)};_(this.options.events,p=>c(p,u))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let n=this._responsiveListeners,i=this.platform,c=(v,k)=>{i.addEventListener(this,v,k),n[v]=k},u=(v,k)=>{n[v]&&(i.removeEventListener(this,v,k),delete n[v])},p=(v,k)=>{this.canvas&&this.resize(v,k)},b,x=()=>{u("attach",x),this.attached=!0,this.resize(),c("resize",p),c("detach",b)};b=()=>{this.attached=!1,u("resize",p),this._stop(),this._resize(0,0),c("attach",x)},i.isAttached(this.canvas)?x():b()}unbindEvents(){_(this._listeners,(n,i)=>{this.platform.removeEventListener(this,i,n)}),this._listeners={},_(this._responsiveListeners,(n,i)=>{this.platform.removeEventListener(this,i,n)}),this._responsiveListeners=void 0}updateHoverStyle(n,i,c){let u=c?"set":"remove",p,b,x,v;for(i==="dataset"&&(p=this.getDatasetMeta(n[0].datasetIndex),p.controller["_"+u+"DatasetHoverStyle"]()),x=0,v=n.length;x<v;++x){b=n[x];let k=b&&this.getDatasetMeta(b.datasetIndex).controller;k&&k[u+"HoverStyle"](b.element,b.datasetIndex,b.index)}}getActiveElements(){return this._active||[]}setActiveElements(n){let i=this._active||[],c=n.map(({datasetIndex:p,index:b})=>{let x=this.getDatasetMeta(p);if(!x)throw new Error("No dataset found at index "+p);return{datasetIndex:p,element:x.data[b],index:b}});!y(c,i)&&(this._active=c,this._lastEvent=null,this._updateHoverStyles(c,i))}notifyPlugins(n,i,c){return this._plugins.notify(this,n,i,c)}_updateHoverStyles(n,i,c){let u=this.options.hover,p=(v,k)=>v.filter(A=>!k.some(O=>A.datasetIndex===O.datasetIndex&&A.index===O.index)),b=p(i,n),x=c?n:p(n,i);b.length&&this.updateHoverStyle(b,u.mode,!1),x.length&&u.mode&&this.updateHoverStyle(x,u.mode,!0)}_eventHandler(n,i){let c={event:n,replay:i,cancelable:!0,inChartArea:this.isPointInArea(n)},u=b=>(b.options.events||this.options.events).includes(n.native.type);if(this.notifyPlugins("beforeEvent",c,u)===!1)return;let p=this._handleEvent(n,i,c.inChartArea);return c.cancelable=!1,this.notifyPlugins("afterEvent",c,u),(p||c.changed)&&this.render(),this}_handleEvent(n,i,c){let{_active:u=[],options:p}=this,b=i,x=this._getActiveElements(n,u,c,b),v=ct(n),k=Ug(n,this._lastEvent,c,v);c&&(this._lastEvent=null,m(p.onHover,[n,x,this],this),v&&m(p.onClick,[n,x,this],this));let A=!y(x,u);return(A||i)&&(this._active=x,this._updateHoverStyles(x,u,i)),this._lastEvent=k,A}_getActiveElements(n,i,c,u){if(n.type==="mouseout")return[];if(!c)return i;let p=this.options.hover;return this.getElementsAtEventForMode(n,p.mode,p,u)}}let Gc=()=>_(Gt.instances,o=>o._plugins.invalidate()),An=!0;Object.defineProperties(Gt,{defaults:{enumerable:An,value:wt},instances:{enumerable:An,value:Mo},overrides:{enumerable:An,value:Ft},registry:{enumerable:An,value:Ye},version:{enumerable:An,value:Wg},getChart:{enumerable:An,value:Xc},register:{enumerable:An,value:(...o)=>{Ye.add(...o),Gc()}},unregister:{enumerable:An,value:(...o)=>{Ye.remove(...o),Gc()}}});function Zn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ea{constructor(n){this.options=n||{}}init(n){}formats(){return Zn()}parse(n,i){return Zn()}format(n,i){return Zn()}add(n,i,c){return Zn()}diff(n,i,c){return Zn()}startOf(n,i,c){return Zn()}endOf(n,i){return Zn()}}ea.override=function(o){Object.assign(ea.prototype,o)};var Kc={_date:ea};function Xg(o,n){if(!o._cache.$bar){let i=o.getMatchingVisibleMetas(n),c=[];for(let u=0,p=i.length;u<p;u++)c=c.concat(i[u].controller.getAllParsedValues(o));o._cache.$bar=ji(c.sort((u,p)=>u-p))}return o._cache.$bar}function Gg(o){let n=o.iScale,i=Xg(n,o.type),c=n._length,u,p,b,x,v=()=>{b===32767||b===-32768||(G(x)&&(c=Math.min(c,Math.abs(b-x)||c)),x=b)};for(u=0,p=i.length;u<p;++u)b=n.getPixelForValue(i[u]),v();for(x=void 0,u=0,p=n.ticks.length;u<p;++u)b=n.getPixelForTick(u),v();return c}function Kg(o,n,i,c){let u=i.barThickness,p,b;return e(u)?(p=n.min*i.categoryPercentage,b=i.barPercentage):(p=u*c,b=1),{chunk:p/c,ratio:b,start:n.pixels[o]-p/2}}function Qg(o,n,i,c){let u=n.pixels,p=u[o],b=o>0?u[o-1]:null,x=o<u.length-1?u[o+1]:null,v=i.categoryPercentage;b===null&&(b=p-(x===null?n.end-n.start:x-p)),x===null&&(x=p+p-b);let k=p-(p-Math.min(b,x))/2*v;return{chunk:Math.abs(x-b)/2*v/c,ratio:i.barPercentage,start:k}}function Zg(o,n,i,c){let u=i.parse(o[0],c),p=i.parse(o[1],c),b=Math.min(u,p),x=Math.max(u,p),v=b,k=x;Math.abs(b)>Math.abs(x)&&(v=x,k=b),n[i.axis]=k,n._custom={barStart:v,barEnd:k,start:u,end:p,min:b,max:x}}function Qc(o,n,i,c){return r(o)?Zg(o,n,i,c):n[i.axis]=i.parse(o,c),n}function Zc(o,n,i,c){let u=o.iScale,p=o.vScale,b=u.getLabels(),x=u===p,v=[],k,A,O,R;for(k=i,A=i+c;k<A;++k)R=n[k],O={},O[u.axis]=x||u.parse(b[k],k),v.push(Qc(R,O,p,k));return v}function na(o){return o&&o.barStart!==void 0&&o.barEnd!==void 0}function Jg(o,n,i){return o!==0?Dt(o):(n.isHorizontal()?1:-1)*(n.min>=i?1:-1)}function jg(o){let n,i,c,u,p;return o.horizontal?(n=o.base>o.x,i="left",c="right"):(n=o.base<o.y,i="bottom",c="top"),n?(u="end",p="start"):(u="start",p="end"),{start:i,end:c,reverse:n,top:u,bottom:p}}function tp(o,n,i,c){let u=n.borderSkipped,p={};if(!u){o.borderSkipped=p;return}if(u===!0){o.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:b,end:x,reverse:v,top:k,bottom:A}=jg(o);u==="middle"&&i&&(o.enableBorderRadius=!0,(i._top||0)===c?u=k:(i._bottom||0)===c?u=A:(p[Jc(A,b,x,v)]=!0,u=k)),p[Jc(u,b,x,v)]=!0,o.borderSkipped=p}function Jc(o,n,i,c){return c?(o=ep(o,n,i),o=jc(o,i,n)):o=jc(o,n,i),o}function ep(o,n,i){return o===n?i:o===i?n:o}function jc(o,n,i){return o==="start"?n:o==="end"?i:o}function np(o,{inflateAmount:n},i){o.inflateAmount=n==="auto"?i===1?.33:0:n}class Co extends Ie{parsePrimitiveData(n,i,c,u){return Zc(n,i,c,u)}parseArrayData(n,i,c,u){return Zc(n,i,c,u)}parseObjectData(n,i,c,u){let{iScale:p,vScale:b}=n,{xAxisKey:x="x",yAxisKey:v="y"}=this._parsing,k=p.axis==="x"?x:v,A=b.axis==="x"?x:v,O=[],R,S,F,V;for(R=c,S=c+u;R<S;++R)V=i[R],F={},F[p.axis]=p.parse(B(V,k),R),O.push(Qc(B(V,A),F,b,R));return O}updateRangeFromParsed(n,i,c,u){super.updateRangeFromParsed(n,i,c,u);let p=c._custom;p&&i===this._cachedMeta.vScale&&(n.min=Math.min(n.min,p.min),n.max=Math.max(n.max,p.max))}getMaxOverflow(){return 0}getLabelAndValue(n){let i=this._cachedMeta,{iScale:c,vScale:u}=i,p=this.getParsed(n),b=p._custom,x=na(b)?"["+b.start+", "+b.end+"]":""+u.getLabelForValue(p[u.axis]);return{label:""+c.getLabelForValue(p[c.axis]),value:x}}initialize(){this.enableOptionSharing=!0,super.initialize();let n=this._cachedMeta;n.stack=this.getDataset().stack}update(n){let i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,n)}updateElements(n,i,c,u){let p=u==="reset",{index:b,_cachedMeta:{vScale:x}}=this,v=x.getBasePixel(),k=x.isHorizontal(),A=this._getRuler(),{sharedOptions:O,includeOptions:R}=this._getSharedOptions(i,u);for(let S=i;S<i+c;S++){let F=this.getParsed(S),V=p||e(F[x.axis])?{base:v,head:v}:this._calculateBarValuePixels(S),H=this._calculateBarIndexPixels(S,A),Y=(F._stacks||{})[x.axis],K={horizontal:k,base:V.base,enableBorderRadius:!Y||na(F._custom)||b===Y._top||b===Y._bottom,x:k?V.head:H.center,y:k?H.center:V.head,height:k?H.size:Math.abs(V.size),width:k?Math.abs(V.size):H.size};R&&(K.options=O||this.resolveDataElementOptions(S,n[S].active?"active":u));let tt=K.options||n[S].options;tp(K,tt,Y,b),np(K,tt,A.ratio),this.updateElement(n[S],S,K,u)}}_getStacks(n,i){let{iScale:c}=this._cachedMeta,u=c.getMatchingVisibleMetas(this._type).filter(v=>v.controller.options.grouped),p=c.options.stacked,b=[],x=v=>{let k=v.controller.getParsed(i),A=k&&k[v.vScale.axis];if(e(A)||isNaN(A))return!0};for(let v of u)if(!(i!==void 0&&x(v))&&((p===!1||b.indexOf(v.stack)===-1||p===void 0&&v.stack===void 0)&&b.push(v.stack),v.index===n))break;return b.length||b.push(void 0),b}_getStackCount(n){return this._getStacks(void 0,n).length}_getStackIndex(n,i,c){let u=this._getStacks(n,c),p=i!==void 0?u.indexOf(i):-1;return p===-1?u.length-1:p}_getRuler(){let n=this.options,i=this._cachedMeta,c=i.iScale,u=[],p,b;for(p=0,b=i.data.length;p<b;++p)u.push(c.getPixelForValue(this.getParsed(p)[c.axis],p));let x=n.barThickness;return{min:x||Gg(i),pixels:u,start:c._startPixel,end:c._endPixel,stackCount:this._getStackCount(),scale:c,grouped:n.grouped,ratio:x?1:n.categoryPercentage*n.barPercentage}}_calculateBarValuePixels(n){let{_cachedMeta:{vScale:i,_stacked:c},options:{base:u,minBarLength:p}}=this,b=u||0,x=this.getParsed(n),v=x._custom,k=na(v),A=x[i.axis],O=0,R=c?this.applyStack(i,x,c):A,S,F;R!==A&&(O=R-A,R=A),k&&(A=v.barStart,R=v.barEnd-v.barStart,A!==0&&Dt(A)!==Dt(v.barEnd)&&(O=0),O+=A);let V=!e(u)&&!k?u:O,H=i.getPixelForValue(V);if(this.chart.getDataVisibility(n)?S=i.getPixelForValue(O+R):S=H,F=S-H,Math.abs(F)<p){F=Jg(F,i,b)*p,A===b&&(H-=F/2);let Y=i.getPixelForDecimal(0),K=i.getPixelForDecimal(1),tt=Math.min(Y,K),j=Math.max(Y,K);H=Math.max(Math.min(H,j),tt),S=H+F}if(H===i.getPixelForValue(b)){let Y=Dt(F)*i.getLineWidthForValue(b)/2;H+=Y,F-=Y}return{size:F,base:H,head:S,center:S+F/2}}_calculateBarIndexPixels(n,i){let c=i.scale,u=this.options,p=u.skipNull,b=h(u.maxBarThickness,1/0),x,v;if(i.grouped){let k=p?this._getStackCount(n):i.stackCount,A=u.barThickness==="flex"?Qg(n,i,u,k):Kg(n,i,u,k),O=this._getStackIndex(this.index,this._cachedMeta.stack,p?n:void 0);x=A.start+A.chunk*O+A.chunk/2,v=Math.min(b,A.chunk*A.ratio)}else x=c.getPixelForValue(this.getParsed(n)[c.axis],n),v=Math.min(b,i.min*i.ratio);return{base:x-v/2,head:x+v/2,center:x,size:v}}draw(){let n=this._cachedMeta,i=n.vScale,c=n.data,u=c.length,p=0;for(;p<u;++p)this.getParsed(p)[i.axis]!==null&&c[p].draw(this._ctx)}}Co.id="bar",Co.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},Co.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class Ao extends Ie{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(n,i,c,u){let p=super.parsePrimitiveData(n,i,c,u);for(let b=0;b<p.length;b++)p[b]._custom=this.resolveDataElementOptions(b+c).radius;return p}parseArrayData(n,i,c,u){let p=super.parseArrayData(n,i,c,u);for(let b=0;b<p.length;b++){let x=i[c+b];p[b]._custom=h(x[2],this.resolveDataElementOptions(b+c).radius)}return p}parseObjectData(n,i,c,u){let p=super.parseObjectData(n,i,c,u);for(let b=0;b<p.length;b++){let x=i[c+b];p[b]._custom=h(x&&x.r&&+x.r,this.resolveDataElementOptions(b+c).radius)}return p}getMaxOverflow(){let n=this._cachedMeta.data,i=0;for(let c=n.length-1;c>=0;--c)i=Math.max(i,n[c].size(this.resolveDataElementOptions(c))/2);return i>0&&i}getLabelAndValue(n){let i=this._cachedMeta,{xScale:c,yScale:u}=i,p=this.getParsed(n),b=c.getLabelForValue(p.x),x=u.getLabelForValue(p.y),v=p._custom;return{label:i.label,value:"("+b+", "+x+(v?", "+v:"")+")"}}update(n){let i=this._cachedMeta.data;this.updateElements(i,0,i.length,n)}updateElements(n,i,c,u){let p=u==="reset",{iScale:b,vScale:x}=this._cachedMeta,{sharedOptions:v,includeOptions:k}=this._getSharedOptions(i,u),A=b.axis,O=x.axis;for(let R=i;R<i+c;R++){let S=n[R],F=!p&&this.getParsed(R),V={},H=V[A]=p?b.getPixelForDecimal(.5):b.getPixelForValue(F[A]),Y=V[O]=p?x.getBasePixel():x.getPixelForValue(F[O]);V.skip=isNaN(H)||isNaN(Y),k&&(V.options=v||this.resolveDataElementOptions(R,S.active?"active":u),p&&(V.options.radius=0)),this.updateElement(S,R,V,u)}}resolveDataElementOptions(n,i){let c=this.getParsed(n),u=super.resolveDataElementOptions(n,i);u.$shared&&(u=Object.assign({},u,{$shared:!1}));let p=u.radius;return i!=="active"&&(u.radius=0),u.radius+=h(c&&c._custom,p),u}}Ao.id="bubble",Ao.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},Ao.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function ip(o,n,i){let c=1,u=1,p=0,b=0;if(n<gt){let x=o,v=x+n,k=Math.cos(x),A=Math.sin(x),O=Math.cos(v),R=Math.sin(v),S=(tt,j,J)=>pn(tt,x,v,!0)?1:Math.max(j,j*i,J,J*i),F=(tt,j,J)=>pn(tt,x,v,!0)?-1:Math.min(j,j*i,J,J*i),V=S(0,k,O),H=S(bt,A,R),Y=F(ut,k,O),K=F(ut+bt,A,R);c=(V-Y)/2,u=(H-K)/2,p=-(V+Y)/2,b=-(H+K)/2}return{ratioX:c,ratioY:u,offsetX:p,offsetY:b}}class Pi extends Ie{constructor(n,i){super(n,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(n,i){let c=this.getDataset().data,u=this._cachedMeta;if(this._parsing===!1)u._parsed=c;else{let p=v=>+c[v];if(l(c[n])){let{key:v="value"}=this._parsing;p=k=>+B(c[k],v)}let b,x;for(b=n,x=n+i;b<x;++b)u._parsed[b]=p(b)}}_getRotation(){return ce(this.options.rotation-90)}_getCircumference(){return ce(this.options.circumference)}_getRotationExtents(){let n=gt,i=-gt;for(let c=0;c<this.chart.data.datasets.length;++c)if(this.chart.isDatasetVisible(c)){let u=this.chart.getDatasetMeta(c).controller,p=u._getRotation(),b=u._getCircumference();n=Math.min(n,p),i=Math.max(i,p+b)}return{rotation:n,circumference:i-n}}update(n){let i=this.chart,{chartArea:c}=i,u=this._cachedMeta,p=u.data,b=this.getMaxBorderWidth()+this.getMaxOffset(p)+this.options.spacing,x=Math.max((Math.min(c.width,c.height)-b)/2,0),v=Math.min(a(this.options.cutout,x),1),k=this._getRingWeight(this.index),{circumference:A,rotation:O}=this._getRotationExtents(),{ratioX:R,ratioY:S,offsetX:F,offsetY:V}=ip(O,A,v),H=(c.width-b)/R,Y=(c.height-b)/S,K=Math.max(Math.min(H,Y)/2,0),tt=d(this.options.radius,K),j=Math.max(tt*v,0),J=(tt-j)/this._getVisibleDatasetWeightTotal();this.offsetX=F*tt,this.offsetY=V*tt,u.total=this.calculateTotal(),this.outerRadius=tt-J*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-J*k,0),this.updateElements(p,0,p.length,n)}_circumference(n,i){let c=this.options,u=this._cachedMeta,p=this._getCircumference();return i&&c.animation.animateRotate||!this.chart.getDataVisibility(n)||u._parsed[n]===null||u.data[n].hidden?0:this.calculateCircumference(u._parsed[n]*p/gt)}updateElements(n,i,c,u){let p=u==="reset",b=this.chart,x=b.chartArea,k=b.options.animation,A=(x.left+x.right)/2,O=(x.top+x.bottom)/2,R=p&&k.animateScale,S=R?0:this.innerRadius,F=R?0:this.outerRadius,{sharedOptions:V,includeOptions:H}=this._getSharedOptions(i,u),Y=this._getRotation(),K;for(K=0;K<i;++K)Y+=this._circumference(K,p);for(K=i;K<i+c;++K){let tt=this._circumference(K,p),j=n[K],J={x:A+this.offsetX,y:O+this.offsetY,startAngle:Y,endAngle:Y+tt,circumference:tt,outerRadius:F,innerRadius:S};H&&(J.options=V||this.resolveDataElementOptions(K,j.active?"active":u)),Y+=tt,this.updateElement(j,K,J,u)}}calculateTotal(){let n=this._cachedMeta,i=n.data,c=0,u;for(u=0;u<i.length;u++){let p=n._parsed[u];p!==null&&!isNaN(p)&&this.chart.getDataVisibility(u)&&!i[u].hidden&&(c+=Math.abs(p))}return c}calculateCircumference(n){let i=this._cachedMeta.total;return i>0&&!isNaN(n)?gt*(Math.abs(n)/i):0}getLabelAndValue(n){let i=this._cachedMeta,c=this.chart,u=c.data.labels||[],p=wi(i._parsed[n],c.options.locale);return{label:u[n]||"",value:p}}getMaxBorderWidth(n){let i=0,c=this.chart,u,p,b,x,v;if(!n){for(u=0,p=c.data.datasets.length;u<p;++u)if(c.isDatasetVisible(u)){b=c.getDatasetMeta(u),n=b.data,x=b.controller;break}}if(!n)return 0;for(u=0,p=n.length;u<p;++u)v=x.resolveDataElementOptions(u),v.borderAlign!=="inner"&&(i=Math.max(i,v.borderWidth||0,v.hoverBorderWidth||0));return i}getMaxOffset(n){let i=0;for(let c=0,u=n.length;c<u;++c){let p=this.resolveDataElementOptions(c);i=Math.max(i,p.offset||0,p.hoverOffset||0)}return i}_getRingWeightOffset(n){let i=0;for(let c=0;c<n;++c)this.chart.isDatasetVisible(c)&&(i+=this._getRingWeight(c));return i}_getRingWeight(n){return Math.max(h(this.chart.data.datasets[n].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Pi.id="doughnut",Pi.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},Pi.descriptors={_scriptable:o=>o!=="spacing",_indexable:o=>o!=="spacing"},Pi.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(o){let n=o.data;if(n.labels.length&&n.datasets.length){let{labels:{pointStyle:i}}=o.legend.options;return n.labels.map((c,u)=>{let b=o.getDatasetMeta(0).controller.getStyle(u);return{text:c,fillStyle:b.backgroundColor,strokeStyle:b.borderColor,lineWidth:b.borderWidth,pointStyle:i,hidden:!o.getDataVisibility(u),index:u}})}return[]}},onClick(o,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}},tooltip:{callbacks:{title(){return""},label(o){let n=o.label,i=": "+o.formattedValue;return r(n)?(n=n.slice(),n[0]+=i):n+=i,n}}}}};class To extends Ie{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(n){let i=this._cachedMeta,{dataset:c,data:u=[],_dataset:p}=i,b=this.chart._animationsDisabled,{start:x,count:v}=ue(i,u,b);this._drawStart=x,this._drawCount=v,tn(i)&&(x=0,v=u.length),c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!p._decimated,c.points=u;let k=this.resolveDatasetElementOptions(n);this.options.showLine||(k.borderWidth=0),k.segment=this.options.segment,this.updateElement(c,void 0,{animated:!b,options:k},n),this.updateElements(u,x,v,n)}updateElements(n,i,c,u){let p=u==="reset",{iScale:b,vScale:x,_stacked:v,_dataset:k}=this._cachedMeta,{sharedOptions:A,includeOptions:O}=this._getSharedOptions(i,u),R=b.axis,S=x.axis,{spanGaps:F,segment:V}=this.options,H=Yt(F)?F:Number.POSITIVE_INFINITY,Y=this.chart._animationsDisabled||p||u==="none",K=i>0&&this.getParsed(i-1);for(let tt=i;tt<i+c;++tt){let j=n[tt],J=this.getParsed(tt),st=Y?j:{},ot=e(J[S]),mt=st[R]=b.getPixelForValue(J[R],tt),dt=st[S]=p||ot?x.getBasePixel():x.getPixelForValue(v?this.applyStack(x,J,v):J[S],tt);st.skip=isNaN(mt)||isNaN(dt)||ot,st.stop=tt>0&&Math.abs(J[R]-K[R])>H,V&&(st.parsed=J,st.raw=k.data[tt]),O&&(st.options=A||this.resolveDataElementOptions(tt,j.active?"active":u)),Y||this.updateElement(j,tt,st,u),K=J}}getMaxOverflow(){let n=this._cachedMeta,i=n.dataset,c=i.options&&i.options.borderWidth||0,u=n.data||[];if(!u.length)return c;let p=u[0].size(this.resolveDataElementOptions(0)),b=u[u.length-1].size(this.resolveDataElementOptions(u.length-1));return Math.max(c,p,b)/2}draw(){let n=this._cachedMeta;n.dataset.updateControlPoints(this.chart.chartArea,n.iScale.axis),super.draw()}}To.id="line",To.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},To.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class Do extends Ie{constructor(n,i){super(n,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(n){let i=this._cachedMeta,c=this.chart,u=c.data.labels||[],p=wi(i._parsed[n].r,c.options.locale);return{label:u[n]||"",value:p}}parseObjectData(n,i,c,u){return Hr.bind(this)(n,i,c,u)}update(n){let i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,n)}getMinMax(){let n=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return n.data.forEach((c,u)=>{let p=this.getParsed(u).r;!isNaN(p)&&this.chart.getDataVisibility(u)&&(p<i.min&&(i.min=p),p>i.max&&(i.max=p))}),i}_updateRadius(){let n=this.chart,i=n.chartArea,c=n.options,u=Math.min(i.right-i.left,i.bottom-i.top),p=Math.max(u/2,0),b=Math.max(c.cutoutPercentage?p/100*c.cutoutPercentage:1,0),x=(p-b)/n.getVisibleDatasetCount();this.outerRadius=p-x*this.index,this.innerRadius=this.outerRadius-x}updateElements(n,i,c,u){let p=u==="reset",b=this.chart,v=b.options.animation,k=this._cachedMeta.rScale,A=k.xCenter,O=k.yCenter,R=k.getIndexAngle(0)-.5*ut,S=R,F,V=360/this.countVisibleElements();for(F=0;F<i;++F)S+=this._computeAngle(F,u,V);for(F=i;F<i+c;F++){let H=n[F],Y=S,K=S+this._computeAngle(F,u,V),tt=b.getDataVisibility(F)?k.getDistanceFromCenterForValue(this.getParsed(F).r):0;S=K,p&&(v.animateScale&&(tt=0),v.animateRotate&&(Y=K=R));let j={x:A,y:O,innerRadius:0,outerRadius:tt,startAngle:Y,endAngle:K,options:this.resolveDataElementOptions(F,H.active?"active":u)};this.updateElement(H,F,j,u)}}countVisibleElements(){let n=this._cachedMeta,i=0;return n.data.forEach((c,u)=>{!isNaN(this.getParsed(u).r)&&this.chart.getDataVisibility(u)&&i++}),i}_computeAngle(n,i,c){return this.chart.getDataVisibility(n)?ce(this.resolveDataElementOptions(n,i).angle||c):0}}Do.id="polarArea",Do.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},Do.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(o){let n=o.data;if(n.labels.length&&n.datasets.length){let{labels:{pointStyle:i}}=o.legend.options;return n.labels.map((c,u)=>{let b=o.getDatasetMeta(0).controller.getStyle(u);return{text:c,fillStyle:b.backgroundColor,strokeStyle:b.borderColor,lineWidth:b.borderWidth,pointStyle:i,hidden:!o.getDataVisibility(u),index:u}})}return[]}},onClick(o,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}},tooltip:{callbacks:{title(){return""},label(o){return o.chart.data.labels[o.dataIndex]+": "+o.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class ia extends Pi{}ia.id="pie",ia.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class Oo extends Ie{getLabelAndValue(n){let i=this._cachedMeta.vScale,c=this.getParsed(n);return{label:i.getLabels()[n],value:""+i.getLabelForValue(c[i.axis])}}parseObjectData(n,i,c,u){return Hr.bind(this)(n,i,c,u)}update(n){let i=this._cachedMeta,c=i.dataset,u=i.data||[],p=i.iScale.getLabels();if(c.points=u,n!=="resize"){let b=this.resolveDatasetElementOptions(n);this.options.showLine||(b.borderWidth=0);let x={_loop:!0,_fullLoop:p.length===u.length,options:b};this.updateElement(c,void 0,x,n)}this.updateElements(u,0,u.length,n)}updateElements(n,i,c,u){let p=this._cachedMeta.rScale,b=u==="reset";for(let x=i;x<i+c;x++){let v=n[x],k=this.resolveDataElementOptions(x,v.active?"active":u),A=p.getPointPositionForValue(x,this.getParsed(x).r),O=b?p.xCenter:A.x,R=b?p.yCenter:A.y,S={x:O,y:R,angle:A.angle,skip:isNaN(O)||isNaN(R),options:k};this.updateElement(v,x,S,u)}}}Oo.id="radar",Oo.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},Oo.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class Eo extends Ie{update(n){let i=this._cachedMeta,{data:c=[]}=i,u=this.chart._animationsDisabled,{start:p,count:b}=ue(i,c,u);if(this._drawStart=p,this._drawCount=b,tn(i)&&(p=0,b=c.length),this.options.showLine){let{dataset:x,_dataset:v}=i;x._chart=this.chart,x._datasetIndex=this.index,x._decimated=!!v._decimated,x.points=c;let k=this.resolveDatasetElementOptions(n);k.segment=this.options.segment,this.updateElement(x,void 0,{animated:!u,options:k},n)}this.updateElements(c,p,b,n)}addElements(){let{showLine:n}=this.options;!this.datasetElementType&&n&&(this.datasetElementType=Ye.getElement("line")),super.addElements()}updateElements(n,i,c,u){let p=u==="reset",{iScale:b,vScale:x,_stacked:v,_dataset:k}=this._cachedMeta,A=this.resolveDataElementOptions(i,u),O=this.getSharedOptions(A),R=this.includeOptions(u,O),S=b.axis,F=x.axis,{spanGaps:V,segment:H}=this.options,Y=Yt(V)?V:Number.POSITIVE_INFINITY,K=this.chart._animationsDisabled||p||u==="none",tt=i>0&&this.getParsed(i-1);for(let j=i;j<i+c;++j){let J=n[j],st=this.getParsed(j),ot=K?J:{},mt=e(st[F]),dt=ot[S]=b.getPixelForValue(st[S],j),Rt=ot[F]=p||mt?x.getBasePixel():x.getPixelForValue(v?this.applyStack(x,st,v):st[F],j);ot.skip=isNaN(dt)||isNaN(Rt)||mt,ot.stop=j>0&&Math.abs(st[S]-tt[S])>Y,H&&(ot.parsed=st,ot.raw=k.data[j]),R&&(ot.options=O||this.resolveDataElementOptions(j,J.active?"active":u)),K||this.updateElement(J,j,ot,u),tt=st}this.updateSharedOptions(O,u,A)}getMaxOverflow(){let n=this._cachedMeta,i=n.data||[];if(!this.options.showLine){let x=0;for(let v=i.length-1;v>=0;--v)x=Math.max(x,i[v].size(this.resolveDataElementOptions(v))/2);return x>0&&x}let c=n.dataset,u=c.options&&c.options.borderWidth||0;if(!i.length)return u;let p=i[0].size(this.resolveDataElementOptions(0)),b=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(u,p,b)/2}}Eo.id="scatter",Eo.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},Eo.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(o){return"("+o.label+", "+o.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var th=Object.freeze({__proto__:null,BarController:Co,BubbleController:Ao,DoughnutController:Pi,LineController:To,PolarAreaController:Do,PieController:ia,RadarController:Oo,ScatterController:Eo});function eh(o,n,i){let{startAngle:c,pixelMargin:u,x:p,y:b,outerRadius:x,innerRadius:v}=n,k=u/x;o.beginPath(),o.arc(p,b,x,c-k,i+k),v>u?(k=u/v,o.arc(p,b,v,i+k,c-k,!0)):o.arc(p,b,u,i+bt,c-bt),o.closePath(),o.clip()}function sp(o){return _o(o,["outerStart","outerEnd","innerStart","innerEnd"])}function op(o,n,i,c){let u=sp(o.options.borderRadius),p=(i-n)/2,b=Math.min(p,c*n/2),x=v=>{let k=(i-Math.min(p,v))*c/2;return Qt(v,0,Math.min(p,k))};return{outerStart:x(u.outerStart),outerEnd:x(u.outerEnd),innerStart:Qt(u.innerStart,0,b),innerEnd:Qt(u.innerEnd,0,b)}}function Mi(o,n,i,c){return{x:i+o*Math.cos(n),y:c+o*Math.sin(n)}}function sa(o,n,i,c,u,p){let{x:b,y:x,startAngle:v,pixelMargin:k,innerRadius:A}=n,O=Math.max(n.outerRadius+c+i-k,0),R=A>0?A+c+i+k:0,S=0,F=u-v;if(c){let vt=A>0?A-c:0,te=O>0?O-c:0,Zt=(vt+te)/2,Jn=Zt!==0?F*Zt/(Zt+c):F;S=(F-Jn)/2}let V=Math.max(.001,F*O-i/ut)/O,H=(F-V)/2,Y=v+H+S,K=u-H-S,{outerStart:tt,outerEnd:j,innerStart:J,innerEnd:st}=op(n,R,O,K-Y),ot=O-tt,mt=O-j,dt=Y+tt/ot,Rt=K-j/mt,St=R+J,Tt=R+st,jt=Y+J/St,me=K-st/Tt;if(o.beginPath(),p){if(o.arc(b,x,O,dt,Rt),j>0){let Zt=Mi(mt,Rt,b,x);o.arc(Zt.x,Zt.y,j,Rt,K+bt)}let vt=Mi(Tt,K,b,x);if(o.lineTo(vt.x,vt.y),st>0){let Zt=Mi(Tt,me,b,x);o.arc(Zt.x,Zt.y,st,K+bt,me+Math.PI)}if(o.arc(b,x,R,K-st/R,Y+J/R,!0),J>0){let Zt=Mi(St,jt,b,x);o.arc(Zt.x,Zt.y,J,jt+Math.PI,Y-bt)}let te=Mi(ot,Y,b,x);if(o.lineTo(te.x,te.y),tt>0){let Zt=Mi(ot,dt,b,x);o.arc(Zt.x,Zt.y,tt,Y-bt,dt)}}else{o.moveTo(b,x);let vt=Math.cos(dt)*O+b,te=Math.sin(dt)*O+x;o.lineTo(vt,te);let Zt=Math.cos(Rt)*O+b,Jn=Math.sin(Rt)*O+x;o.lineTo(Zt,Jn)}o.closePath()}function rp(o,n,i,c,u){let{fullCircles:p,startAngle:b,circumference:x}=n,v=n.endAngle;if(p){sa(o,n,i,c,b+gt,u);for(let k=0;k<p;++k)o.fill();isNaN(x)||(v=b+x%gt,x%gt===0&&(v+=gt))}return sa(o,n,i,c,v,u),o.fill(),v}function ap(o,n,i){let{x:c,y:u,startAngle:p,pixelMargin:b,fullCircles:x}=n,v=Math.max(n.outerRadius-b,0),k=n.innerRadius+b,A;for(i&&eh(o,n,p+gt),o.beginPath(),o.arc(c,u,k,p+gt,p,!0),A=0;A<x;++A)o.stroke();for(o.beginPath(),o.arc(c,u,v,p,p+gt),A=0;A<x;++A)o.stroke()}function lp(o,n,i,c,u,p){let{options:b}=n,{borderWidth:x,borderJoinStyle:v}=b,k=b.borderAlign==="inner";x&&(k?(o.lineWidth=x*2,o.lineJoin=v||"round"):(o.lineWidth=x,o.lineJoin=v||"bevel"),n.fullCircles&&ap(o,n,k),k&&eh(o,n,u),sa(o,n,i,c,u,p),o.stroke())}class Lo extends Fe{constructor(n){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,c){let u=this.getProps(["x","y"],c),{angle:p,distance:b}=ui(u,{x:n,y:i}),{startAngle:x,endAngle:v,innerRadius:k,outerRadius:A,circumference:O}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],c),R=this.options.spacing/2,F=h(O,v-x)>=gt||pn(p,x,v),V=De(b,k+R,A+R);return F&&V}getCenterPoint(n){let{x:i,y:c,startAngle:u,endAngle:p,innerRadius:b,outerRadius:x}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],n),{offset:v,spacing:k}=this.options,A=(u+p)/2,O=(b+x+k+v)/2;return{x:i+Math.cos(A)*O,y:c+Math.sin(A)*O}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){let{options:i,circumference:c}=this,u=(i.offset||0)/2,p=(i.spacing||0)/2,b=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=c>gt?Math.floor(c/gt):0,c===0||this.innerRadius<0||this.outerRadius<0)return;n.save();let x=0;if(u){x=u/2;let k=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(k)*x,Math.sin(k)*x),this.circumference>=ut&&(x=u)}n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor;let v=rp(n,this,x,p,b);lp(n,this,x,p,v,b),n.restore()}}Lo.id="arc",Lo.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0},Lo.defaultRoutes={backgroundColor:"backgroundColor"};function nh(o,n,i=n){o.lineCap=h(i.borderCapStyle,n.borderCapStyle),o.setLineDash(h(i.borderDash,n.borderDash)),o.lineDashOffset=h(i.borderDashOffset,n.borderDashOffset),o.lineJoin=h(i.borderJoinStyle,n.borderJoinStyle),o.lineWidth=h(i.borderWidth,n.borderWidth),o.strokeStyle=h(i.borderColor,n.borderColor)}function cp(o,n,i){o.lineTo(i.x,i.y)}function hp(o){return o.stepped?Nl:o.tension||o.cubicInterpolationMode==="monotone"?Wl:cp}function ih(o,n,i={}){let c=o.length,{start:u=0,end:p=c-1}=i,{start:b,end:x}=n,v=Math.max(u,b),k=Math.min(p,x),A=u<b&&p<b||u>x&&p>x;return{count:c,start:v,loop:n.loop,ilen:k<v&&!A?c+k-v:k-v}}function up(o,n,i,c){let{points:u,options:p}=n,{count:b,start:x,loop:v,ilen:k}=ih(u,i,c),A=hp(p),{move:O=!0,reverse:R}=c||{},S,F,V;for(S=0;S<=k;++S)F=u[(x+(R?k-S:S))%b],!F.skip&&(O?(o.moveTo(F.x,F.y),O=!1):A(o,V,F,R,p.stepped),V=F);return v&&(F=u[(x+(R?k:0))%b],A(o,V,F,R,p.stepped)),!!v}function fp(o,n,i,c){let u=n.points,{count:p,start:b,ilen:x}=ih(u,i,c),{move:v=!0,reverse:k}=c||{},A=0,O=0,R,S,F,V,H,Y,K=j=>(b+(k?x-j:j))%p,tt=()=>{V!==H&&(o.lineTo(A,H),o.lineTo(A,V),o.lineTo(A,Y))};for(v&&(S=u[K(0)],o.moveTo(S.x,S.y)),R=0;R<=x;++R){if(S=u[K(R)],S.skip)continue;let j=S.x,J=S.y,st=j|0;st===F?(J<V?V=J:J>H&&(H=J),A=(O*A+j)/++O):(tt(),o.lineTo(j,J),F=st,O=0,V=H=J),Y=J}tt()}function oa(o){let n=o.options,i=n.borderDash&&n.borderDash.length;return!o._decimated&&!o._loop&&!n.tension&&n.cubicInterpolationMode!=="monotone"&&!n.stepped&&!i?fp:up}function dp(o){return o.stepped?tc:o.tension||o.cubicInterpolationMode==="monotone"?ec:Pn}function gp(o,n,i,c){let u=n._path;u||(u=n._path=new Path2D,n.path(u,i,c)&&u.closePath()),nh(o,n.options),o.stroke(u)}function pp(o,n,i,c){let{segments:u,options:p}=n,b=oa(n);for(let x of u)nh(o,p,x.style),o.beginPath(),b(o,n,x,{start:i,end:i+c-1})&&o.closePath(),o.stroke()}let mp=typeof Path2D=="function";function bp(o,n,i,c){mp&&!n.options.segment?gp(o,n,i,c):pp(o,n,i,c)}class Tn extends Fe{constructor(n){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,n&&Object.assign(this,n)}updateControlPoints(n,i){let c=this.options;if((c.tension||c.cubicInterpolationMode==="monotone")&&!c.stepped&&!this._pointsUpdated){let u=c.spanGaps?this._loop:this._fullLoop;Zl(this._points,c,n,u,i),this._pointsUpdated=!0}}set points(n){this._points=n,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=ac(this,this.options.segment))}first(){let n=this.segments,i=this.points;return n.length&&i[n[0].start]}last(){let n=this.segments,i=this.points,c=n.length;return c&&i[n[c-1].end]}interpolate(n,i){let c=this.options,u=n[i],p=this.points,b=qr(this,{property:i,start:u,end:u});if(!b.length)return;let x=[],v=dp(c),k,A;for(k=0,A=b.length;k<A;++k){let{start:O,end:R}=b[k],S=p[O],F=p[R];if(S===F){x.push(S);continue}let V=Math.abs((u-S[i])/(F[i]-S[i])),H=v(S,F,V,c.stepped);H[i]=n[i],x.push(H)}return x.length===1?x[0]:x}pathSegment(n,i,c){return oa(this)(n,this,i,c)}path(n,i,c){let u=this.segments,p=oa(this),b=this._loop;i=i||0,c=c||this.points.length-i;for(let x of u)b&=p(n,this,x,{start:i,end:i+c-1});return!!b}draw(n,i,c,u){let p=this.options||{};(this.points||[]).length&&p.borderWidth&&(n.save(),bp(n,this,c,u),n.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Tn.id="line",Tn.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},Tn.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},Tn.descriptors={_scriptable:!0,_indexable:o=>o!=="borderDash"&&o!=="fill"};function sh(o,n,i,c){let u=o.options,{[i]:p}=o.getProps([i],c);return Math.abs(n-p)<u.radius+u.hitRadius}class Ro extends Fe{constructor(n){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,c){let u=this.options,{x:p,y:b}=this.getProps(["x","y"],c);return Math.pow(n-p,2)+Math.pow(i-b,2)<Math.pow(u.hitRadius+u.radius,2)}inXRange(n,i){return sh(this,n,"x",i)}inYRange(n,i){return sh(this,n,"y",i)}getCenterPoint(n){let{x:i,y:c}=this.getProps(["x","y"],n);return{x:i,y:c}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);let c=i&&n.borderWidth||0;return(i+c)*2}draw(n,i){let c=this.options;this.skip||c.radius<.1||!_i(this,i,this.size(c)/2)||(n.strokeStyle=c.borderColor,n.lineWidth=c.borderWidth,n.fillStyle=c.backgroundColor,go(n,c,this.x,this.y))}getRange(){let n=this.options||{};return n.radius+n.hitRadius}}Ro.id="point",Ro.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},Ro.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function oh(o,n){let{x:i,y:c,base:u,width:p,height:b}=o.getProps(["x","y","base","width","height"],n),x,v,k,A,O;return o.horizontal?(O=b/2,x=Math.min(i,u),v=Math.max(i,u),k=c-O,A=c+O):(O=p/2,x=i-O,v=i+O,k=Math.min(c,u),A=Math.max(c,u)),{left:x,top:k,right:v,bottom:A}}function Dn(o,n,i,c){return o?0:Qt(n,i,c)}function _p(o,n,i){let c=o.options.borderWidth,u=o.borderSkipped,p=Nr(c);return{t:Dn(u.top,p.top,0,i),r:Dn(u.right,p.right,0,n),b:Dn(u.bottom,p.bottom,0,i),l:Dn(u.left,p.left,0,n)}}function xp(o,n,i){let{enableBorderRadius:c}=o.getProps(["enableBorderRadius"]),u=o.options.borderRadius,p=Mn(u),b=Math.min(n,i),x=o.borderSkipped,v=c||l(u);return{topLeft:Dn(!v||x.top||x.left,p.topLeft,0,b),topRight:Dn(!v||x.top||x.right,p.topRight,0,b),bottomLeft:Dn(!v||x.bottom||x.left,p.bottomLeft,0,b),bottomRight:Dn(!v||x.bottom||x.right,p.bottomRight,0,b)}}function vp(o){let n=oh(o),i=n.right-n.left,c=n.bottom-n.top,u=_p(o,i/2,c/2),p=xp(o,i/2,c/2);return{outer:{x:n.left,y:n.top,w:i,h:c,radius:p},inner:{x:n.left+u.l,y:n.top+u.t,w:i-u.l-u.r,h:c-u.t-u.b,radius:{topLeft:Math.max(0,p.topLeft-Math.max(u.t,u.l)),topRight:Math.max(0,p.topRight-Math.max(u.t,u.r)),bottomLeft:Math.max(0,p.bottomLeft-Math.max(u.b,u.l)),bottomRight:Math.max(0,p.bottomRight-Math.max(u.b,u.r))}}}}function ra(o,n,i,c){let u=n===null,p=i===null,x=o&&!(u&&p)&&oh(o,c);return x&&(u||De(n,x.left,x.right))&&(p||De(i,x.top,x.bottom))}function yp(o){return o.topLeft||o.topRight||o.bottomLeft||o.bottomRight}function wp(o,n){o.rect(n.x,n.y,n.w,n.h)}function aa(o,n,i={}){let c=o.x!==i.x?-n:0,u=o.y!==i.y?-n:0,p=(o.x+o.w!==i.x+i.w?n:0)-c,b=(o.y+o.h!==i.y+i.h?n:0)-u;return{x:o.x+c,y:o.y+u,w:o.w+p,h:o.h+b,radius:o.radius}}class So extends Fe{constructor(n){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,n&&Object.assign(this,n)}draw(n){let{inflateAmount:i,options:{borderColor:c,backgroundColor:u}}=this,{inner:p,outer:b}=vp(this),x=yp(b.radius)?xi:wp;n.save(),(b.w!==p.w||b.h!==p.h)&&(n.beginPath(),x(n,aa(b,i,p)),n.clip(),x(n,aa(p,-i,b)),n.fillStyle=c,n.fill("evenodd")),n.beginPath(),x(n,aa(p,i)),n.fillStyle=u,n.fill(),n.restore()}inRange(n,i,c){return ra(this,n,i,c)}inXRange(n,i){return ra(this,n,null,i)}inYRange(n,i){return ra(this,null,n,i)}getCenterPoint(n){let{x:i,y:c,base:u,horizontal:p}=this.getProps(["x","y","base","horizontal"],n);return{x:p?(i+u)/2:i,y:p?c:(c+u)/2}}getRange(n){return n==="x"?this.width/2:this.height/2}}So.id="bar",So.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},So.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var la=Object.freeze({__proto__:null,ArcElement:Lo,LineElement:Tn,PointElement:Ro,BarElement:So});function kp(o,n,i,c,u){let p=u.samples||c;if(p>=i)return o.slice(n,n+i);let b=[],x=(i-2)/(p-2),v=0,k=n+i-1,A=n,O,R,S,F,V;for(b[v++]=o[A],O=0;O<p-2;O++){let H=0,Y=0,K,tt=Math.floor((O+1)*x)+1+n,j=Math.min(Math.floor((O+2)*x)+1,i)+n,J=j-tt;for(K=tt;K<j;K++)H+=o[K].x,Y+=o[K].y;H/=J,Y/=J;let st=Math.floor(O*x)+1+n,ot=Math.min(Math.floor((O+1)*x)+1,i)+n,{x:mt,y:dt}=o[A];for(S=F=-1,K=st;K<ot;K++)F=.5*Math.abs((mt-H)*(o[K].y-dt)-(mt-o[K].x)*(Y-dt)),F>S&&(S=F,R=o[K],V=K);b[v++]=R,A=V}return b[v++]=o[k],b}function Pp(o,n,i,c){let u=0,p=0,b,x,v,k,A,O,R,S,F,V,H=[],Y=n+i-1,K=o[n].x,j=o[Y].x-K;for(b=n;b<n+i;++b){x=o[b],v=(x.x-K)/j*c,k=x.y;let J=v|0;if(J===A)k<F?(F=k,O=b):k>V&&(V=k,R=b),u=(p*u+x.x)/++p;else{let st=b-1;if(!e(O)&&!e(R)){let ot=Math.min(O,R),mt=Math.max(O,R);ot!==S&&ot!==st&&H.push({...o[ot],x:u}),mt!==S&&mt!==st&&H.push({...o[mt],x:u})}b>0&&st!==S&&H.push(o[st]),H.push(x),A=J,p=0,F=V=k,O=R=S=b}}return H}function rh(o){if(o._decimated){let n=o._data;delete o._decimated,delete o._data,Object.defineProperty(o,"data",{value:n})}}function ah(o){o.data.datasets.forEach(n=>{rh(n)})}function Mp(o,n){let i=n.length,c=0,u,{iScale:p}=o,{min:b,max:x,minDefined:v,maxDefined:k}=p.getUserBounds();return v&&(c=Qt(Oe(n,p.axis,b).lo,0,i-1)),k?u=Qt(Oe(n,p.axis,x).hi+1,c,i)-c:u=i-c,{start:c,count:u}}var Cp={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(o,n,i)=>{if(!i.enabled){ah(o);return}let c=o.width;o.data.datasets.forEach((u,p)=>{let{_data:b,indexAxis:x}=u,v=o.getDatasetMeta(p),k=b||u.data;if(ki([x,o.options.indexAxis])==="y"||!v.controller.supportsDecimation)return;let A=o.scales[v.xAxisID];if(A.type!=="linear"&&A.type!=="time"||o.options.parsing)return;let{start:O,count:R}=Mp(v,k),S=i.threshold||4*c;if(R<=S){rh(u);return}e(b)&&(u._data=k,delete u.data,Object.defineProperty(u,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(V){this._data=V}}));let F;switch(i.algorithm){case"lttb":F=kp(k,O,R,c,i);break;case"min-max":F=Pp(k,O,R,c);break;default:throw new Error(`Unsupported decimation algorithm '${i.algorithm}'`)}u._decimated=F})},destroy(o){ah(o)}};function Ap(o,n,i){let c=o.segments,u=o.points,p=n.points,b=[];for(let x of c){let{start:v,end:k}=x;k=ha(v,k,u);let A=ca(i,u[v],u[k],x.loop);if(!n.segments){b.push({source:x,target:A,start:u[v],end:u[k]});continue}let O=qr(n,A);for(let R of O){let S=ca(i,p[R.start],p[R.end],R.loop),F=Yr(x,u,S);for(let V of F)b.push({source:V,target:R,start:{[i]:lh(A,S,"start",Math.max)},end:{[i]:lh(A,S,"end",Math.min)}})}}return b}function ca(o,n,i,c){if(c)return;let u=n[o],p=i[o];return o==="angle"&&(u=he(u),p=he(p)),{property:o,start:u,end:p}}function Tp(o,n){let{x:i=null,y:c=null}=o||{},u=n.points,p=[];return n.segments.forEach(({start:b,end:x})=>{x=ha(b,x,u);let v=u[b],k=u[x];c!==null?(p.push({x:v.x,y:c}),p.push({x:k.x,y:c})):i!==null&&(p.push({x:i,y:v.y}),p.push({x:i,y:k.y}))}),p}function ha(o,n,i){for(;n>o;n--){let c=i[n];if(!isNaN(c.x)&&!isNaN(c.y))break}return n}function lh(o,n,i,c){return o&&n?c(o[i],n[i]):o?o[i]:n?n[i]:0}function ch(o,n){let i=[],c=!1;return r(o)?(c=!0,i=o):i=Tp(o,n),i.length?new Tn({points:i,options:{tension:0},_loop:c,_fullLoop:c}):null}function hh(o){return o&&o.fill!==!1}function Dp(o,n,i){let u=o[n].fill,p=[n],b;if(!i)return u;for(;u!==!1&&p.indexOf(u)===-1;){if(!f(u))return u;if(b=o[u],!b)return!1;if(b.visible)return u;p.push(u),u=b.fill}return!1}function Op(o,n,i){let c=Sp(o);if(l(c))return isNaN(c.value)?!1:c;let u=parseFloat(c);return f(u)&&Math.floor(u)===u?Ep(c[0],n,u,i):["origin","start","end","stack","shape"].indexOf(c)>=0&&c}function Ep(o,n,i,c){return(o==="-"||o==="+")&&(i=n+i),i===n||i<0||i>=c?!1:i}function Lp(o,n){let i=null;return o==="start"?i=n.bottom:o==="end"?i=n.top:l(o)?i=n.getPixelForValue(o.value):n.getBasePixel&&(i=n.getBasePixel()),i}function Rp(o,n,i){let c;return o==="start"?c=i:o==="end"?c=n.options.reverse?n.min:n.max:l(o)?c=o.value:c=n.getBaseValue(),c}function Sp(o){let n=o.options,i=n.fill,c=h(i&&i.target,i);return c===void 0&&(c=!!n.backgroundColor),c===!1||c===null?!1:c===!0?"origin":c}function Ip(o){let{scale:n,index:i,line:c}=o,u=[],p=c.segments,b=c.points,x=Fp(n,i);x.push(ch({x:null,y:n.bottom},c));for(let v=0;v<p.length;v++){let k=p[v];for(let A=k.start;A<=k.end;A++)zp(u,b[A],x)}return new Tn({points:u,options:{}})}function Fp(o,n){let i=[],c=o.getMatchingVisibleMetas("line");for(let u=0;u<c.length;u++){let p=c[u];if(p.index===n)break;p.hidden||i.unshift(p.dataset)}return i}function zp(o,n,i){let c=[];for(let u=0;u<i.length;u++){let p=i[u],{first:b,last:x,point:v}=Bp(p,n,"x");if(!(!v||b&&x)){if(b)c.unshift(v);else if(o.push(v),!x)break}}o.push(...c)}function Bp(o,n,i){let c=o.interpolate(n,i);if(!c)return{};let u=c[i],p=o.segments,b=o.points,x=!1,v=!1;for(let k=0;k<p.length;k++){let A=p[k],O=b[A.start][i],R=b[A.end][i];if(De(u,O,R)){x=u===O,v=u===R;break}}return{first:x,last:v,point:c}}class uh{constructor(n){this.x=n.x,this.y=n.y,this.radius=n.radius}pathSegment(n,i,c){let{x:u,y:p,radius:b}=this;return i=i||{start:0,end:gt},n.arc(u,p,b,i.end,i.start,!0),!c.bounds}interpolate(n){let{x:i,y:c,radius:u}=this,p=n.angle;return{x:i+Math.cos(p)*u,y:c+Math.sin(p)*u,angle:p}}}function Vp(o){let{chart:n,fill:i,line:c}=o;if(f(i))return Hp(n,i);if(i==="stack")return Ip(o);if(i==="shape")return!0;let u=Np(o);return u instanceof uh?u:ch(u,c)}function Hp(o,n){let i=o.getDatasetMeta(n);return i&&o.isDatasetVisible(n)?i.dataset:null}function Np(o){return(o.scale||{}).getPointPositionForValue?$p(o):Wp(o)}function Wp(o){let{scale:n={},fill:i}=o,c=Lp(i,n);if(f(c)){let u=n.isHorizontal();return{x:u?c:null,y:u?null:c}}return null}function $p(o){let{scale:n,fill:i}=o,c=n.options,u=n.getLabels().length,p=c.reverse?n.max:n.min,b=Rp(i,n,p),x=[];if(c.grid.circular){let v=n.getPointPositionForValue(0,p);return new uh({x:v.x,y:v.y,radius:n.getDistanceFromCenterForValue(b)})}for(let v=0;v<u;++v)x.push(n.getPointPositionForValue(v,b));return x}function ua(o,n,i){let c=Vp(n),{line:u,scale:p,axis:b}=n,x=u.options,v=x.fill,k=x.backgroundColor,{above:A=k,below:O=k}=v||{};c&&u.points.length&&(hs(o,i),Yp(o,{line:u,target:c,above:A,below:O,area:i,scale:p,axis:b}),us(o))}function Yp(o,n){let{line:i,target:c,above:u,below:p,area:b,scale:x}=n,v=i._loop?"angle":n.axis;o.save(),v==="x"&&p!==u&&(fh(o,c,b.top),dh(o,{line:i,target:c,color:u,scale:x,property:v}),o.restore(),o.save(),fh(o,c,b.bottom)),dh(o,{line:i,target:c,color:p,scale:x,property:v}),o.restore()}function fh(o,n,i){let{segments:c,points:u}=n,p=!0,b=!1;o.beginPath();for(let x of c){let{start:v,end:k}=x,A=u[v],O=u[ha(v,k,u)];p?(o.moveTo(A.x,A.y),p=!1):(o.lineTo(A.x,i),o.lineTo(A.x,A.y)),b=!!n.pathSegment(o,x,{move:b}),b?o.closePath():o.lineTo(O.x,i)}o.lineTo(n.first().x,i),o.closePath(),o.clip()}function dh(o,n){let{line:i,target:c,property:u,color:p,scale:b}=n,x=Ap(i,c,u);for(let{source:v,target:k,start:A,end:O}of x){let{style:{backgroundColor:R=p}={}}=v,S=c!==!0;o.save(),o.fillStyle=R,qp(o,b,S&&ca(u,A,O)),o.beginPath();let F=!!i.pathSegment(o,v),V;if(S){F?o.closePath():gh(o,c,O,u);let H=!!c.pathSegment(o,k,{move:F,reverse:!0});V=F&&H,V||gh(o,c,A,u)}o.closePath(),o.fill(V?"evenodd":"nonzero"),o.restore()}}function qp(o,n,i){let{top:c,bottom:u}=n.chart.chartArea,{property:p,start:b,end:x}=i||{};p==="x"&&(o.beginPath(),o.rect(b,c,x-b,u-c),o.clip())}function gh(o,n,i,c){let u=n.interpolate(i,c);u&&o.lineTo(u.x,u.y)}var Up={id:"filler",afterDatasetsUpdate(o,n,i){let c=(o.data.datasets||[]).length,u=[],p,b,x,v;for(b=0;b<c;++b)p=o.getDatasetMeta(b),x=p.dataset,v=null,x&&x.options&&x instanceof Tn&&(v={visible:o.isDatasetVisible(b),index:b,fill:Op(x,b,c),chart:o,axis:p.controller.options.indexAxis,scale:p.vScale,line:x}),p.$filler=v,u.push(v);for(b=0;b<c;++b)v=u[b],!(!v||v.fill===!1)&&(v.fill=Dp(u,b,i.propagate))},beforeDraw(o,n,i){let c=i.drawTime==="beforeDraw",u=o.getSortedVisibleDatasetMetas(),p=o.chartArea;for(let b=u.length-1;b>=0;--b){let x=u[b].$filler;x&&(x.line.updateControlPoints(p,x.axis),c&&x.fill&&ua(o.ctx,x,p))}},beforeDatasetsDraw(o,n,i){if(i.drawTime!=="beforeDatasetsDraw")return;let c=o.getSortedVisibleDatasetMetas();for(let u=c.length-1;u>=0;--u){let p=c[u].$filler;hh(p)&&ua(o.ctx,p,o.chartArea)}},beforeDatasetDraw(o,n,i){let c=n.meta.$filler;!hh(c)||i.drawTime!=="beforeDatasetDraw"||ua(o.ctx,c,o.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};let ph=(o,n)=>{let{boxHeight:i=n,boxWidth:c=n}=o;return o.usePointStyle&&(i=Math.min(i,n),c=o.pointStyleWidth||Math.min(c,n)),{boxWidth:c,boxHeight:i,itemHeight:Math.max(n,i)}},Xp=(o,n)=>o!==null&&n!==null&&o.datasetIndex===n.datasetIndex&&o.index===n.index;class mh extends Fe{constructor(n){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,i,c){this.maxWidth=n,this.maxHeight=i,this._margins=c,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let n=this.options.labels||{},i=m(n.generateLabels,[this.chart],this)||[];n.filter&&(i=i.filter(c=>n.filter(c,this.chart.data))),n.sort&&(i=i.sort((c,u)=>n.sort(c,u,this.chart.data))),this.options.reverse&&i.reverse(),this.legendItems=i}fit(){let{options:n,ctx:i}=this;if(!n.display){this.width=this.height=0;return}let c=n.labels,u=Jt(c.font),p=u.size,b=this._computeTitleHeight(),{boxWidth:x,itemHeight:v}=ph(c,p),k,A;i.font=u.string,this.isHorizontal()?(k=this.maxWidth,A=this._fitRows(b,p,x,v)+10):(A=this.maxHeight,k=this._fitCols(b,p,x,v)+10),this.width=Math.min(k,n.maxWidth||this.maxWidth),this.height=Math.min(A,n.maxHeight||this.maxHeight)}_fitRows(n,i,c,u){let{ctx:p,maxWidth:b,options:{labels:{padding:x}}}=this,v=this.legendHitBoxes=[],k=this.lineWidths=[0],A=u+x,O=n;p.textAlign="left",p.textBaseline="middle";let R=-1,S=-A;return this.legendItems.forEach((F,V)=>{let H=c+i/2+p.measureText(F.text).width;(V===0||k[k.length-1]+H+2*x>b)&&(O+=A,k[k.length-(V>0?0:1)]=0,S+=A,R++),v[V]={left:0,top:S,row:R,width:H,height:u},k[k.length-1]+=H+x}),O}_fitCols(n,i,c,u){let{ctx:p,maxHeight:b,options:{labels:{padding:x}}}=this,v=this.legendHitBoxes=[],k=this.columnSizes=[],A=b-n,O=x,R=0,S=0,F=0,V=0;return this.legendItems.forEach((H,Y)=>{let K=c+i/2+p.measureText(H.text).width;Y>0&&S+u+2*x>A&&(O+=R+x,k.push({width:R,height:S}),F+=R+x,V++,R=S=0),v[Y]={left:F,top:S,col:V,width:K,height:u},R=Math.max(R,K),S+=u+x}),O+=R,k.push({width:R,height:S}),O}adjustHitBoxes(){if(!this.options.display)return;let n=this._computeTitleHeight(),{legendHitBoxes:i,options:{align:c,labels:{padding:u},rtl:p}}=this,b=Qn(p,this.left,this.width);if(this.isHorizontal()){let x=0,v=ne(c,this.left+u,this.right-this.lineWidths[x]);for(let k of i)x!==k.row&&(x=k.row,v=ne(c,this.left+u,this.right-this.lineWidths[x])),k.top+=this.top+n+u,k.left=b.leftForLtr(b.x(v),k.width),v+=k.width+u}else{let x=0,v=ne(c,this.top+n+u,this.bottom-this.columnSizes[x].height);for(let k of i)k.col!==x&&(x=k.col,v=ne(c,this.top+n+u,this.bottom-this.columnSizes[x].height)),k.top=v,k.left+=this.left+u,k.left=b.leftForLtr(b.x(k.left),k.width),v+=k.height+u}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let n=this.ctx;hs(n,this),this._draw(),us(n)}}_draw(){let{options:n,columnSizes:i,lineWidths:c,ctx:u}=this,{align:p,labels:b}=n,x=wt.color,v=Qn(n.rtl,this.left,this.width),k=Jt(b.font),{color:A,padding:O}=b,R=k.size,S=R/2,F;this.drawTitle(),u.textAlign=v.textAlign("left"),u.textBaseline="middle",u.lineWidth=.5,u.font=k.string;let{boxWidth:V,boxHeight:H,itemHeight:Y}=ph(b,R),K=function(ot,mt,dt){if(isNaN(V)||V<=0||isNaN(H)||H<0)return;u.save();let Rt=h(dt.lineWidth,1);if(u.fillStyle=h(dt.fillStyle,x),u.lineCap=h(dt.lineCap,"butt"),u.lineDashOffset=h(dt.lineDashOffset,0),u.lineJoin=h(dt.lineJoin,"miter"),u.lineWidth=Rt,u.strokeStyle=h(dt.strokeStyle,x),u.setLineDash(h(dt.lineDash,[])),b.usePointStyle){let St={radius:H*Math.SQRT2/2,pointStyle:dt.pointStyle,rotation:dt.rotation,borderWidth:Rt},Tt=v.xPlus(ot,V/2),jt=mt+S;Fr(u,St,Tt,jt,b.pointStyleWidth&&V)}else{let St=mt+Math.max((R-H)/2,0),Tt=v.leftForLtr(ot,V),jt=Mn(dt.borderRadius);u.beginPath(),Object.values(jt).some(me=>me!==0)?xi(u,{x:Tt,y:St,w:V,h:H,radius:jt}):u.rect(Tt,St,V,H),u.fill(),Rt!==0&&u.stroke()}u.restore()},tt=function(ot,mt,dt){kn(u,dt.text,ot,mt+Y/2,k,{strikethrough:dt.hidden,textAlign:v.textAlign(dt.textAlign)})},j=this.isHorizontal(),J=this._computeTitleHeight();j?F={x:ne(p,this.left+O,this.right-c[0]),y:this.top+O+J,line:0}:F={x:this.left+O,y:ne(p,this.top+J+O,this.bottom-i[0].height),line:0},Wr(this.ctx,n.textDirection);let st=Y+O;this.legendItems.forEach((ot,mt)=>{u.strokeStyle=ot.fontColor||A,u.fillStyle=ot.fontColor||A;let dt=u.measureText(ot.text).width,Rt=v.textAlign(ot.textAlign||(ot.textAlign=b.textAlign)),St=V+S+dt,Tt=F.x,jt=F.y;v.setWidth(this.width),j?mt>0&&Tt+St+O>this.right&&(jt=F.y+=st,F.line++,Tt=F.x=ne(p,this.left+O,this.right-c[F.line])):mt>0&&jt+st>this.bottom&&(Tt=F.x=Tt+i[F.line].width+O,F.line++,jt=F.y=ne(p,this.top+J+O,this.bottom-i[F.line].height));let me=v.x(Tt);K(me,jt,ot),Tt=ro(Rt,Tt+V+S,j?Tt+St:this.right,n.rtl),tt(v.x(Tt),jt,ot),j?F.x+=St+O:F.y+=st}),$r(this.ctx,n.textDirection)}drawTitle(){let n=this.options,i=n.title,c=Jt(i.font),u=oe(i.padding);if(!i.display)return;let p=Qn(n.rtl,this.left,this.width),b=this.ctx,x=i.position,v=c.size/2,k=u.top+v,A,O=this.left,R=this.width;if(this.isHorizontal())R=Math.max(...this.lineWidths),A=this.top+k,O=ne(n.align,O,this.right-R);else{let F=this.columnSizes.reduce((V,H)=>Math.max(V,H.height),0);A=k+ne(n.align,this.top,this.bottom-F-n.labels.padding-this._computeTitleHeight())}let S=ne(x,O,O+R);b.textAlign=p.textAlign(gi(x)),b.textBaseline="middle",b.strokeStyle=i.color,b.fillStyle=i.color,b.font=c.string,kn(b,i.text,S,A,c)}_computeTitleHeight(){let n=this.options.title,i=Jt(n.font),c=oe(n.padding);return n.display?i.lineHeight+c.height:0}_getLegendItemAt(n,i){let c,u,p;if(De(n,this.left,this.right)&&De(i,this.top,this.bottom)){for(p=this.legendHitBoxes,c=0;c<p.length;++c)if(u=p[c],De(n,u.left,u.left+u.width)&&De(i,u.top,u.top+u.height))return this.legendItems[c]}return null}handleEvent(n){let i=this.options;if(!Gp(n.type,i))return;let c=this._getLegendItemAt(n.x,n.y);if(n.type==="mousemove"||n.type==="mouseout"){let u=this._hoveredItem,p=Xp(u,c);u&&!p&&m(i.onLeave,[n,u,this],this),this._hoveredItem=c,c&&!p&&m(i.onHover,[n,c,this],this)}else c&&m(i.onClick,[n,c,this],this)}}function Gp(o,n){return!!((o==="mousemove"||o==="mouseout")&&(n.onHover||n.onLeave)||n.onClick&&(o==="click"||o==="mouseup"))}var Kp={id:"legend",_element:mh,start(o,n,i){let c=o.legend=new mh({ctx:o.ctx,options:i,chart:o});re.configure(o,c,i),re.addBox(o,c)},stop(o){re.removeBox(o,o.legend),delete o.legend},beforeUpdate(o,n,i){let c=o.legend;re.configure(o,c,i),c.options=i},afterUpdate(o){let n=o.legend;n.buildLabels(),n.adjustHitBoxes()},afterEvent(o,n){n.replay||o.legend.handleEvent(n.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(o,n,i){let c=n.datasetIndex,u=i.chart;u.isDatasetVisible(c)?(u.hide(c),n.hidden=!0):(u.show(c),n.hidden=!1)},onHover:null,onLeave:null,labels:{color:o=>o.chart.options.color,boxWidth:40,padding:10,generateLabels(o){let n=o.data.datasets,{labels:{usePointStyle:i,pointStyle:c,textAlign:u,color:p}}=o.legend.options;return o._getSortedDatasetMetas().map(b=>{let x=b.controller.getStyle(i?0:void 0),v=oe(x.borderWidth);return{text:n[b.index].label,fillStyle:x.backgroundColor,fontColor:p,hidden:!b.visible,lineCap:x.borderCapStyle,lineDash:x.borderDash,lineDashOffset:x.borderDashOffset,lineJoin:x.borderJoinStyle,lineWidth:(v.width+v.height)/4,strokeStyle:x.borderColor,pointStyle:c||x.pointStyle,rotation:x.rotation,textAlign:u||x.textAlign,borderRadius:0,datasetIndex:b.index}},this)}},title:{color:o=>o.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:o=>!o.startsWith("on"),labels:{_scriptable:o=>!["generateLabels","filter","sort"].includes(o)}}};class fa extends Fe{constructor(n){super(),this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,i){let c=this.options;if(this.left=0,this.top=0,!c.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=n,this.height=this.bottom=i;let u=r(c.text)?c.text.length:1;this._padding=oe(c.padding);let p=u*Jt(c.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=p:this.width=p}isHorizontal(){let n=this.options.position;return n==="top"||n==="bottom"}_drawArgs(n){let{top:i,left:c,bottom:u,right:p,options:b}=this,x=b.align,v=0,k,A,O;return this.isHorizontal()?(A=ne(x,c,p),O=i+n,k=p-c):(b.position==="left"?(A=c+n,O=ne(x,u,i),v=ut*-.5):(A=p-n,O=ne(x,i,u),v=ut*.5),k=u-i),{titleX:A,titleY:O,maxWidth:k,rotation:v}}draw(){let n=this.ctx,i=this.options;if(!i.display)return;let c=Jt(i.font),p=c.lineHeight/2+this._padding.top,{titleX:b,titleY:x,maxWidth:v,rotation:k}=this._drawArgs(p);kn(n,i.text,0,0,c,{color:i.color,maxWidth:v,rotation:k,textAlign:gi(i.align),textBaseline:"middle",translation:[b,x]})}}function Qp(o,n){let i=new fa({ctx:o.ctx,options:n,chart:o});re.configure(o,i,n),re.addBox(o,i),o.titleBlock=i}var Zp={id:"title",_element:fa,start(o,n,i){Qp(o,i)},stop(o){let n=o.titleBlock;re.removeBox(o,n),delete o.titleBlock},beforeUpdate(o,n,i){let c=o.titleBlock;re.configure(o,c,i),c.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};let Io=new WeakMap;var Jp={id:"subtitle",start(o,n,i){let c=new fa({ctx:o.ctx,options:i,chart:o});re.configure(o,c,i),re.addBox(o,c),Io.set(o,c)},stop(o){re.removeBox(o,Io.get(o)),Io.delete(o)},beforeUpdate(o,n,i){let c=Io.get(o);re.configure(o,c,i),c.options=i},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};let ys={average(o){if(!o.length)return!1;let n,i,c=0,u=0,p=0;for(n=0,i=o.length;n<i;++n){let b=o[n].element;if(b&&b.hasValue()){let x=b.tooltipPosition();c+=x.x,u+=x.y,++p}}return{x:c/p,y:u/p}},nearest(o,n){if(!o.length)return!1;let i=n.x,c=n.y,u=Number.POSITIVE_INFINITY,p,b,x;for(p=0,b=o.length;p<b;++p){let v=o[p].element;if(v&&v.hasValue()){let k=v.getCenterPoint(),A=fi(n,k);A<u&&(u=A,x=v)}}if(x){let v=x.tooltipPosition();i=v.x,c=v.y}return{x:i,y:c}}};function Xe(o,n){return n&&(r(n)?Array.prototype.push.apply(o,n):o.push(n)),o}function on(o){return(typeof o=="string"||o instanceof String)&&o.indexOf(`
`)>-1?o.split(`
`):o}function jp(o,n){let{element:i,datasetIndex:c,index:u}=n,p=o.getDatasetMeta(c).controller,{label:b,value:x}=p.getLabelAndValue(u);return{chart:o,label:b,parsed:p.getParsed(u),raw:o.data.datasets[c].data[u],formattedValue:x,dataset:p.getDataset(),dataIndex:u,datasetIndex:c,element:i}}function bh(o,n){let i=o.chart.ctx,{body:c,footer:u,title:p}=o,{boxWidth:b,boxHeight:x}=n,v=Jt(n.bodyFont),k=Jt(n.titleFont),A=Jt(n.footerFont),O=p.length,R=u.length,S=c.length,F=oe(n.padding),V=F.height,H=0,Y=c.reduce((j,J)=>j+J.before.length+J.lines.length+J.after.length,0);if(Y+=o.beforeBody.length+o.afterBody.length,O&&(V+=O*k.lineHeight+(O-1)*n.titleSpacing+n.titleMarginBottom),Y){let j=n.displayColors?Math.max(x,v.lineHeight):v.lineHeight;V+=S*j+(Y-S)*v.lineHeight+(Y-1)*n.bodySpacing}R&&(V+=n.footerMarginTop+R*A.lineHeight+(R-1)*n.footerSpacing);let K=0,tt=function(j){H=Math.max(H,i.measureText(j).width+K)};return i.save(),i.font=k.string,_(o.title,tt),i.font=v.string,_(o.beforeBody.concat(o.afterBody),tt),K=n.displayColors?b+2+n.boxPadding:0,_(c,j=>{_(j.before,tt),_(j.lines,tt),_(j.after,tt)}),K=0,i.font=A.string,_(o.footer,tt),i.restore(),H+=F.width,{width:H,height:V}}function tm(o,n){let{y:i,height:c}=n;return i<c/2?"top":i>o.height-c/2?"bottom":"center"}function em(o,n,i,c){let{x:u,width:p}=c,b=i.caretSize+i.caretPadding;if(o==="left"&&u+p+b>n.width||o==="right"&&u-p-b<0)return!0}function nm(o,n,i,c){let{x:u,width:p}=i,{width:b,chartArea:{left:x,right:v}}=o,k="center";return c==="center"?k=u<=(x+v)/2?"left":"right":u<=p/2?k="left":u>=b-p/2&&(k="right"),em(k,o,n,i)&&(k="center"),k}function _h(o,n,i){let c=i.yAlign||n.yAlign||tm(o,i);return{xAlign:i.xAlign||n.xAlign||nm(o,n,i,c),yAlign:c}}function im(o,n){let{x:i,width:c}=o;return n==="right"?i-=c:n==="center"&&(i-=c/2),i}function sm(o,n,i){let{y:c,height:u}=o;return n==="top"?c+=i:n==="bottom"?c-=u+i:c-=u/2,c}function xh(o,n,i,c){let{caretSize:u,caretPadding:p,cornerRadius:b}=o,{xAlign:x,yAlign:v}=i,k=u+p,{topLeft:A,topRight:O,bottomLeft:R,bottomRight:S}=Mn(b),F=im(n,x),V=sm(n,v,k);return v==="center"?x==="left"?F+=k:x==="right"&&(F-=k):x==="left"?F-=Math.max(A,R)+u:x==="right"&&(F+=Math.max(O,S)+u),{x:Qt(F,0,c.width-n.width),y:Qt(V,0,c.height-n.height)}}function Fo(o,n,i){let c=oe(i.padding);return n==="center"?o.x+o.width/2:n==="right"?o.x+o.width-c.right:o.x+c.left}function vh(o){return Xe([],on(o))}function om(o,n,i){return sn(o,{tooltip:n,tooltipItems:i,type:"tooltip"})}function yh(o,n){let i=n&&n.dataset&&n.dataset.tooltip&&n.dataset.tooltip.callbacks;return i?o.override(i):o}class da extends Fe{constructor(n){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=n.chart||n._chart,this._chart=this.chart,this.options=n.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(n){this.options=n,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let n=this._cachedAnimations;if(n)return n;let i=this.chart,c=this.options.setContext(this.getContext()),u=c.enabled&&i.options.animation&&c.animations,p=new Qr(this.chart,u);return u._cacheable&&(this._cachedAnimations=Object.freeze(p)),p}getContext(){return this.$context||(this.$context=om(this.chart.getContext(),this,this._tooltipItems))}getTitle(n,i){let{callbacks:c}=i,u=c.beforeTitle.apply(this,[n]),p=c.title.apply(this,[n]),b=c.afterTitle.apply(this,[n]),x=[];return x=Xe(x,on(u)),x=Xe(x,on(p)),x=Xe(x,on(b)),x}getBeforeBody(n,i){return vh(i.callbacks.beforeBody.apply(this,[n]))}getBody(n,i){let{callbacks:c}=i,u=[];return _(n,p=>{let b={before:[],lines:[],after:[]},x=yh(c,p);Xe(b.before,on(x.beforeLabel.call(this,p))),Xe(b.lines,x.label.call(this,p)),Xe(b.after,on(x.afterLabel.call(this,p))),u.push(b)}),u}getAfterBody(n,i){return vh(i.callbacks.afterBody.apply(this,[n]))}getFooter(n,i){let{callbacks:c}=i,u=c.beforeFooter.apply(this,[n]),p=c.footer.apply(this,[n]),b=c.afterFooter.apply(this,[n]),x=[];return x=Xe(x,on(u)),x=Xe(x,on(p)),x=Xe(x,on(b)),x}_createItems(n){let i=this._active,c=this.chart.data,u=[],p=[],b=[],x=[],v,k;for(v=0,k=i.length;v<k;++v)x.push(jp(this.chart,i[v]));return n.filter&&(x=x.filter((A,O,R)=>n.filter(A,O,R,c))),n.itemSort&&(x=x.sort((A,O)=>n.itemSort(A,O,c))),_(x,A=>{let O=yh(n.callbacks,A);u.push(O.labelColor.call(this,A)),p.push(O.labelPointStyle.call(this,A)),b.push(O.labelTextColor.call(this,A))}),this.labelColors=u,this.labelPointStyles=p,this.labelTextColors=b,this.dataPoints=x,x}update(n,i){let c=this.options.setContext(this.getContext()),u=this._active,p,b=[];if(!u.length)this.opacity!==0&&(p={opacity:0});else{let x=ys[c.position].call(this,u,this._eventPosition);b=this._createItems(c),this.title=this.getTitle(b,c),this.beforeBody=this.getBeforeBody(b,c),this.body=this.getBody(b,c),this.afterBody=this.getAfterBody(b,c),this.footer=this.getFooter(b,c);let v=this._size=bh(this,c),k=Object.assign({},x,v),A=_h(this.chart,c,k),O=xh(c,k,A,this.chart);this.xAlign=A.xAlign,this.yAlign=A.yAlign,p={opacity:1,x:O.x,y:O.y,width:v.width,height:v.height,caretX:x.x,caretY:x.y}}this._tooltipItems=b,this.$context=void 0,p&&this._resolveAnimations().update(this,p),n&&c.external&&c.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(n,i,c,u){let p=this.getCaretPosition(n,c,u);i.lineTo(p.x1,p.y1),i.lineTo(p.x2,p.y2),i.lineTo(p.x3,p.y3)}getCaretPosition(n,i,c){let{xAlign:u,yAlign:p}=this,{caretSize:b,cornerRadius:x}=c,{topLeft:v,topRight:k,bottomLeft:A,bottomRight:O}=Mn(x),{x:R,y:S}=n,{width:F,height:V}=i,H,Y,K,tt,j,J;return p==="center"?(j=S+V/2,u==="left"?(H=R,Y=H-b,tt=j+b,J=j-b):(H=R+F,Y=H+b,tt=j-b,J=j+b),K=H):(u==="left"?Y=R+Math.max(v,A)+b:u==="right"?Y=R+F-Math.max(k,O)-b:Y=this.caretX,p==="top"?(tt=S,j=tt-b,H=Y-b,K=Y+b):(tt=S+V,j=tt+b,H=Y+b,K=Y-b),J=tt),{x1:H,x2:Y,x3:K,y1:tt,y2:j,y3:J}}drawTitle(n,i,c){let u=this.title,p=u.length,b,x,v;if(p){let k=Qn(c.rtl,this.x,this.width);for(n.x=Fo(this,c.titleAlign,c),i.textAlign=k.textAlign(c.titleAlign),i.textBaseline="middle",b=Jt(c.titleFont),x=c.titleSpacing,i.fillStyle=c.titleColor,i.font=b.string,v=0;v<p;++v)i.fillText(u[v],k.x(n.x),n.y+b.lineHeight/2),n.y+=b.lineHeight+x,v+1===p&&(n.y+=c.titleMarginBottom-x)}}_drawColorBox(n,i,c,u,p){let b=this.labelColors[c],x=this.labelPointStyles[c],{boxHeight:v,boxWidth:k,boxPadding:A}=p,O=Jt(p.bodyFont),R=Fo(this,"left",p),S=u.x(R),F=v<O.lineHeight?(O.lineHeight-v)/2:0,V=i.y+F;if(p.usePointStyle){let H={radius:Math.min(k,v)/2,pointStyle:x.pointStyle,rotation:x.rotation,borderWidth:1},Y=u.leftForLtr(S,k)+k/2,K=V+v/2;n.strokeStyle=p.multiKeyBackground,n.fillStyle=p.multiKeyBackground,go(n,H,Y,K),n.strokeStyle=b.borderColor,n.fillStyle=b.backgroundColor,go(n,H,Y,K)}else{n.lineWidth=l(b.borderWidth)?Math.max(...Object.values(b.borderWidth)):b.borderWidth||1,n.strokeStyle=b.borderColor,n.setLineDash(b.borderDash||[]),n.lineDashOffset=b.borderDashOffset||0;let H=u.leftForLtr(S,k-A),Y=u.leftForLtr(u.xPlus(S,1),k-A-2),K=Mn(b.borderRadius);Object.values(K).some(tt=>tt!==0)?(n.beginPath(),n.fillStyle=p.multiKeyBackground,xi(n,{x:H,y:V,w:k,h:v,radius:K}),n.fill(),n.stroke(),n.fillStyle=b.backgroundColor,n.beginPath(),xi(n,{x:Y,y:V+1,w:k-2,h:v-2,radius:K}),n.fill()):(n.fillStyle=p.multiKeyBackground,n.fillRect(H,V,k,v),n.strokeRect(H,V,k,v),n.fillStyle=b.backgroundColor,n.fillRect(Y,V+1,k-2,v-2))}n.fillStyle=this.labelTextColors[c]}drawBody(n,i,c){let{body:u}=this,{bodySpacing:p,bodyAlign:b,displayColors:x,boxHeight:v,boxWidth:k,boxPadding:A}=c,O=Jt(c.bodyFont),R=O.lineHeight,S=0,F=Qn(c.rtl,this.x,this.width),V=function(mt){i.fillText(mt,F.x(n.x+S),n.y+R/2),n.y+=R+p},H=F.textAlign(b),Y,K,tt,j,J,st,ot;for(i.textAlign=b,i.textBaseline="middle",i.font=O.string,n.x=Fo(this,H,c),i.fillStyle=c.bodyColor,_(this.beforeBody,V),S=x&&H!=="right"?b==="center"?k/2+A:k+2+A:0,j=0,st=u.length;j<st;++j){for(Y=u[j],K=this.labelTextColors[j],i.fillStyle=K,_(Y.before,V),tt=Y.lines,x&&tt.length&&(this._drawColorBox(i,n,j,F,c),R=Math.max(O.lineHeight,v)),J=0,ot=tt.length;J<ot;++J)V(tt[J]),R=O.lineHeight;_(Y.after,V)}S=0,R=O.lineHeight,_(this.afterBody,V),n.y-=p}drawFooter(n,i,c){let u=this.footer,p=u.length,b,x;if(p){let v=Qn(c.rtl,this.x,this.width);for(n.x=Fo(this,c.footerAlign,c),n.y+=c.footerMarginTop,i.textAlign=v.textAlign(c.footerAlign),i.textBaseline="middle",b=Jt(c.footerFont),i.fillStyle=c.footerColor,i.font=b.string,x=0;x<p;++x)i.fillText(u[x],v.x(n.x),n.y+b.lineHeight/2),n.y+=b.lineHeight+c.footerSpacing}}drawBackground(n,i,c,u){let{xAlign:p,yAlign:b}=this,{x,y:v}=n,{width:k,height:A}=c,{topLeft:O,topRight:R,bottomLeft:S,bottomRight:F}=Mn(u.cornerRadius);i.fillStyle=u.backgroundColor,i.strokeStyle=u.borderColor,i.lineWidth=u.borderWidth,i.beginPath(),i.moveTo(x+O,v),b==="top"&&this.drawCaret(n,i,c,u),i.lineTo(x+k-R,v),i.quadraticCurveTo(x+k,v,x+k,v+R),b==="center"&&p==="right"&&this.drawCaret(n,i,c,u),i.lineTo(x+k,v+A-F),i.quadraticCurveTo(x+k,v+A,x+k-F,v+A),b==="bottom"&&this.drawCaret(n,i,c,u),i.lineTo(x+S,v+A),i.quadraticCurveTo(x,v+A,x,v+A-S),b==="center"&&p==="left"&&this.drawCaret(n,i,c,u),i.lineTo(x,v+O),i.quadraticCurveTo(x,v,x+O,v),i.closePath(),i.fill(),u.borderWidth>0&&i.stroke()}_updateAnimationTarget(n){let i=this.chart,c=this.$animations,u=c&&c.x,p=c&&c.y;if(u||p){let b=ys[n.position].call(this,this._active,this._eventPosition);if(!b)return;let x=this._size=bh(this,n),v=Object.assign({},b,this._size),k=_h(i,n,v),A=xh(n,v,k,i);(u._to!==A.x||p._to!==A.y)&&(this.xAlign=k.xAlign,this.yAlign=k.yAlign,this.width=x.width,this.height=x.height,this.caretX=b.x,this.caretY=b.y,this._resolveAnimations().update(this,A))}}_willRender(){return!!this.opacity}draw(n){let i=this.options.setContext(this.getContext()),c=this.opacity;if(!c)return;this._updateAnimationTarget(i);let u={width:this.width,height:this.height},p={x:this.x,y:this.y};c=Math.abs(c)<.001?0:c;let b=oe(i.padding),x=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&x&&(n.save(),n.globalAlpha=c,this.drawBackground(p,n,u,i),Wr(n,i.textDirection),p.y+=b.top,this.drawTitle(p,n,i),this.drawBody(p,n,i),this.drawFooter(p,n,i),$r(n,i.textDirection),n.restore())}getActiveElements(){return this._active||[]}setActiveElements(n,i){let c=this._active,u=n.map(({datasetIndex:x,index:v})=>{let k=this.chart.getDatasetMeta(x);if(!k)throw new Error("Cannot find a dataset at index "+x);return{datasetIndex:x,element:k.data[v],index:v}}),p=!y(c,u),b=this._positionChanged(u,i);(p||b)&&(this._active=u,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(n,i,c=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let u=this.options,p=this._active||[],b=this._getActiveElements(n,p,i,c),x=this._positionChanged(b,n),v=i||!y(b,p)||x;return v&&(this._active=b,(u.enabled||u.external)&&(this._eventPosition={x:n.x,y:n.y},this.update(!0,i))),v}_getActiveElements(n,i,c,u){let p=this.options;if(n.type==="mouseout")return[];if(!u)return i;let b=this.chart.getElementsAtEventForMode(n,p.mode,p,c);return p.reverse&&b.reverse(),b}_positionChanged(n,i){let{caretX:c,caretY:u,options:p}=this,b=ys[p.position].call(this,n,i);return b!==!1&&(c!==b.x||u!==b.y)}}da.positioners=ys;var rm={id:"tooltip",_element:da,positioners:ys,afterInit(o,n,i){i&&(o.tooltip=new da({chart:o,options:i}))},beforeUpdate(o,n,i){o.tooltip&&o.tooltip.initialize(i)},reset(o,n,i){o.tooltip&&o.tooltip.initialize(i)},afterDraw(o){let n=o.tooltip;if(n&&n._willRender()){let i={tooltip:n};if(o.notifyPlugins("beforeTooltipDraw",i)===!1)return;n.draw(o.ctx),o.notifyPlugins("afterTooltipDraw",i)}},afterEvent(o,n){if(o.tooltip){let i=n.replay;o.tooltip.handleEvent(n.event,i,n.inChartArea)&&(n.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(o,n)=>n.bodyFont.size,boxWidth:(o,n)=>n.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:s,title(o){if(o.length>0){let n=o[0],i=n.chart.data.labels,c=i?i.length:0;if(this&&this.options&&this.options.mode==="dataset")return n.dataset.label||"";if(n.label)return n.label;if(c>0&&n.dataIndex<c)return i[n.dataIndex]}return""},afterTitle:s,beforeBody:s,beforeLabel:s,label(o){if(this&&this.options&&this.options.mode==="dataset")return o.label+": "+o.formattedValue||o.formattedValue;let n=o.dataset.label||"";n&&(n+=": ");let i=o.formattedValue;return e(i)||(n+=i),n},labelColor(o){let i=o.chart.getDatasetMeta(o.datasetIndex).controller.getStyle(o.dataIndex);return{borderColor:i.borderColor,backgroundColor:i.backgroundColor,borderWidth:i.borderWidth,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(o){let i=o.chart.getDatasetMeta(o.datasetIndex).controller.getStyle(o.dataIndex);return{pointStyle:i.pointStyle,rotation:i.rotation}},afterLabel:s,afterBody:s,beforeFooter:s,footer:s,afterFooter:s}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:o=>o!=="filter"&&o!=="itemSort"&&o!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},wh=Object.freeze({__proto__:null,Decimation:Cp,Filler:Up,Legend:Kp,SubTitle:Jp,Title:Zp,Tooltip:rm});let am=(o,n,i,c)=>(typeof n=="string"?(i=o.push(n)-1,c.unshift({index:i,label:n})):isNaN(n)&&(i=null),i);function lm(o,n,i,c){let u=o.indexOf(n);if(u===-1)return am(o,n,i,c);let p=o.lastIndexOf(n);return u!==p?i:u}let cm=(o,n)=>o===null?null:Qt(Math.round(o),0,n);class zo extends Cn{constructor(n){super(n),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(n){let i=this._addedLabels;if(i.length){let c=this.getLabels();for(let{index:u,label:p}of i)c[u]===p&&c.splice(u,1);this._addedLabels=[]}super.init(n)}parse(n,i){if(e(n))return null;let c=this.getLabels();return i=isFinite(i)&&c[i]===n?i:lm(c,n,h(i,n),this._addedLabels),cm(i,c.length-1)}determineDataLimits(){let{minDefined:n,maxDefined:i}=this.getUserBounds(),{min:c,max:u}=this.getMinMax(!0);this.options.bounds==="ticks"&&(n||(c=0),i||(u=this.getLabels().length-1)),this.min=c,this.max=u}buildTicks(){let n=this.min,i=this.max,c=this.options.offset,u=[],p=this.getLabels();p=n===0&&i===p.length-1?p:p.slice(n,i+1),this._valueRange=Math.max(p.length-(c?0:1),1),this._startValue=this.min-(c?.5:0);for(let b=n;b<=i;b++)u.push({value:b});return u}getLabelForValue(n){let i=this.getLabels();return n>=0&&n<i.length?i[n]:n}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(n){return typeof n!="number"&&(n=this.parse(n)),n===null?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getPixelForTick(n){let i=this.ticks;return n<0||n>i.length-1?null:this.getPixelForValue(i[n].value)}getValueForPixel(n){return Math.round(this._startValue+this.getDecimalForPixel(n)*this._valueRange)}getBasePixel(){return this.bottom}}zo.id="category",zo.defaults={ticks:{callback:zo.prototype.getLabelForValue}};function hm(o,n){let i=[],{bounds:u,step:p,min:b,max:x,precision:v,count:k,maxTicks:A,maxDigits:O,includeBounds:R}=o,S=p||1,F=A-1,{min:V,max:H}=n,Y=!e(b),K=!e(x),tt=!e(k),j=(H-V)/(O+1),J=Et((H-V)/F/S)*S,st,ot,mt,dt;if(J<1e-14&&!Y&&!K)return[{value:V},{value:H}];dt=Math.ceil(H/J)-Math.floor(V/J),dt>F&&(J=Et(dt*J/F/S)*S),e(v)||(st=Math.pow(10,v),J=Math.ceil(J*st)/st),u==="ticks"?(ot=Math.floor(V/J)*J,mt=Math.ceil(H/J)*J):(ot=V,mt=H),Y&&K&&p&&js((x-b)/p,J/1e3)?(dt=Math.round(Math.min((x-b)/J,A)),J=(x-b)/dt,ot=b,mt=x):tt?(ot=Y?b:ot,mt=K?x:mt,dt=k-1,J=(mt-ot)/dt):(dt=(mt-ot)/J,be(dt,Math.round(dt),J/1e3)?dt=Math.round(dt):dt=Math.ceil(dt));let Rt=Math.max(hi(J),hi(ot));st=Math.pow(10,e(v)?Rt:v),ot=Math.round(ot*st)/st,mt=Math.round(mt*st)/st;let St=0;for(Y&&(R&&ot!==b?(i.push({value:b}),ot<b&&St++,be(Math.round((ot+St*J)*st)/st,b,kh(b,j,o))&&St++):ot<b&&St++);St<dt;++St)i.push({value:Math.round((ot+St*J)*st)/st});return K&&R&&mt!==x?i.length&&be(i[i.length-1].value,x,kh(x,j,o))?i[i.length-1].value=x:i.push({value:x}):(!K||mt===x)&&i.push({value:mt}),i}function kh(o,n,{horizontal:i,minRotation:c}){let u=ce(c),p=(i?Math.sin(u):Math.cos(u))||.001,b=.75*n*(""+o).length;return Math.min(n/p,b)}class Bo extends Cn{constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(n,i){return e(n)||(typeof n=="number"||n instanceof Number)&&!isFinite(+n)?null:+n}handleTickRangeOptions(){let{beginAtZero:n}=this.options,{minDefined:i,maxDefined:c}=this.getUserBounds(),{min:u,max:p}=this,b=v=>u=i?u:v,x=v=>p=c?p:v;if(n){let v=Dt(u),k=Dt(p);v<0&&k<0?x(0):v>0&&k>0&&b(0)}if(u===p){let v=1;(p>=Number.MAX_SAFE_INTEGER||u<=Number.MIN_SAFE_INTEGER)&&(v=Math.abs(p*.05)),x(p+v),n||b(u-v)}this.min=u,this.max=p}getTickLimit(){let n=this.options.ticks,{maxTicksLimit:i,stepSize:c}=n,u;return c?(u=Math.ceil(this.max/c)-Math.floor(this.min/c)+1,u>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${c} would result generating up to ${u} ticks. Limiting to 1000.`),u=1e3)):(u=this.computeTickLimit(),i=i||11),i&&(u=Math.min(i,u)),u}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let n=this.options,i=n.ticks,c=this.getTickLimit();c=Math.max(2,c);let u={maxTicks:c,bounds:n.bounds,min:n.min,max:n.max,precision:i.precision,step:i.stepSize,count:i.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:i.minRotation||0,includeBounds:i.includeBounds!==!1},p=this._range||this,b=hm(u,p);return n.bounds==="ticks"&&ci(b,this,"value"),n.reverse?(b.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),b}configure(){let n=this.ticks,i=this.min,c=this.max;if(super.configure(),this.options.offset&&n.length){let u=(c-i)/Math.max(n.length-1,1)/2;i-=u,c+=u}this._startValue=i,this._endValue=c,this._valueRange=c-i}getLabelForValue(n){return wi(n,this.chart.options.locale,this.options.ticks.format)}}class ga extends Bo{determineDataLimits(){let{min:n,max:i}=this.getMinMax(!0);this.min=f(n)?n:0,this.max=f(i)?i:1,this.handleTickRangeOptions()}computeTickLimit(){let n=this.isHorizontal(),i=n?this.width:this.height,c=ce(this.options.ticks.minRotation),u=(n?Math.sin(c):Math.cos(c))||.001,p=this._resolveTickFontOptions(0);return Math.ceil(i/Math.min(40,p.lineHeight/u))}getPixelForValue(n){return n===null?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getValueForPixel(n){return this._startValue+this.getDecimalForPixel(n)*this._valueRange}}ga.id="linear",ga.defaults={ticks:{callback:_s.formatters.numeric}};function Ph(o){return o/Math.pow(10,Math.floor(kt(o)))===1}function um(o,n){let i=Math.floor(kt(n.max)),c=Math.ceil(n.max/Math.pow(10,i)),u=[],p=g(o.min,Math.pow(10,Math.floor(kt(n.min)))),b=Math.floor(kt(p)),x=Math.floor(p/Math.pow(10,b)),v=b<0?Math.pow(10,Math.abs(b)):1;do u.push({value:p,major:Ph(p)}),++x,x===10&&(x=1,++b,v=b>=0?1:v),p=Math.round(x*Math.pow(10,b)*v)/v;while(b<i||b===i&&x<c);let k=g(o.max,p);return u.push({value:k,major:Ph(p)}),u}class pa extends Cn{constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(n,i){let c=Bo.prototype.parse.apply(this,[n,i]);if(c===0){this._zero=!0;return}return f(c)&&c>0?c:null}determineDataLimits(){let{min:n,max:i}=this.getMinMax(!0);this.min=f(n)?Math.max(0,n):null,this.max=f(i)?Math.max(0,i):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:n,maxDefined:i}=this.getUserBounds(),c=this.min,u=this.max,p=v=>c=n?c:v,b=v=>u=i?u:v,x=(v,k)=>Math.pow(10,Math.floor(kt(v))+k);c===u&&(c<=0?(p(1),b(10)):(p(x(c,-1)),b(x(u,1)))),c<=0&&p(x(u,-1)),u<=0&&b(x(c,1)),this._zero&&this.min!==this._suggestedMin&&c===x(this.min,0)&&p(x(c,-1)),this.min=c,this.max=u}buildTicks(){let n=this.options,i={min:this._userMin,max:this._userMax},c=um(i,this);return n.bounds==="ticks"&&ci(c,this,"value"),n.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}getLabelForValue(n){return n===void 0?"0":wi(n,this.chart.options.locale,this.options.ticks.format)}configure(){let n=this.min;super.configure(),this._startValue=kt(n),this._valueRange=kt(this.max)-kt(n)}getPixelForValue(n){return(n===void 0||n===0)&&(n=this.min),n===null||isNaN(n)?NaN:this.getPixelForDecimal(n===this.min?0:(kt(n)-this._startValue)/this._valueRange)}getValueForPixel(n){let i=this.getDecimalForPixel(n);return Math.pow(10,this._startValue+i*this._valueRange)}}pa.id="logarithmic",pa.defaults={ticks:{callback:_s.formatters.logarithmic,major:{enabled:!0}}};function ma(o){let n=o.ticks;if(n.display&&o.display){let i=oe(n.backdropPadding);return h(n.font&&n.font.size,wt.font.size)+i.height}return 0}function fm(o,n,i){return i=r(i)?i:[i],{w:Hl(o,n.string,i),h:i.length*n.lineHeight}}function Mh(o,n,i,c,u){return o===c||o===u?{start:n-i/2,end:n+i/2}:o<c||o>u?{start:n-i,end:n}:{start:n,end:n+i}}function dm(o){let n={l:o.left+o._padding.left,r:o.right-o._padding.right,t:o.top+o._padding.top,b:o.bottom-o._padding.bottom},i=Object.assign({},n),c=[],u=[],p=o._pointLabels.length,b=o.options.pointLabels,x=b.centerPointLabels?ut/p:0;for(let v=0;v<p;v++){let k=b.setContext(o.getPointLabelContext(v));u[v]=k.padding;let A=o.getPointPosition(v,o.drawingArea+u[v],x),O=Jt(k.font),R=fm(o.ctx,O,o._pointLabels[v]);c[v]=R;let S=he(o.getIndexAngle(v)+x),F=Math.round(Yn(S)),V=Mh(F,A.x,R.w,0,180),H=Mh(F,A.y,R.h,90,270);gm(i,n,S,V,H)}o.setCenterPoint(n.l-i.l,i.r-n.r,n.t-i.t,i.b-n.b),o._pointLabelItems=pm(o,c,u)}function gm(o,n,i,c,u){let p=Math.abs(Math.sin(i)),b=Math.abs(Math.cos(i)),x=0,v=0;c.start<n.l?(x=(n.l-c.start)/p,o.l=Math.min(o.l,n.l-x)):c.end>n.r&&(x=(c.end-n.r)/p,o.r=Math.max(o.r,n.r+x)),u.start<n.t?(v=(n.t-u.start)/b,o.t=Math.min(o.t,n.t-v)):u.end>n.b&&(v=(u.end-n.b)/b,o.b=Math.max(o.b,n.b+v))}function pm(o,n,i){let c=[],u=o._pointLabels.length,p=o.options,b=ma(p)/2,x=o.drawingArea,v=p.pointLabels.centerPointLabels?ut/u:0;for(let k=0;k<u;k++){let A=o.getPointPosition(k,x+b+i[k],v),O=Math.round(Yn(he(A.angle+bt))),R=n[k],S=_m(A.y,R.h,O),F=mm(O),V=bm(A.x,R.w,F);c.push({x:A.x,y:S,textAlign:F,left:V,top:S,right:V+R.w,bottom:S+R.h})}return c}function mm(o){return o===0||o===180?"center":o<180?"left":"right"}function bm(o,n,i){return i==="right"?o-=n:i==="center"&&(o-=n/2),o}function _m(o,n,i){return i===90||i===270?o-=n/2:(i>270||i<90)&&(o-=n),o}function xm(o,n){let{ctx:i,options:{pointLabels:c}}=o;for(let u=n-1;u>=0;u--){let p=c.setContext(o.getPointLabelContext(u)),b=Jt(p.font),{x,y:v,textAlign:k,left:A,top:O,right:R,bottom:S}=o._pointLabelItems[u],{backdropColor:F}=p;if(!e(F)){let V=Mn(p.borderRadius),H=oe(p.backdropPadding);i.fillStyle=F;let Y=A-H.left,K=O-H.top,tt=R-A+H.width,j=S-O+H.height;Object.values(V).some(J=>J!==0)?(i.beginPath(),xi(i,{x:Y,y:K,w:tt,h:j,radius:V}),i.fill()):i.fillRect(Y,K,tt,j)}kn(i,o._pointLabels[u],x,v+b.lineHeight/2,b,{color:p.color,textAlign:k,textBaseline:"middle"})}}function Ch(o,n,i,c){let{ctx:u}=o;if(i)u.arc(o.xCenter,o.yCenter,n,0,gt);else{let p=o.getPointPosition(0,n);u.moveTo(p.x,p.y);for(let b=1;b<c;b++)p=o.getPointPosition(b,n),u.lineTo(p.x,p.y)}}function vm(o,n,i,c){let u=o.ctx,p=n.circular,{color:b,lineWidth:x}=n;!p&&!c||!b||!x||i<0||(u.save(),u.strokeStyle=b,u.lineWidth=x,u.setLineDash(n.borderDash),u.lineDashOffset=n.borderDashOffset,u.beginPath(),Ch(o,i,p,c),u.closePath(),u.stroke(),u.restore())}function ym(o,n,i){return sn(o,{label:i,index:n,type:"pointLabel"})}class ws extends Bo{constructor(n){super(n),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let n=this._padding=oe(ma(this.options)/2),i=this.width=this.maxWidth-n.width,c=this.height=this.maxHeight-n.height;this.xCenter=Math.floor(this.left+i/2+n.left),this.yCenter=Math.floor(this.top+c/2+n.top),this.drawingArea=Math.floor(Math.min(i,c)/2)}determineDataLimits(){let{min:n,max:i}=this.getMinMax(!1);this.min=f(n)&&!isNaN(n)?n:0,this.max=f(i)&&!isNaN(i)?i:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ma(this.options))}generateTickLabels(n){Bo.prototype.generateTickLabels.call(this,n),this._pointLabels=this.getLabels().map((i,c)=>{let u=m(this.options.pointLabels.callback,[i,c],this);return u||u===0?u:""}).filter((i,c)=>this.chart.getDataVisibility(c))}fit(){let n=this.options;n.display&&n.pointLabels.display?dm(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(n,i,c,u){this.xCenter+=Math.floor((n-i)/2),this.yCenter+=Math.floor((c-u)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(n,i,c,u))}getIndexAngle(n){let i=gt/(this._pointLabels.length||1),c=this.options.startAngle||0;return he(n*i+ce(c))}getDistanceFromCenterForValue(n){if(e(n))return NaN;let i=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-n)*i:(n-this.min)*i}getValueForDistanceFromCenter(n){if(e(n))return NaN;let i=n/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-i:this.min+i}getPointLabelContext(n){let i=this._pointLabels||[];if(n>=0&&n<i.length){let c=i[n];return ym(this.getContext(),n,c)}}getPointPosition(n,i,c=0){let u=this.getIndexAngle(n)-bt+c;return{x:Math.cos(u)*i+this.xCenter,y:Math.sin(u)*i+this.yCenter,angle:u}}getPointPositionForValue(n,i){return this.getPointPosition(n,this.getDistanceFromCenterForValue(i))}getBasePosition(n){return this.getPointPositionForValue(n||0,this.getBaseValue())}getPointLabelPosition(n){let{left:i,top:c,right:u,bottom:p}=this._pointLabelItems[n];return{left:i,top:c,right:u,bottom:p}}drawBackground(){let{backgroundColor:n,grid:{circular:i}}=this.options;if(n){let c=this.ctx;c.save(),c.beginPath(),Ch(this,this.getDistanceFromCenterForValue(this._endValue),i,this._pointLabels.length),c.closePath(),c.fillStyle=n,c.fill(),c.restore()}}drawGrid(){let n=this.ctx,i=this.options,{angleLines:c,grid:u}=i,p=this._pointLabels.length,b,x,v;if(i.pointLabels.display&&xm(this,p),u.display&&this.ticks.forEach((k,A)=>{if(A!==0){x=this.getDistanceFromCenterForValue(k.value);let O=u.setContext(this.getContext(A-1));vm(this,O,x,p)}}),c.display){for(n.save(),b=p-1;b>=0;b--){let k=c.setContext(this.getPointLabelContext(b)),{color:A,lineWidth:O}=k;!O||!A||(n.lineWidth=O,n.strokeStyle=A,n.setLineDash(k.borderDash),n.lineDashOffset=k.borderDashOffset,x=this.getDistanceFromCenterForValue(i.ticks.reverse?this.min:this.max),v=this.getPointPosition(b,x),n.beginPath(),n.moveTo(this.xCenter,this.yCenter),n.lineTo(v.x,v.y),n.stroke())}n.restore()}}drawBorder(){}drawLabels(){let n=this.ctx,i=this.options,c=i.ticks;if(!c.display)return;let u=this.getIndexAngle(0),p,b;n.save(),n.translate(this.xCenter,this.yCenter),n.rotate(u),n.textAlign="center",n.textBaseline="middle",this.ticks.forEach((x,v)=>{if(v===0&&!i.reverse)return;let k=c.setContext(this.getContext(v)),A=Jt(k.font);if(p=this.getDistanceFromCenterForValue(this.ticks[v].value),k.showLabelBackdrop){n.font=A.string,b=n.measureText(x.label).width,n.fillStyle=k.backdropColor;let O=oe(k.backdropPadding);n.fillRect(-b/2-O.left,-p-A.size/2-O.top,b+O.width,A.size+O.height)}kn(n,x.label,0,-p,A,{color:k.color})}),n.restore()}drawTitle(){}}ws.id="radialLinear",ws.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:_s.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(o){return o},padding:5,centerPointLabels:!1}},ws.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},ws.descriptors={angleLines:{_fallback:"grid"}};let Vo={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},xe=Object.keys(Vo);function wm(o,n){return o-n}function Ah(o,n){if(e(n))return null;let i=o._adapter,{parser:c,round:u,isoWeekday:p}=o._parseOpts,b=n;return typeof c=="function"&&(b=c(b)),f(b)||(b=typeof c=="string"?i.parse(b,c):i.parse(b)),b===null?null:(u&&(b=u==="week"&&(Yt(p)||p===!0)?i.startOf(b,"isoWeek",p):i.startOf(b,u)),+b)}function Th(o,n,i,c){let u=xe.length;for(let p=xe.indexOf(o);p<u-1;++p){let b=Vo[xe[p]],x=b.steps?b.steps:Number.MAX_SAFE_INTEGER;if(b.common&&Math.ceil((i-n)/(x*b.size))<=c)return xe[p]}return xe[u-1]}function km(o,n,i,c,u){for(let p=xe.length-1;p>=xe.indexOf(i);p--){let b=xe[p];if(Vo[b].common&&o._adapter.diff(u,c,b)>=n-1)return b}return xe[i?xe.indexOf(i):0]}function Pm(o){for(let n=xe.indexOf(o)+1,i=xe.length;n<i;++n)if(Vo[xe[n]].common)return xe[n]}function Dh(o,n,i){if(!i)o[n]=!0;else if(i.length){let{lo:c,hi:u}=di(i,n),p=i[c]>=n?i[c]:i[u];o[p]=!0}}function Mm(o,n,i,c){let u=o._adapter,p=+u.startOf(n[0].value,c),b=n[n.length-1].value,x,v;for(x=p;x<=b;x=+u.add(x,1,c))v=i[x],v>=0&&(n[v].major=!0);return n}function Oh(o,n,i){let c=[],u={},p=n.length,b,x;for(b=0;b<p;++b)x=n[b],u[x]=b,c.push({value:x,major:!1});return p===0||!i?c:Mm(o,c,u,i)}class ks extends Cn{constructor(n){super(n),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(n,i){let c=n.time||(n.time={}),u=this._adapter=new Kc._date(n.adapters.date);u.init(i),C(c.displayFormats,u.formats()),this._parseOpts={parser:c.parser,round:c.round,isoWeekday:c.isoWeekday},super.init(n),this._normalized=i.normalized}parse(n,i){return n===void 0?null:Ah(this,n)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let n=this.options,i=this._adapter,c=n.time.unit||"day",{min:u,max:p,minDefined:b,maxDefined:x}=this.getUserBounds();function v(k){!b&&!isNaN(k.min)&&(u=Math.min(u,k.min)),!x&&!isNaN(k.max)&&(p=Math.max(p,k.max))}(!b||!x)&&(v(this._getLabelBounds()),(n.bounds!=="ticks"||n.ticks.source!=="labels")&&v(this.getMinMax(!1))),u=f(u)&&!isNaN(u)?u:+i.startOf(Date.now(),c),p=f(p)&&!isNaN(p)?p:+i.endOf(Date.now(),c)+1,this.min=Math.min(u,p-1),this.max=Math.max(u+1,p)}_getLabelBounds(){let n=this.getLabelTimestamps(),i=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY;return n.length&&(i=n[0],c=n[n.length-1]),{min:i,max:c}}buildTicks(){let n=this.options,i=n.time,c=n.ticks,u=c.source==="labels"?this.getLabelTimestamps():this._generate();n.bounds==="ticks"&&u.length&&(this.min=this._userMin||u[0],this.max=this._userMax||u[u.length-1]);let p=this.min,b=this.max,x=io(u,p,b);return this._unit=i.unit||(c.autoSkip?Th(i.minUnit,this.min,this.max,this._getLabelCapacity(p)):km(this,x.length,i.minUnit,this.min,this.max)),this._majorUnit=!c.major.enabled||this._unit==="year"?void 0:Pm(this._unit),this.initOffsets(u),n.reverse&&x.reverse(),Oh(this,x,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(n=>+n.value))}initOffsets(n){let i=0,c=0,u,p;this.options.offset&&n.length&&(u=this.getDecimalForValue(n[0]),n.length===1?i=1-u:i=(this.getDecimalForValue(n[1])-u)/2,p=this.getDecimalForValue(n[n.length-1]),n.length===1?c=p:c=(p-this.getDecimalForValue(n[n.length-2]))/2);let b=n.length<3?.5:.25;i=Qt(i,0,b),c=Qt(c,0,b),this._offsets={start:i,end:c,factor:1/(i+1+c)}}_generate(){let n=this._adapter,i=this.min,c=this.max,u=this.options,p=u.time,b=p.unit||Th(p.minUnit,i,c,this._getLabelCapacity(i)),x=h(p.stepSize,1),v=b==="week"?p.isoWeekday:!1,k=Yt(v)||v===!0,A={},O=i,R,S;if(k&&(O=+n.startOf(O,"isoWeek",v)),O=+n.startOf(O,k?"day":b),n.diff(c,i,b)>1e5*x)throw new Error(i+" and "+c+" are too far apart with stepSize of "+x+" "+b);let F=u.ticks.source==="data"&&this.getDataTimestamps();for(R=O,S=0;R<c;R=+n.add(R,x,b),S++)Dh(A,R,F);return(R===c||u.bounds==="ticks"||S===1)&&Dh(A,R,F),Object.keys(A).sort((V,H)=>V-H).map(V=>+V)}getLabelForValue(n){let i=this._adapter,c=this.options.time;return c.tooltipFormat?i.format(n,c.tooltipFormat):i.format(n,c.displayFormats.datetime)}_tickFormatFunction(n,i,c,u){let p=this.options,b=p.time.displayFormats,x=this._unit,v=this._majorUnit,k=x&&b[x],A=v&&b[v],O=c[i],R=v&&A&&O&&O.major,S=this._adapter.format(n,u||(R?A:k)),F=p.ticks.callback;return F?m(F,[S,i,c],this):S}generateTickLabels(n){let i,c,u;for(i=0,c=n.length;i<c;++i)u=n[i],u.label=this._tickFormatFunction(u.value,i,n)}getDecimalForValue(n){return n===null?NaN:(n-this.min)/(this.max-this.min)}getPixelForValue(n){let i=this._offsets,c=this.getDecimalForValue(n);return this.getPixelForDecimal((i.start+c)*i.factor)}getValueForPixel(n){let i=this._offsets,c=this.getDecimalForPixel(n)/i.factor-i.end;return this.min+c*(this.max-this.min)}_getLabelSize(n){let i=this.options.ticks,c=this.ctx.measureText(n).width,u=ce(this.isHorizontal()?i.maxRotation:i.minRotation),p=Math.cos(u),b=Math.sin(u),x=this._resolveTickFontOptions(0).size;return{w:c*p+x*b,h:c*b+x*p}}_getLabelCapacity(n){let i=this.options.time,c=i.displayFormats,u=c[i.unit]||c.millisecond,p=this._tickFormatFunction(n,0,Oh(this,[n],this._majorUnit),u),b=this._getLabelSize(p),x=Math.floor(this.isHorizontal()?this.width/b.w:this.height/b.h)-1;return x>0?x:1}getDataTimestamps(){let n=this._cache.data||[],i,c;if(n.length)return n;let u=this.getMatchingVisibleMetas();if(this._normalized&&u.length)return this._cache.data=u[0].controller.getAllParsedValues(this);for(i=0,c=u.length;i<c;++i)n=n.concat(u[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){let n=this._cache.labels||[],i,c;if(n.length)return n;let u=this.getLabels();for(i=0,c=u.length;i<c;++i)n.push(Ah(this,u[i]));return this._cache.labels=this._normalized?n:this.normalize(n)}normalize(n){return ji(n.sort(wm))}}ks.id="time",ks.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function Ho(o,n,i){let c=0,u=o.length-1,p,b,x,v;i?(n>=o[c].pos&&n<=o[u].pos&&({lo:c,hi:u}=Oe(o,"pos",n)),{pos:p,time:x}=o[c],{pos:b,time:v}=o[u]):(n>=o[c].time&&n<=o[u].time&&({lo:c,hi:u}=Oe(o,"time",n)),{time:p,pos:x}=o[c],{time:b,pos:v}=o[u]);let k=b-p;return k?x+(v-x)*(n-p)/k:x}class ba extends ks{constructor(n){super(n),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let n=this._getTimestampsForTable(),i=this._table=this.buildLookupTable(n);this._minPos=Ho(i,this.min),this._tableRange=Ho(i,this.max)-this._minPos,super.initOffsets(n)}buildLookupTable(n){let{min:i,max:c}=this,u=[],p=[],b,x,v,k,A;for(b=0,x=n.length;b<x;++b)k=n[b],k>=i&&k<=c&&u.push(k);if(u.length<2)return[{time:i,pos:0},{time:c,pos:1}];for(b=0,x=u.length;b<x;++b)A=u[b+1],v=u[b-1],k=u[b],Math.round((A+v)/2)!==k&&p.push({time:k,pos:b/(x-1)});return p}_getTimestampsForTable(){let n=this._cache.all||[];if(n.length)return n;let i=this.getDataTimestamps(),c=this.getLabelTimestamps();return i.length&&c.length?n=this.normalize(i.concat(c)):n=i.length?i:c,n=this._cache.all=n,n}getDecimalForValue(n){return(Ho(this._table,n)-this._minPos)/this._tableRange}getValueForPixel(n){let i=this._offsets,c=this.getDecimalForPixel(n)/i.factor-i.end;return Ho(this._table,c*this._tableRange+this._minPos,!0)}}ba.id="timeseries",ba.defaults=ks.defaults;var Eh=Object.freeze({__proto__:null,CategoryScale:zo,LinearScale:ga,LogarithmicScale:pa,RadialLinearScale:ws,TimeScale:ks,TimeSeriesScale:ba});return Gt.register(th,Eh,la,wh),Gt.helpers={...Ad},Gt._adapters=Kc,Gt.Animation=Cc,Gt.Animations=Qr,Gt.animator=Ee,Gt.controllers=Ye.controllers.items,Gt.DatasetController=Ie,Gt.Element=Fe,Gt.elements=la,Gt.Interaction=uc,Gt.layouts=re,Gt.platforms=Pc,Gt.Scale=Cn,Gt.Ticks=_s,Object.assign(Gt,th,Eh,la,wh,Pc),Gt.Chart=Gt,typeof window<"u"&&(window.Chart=Gt),Gt})});var Gf=Wo((Rl,Sl)=>{(function(s,t){typeof Rl=="object"&&typeof Sl<"u"?Sl.exports=t(Xf()):typeof define=="function"&&define.amd?define(["chart.js"],t):(s=typeof globalThis<"u"?globalThis:s||self).index=t(s.Chart)})(Rl,function(s){"use strict";var t={value:()=>{}};function e(){for(var E,z=0,W=arguments.length,$={};z<W;++z){if(!(E=arguments[z]+"")||E in $||/[\s.]/.test(E))throw new Error("illegal type: "+E);$[E]=[]}return new r($)}function r(E){this._=E}function l(E,z){return E.trim().split(/^|\s+/).map(function(W){var $="",q=W.indexOf(".");if(q>=0&&($=W.slice(q+1),W=W.slice(0,q)),W&&!z.hasOwnProperty(W))throw new Error("unknown type: "+W);return{type:W,name:$}})}function f(E,z){for(var W,$=0,q=E.length;$<q;++$)if((W=E[$]).name===z)return W.value}function g(E,z,W){for(var $=0,q=E.length;$<q;++$)if(E[$].name===z){E[$]=t,E=E.slice(0,$).concat(E.slice($+1));break}return W!=null&&E.push({name:z,value:W}),E}r.prototype=e.prototype={constructor:r,on:function(E,z){var W,$=this._,q=l(E+"",$),Q=-1,Z=q.length;if(!(arguments.length<2)){if(z!=null&&typeof z!="function")throw new Error("invalid callback: "+z);for(;++Q<Z;)if(W=(E=q[Q]).type)$[W]=g($[W],E.name,z);else if(z==null)for(W in $)$[W]=g($[W],E.name,null);return this}for(;++Q<Z;)if((W=(E=q[Q]).type)&&(W=f($[W],E.name)))return W},copy:function(){var E={},z=this._;for(var W in z)E[W]=z[W].slice();return new r(E)},call:function(E,z){if((W=arguments.length-2)>0)for(var W,$,q=new Array(W),Q=0;Q<W;++Q)q[Q]=arguments[Q+2];if(!this._.hasOwnProperty(E))throw new Error("unknown type: "+E);for(Q=0,W=($=this._[E]).length;Q<W;++Q)$[Q].value.apply(z,q)},apply:function(E,z,W){if(!this._.hasOwnProperty(E))throw new Error("unknown type: "+E);for(var $=this._[E],q=0,Q=$.length;q<Q;++q)$[q].value.apply(z,W)}};var h="http://www.w3.org/1999/xhtml",a={svg:"http://www.w3.org/2000/svg",xhtml:h,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function d(E){var z=E+="",W=z.indexOf(":");return W>=0&&(z=E.slice(0,W))!=="xmlns"&&(E=E.slice(W+1)),a.hasOwnProperty(z)?{space:a[z],local:E}:E}function m(E){return function(){var z=this.ownerDocument,W=this.namespaceURI;return W===h&&z.documentElement.namespaceURI===h?z.createElement(E):z.createElementNS(W,E)}}function _(E){return function(){return this.ownerDocument.createElementNS(E.space,E.local)}}function y(E){var z=d(E);return(z.local?_:m)(z)}function w(){}function P(E){return E==null?w:function(){return this.querySelector(E)}}function M(E){return E==null?[]:Array.isArray(E)?E:Array.from(E)}function T(){return[]}function C(E){return function(z){return z.matches(E)}}var D=Array.prototype.find;function L(){return this.firstElementChild}var I=Array.prototype.filter;function B(){return Array.from(this.children)}function N(E){return new Array(E.length)}function U(E,z){this.ownerDocument=E.ownerDocument,this.namespaceURI=E.namespaceURI,this._next=null,this._parent=E,this.__data__=z}function X(E){return function(){return E}}function G(E,z,W,$,q,Q){for(var Z,nt=0,lt=z.length,at=Q.length;nt<at;++nt)(Z=z[nt])?(Z.__data__=Q[nt],$[nt]=Z):W[nt]=new U(E,Q[nt]);for(;nt<lt;++nt)(Z=z[nt])&&(q[nt]=Z)}function et(E,z,W,$,q,Q,Z){var nt,lt,at,ft=new Map,Lt=z.length,yt=Q.length,ge=new Array(Lt);for(nt=0;nt<Lt;++nt)(lt=z[nt])&&(ge[nt]=at=Z.call(lt,lt.__data__,nt,z)+"",ft.has(at)?q[nt]=lt:ft.set(at,lt));for(nt=0;nt<yt;++nt)at=Z.call(E,Q[nt],nt,Q)+"",(lt=ft.get(at))?($[nt]=lt,lt.__data__=Q[nt],ft.delete(at)):W[nt]=new U(E,Q[nt]);for(nt=0;nt<Lt;++nt)(lt=z[nt])&&ft.get(ge[nt])===lt&&(q[nt]=lt)}function it(E){return E.__data__}function ct(E){return typeof E=="object"&&"length"in E?E:Array.from(E)}function ut(E,z){return E<z?-1:E>z?1:E>=z?0:NaN}function gt(E){return function(){this.removeAttribute(E)}}function pt(E){return function(){this.removeAttributeNS(E.space,E.local)}}function _t(E,z){return function(){this.setAttribute(E,z)}}function Pt(E,z){return function(){this.setAttributeNS(E.space,E.local,z)}}function bt(E,z){return function(){var W=z.apply(this,arguments);W==null?this.removeAttribute(E):this.setAttribute(E,W)}}function Mt(E,z){return function(){var W=z.apply(this,arguments);W==null?this.removeAttributeNS(E.space,E.local):this.setAttributeNS(E.space,E.local,W)}}function $t(E){return E.ownerDocument&&E.ownerDocument.defaultView||E.document&&E||E.defaultView}function kt(E){return function(){this.style.removeProperty(E)}}function Dt(E,z,W){return function(){this.style.setProperty(E,z,W)}}function Et(E,z,W){return function(){var $=z.apply(this,arguments);$==null?this.style.removeProperty(E):this.style.setProperty(E,$,W)}}function de(E,z){return E.style.getPropertyValue(z)||$t(E).getComputedStyle(E,null).getPropertyValue(z)}function Yt(E){return function(){delete this[E]}}function be(E,z){return function(){this[E]=z}}function js(E,z){return function(){var W=z.apply(this,arguments);W==null?delete this[E]:this[E]=W}}function ci(E){return E.trim().split(/^|\s+/)}function ce(E){return E.classList||new Yn(E)}function Yn(E){this._node=E,this._names=ci(E.getAttribute("class")||"")}function hi(E,z){for(var W=ce(E),$=-1,q=z.length;++$<q;)W.add(z[$])}function ui(E,z){for(var W=ce(E),$=-1,q=z.length;++$<q;)W.remove(z[$])}function fi(E){return function(){hi(this,E)}}function to(E){return function(){ui(this,E)}}function he(E,z){return function(){(z.apply(this,arguments)?hi:ui)(this,E)}}function pn(){this.textContent=""}function Qt(E){return function(){this.textContent=E}}function eo(E){return function(){var z=E.apply(this,arguments);this.textContent=z??""}}function De(){this.innerHTML=""}function di(E){return function(){this.innerHTML=E}}function Oe(E){return function(){var z=E.apply(this,arguments);this.innerHTML=z??""}}function no(){this.nextSibling&&this.parentNode.appendChild(this)}function io(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function so(){return null}function oo(){var E=this.parentNode;E&&E.removeChild(this)}function Ji(){var E=this.cloneNode(!1),z=this.parentNode;return z?z.insertBefore(E,this.nextSibling):E}function ji(){var E=this.cloneNode(!0),z=this.parentNode;return z?z.insertBefore(E,this.nextSibling):E}function Ar(E){return E.trim().split(/^|\s+/).map(function(z){var W="",$=z.indexOf(".");return $>=0&&(W=z.slice($+1),z=z.slice(0,$)),{type:z,name:W}})}function ts(E){return function(){var z=this.__on;if(z){for(var W,$=0,q=-1,Q=z.length;$<Q;++$)W=z[$],E.type&&W.type!==E.type||W.name!==E.name?z[++q]=W:this.removeEventListener(W.type,W.listener,W.options);++q?z.length=q:delete this.__on}}}function es(E,z,W){return function(){var $,q=this.__on,Q=function(lt){return function(at){lt.call(this,at,this.__data__)}}(z);if(q){for(var Z=0,nt=q.length;Z<nt;++Z)if(($=q[Z]).type===E.type&&$.name===E.name)return this.removeEventListener($.type,$.listener,$.options),this.addEventListener($.type,$.listener=Q,$.options=W),void($.value=z)}this.addEventListener(E.type,Q,W),$={type:E.type,name:E.name,value:z,listener:Q,options:W},q?q.push($):this.__on=[$]}}function ns(E,z,W){var $=$t(E),q=$.CustomEvent;typeof q=="function"?q=new q(z,W):(q=$.document.createEvent("Event"),W?(q.initEvent(z,W.bubbles,W.cancelable),q.detail=W.detail):q.initEvent(z,!1,!1)),E.dispatchEvent(q)}function gi(E,z){return function(){return ns(this,E,z)}}function ne(E,z){return function(){return ns(this,E,z.apply(this,arguments))}}U.prototype={constructor:U,appendChild:function(E){return this._parent.insertBefore(E,this._next)},insertBefore:function(E,z){return this._parent.insertBefore(E,z)},querySelector:function(E){return this._parent.querySelector(E)},querySelectorAll:function(E){return this._parent.querySelectorAll(E)}},Yn.prototype={add:function(E){this._names.indexOf(E)<0&&(this._names.push(E),this._node.setAttribute("class",this._names.join(" ")))},remove:function(E){var z=this._names.indexOf(E);z>=0&&(this._names.splice(z,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(E){return this._names.indexOf(E)>=0}};var ro=[null];function ue(E,z){this._groups=E,this._parents=z}function tn(E){return typeof E=="string"?new ue([[document.querySelector(E)]],[document.documentElement]):new ue([[E]],ro)}function ao(E,z){if(E=function(Q){let Z;for(;Z=Q.sourceEvent;)Q=Z;return Q}(E),z===void 0&&(z=E.currentTarget),z){var W=z.ownerSVGElement||z;if(W.createSVGPoint){var $=W.createSVGPoint();return $.x=E.clientX,$.y=E.clientY,[($=$.matrixTransform(z.getScreenCTM().inverse())).x,$.y]}if(z.getBoundingClientRect){var q=z.getBoundingClientRect();return[E.clientX-q.left-z.clientLeft,E.clientY-q.top-z.clientTop]}}return[E.pageX,E.pageY]}ue.prototype={constructor:ue,select:function(E){typeof E!="function"&&(E=P(E));for(var z=this._groups,W=z.length,$=new Array(W),q=0;q<W;++q)for(var Q,Z,nt=z[q],lt=nt.length,at=$[q]=new Array(lt),ft=0;ft<lt;++ft)(Q=nt[ft])&&(Z=E.call(Q,Q.__data__,ft,nt))&&("__data__"in Q&&(Z.__data__=Q.__data__),at[ft]=Z);return new ue($,this._parents)},selectAll:function(E){E=typeof E=="function"?function(ft){return function(){return M(ft.apply(this,arguments))}}(E):function(ft){return ft==null?T:function(){return this.querySelectorAll(ft)}}(E);for(var z=this._groups,W=z.length,$=[],q=[],Q=0;Q<W;++Q)for(var Z,nt=z[Q],lt=nt.length,at=0;at<lt;++at)(Z=nt[at])&&($.push(E.call(Z,Z.__data__,at,nt)),q.push(Z));return new ue($,q)},selectChild:function(E){return this.select(E==null?L:function(z){return function(){return D.call(this.children,z)}}(typeof E=="function"?E:C(E)))},selectChildren:function(E){return this.selectAll(E==null?B:function(z){return function(){return I.call(this.children,z)}}(typeof E=="function"?E:C(E)))},filter:function(E){typeof E!="function"&&(E=function(ft){return function(){return this.matches(ft)}}(E));for(var z=this._groups,W=z.length,$=new Array(W),q=0;q<W;++q)for(var Q,Z=z[q],nt=Z.length,lt=$[q]=[],at=0;at<nt;++at)(Q=Z[at])&&E.call(Q,Q.__data__,at,Z)&&lt.push(Q);return new ue($,this._parents)},data:function(E,z){if(!arguments.length)return Array.from(this,it);var W=z?et:G,$=this._parents,q=this._groups;typeof E!="function"&&(E=X(E));for(var Q=q.length,Z=new Array(Q),nt=new Array(Q),lt=new Array(Q),at=0;at<Q;++at){var ft=$[at],Lt=q[at],yt=Lt.length,ge=ct(E.call(ft,ft&&ft.__data__,at,$)),Xt=ge.length,Un=nt[at]=new Array(Xt),Xn=Z[at]=new Array(Xt),as=lt[at]=new Array(yt);W(ft,Lt,Un,Xn,as,ge,z);for(var nn,_n,rt=0,Ct=0;rt<Xt;++rt)if(nn=Un[rt]){for(rt>=Ct&&(Ct=rt+1);!(_n=Xn[Ct])&&++Ct<Xt;);nn._next=_n||null}}return(Z=new ue(Z,$))._enter=nt,Z._exit=lt,Z},enter:function(){return new ue(this._enter||this._groups.map(N),this._parents)},exit:function(){return new ue(this._exit||this._groups.map(N),this._parents)},join:function(E,z,W){var $=this.enter(),q=this,Q=this.exit();return typeof E=="function"?($=E($))&&($=$.selection()):$=$.append(E+""),z!=null&&(q=z(q))&&(q=q.selection()),W==null?Q.remove():W(Q),$&&q?$.merge(q).order():q},merge:function(E){for(var z=E.selection?E.selection():E,W=this._groups,$=z._groups,q=W.length,Q=$.length,Z=Math.min(q,Q),nt=new Array(q),lt=0;lt<Z;++lt)for(var at,ft=W[lt],Lt=$[lt],yt=ft.length,ge=nt[lt]=new Array(yt),Xt=0;Xt<yt;++Xt)(at=ft[Xt]||Lt[Xt])&&(ge[Xt]=at);for(;lt<q;++lt)nt[lt]=W[lt];return new ue(nt,this._parents)},selection:function(){return this},order:function(){for(var E=this._groups,z=-1,W=E.length;++z<W;)for(var $,q=E[z],Q=q.length-1,Z=q[Q];--Q>=0;)($=q[Q])&&(Z&&4^$.compareDocumentPosition(Z)&&Z.parentNode.insertBefore($,Z),Z=$);return this},sort:function(E){function z(Lt,yt){return Lt&&yt?E(Lt.__data__,yt.__data__):!Lt-!yt}E||(E=ut);for(var W=this._groups,$=W.length,q=new Array($),Q=0;Q<$;++Q){for(var Z,nt=W[Q],lt=nt.length,at=q[Q]=new Array(lt),ft=0;ft<lt;++ft)(Z=nt[ft])&&(at[ft]=Z);at.sort(z)}return new ue(q,this._parents).order()},call:function(){var E=arguments[0];return arguments[0]=this,E.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var E=this._groups,z=0,W=E.length;z<W;++z)for(var $=E[z],q=0,Q=$.length;q<Q;++q){var Z=$[q];if(Z)return Z}return null},size:function(){let E=0;for(let z of this)++E;return E},empty:function(){return!this.node()},each:function(E){for(var z=this._groups,W=0,$=z.length;W<$;++W)for(var q,Q=z[W],Z=0,nt=Q.length;Z<nt;++Z)(q=Q[Z])&&E.call(q,q.__data__,Z,Q);return this},attr:function(E,z){var W=d(E);if(arguments.length<2){var $=this.node();return W.local?$.getAttributeNS(W.space,W.local):$.getAttribute(W)}return this.each((z==null?W.local?pt:gt:typeof z=="function"?W.local?Mt:bt:W.local?Pt:_t)(W,z))},style:function(E,z,W){return arguments.length>1?this.each((z==null?kt:typeof z=="function"?Et:Dt)(E,z,W??"")):de(this.node(),E)},property:function(E,z){return arguments.length>1?this.each((z==null?Yt:typeof z=="function"?js:be)(E,z)):this.node()[E]},classed:function(E,z){var W=ci(E+"");if(arguments.length<2){for(var $=ce(this.node()),q=-1,Q=W.length;++q<Q;)if(!$.contains(W[q]))return!1;return!0}return this.each((typeof z=="function"?he:z?fi:to)(W,z))},text:function(E){return arguments.length?this.each(E==null?pn:(typeof E=="function"?eo:Qt)(E)):this.node().textContent},html:function(E){return arguments.length?this.each(E==null?De:(typeof E=="function"?Oe:di)(E)):this.node().innerHTML},raise:function(){return this.each(no)},lower:function(){return this.each(io)},append:function(E){var z=typeof E=="function"?E:y(E);return this.select(function(){return this.appendChild(z.apply(this,arguments))})},insert:function(E,z){var W=typeof E=="function"?E:y(E),$=z==null?so:typeof z=="function"?z:P(z);return this.select(function(){return this.insertBefore(W.apply(this,arguments),$.apply(this,arguments)||null)})},remove:function(){return this.each(oo)},clone:function(E){return this.select(E?ji:Ji)},datum:function(E){return arguments.length?this.property("__data__",E):this.node().__data__},on:function(E,z,W){var $,q,Q=Ar(E+""),Z=Q.length;if(!(arguments.length<2)){for(nt=z?es:ts,$=0;$<Z;++$)this.each(nt(Q[$],z,W));return this}var nt=this.node().__on;if(nt){for(var lt,at=0,ft=nt.length;at<ft;++at)for($=0,lt=nt[at];$<Z;++$)if((q=Q[$]).type===lt.type&&q.name===lt.name)return lt.value}},dispatch:function(E,z){return this.each((typeof z=="function"?ne:gi)(E,z))},[Symbol.iterator]:function*(){for(var E=this._groups,z=0,W=E.length;z<W;++z)for(var $,q=E[z],Q=0,Z=q.length;Q<Z;++Q)($=q[Q])&&(yield $)}};let Ee={passive:!1},He={capture:!0,passive:!1};function Le(E){E.stopImmediatePropagation()}function Re(E){E.preventDefault(),E.stopImmediatePropagation()}var Pe=E=>()=>E;function Me(E,{sourceEvent:z,subject:W,target:$,identifier:q,active:Q,x:Z,y:nt,dx:lt,dy:at,dispatch:ft}){Object.defineProperties(this,{type:{value:E,enumerable:!0,configurable:!0},sourceEvent:{value:z,enumerable:!0,configurable:!0},subject:{value:W,enumerable:!0,configurable:!0},target:{value:$,enumerable:!0,configurable:!0},identifier:{value:q,enumerable:!0,configurable:!0},active:{value:Q,enumerable:!0,configurable:!0},x:{value:Z,enumerable:!0,configurable:!0},y:{value:nt,enumerable:!0,configurable:!0},dx:{value:lt,enumerable:!0,configurable:!0},dy:{value:at,enumerable:!0,configurable:!0},_:{value:ft}})}function lo(E){return!E.ctrlKey&&!E.button}function _e(){return this.parentNode}function is(E,z){return z??{x:E.x,y:E.y}}function Tr(){return navigator.maxTouchPoints||"ontouchstart"in this}function Dr(){var E,z,W,$,q=lo,Q=_e,Z=is,nt=Tr,lt={},at=e("start","drag","end"),ft=0,Lt=0;function yt(rt){rt.on("mousedown.drag",ge).filter(nt).on("touchstart.drag",Xn).on("touchmove.drag",as,Ee).on("touchend.drag touchcancel.drag",nn).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function ge(rt,Ct){if(!$&&q.call(this,rt,Ct)){var zt=_n(this,Q.call(this,rt,Ct),rt,Ct,"mouse");zt&&(tn(rt.view).on("mousemove.drag",Xt,He).on("mouseup.drag",Un,He),function(Ft){var Vt=Ft.document.documentElement,We=tn(Ft).on("dragstart.drag",Re,He);"onselectstart"in Vt?We.on("selectstart.drag",Re,He):(Vt.__noselect=Vt.style.MozUserSelect,Vt.style.MozUserSelect="none")}(rt.view),Le(rt),W=!1,E=rt.clientX,z=rt.clientY,zt("start",rt))}}function Xt(rt){if(Re(rt),!W){var Ct=rt.clientX-E,zt=rt.clientY-z;W=Ct*Ct+zt*zt>Lt}lt.mouse("drag",rt)}function Un(rt){tn(rt.view).on("mousemove.drag mouseup.drag",null),function(Ct,zt){var Ft=Ct.document.documentElement,Vt=tn(Ct).on("dragstart.drag",null);zt&&(Vt.on("click.drag",Re,He),setTimeout(function(){Vt.on("click.drag",null)},0)),"onselectstart"in Ft?Vt.on("selectstart.drag",null):(Ft.style.MozUserSelect=Ft.__noselect,delete Ft.__noselect)}(rt.view,W),Re(rt),lt.mouse("end",rt)}function Xn(rt,Ct){if(q.call(this,rt,Ct)){var zt,Ft,Vt=rt.changedTouches,We=Q.call(this,rt,Ct),xn=Vt.length;for(zt=0;zt<xn;++zt)(Ft=_n(this,We,rt,Ct,Vt[zt].identifier,Vt[zt]))&&(Le(rt),Ft("start",rt,Vt[zt]))}}function as(rt){var Ct,zt,Ft=rt.changedTouches,Vt=Ft.length;for(Ct=0;Ct<Vt;++Ct)(zt=lt[Ft[Ct].identifier])&&(Re(rt),zt("drag",rt,Ft[Ct]))}function nn(rt){var Ct,zt,Ft=rt.changedTouches,Vt=Ft.length;for($&&clearTimeout($),$=setTimeout(function(){$=null},500),Ct=0;Ct<Vt;++Ct)(zt=lt[Ft[Ct].identifier])&&(Le(rt),zt("end",rt,Ft[Ct]))}function _n(rt,Ct,zt,Ft,Vt,We){var xn,uo,wt,Gn=at.copy(),pe=ao(We||zt,Ct);if((wt=Z.call(rt,new Me("beforestart",{sourceEvent:zt,target:yt,identifier:Vt,active:ft,x:pe[0],y:pe[1],dx:0,dy:0,dispatch:Gn}),Ft))!=null)return xn=wt.x-pe[0]||0,uo=wt.y-pe[1]||0,function bi(vn,ls,Er){var $e,fo=pe;switch(vn){case"start":lt[Vt]=bi,$e=ft++;break;case"end":delete lt[Vt],--ft;case"drag":pe=ao(Er||ls,Ct),$e=ft}Gn.call(vn,rt,new Me(vn,{sourceEvent:ls,subject:wt,target:yt,identifier:Vt,active:$e,x:pe[0]+xn,y:pe[1]+uo,dx:pe[0]-fo[0],dy:pe[1]-fo[1],dispatch:Gn}),Ft)}}return yt.filter=function(rt){return arguments.length?(q=typeof rt=="function"?rt:Pe(!!rt),yt):q},yt.container=function(rt){return arguments.length?(Q=typeof rt=="function"?rt:Pe(rt),yt):Q},yt.subject=function(rt){return arguments.length?(Z=typeof rt=="function"?rt:Pe(rt),yt):Z},yt.touchable=function(rt){return arguments.length?(nt=typeof rt=="function"?rt:Pe(!!rt),yt):nt},yt.on=function(){var rt=at.on.apply(at,arguments);return rt===at?yt:rt},yt.clickDistance=function(rt){return arguments.length?(Lt=(rt=+rt)*rt,yt):Math.sqrt(Lt)},yt}let ie,Ne,Se,Ue,pi,co,ss,ho,mn,en,mi;Me.prototype.on=function(){var E=this._.on.apply(this._,arguments);return E===this._?this:E};let qn=!1;function bn(E,z){return isNaN(z)?E:Math.round(E*Math.pow(10,z))/Math.pow(10,z)}function os(E,z,W,$,q){let Q,Z,nt=z.data.datasets[W].data[$];if(E.touches?(Q=z.scales[Se].getValueForPixel(E.touches[0].clientX-z.canvas.getBoundingClientRect().left),Z=z.scales[Ne].getValueForPixel(E.touches[0].clientY-z.canvas.getBoundingClientRect().top)):(Q=z.scales[Se].getValueForPixel(E.clientX-z.canvas.getBoundingClientRect().left),Z=z.scales[Ne].getValueForPixel(E.clientY-z.canvas.getBoundingClientRect().top)),Q=bn(Q,z.config.options.plugins.dragData.round),Z=bn(Z,z.config.options.plugins.dragData.round),Q=Q>z.scales[Se].max?z.scales[Se].max:Q,Q=Q<z.scales[Se].min?z.scales[Se].min:Q,Z=Z>z.scales[Ne].max?z.scales[Ne].max:Z,Z=Z<z.scales[Ne].min?z.scales[Ne].min:Z,ss){let lt;return lt=z.config.options.indexAxis==="y"?Q:Z,Math.abs(lt-nt[0])<=Math.abs(lt-nt[1])?[lt,nt[1]]:[nt[0],lt]}return nt.x!==void 0&&z.config.options.plugins.dragData.dragX&&(nt.x=Q),nt.y!==void 0?(z.config.options.plugins.dragData.dragY!==!1&&(nt.y=Z),nt):z.config.options.indexAxis==="y"?Q:Z}let Or=(E,z,W,$)=>{if(ie){mn=ie.datasetIndex,en=ie.index,qn=!0;let q=z.data.datasets[mn].data[en];pi==="radar"||pi==="polarArea"?q=function(Q,Z){let nt,lt,at;Q.touches?(nt=Q.touches[0].clientX-Z.canvas.getBoundingClientRect().left,lt=Q.touches[0].clientY-Z.canvas.getBoundingClientRect().top):(nt=Q.clientX-Z.canvas.getBoundingClientRect().left,lt=Q.clientY-Z.canvas.getBoundingClientRect().top);let ft=Z.scales[Ue],Lt=Math.sqrt(Math.pow(nt-ft.xCenter,2)+Math.pow(lt-ft.yCenter,2)),yt=ft.drawingArea/(ft.max-ft.min);return at=ft.options.ticks.reverse?ft.max-Lt/yt:ft.min+Lt/yt,at=bn(at,Z.config.options.plugins.dragData.round),at=at>Z.scales[Ue].max?Z.scales[Ue].max:at,at=at<Z.scales[Ue].min?Z.scales[Ue].min:at,at}(E,z):co?q=bn(os(E,z,mn,en)-ho,W.round):q=os(E,z,mn,en),(!$||typeof $=="function"&&$(E,mn,en,q)!==!1)&&(z.data.datasets[mn].data[en]=q,z.update("none"))}},rs={id:"dragdata",afterInit:function(E){if(E.config.options.plugins&&E.config.options.plugins.dragData){let z=E.config.options.plugins.dragData;tn(E.canvas).call(Dr().container(E.canvas).on("start",W=>(($,q,Q)=>{if(ie=q.getElementsAtEventForMode($,"nearest",{intersect:!0},!1)[0],pi=q.config.type,ie){let Z=ie.datasetIndex,nt=ie.index;mi=function(Lt){try{return Lt()}catch{return""}}(()=>q.config.options.plugins.tooltip.animation);let lt=q.data.datasets[Z],at=q.getDatasetMeta(Z),ft=lt.data[nt];if(Se=at.xAxisID,Ne=at.yAxisID,Ue=at.rAxisID,lt.dragData===!1||q.config.options.scales[Se]&&q.config.options.scales[Se].dragData===!1||q.config.options.scales[Ne]&&q.config.options.scales[Ne].dragData===!1||q.config.options.scales[Ue]&&q.config.options.scales[Ue].rAxisID===!1||lt.data[ie.index].dragData===!1)return void(ie=null);if(pi==="bar"){co=q.config.options.scales[Se].stacked;let Lt=q.data.datasets[0].data[0];ss=Lt!==null&&Array.isArray(Lt)&&Lt.length==2,ho=os($,q,Z,nt)-ft}(q.config.options.plugins.dragData.showTooltip===void 0||q.config.options.plugins.dragData.showTooltip)&&(q.config.options.plugins.tooltip||(q.config.options.plugins.tooltip={}),q.config.options.plugins.tooltip.animation=!1),typeof Q=="function"&&ie&&Q($,Z,nt,ft)===!1&&(ie=null)}})(W.sourceEvent,E,z.onDragStart)).on("drag",W=>Or(W.sourceEvent,E,z,z.onDrag)).on("end",W=>(($,q,Q)=>{if(en=void 0,qn=!1,q.config.options.plugins.tooltip&&(q.config.options.plugins.tooltip.animation=mi,q.update("none")),typeof Q=="function"&&ie){let Z=ie.datasetIndex,nt=ie.index,lt=function(at,ft,Lt){let yt=at.config.options.plugins.dragData;if(!yt.magnet)return at.data.datasets[ft].data[Lt];{let ge=yt.magnet;if(ge.to&&typeof ge.to=="function"){let Xt=at.data.datasets[ft].data[Lt];return Xt=ge.to(Xt),at.data.datasets[ft].data[Lt]=Xt,at.update("none"),Xt}}}(q,Z,nt);return Q($,Z,nt,lt)}})(W.sourceEvent,E,z.onDragEnd)))}},beforeEvent:function(E){if(qn)return E.tooltip&&E.tooltip.update(),!1}};return s.Chart.register(rs),rs})});var Sh=ka(Rh(),1),{jStat:Ti}=Sh.default,On=.15,En=.092,Ln=.8,Rn=.75,Rm=6,Ms=[{name:"TT",guestsAverage:150,guestsCV:On,wastePerGuestAverage:En,wastePerGuestCV:Ln,dinerPerGuestProbability:Rn},{name:"CHT",guestsAverage:200,guestsCV:On,wastePerGuestAverage:En,wastePerGuestCV:Ln,dinerPerGuestProbability:Rn},{name:"QHRS",guestsAverage:200,guestsCV:On,wastePerGuestAverage:En,wastePerGuestCV:Ln,dinerPerGuestProbability:Rn},{name:"CHUb",guestsAverage:130,guestsCV:On,wastePerGuestAverage:En,wastePerGuestCV:Ln,dinerPerGuestProbability:Rn},{name:"QAHS",guestsAverage:150,guestsCV:On,wastePerGuestAverage:En,wastePerGuestCV:Ln,dinerPerGuestProbability:Rn},{name:"CCHT",guestsAverage:100,guestsCV:On,wastePerGuestAverage:En,wastePerGuestCV:Ln,dinerPerGuestProbability:Rn},{name:"CHCT",guestsAverage:350,guestsCV:On,wastePerGuestAverage:En,wastePerGuestCV:Ln,dinerPerGuestProbability:Rn},{name:"CHCOA",guestsAverage:250,guestsCV:On,wastePerGuestAverage:En,wastePerGuestCV:Ln,dinerPerGuestProbability:Rn}],Sm={};for(let s of Ms)Sm[s.name]=s;var Di=[{name:"Control",trueEffectMean:0,trueEffectCV:0,index:0},{name:"Simple Message",trueEffectMean:-.2,trueEffectCV:.1,index:1},{name:"Social Norms Message",trueEffectMean:-.15,trueEffectCV:.01,index:2},{name:"Weak Message",trueEffectMean:-.02,trueEffectCV:.1,index:3}];for(let s=0;s<Di.length;s++)Di[s].index=s;function $o(s,t,e){return e[Math.floor(Ti.uniform.sample(0,e.length))]}function Im(s,t,e,r,l=1){let f=Math.max(0,Math.floor(Ti.normal.sample(s.guestsAverage*l,s.guestsAverage*l*s.guestsCV))),g=0;for(let a=0;a<f;a++)Ti.uniform.sample(0,1)<s.dinerPerGuestProbability&&(g+=1);console.assert(g>=0);let h=0;for(let a=0;a<g;a++){let d;r.trueEffectCV==0?d=1+r.trueEffectMean:d=Math.max(0,1+Ti.normal(r.trueEffectMean,r.trueEffectCV*r.trueEffectMean).sample());let m=s.wastePerGuestCV>0?Ti.normal.sample(s.wastePerGuestAverage,s.wastePerGuestCV*s.wastePerGuestAverage):s.wastePerGuestAverage;h+=Math.max(m,0)*d}return console.assert(h>=0),{date:t,guests:f,hotel:s,meal:e,stimulus:r,totalFoodWasteObserved:h}}function Ma(s=Rm,t=Ms,e=$o,r=Di,l=null){let f=[],g=s*7;console.log(`total days  ${g}`);for(let h=0;h<g;h++)for(let a of t){let d=e(a,h,r);f.push(Im(a,h,"BREAKFAST",d,l===null?1:l[Math.floor(h/7)]))}return console.log(f),f}function Ca(s,t){let e={};for(let h of t)e[h.name]=[];for(let h of s)e[h.stimulus.name].push(h.totalFoodWasteObserved);let r={};for(let h of t){let a=e[h.name];r[h.name]=a.reduce((d,m)=>d+m,0)/a.length}console.log(r);var l=[],f=[];for(let h of s){let a=Array(t.length+1).fill(0);a[t.length]=h.guests,a[0]=1,a[h.stimulus.index]=1,l.push(a),f.push(h.totalFoodWasteObserved)}let g=Ti.models.ols(f,l);return{averages:r,effects:g.coef,p_values:g.t.p,observations:s}}var Zf=ka(Ih(),1);function As(s){return s+.5|0}var Sn=(s,t,e)=>Math.max(Math.min(s,e),t);function Cs(s){return Sn(As(s*2.55),0,255)}function In(s){return Sn(As(s*255),0,255)}function rn(s){return Sn(As(s/2.55)/100,0,1)}function Fh(s){return Sn(As(s*100),0,100)}var ze={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Da=[..."0123456789ABCDEF"],Fm=s=>Da[s&15],zm=s=>Da[(s&240)>>4]+Da[s&15],Yo=s=>(s&240)>>4===(s&15),Bm=s=>Yo(s.r)&&Yo(s.g)&&Yo(s.b)&&Yo(s.a);function Vm(s){var t=s.length,e;return s[0]==="#"&&(t===4||t===5?e={r:255&ze[s[1]]*17,g:255&ze[s[2]]*17,b:255&ze[s[3]]*17,a:t===5?ze[s[4]]*17:255}:(t===7||t===9)&&(e={r:ze[s[1]]<<4|ze[s[2]],g:ze[s[3]]<<4|ze[s[4]],b:ze[s[5]]<<4|ze[s[6]],a:t===9?ze[s[7]]<<4|ze[s[8]]:255})),e}var Hm=(s,t)=>s<255?t(s):"";function Nm(s){var t=Bm(s)?Fm:zm;return s?"#"+t(s.r)+t(s.g)+t(s.b)+Hm(s.a,t):void 0}var Wm=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Hh(s,t,e){let r=t*Math.min(e,1-e),l=(f,g=(f+s/30)%12)=>e-r*Math.max(Math.min(g-3,9-g,1),-1);return[l(0),l(8),l(4)]}function $m(s,t,e){let r=(l,f=(l+s/60)%6)=>e-e*t*Math.max(Math.min(f,4-f,1),0);return[r(5),r(3),r(1)]}function Ym(s,t,e){let r=Hh(s,1,.5),l;for(t+e>1&&(l=1/(t+e),t*=l,e*=l),l=0;l<3;l++)r[l]*=1-t-e,r[l]+=t;return r}function qm(s,t,e,r,l){return s===l?(t-e)/r+(t<e?6:0):t===l?(e-s)/r+2:(s-t)/r+4}function Oa(s){let e=s.r/255,r=s.g/255,l=s.b/255,f=Math.max(e,r,l),g=Math.min(e,r,l),h=(f+g)/2,a,d,m;return f!==g&&(m=f-g,d=h>.5?m/(2-f-g):m/(f+g),a=qm(e,r,l,m,f),a=a*60+.5),[a|0,d||0,h]}function Ea(s,t,e,r){return(Array.isArray(t)?s(t[0],t[1],t[2]):s(t,e,r)).map(In)}function La(s,t,e){return Ea(Hh,s,t,e)}function Um(s,t,e){return Ea(Ym,s,t,e)}function Xm(s,t,e){return Ea($m,s,t,e)}function Nh(s){return(s%360+360)%360}function Gm(s){let t=Wm.exec(s),e=255,r;if(!t)return;t[5]!==r&&(e=t[6]?Cs(+t[5]):In(+t[5]));let l=Nh(+t[2]),f=+t[3]/100,g=+t[4]/100;return t[1]==="hwb"?r=Um(l,f,g):t[1]==="hsv"?r=Xm(l,f,g):r=La(l,f,g),{r:r[0],g:r[1],b:r[2],a:e}}function Km(s,t){var e=Oa(s);e[0]=Nh(e[0]+t),e=La(e),s.r=e[0],s.g=e[1],s.b=e[2]}function Qm(s){if(!s)return;let t=Oa(s),e=t[0],r=Fh(t[1]),l=Fh(t[2]);return s.a<255?`hsla(${e}, ${r}%, ${l}%, ${rn(s.a)})`:`hsl(${e}, ${r}%, ${l}%)`}var zh={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Bh={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Zm(){let s={},t=Object.keys(Bh),e=Object.keys(zh),r,l,f,g,h;for(r=0;r<t.length;r++){for(g=h=t[r],l=0;l<e.length;l++)f=e[l],h=h.replace(f,zh[f]);f=parseInt(Bh[g],16),s[h]=[f>>16&255,f>>8&255,f&255]}return s}var qo;function Jm(s){qo||(qo=Zm(),qo.transparent=[0,0,0,0]);let t=qo[s.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}var jm=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function tb(s){let t=jm.exec(s),e=255,r,l,f;if(t){if(t[7]!==r){let g=+t[7];e=t[8]?Cs(g):Sn(g*255,0,255)}return r=+t[1],l=+t[3],f=+t[5],r=255&(t[2]?Cs(r):Sn(r,0,255)),l=255&(t[4]?Cs(l):Sn(l,0,255)),f=255&(t[6]?Cs(f):Sn(f,0,255)),{r,g:l,b:f,a:e}}}function eb(s){return s&&(s.a<255?`rgba(${s.r}, ${s.g}, ${s.b}, ${rn(s.a)})`:`rgb(${s.r}, ${s.g}, ${s.b})`)}var Ta=s=>s<=.0031308?s*12.92:Math.pow(s,1/2.4)*1.055-.055,Oi=s=>s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4);function nb(s,t,e){let r=Oi(rn(s.r)),l=Oi(rn(s.g)),f=Oi(rn(s.b));return{r:In(Ta(r+e*(Oi(rn(t.r))-r))),g:In(Ta(l+e*(Oi(rn(t.g))-l))),b:In(Ta(f+e*(Oi(rn(t.b))-f))),a:s.a+e*(t.a-s.a)}}function Uo(s,t,e){if(s){let r=Oa(s);r[t]=Math.max(0,Math.min(r[t]+r[t]*e,t===0?360:1)),r=La(r),s.r=r[0],s.g=r[1],s.b=r[2]}}function Wh(s,t){return s&&Object.assign(t||{},s)}function Vh(s){var t={r:0,g:0,b:0,a:255};return Array.isArray(s)?s.length>=3&&(t={r:s[0],g:s[1],b:s[2],a:255},s.length>3&&(t.a=In(s[3]))):(t=Wh(s,{r:0,g:0,b:0,a:1}),t.a=In(t.a)),t}function ib(s){return s.charAt(0)==="r"?tb(s):Gm(s)}var Fn=class{constructor(t){if(t instanceof Fn)return t;let e=typeof t,r;e==="object"?r=Vh(t):e==="string"&&(r=Vm(t)||Jm(t)||ib(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=Wh(this._rgb);return t&&(t.a=rn(t.a)),t}set rgb(t){this._rgb=Vh(t)}rgbString(){return this._valid?eb(this._rgb):void 0}hexString(){return this._valid?Nm(this._rgb):void 0}hslString(){return this._valid?Qm(this._rgb):void 0}mix(t,e){if(t){let r=this.rgb,l=t.rgb,f,g=e===f?.5:e,h=2*g-1,a=r.a-l.a,d=((h*a===-1?h:(h+a)/(1+h*a))+1)/2;f=1-d,r.r=255&d*r.r+f*l.r+.5,r.g=255&d*r.g+f*l.g+.5,r.b=255&d*r.b+f*l.b+.5,r.a=g*r.a+(1-g)*l.a,this.rgb=r}return this}interpolate(t,e){return t&&(this._rgb=nb(this._rgb,t._rgb,e)),this}clone(){return new Fn(this.rgb)}alpha(t){return this._rgb.a=In(t),this}clearer(t){let e=this._rgb;return e.a*=1-t,this}greyscale(){let t=this._rgb,e=As(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){let e=this._rgb;return e.a*=1+t,this}negate(){let t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Uo(this._rgb,2,t),this}darken(t){return Uo(this._rgb,2,-t),this}saturate(t){return Uo(this._rgb,1,t),this}desaturate(t){return Uo(this._rgb,1,-t),this}rotate(t){return Km(this._rgb,t),this}};function Ke(){}var jh=(()=>{let s=0;return()=>s++})();function Ot(s){return s===null||typeof s>"u"}function Ht(s){if(Array.isArray&&Array.isArray(s))return!0;let t=Object.prototype.toString.call(s);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function At(s){return s!==null&&Object.prototype.toString.call(s)==="[object Object]"}function Ut(s){return(typeof s=="number"||s instanceof Number)&&isFinite(+s)}function ye(s,t){return Ut(s)?s:t}function xt(s,t){return typeof s>"u"?t:s}var tu=(s,t)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100:+s/t,Fa=(s,t)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100*t:+s;function Bt(s,t,e){if(s&&typeof s.call=="function")return s.apply(e,t)}function It(s,t,e,r){let l,f,g;if(Ht(s))if(f=s.length,r)for(l=f-1;l>=0;l--)t.call(e,s[l],l);else for(l=0;l<f;l++)t.call(e,s[l],l);else if(At(s))for(g=Object.keys(s),f=g.length,l=0;l<f;l++)t.call(e,s[g[l]],g[l])}function Os(s,t){let e,r,l,f;if(!s||!t||s.length!==t.length)return!1;for(e=0,r=s.length;e<r;++e)if(l=s[e],f=t[e],l.datasetIndex!==f.datasetIndex||l.index!==f.index)return!1;return!0}function Qo(s){if(Ht(s))return s.map(Qo);if(At(s)){let t=Object.create(null),e=Object.keys(s),r=e.length,l=0;for(;l<r;++l)t[e[l]]=Qo(s[e[l]]);return t}return s}function eu(s){return["__proto__","prototype","constructor"].indexOf(s)===-1}function sb(s,t,e,r){if(!eu(s))return;let l=t[s],f=e[s];At(l)&&At(f)?Li(l,f,r):t[s]=Qo(f)}function Li(s,t,e){let r=Ht(t)?t:[t],l=r.length;if(!At(s))return s;e=e||{};let f=e.merger||sb,g;for(let h=0;h<l;++h){if(g=r[h],!At(g))continue;let a=Object.keys(g);for(let d=0,m=a.length;d<m;++d)f(a[d],s,g,e)}return s}function Ii(s,t){return Li(s,t,{merger:ob})}function ob(s,t,e){if(!eu(s))return;let r=t[s],l=e[s];At(r)&&At(l)?Ii(r,l):Object.prototype.hasOwnProperty.call(t,s)||(t[s]=Qo(l))}var $h={"":s=>s,x:s=>s.x,y:s=>s.y};function rb(s){let t=s.split("."),e=[],r="";for(let l of t)r+=l,r.endsWith("\\")?r=r.slice(0,-1)+".":(e.push(r),r="");return e}function ab(s){let t=rb(s);return e=>{for(let r of t){if(r==="")break;e=e&&e[r]}return e}}function cn(s,t){return($h[t]||($h[t]=ab(t)))(s)}function tr(s){return s.charAt(0).toUpperCase()+s.slice(1)}var Ce=s=>typeof s<"u",an=s=>typeof s=="function",za=(s,t)=>{if(s.size!==t.size)return!1;for(let e of s)if(!t.has(e))return!1;return!0};function nu(s){return s.type==="mouseup"||s.type==="click"||s.type==="contextmenu"}var Wt=Math.PI,Nt=2*Wt,lb=Nt+Wt,Zo=Number.POSITIVE_INFINITY,cb=Wt/180,qt=Wt/2,jn=Wt/4,Yh=Wt*2/3,ln=Math.log10,qe=Math.sign;function Fi(s,t,e){return Math.abs(s-t)<e}function Ba(s){let t=Math.round(s);s=Fi(s,t,s/1e3)?t:s;let e=Math.pow(10,Math.floor(ln(s))),r=s/e;return(r<=1?1:r<=2?2:r<=5?5:10)*e}function iu(s){let t=[],e=Math.sqrt(s),r;for(r=1;r<e;r++)s%r===0&&(t.push(r),t.push(s/r));return e===(e|0)&&t.push(e),t.sort((l,f)=>l-f).pop(),t}function ni(s){return!isNaN(parseFloat(s))&&isFinite(s)}function su(s,t){let e=Math.round(s);return e-t<=s&&e+t>=s}function Va(s,t,e){let r,l,f;for(r=0,l=s.length;r<l;r++)f=s[r][e],isNaN(f)||(t.min=Math.min(t.min,f),t.max=Math.max(t.max,f))}function Be(s){return s*(Wt/180)}function er(s){return s*(180/Wt)}function Ha(s){if(!Ut(s))return;let t=1,e=0;for(;Math.round(s*t)/t!==s;)t*=10,e++;return e}function Na(s,t){let e=t.x-s.x,r=t.y-s.y,l=Math.sqrt(e*e+r*r),f=Math.atan2(r,e);return f<-.5*Wt&&(f+=Nt),{angle:f,distance:l}}function Jo(s,t){return Math.sqrt(Math.pow(t.x-s.x,2)+Math.pow(t.y-s.y,2))}function hb(s,t){return(s-t+lb)%Nt-Wt}function ve(s){return(s%Nt+Nt)%Nt}function zi(s,t,e,r){let l=ve(s),f=ve(t),g=ve(e),h=ve(f-l),a=ve(g-l),d=ve(l-f),m=ve(l-g);return l===f||l===g||r&&f===g||h>a&&d<m}function se(s,t,e){return Math.max(t,Math.min(e,s))}function ou(s){return se(s,-32768,32767)}function Qe(s,t,e,r=1e-6){return s>=Math.min(t,e)-r&&s<=Math.max(t,e)+r}function nr(s,t,e){e=e||(g=>s[g]<t);let r=s.length-1,l=0,f;for(;r-l>1;)f=l+r>>1,e(f)?l=f:r=f;return{lo:l,hi:r}}var Ge=(s,t,e,r)=>nr(s,e,r?l=>{let f=s[l][t];return f<e||f===e&&s[l+1][t]===e}:l=>s[l][t]<e),ru=(s,t,e)=>nr(s,e,r=>s[r][t]>=e);function au(s,t,e){let r=0,l=s.length;for(;r<l&&s[r]<t;)r++;for(;l>r&&s[l-1]>e;)l--;return r>0||l<s.length?s.slice(r,l):s}var lu=["push","pop","shift","splice","unshift"];function cu(s,t){if(s._chartjs){s._chartjs.listeners.push(t);return}Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),lu.forEach(e=>{let r="_onData"+tr(e),l=s[e];Object.defineProperty(s,e,{configurable:!0,enumerable:!1,value(...f){let g=l.apply(this,f);return s._chartjs.listeners.forEach(h=>{typeof h[r]=="function"&&h[r](...f)}),g}})})}function Wa(s,t){let e=s._chartjs;if(!e)return;let r=e.listeners,l=r.indexOf(t);l!==-1&&r.splice(l,1),!(r.length>0)&&(lu.forEach(f=>{delete s[f]}),delete s._chartjs)}function $a(s){let t=new Set,e,r;for(e=0,r=s.length;e<r;++e)t.add(s[e]);return t.size===r?s:Array.from(t)}var Ya=function(){return typeof window>"u"?function(s){return s()}:window.requestAnimationFrame}();function qa(s,t){let e=[],r=!1;return function(...l){e=l,r||(r=!0,Ya.call(window,()=>{r=!1,s.apply(t,e)}))}}function hu(s,t){let e;return function(...r){return t?(clearTimeout(e),e=setTimeout(s,t,r)):s.apply(this,r),t}}var ir=s=>s==="start"?"left":s==="end"?"right":"center",ae=(s,t,e)=>s==="start"?t:s==="end"?e:(t+e)/2,uu=(s,t,e,r)=>s===(r?"left":"right")?e:s==="center"?(t+e)/2:t;function Ua(s,t,e){let r=t.length,l=0,f=r;if(s._sorted){let{iScale:g,_parsed:h}=s,a=g.axis,{min:d,max:m,minDefined:_,maxDefined:y}=g.getUserBounds();_&&(l=se(Math.min(Ge(h,g.axis,d).lo,e?r:Ge(t,a,g.getPixelForValue(d)).lo),0,r-1)),y?f=se(Math.max(Ge(h,g.axis,m,!0).hi+1,e?0:Ge(t,a,g.getPixelForValue(m),!0).hi+1),l,r)-l:f=r-l}return{start:l,count:f}}function Xa(s){let{xScale:t,yScale:e,_scaleRanges:r}=s,l={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!r)return s._scaleRanges=l,!0;let f=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==e.min||r.ymax!==e.max;return Object.assign(r,l),f}var Xo=s=>s===0||s===1,qh=(s,t,e)=>-(Math.pow(2,10*(s-=1))*Math.sin((s-t)*Nt/e)),Uh=(s,t,e)=>Math.pow(2,-10*s)*Math.sin((s-t)*Nt/e)+1,Ei={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>-s*(s-2),easeInOutQuad:s=>(s/=.5)<1?.5*s*s:-.5*(--s*(s-2)-1),easeInCubic:s=>s*s*s,easeOutCubic:s=>(s-=1)*s*s+1,easeInOutCubic:s=>(s/=.5)<1?.5*s*s*s:.5*((s-=2)*s*s+2),easeInQuart:s=>s*s*s*s,easeOutQuart:s=>-((s-=1)*s*s*s-1),easeInOutQuart:s=>(s/=.5)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2),easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>(s-=1)*s*s*s*s+1,easeInOutQuint:s=>(s/=.5)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2),easeInSine:s=>-Math.cos(s*qt)+1,easeOutSine:s=>Math.sin(s*qt),easeInOutSine:s=>-.5*(Math.cos(Wt*s)-1),easeInExpo:s=>s===0?0:Math.pow(2,10*(s-1)),easeOutExpo:s=>s===1?1:-Math.pow(2,-10*s)+1,easeInOutExpo:s=>Xo(s)?s:s<.5?.5*Math.pow(2,10*(s*2-1)):.5*(-Math.pow(2,-10*(s*2-1))+2),easeInCirc:s=>s>=1?s:-(Math.sqrt(1-s*s)-1),easeOutCirc:s=>Math.sqrt(1-(s-=1)*s),easeInOutCirc:s=>(s/=.5)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1),easeInElastic:s=>Xo(s)?s:qh(s,.075,.3),easeOutElastic:s=>Xo(s)?s:Uh(s,.075,.3),easeInOutElastic(s){return Xo(s)?s:s<.5?.5*qh(s*2,.1125,.45):.5+.5*Uh(s*2-1,.1125,.45)},easeInBack(s){return s*s*((1.70158+1)*s-1.70158)},easeOutBack(s){return(s-=1)*s*((1.70158+1)*s+1.70158)+1},easeInOutBack(s){let t=1.70158;return(s/=.5)<1?.5*(s*s*(((t*=1.525)+1)*s-t)):.5*((s-=2)*s*(((t*=1.525)+1)*s+t)+2)},easeInBounce:s=>1-Ei.easeOutBounce(1-s),easeOutBounce(s){return s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375},easeInOutBounce:s=>s<.5?Ei.easeInBounce(s*2)*.5:Ei.easeOutBounce(s*2-1)*.5+.5};function fu(s){if(s&&typeof s=="object"){let t=s.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Ga(s){return fu(s)?s:new Fn(s)}function Ra(s){return fu(s)?s:new Fn(s).saturate(.5).darken(.1).hexString()}var ub=["x","y","borderWidth","radius","tension"],fb=["color","borderColor","backgroundColor"];function db(s){s.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),s.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),s.set("animations",{colors:{type:"color",properties:fb},numbers:{type:"number",properties:ub}}),s.describe("animations",{_fallback:"animation"}),s.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function gb(s){s.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var Xh=new Map;function pb(s,t){t=t||{};let e=s+JSON.stringify(t),r=Xh.get(e);return r||(r=new Intl.NumberFormat(s,t),Xh.set(e,r)),r}function Bi(s,t,e){return pb(t,e).format(s)}var du={values(s){return Ht(s)?s:""+s},numeric(s,t,e){if(s===0)return"0";let r=this.chart.options.locale,l,f=s;if(e.length>1){let d=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(d<1e-4||d>1e15)&&(l="scientific"),f=mb(s,e)}let g=ln(Math.abs(f)),h=Math.max(Math.min(-1*Math.floor(g),20),0),a={notation:l,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(a,this.options.ticks.format),Bi(s,r,a)},logarithmic(s,t,e){if(s===0)return"0";let r=e[t].significand||s/Math.pow(10,Math.floor(ln(s)));return[1,2,3,5,10,15].includes(r)||t>.8*e.length?du.numeric.call(this,s,t,e):""}};function mb(s,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&s!==Math.floor(s)&&(e=s-Math.floor(s)),e}var Es={formatters:du};function bb(s){s.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Es.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),s.route("scale.ticks","color","","color"),s.route("scale.grid","color","","borderColor"),s.route("scale.border","color","","borderColor"),s.route("scale.title","color","","color"),s.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),s.describe("scales",{_fallback:"scale"}),s.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}var Bn=Object.create(null),sr=Object.create(null);function Ts(s,t){if(!t)return s;let e=t.split(".");for(let r=0,l=e.length;r<l;++r){let f=e[r];s=s[f]||(s[f]=Object.create(null))}return s}function Sa(s,t,e){return typeof t=="string"?Li(Ts(s,t),e):Li(Ts(s,""),t)}var Ia=class{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,l)=>Ra(l.backgroundColor),this.hoverBorderColor=(r,l)=>Ra(l.borderColor),this.hoverColor=(r,l)=>Ra(l.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Sa(this,t,e)}get(t){return Ts(this,t)}describe(t,e){return Sa(sr,t,e)}override(t,e){return Sa(Bn,t,e)}route(t,e,r,l){let f=Ts(this,t),g=Ts(this,r),h="_"+e;Object.defineProperties(f,{[h]:{value:f[e],writable:!0},[e]:{enumerable:!0,get(){let a=this[h],d=g[l];return At(a)?Object.assign({},d,a):xt(a,d)},set(a){this[h]=a}}})}apply(t){t.forEach(e=>e(this))}},Kt=new Ia({_scriptable:s=>!s.startsWith("on"),_indexable:s=>s!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[db,gb,bb]);function _b(s){return!s||Ot(s.size)||Ot(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family}function Ds(s,t,e,r,l){let f=t[l];return f||(f=t[l]=s.measureText(l).width,e.push(l)),f>r&&(r=f),r}function gu(s,t,e,r){r=r||{};let l=r.data=r.data||{},f=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(l=r.data={},f=r.garbageCollect=[],r.font=t),s.save(),s.font=t;let g=0,h=e.length,a,d,m,_,y;for(a=0;a<h;a++)if(_=e[a],_!=null&&Ht(_)!==!0)g=Ds(s,l,f,g,_);else if(Ht(_))for(d=0,m=_.length;d<m;d++)y=_[d],y!=null&&!Ht(y)&&(g=Ds(s,l,f,g,y));s.restore();let w=f.length/2;if(w>e.length){for(a=0;a<w;a++)delete l[f[a]];f.splice(0,w)}return g}function Vn(s,t,e){let r=s.currentDevicePixelRatio,l=e!==0?Math.max(e/2,.5):0;return Math.round((t-l)*r)/r+l}function Ka(s,t){t=t||s.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,s.width,s.height),t.restore()}function or(s,t,e,r){Qa(s,t,e,r,null)}function Qa(s,t,e,r,l){let f,g,h,a,d,m,_,y,w=t.pointStyle,P=t.rotation,M=t.radius,T=(P||0)*cb;if(w&&typeof w=="object"&&(f=w.toString(),f==="[object HTMLImageElement]"||f==="[object HTMLCanvasElement]")){s.save(),s.translate(e,r),s.rotate(T),s.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),s.restore();return}if(!(isNaN(M)||M<=0)){switch(s.beginPath(),w){default:l?s.ellipse(e,r,l/2,M,0,0,Nt):s.arc(e,r,M,0,Nt),s.closePath();break;case"triangle":m=l?l/2:M,s.moveTo(e+Math.sin(T)*m,r-Math.cos(T)*M),T+=Yh,s.lineTo(e+Math.sin(T)*m,r-Math.cos(T)*M),T+=Yh,s.lineTo(e+Math.sin(T)*m,r-Math.cos(T)*M),s.closePath();break;case"rectRounded":d=M*.516,a=M-d,g=Math.cos(T+jn)*a,_=Math.cos(T+jn)*(l?l/2-d:a),h=Math.sin(T+jn)*a,y=Math.sin(T+jn)*(l?l/2-d:a),s.arc(e-_,r-h,d,T-Wt,T-qt),s.arc(e+y,r-g,d,T-qt,T),s.arc(e+_,r+h,d,T,T+qt),s.arc(e-y,r+g,d,T+qt,T+Wt),s.closePath();break;case"rect":if(!P){a=Math.SQRT1_2*M,m=l?l/2:a,s.rect(e-m,r-a,2*m,2*a);break}T+=jn;case"rectRot":_=Math.cos(T)*(l?l/2:M),g=Math.cos(T)*M,h=Math.sin(T)*M,y=Math.sin(T)*(l?l/2:M),s.moveTo(e-_,r-h),s.lineTo(e+y,r-g),s.lineTo(e+_,r+h),s.lineTo(e-y,r+g),s.closePath();break;case"crossRot":T+=jn;case"cross":_=Math.cos(T)*(l?l/2:M),g=Math.cos(T)*M,h=Math.sin(T)*M,y=Math.sin(T)*(l?l/2:M),s.moveTo(e-_,r-h),s.lineTo(e+_,r+h),s.moveTo(e+y,r-g),s.lineTo(e-y,r+g);break;case"star":_=Math.cos(T)*(l?l/2:M),g=Math.cos(T)*M,h=Math.sin(T)*M,y=Math.sin(T)*(l?l/2:M),s.moveTo(e-_,r-h),s.lineTo(e+_,r+h),s.moveTo(e+y,r-g),s.lineTo(e-y,r+g),T+=jn,_=Math.cos(T)*(l?l/2:M),g=Math.cos(T)*M,h=Math.sin(T)*M,y=Math.sin(T)*(l?l/2:M),s.moveTo(e-_,r-h),s.lineTo(e+_,r+h),s.moveTo(e+y,r-g),s.lineTo(e-y,r+g);break;case"line":g=l?l/2:Math.cos(T)*M,h=Math.sin(T)*M,s.moveTo(e-g,r-h),s.lineTo(e+g,r+h);break;case"dash":s.moveTo(e,r),s.lineTo(e+Math.cos(T)*(l?l/2:M),r+Math.sin(T)*M);break;case!1:s.closePath();break}s.fill(),t.borderWidth>0&&s.stroke()}}function Ri(s,t,e){return e=e||.5,!t||s&&s.x>t.left-e&&s.x<t.right+e&&s.y>t.top-e&&s.y<t.bottom+e}function Ls(s,t){s.save(),s.beginPath(),s.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),s.clip()}function Rs(s){s.restore()}function pu(s,t,e,r,l){if(!t)return s.lineTo(e.x,e.y);if(l==="middle"){let f=(t.x+e.x)/2;s.lineTo(f,t.y),s.lineTo(f,e.y)}else l==="after"!=!!r?s.lineTo(t.x,e.y):s.lineTo(e.x,t.y);s.lineTo(e.x,e.y)}function mu(s,t,e,r){if(!t)return s.lineTo(e.x,e.y);s.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?e.cp2x:e.cp1x,r?e.cp2y:e.cp1y,e.x,e.y)}function Hn(s,t,e,r,l,f={}){let g=Ht(t)?t:[t],h=f.strokeWidth>0&&f.strokeColor!=="",a,d;for(s.save(),s.font=l.string,xb(s,f),a=0;a<g.length;++a)d=g[a],f.backdrop&&yb(s,f.backdrop),h&&(f.strokeColor&&(s.strokeStyle=f.strokeColor),Ot(f.strokeWidth)||(s.lineWidth=f.strokeWidth),s.strokeText(d,e,r,f.maxWidth)),s.fillText(d,e,r,f.maxWidth),vb(s,e,r,d,f),r+=l.lineHeight;s.restore()}function xb(s,t){t.translation&&s.translate(t.translation[0],t.translation[1]),Ot(t.rotation)||s.rotate(t.rotation),t.color&&(s.fillStyle=t.color),t.textAlign&&(s.textAlign=t.textAlign),t.textBaseline&&(s.textBaseline=t.textBaseline)}function vb(s,t,e,r,l){if(l.strikethrough||l.underline){let f=s.measureText(r),g=t-f.actualBoundingBoxLeft,h=t+f.actualBoundingBoxRight,a=e-f.actualBoundingBoxAscent,d=e+f.actualBoundingBoxDescent,m=l.strikethrough?(a+d)/2:d;s.strokeStyle=s.fillStyle,s.beginPath(),s.lineWidth=l.decorationWidth||2,s.moveTo(g,m),s.lineTo(h,m),s.stroke()}}function yb(s,t){let e=s.fillStyle;s.fillStyle=t.color,s.fillRect(t.left,t.top,t.width,t.height),s.fillStyle=e}function Vi(s,t){let{x:e,y:r,w:l,h:f,radius:g}=t;s.arc(e+g.topLeft,r+g.topLeft,g.topLeft,-qt,Wt,!0),s.lineTo(e,r+f-g.bottomLeft),s.arc(e+g.bottomLeft,r+f-g.bottomLeft,g.bottomLeft,Wt,qt,!0),s.lineTo(e+l-g.bottomRight,r+f),s.arc(e+l-g.bottomRight,r+f-g.bottomRight,g.bottomRight,qt,0,!0),s.lineTo(e+l,r+g.topRight),s.arc(e+l-g.topRight,r+g.topRight,g.topRight,0,-qt,!0),s.lineTo(e+g.topLeft,r)}var wb=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,kb=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Pb(s,t){let e=(""+s).match(wb);if(!e||e[1]==="normal")return t*1.2;switch(s=+e[2],e[3]){case"px":return s;case"%":s/=100;break}return t*s}var Mb=s=>+s||0;function rr(s,t){let e={},r=At(t),l=r?Object.keys(t):t,f=At(s)?r?g=>xt(s[g],s[t[g]]):g=>s[g]:()=>s;for(let g of l)e[g]=Mb(f(g));return e}function Za(s){return rr(s,{top:"y",right:"x",bottom:"y",left:"x"})}function Nn(s){return rr(s,["topLeft","topRight","bottomLeft","bottomRight"])}function le(s){let t=Za(s);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ee(s,t){s=s||{},t=t||Kt.font;let e=xt(s.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let r=xt(s.style,t.style);r&&!(""+r).match(kb)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);let l={family:xt(s.family,t.family),lineHeight:Pb(xt(s.lineHeight,t.lineHeight),e),size:e,style:r,weight:xt(s.weight,t.weight),string:""};return l.string=_b(l),l}function Hi(s,t,e,r){let l=!0,f,g,h;for(f=0,g=s.length;f<g;++f)if(h=s[f],h!==void 0&&(t!==void 0&&typeof h=="function"&&(h=h(t),l=!1),e!==void 0&&Ht(h)&&(h=h[e%h.length],l=!1),h!==void 0))return r&&!l&&(r.cacheable=!1),h}function bu(s,t,e){let{min:r,max:l}=s,f=Fa(t,(l-r)/2),g=(h,a)=>e&&h===0?0:h+a;return{min:g(r,-Math.abs(f)),max:g(l,f)}}function hn(s,t){return Object.assign(Object.create(s),t)}function ar(s,t=[""],e=s,r,l=()=>s[0]){Ce(r)||(r=vu("_fallback",s));let f={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:s,_rootScopes:e,_fallback:r,_getTarget:l,override:g=>ar([g,...s],t,e,r)};return new Proxy(f,{deleteProperty(g,h){return delete g[h],delete g._keys,delete s[0][h],!0},get(g,h){return _u(g,h,()=>Rb(h,t,s,g))},getOwnPropertyDescriptor(g,h){return Reflect.getOwnPropertyDescriptor(g._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(s[0])},has(g,h){return Kh(g).includes(h)},ownKeys(g){return Kh(g)},set(g,h,a){let d=g._storage||(g._storage=l());return g[h]=d[h]=a,delete g._keys,!0}})}function ei(s,t,e,r){let l={_cacheable:!1,_proxy:s,_context:t,_subProxy:e,_stack:new Set,_descriptors:Ja(s,r),setContext:f=>ei(s,f,e,r),override:f=>ei(s.override(f),t,e,r)};return new Proxy(l,{deleteProperty(f,g){return delete f[g],delete s[g],!0},get(f,g,h){return _u(f,g,()=>Ab(f,g,h))},getOwnPropertyDescriptor(f,g){return f._descriptors.allKeys?Reflect.has(s,g)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(s,g)},getPrototypeOf(){return Reflect.getPrototypeOf(s)},has(f,g){return Reflect.has(s,g)},ownKeys(){return Reflect.ownKeys(s)},set(f,g,h){return s[g]=h,delete f[g],!0}})}function Ja(s,t={scriptable:!0,indexable:!0}){let{_scriptable:e=t.scriptable,_indexable:r=t.indexable,_allKeys:l=t.allKeys}=s;return{allKeys:l,scriptable:e,indexable:r,isScriptable:an(e)?e:()=>e,isIndexable:an(r)?r:()=>r}}var Cb=(s,t)=>s?s+tr(t):t,ja=(s,t)=>At(t)&&s!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function _u(s,t,e){if(Object.prototype.hasOwnProperty.call(s,t))return s[t];let r=e();return s[t]=r,r}function Ab(s,t,e){let{_proxy:r,_context:l,_subProxy:f,_descriptors:g}=s,h=r[t];return an(h)&&g.isScriptable(t)&&(h=Tb(t,h,s,e)),Ht(h)&&h.length&&(h=Db(t,h,s,g.isIndexable)),ja(t,h)&&(h=ei(h,l,f&&f[t],g)),h}function Tb(s,t,e,r){let{_proxy:l,_context:f,_subProxy:g,_stack:h}=e;if(h.has(s))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+s);return h.add(s),t=t(f,g||r),h.delete(s),ja(s,t)&&(t=tl(l._scopes,l,s,t)),t}function Db(s,t,e,r){let{_proxy:l,_context:f,_subProxy:g,_descriptors:h}=e;if(Ce(f.index)&&r(s))t=t[f.index%t.length];else if(At(t[0])){let a=t,d=l._scopes.filter(m=>m!==a);t=[];for(let m of a){let _=tl(d,l,s,m);t.push(ei(_,f,g&&g[s],h))}}return t}function xu(s,t,e){return an(s)?s(t,e):s}var Ob=(s,t)=>s===!0?t:typeof s=="string"?cn(t,s):void 0;function Eb(s,t,e,r,l){for(let f of t){let g=Ob(e,f);if(g){s.add(g);let h=xu(g._fallback,e,l);if(Ce(h)&&h!==e&&h!==r)return h}else if(g===!1&&Ce(r)&&e!==r)return null}return!1}function tl(s,t,e,r){let l=t._rootScopes,f=xu(t._fallback,e,r),g=[...s,...l],h=new Set;h.add(r);let a=Gh(h,g,e,f||e,r);return a===null||Ce(f)&&f!==e&&(a=Gh(h,g,f,a,r),a===null)?!1:ar(Array.from(h),[""],l,f,()=>Lb(t,e,r))}function Gh(s,t,e,r,l){for(;e;)e=Eb(s,t,e,r,l);return e}function Lb(s,t,e){let r=s._getTarget();t in r||(r[t]={});let l=r[t];return Ht(l)&&At(e)?e:l||{}}function Rb(s,t,e,r){let l;for(let f of t)if(l=vu(Cb(f,s),e),Ce(l))return ja(s,l)?tl(e,r,s,l):l}function vu(s,t){for(let e of t){if(!e)continue;let r=e[s];if(Ce(r))return r}}function Kh(s){let t=s._keys;return t||(t=s._keys=Sb(s._scopes)),t}function Sb(s){let t=new Set;for(let e of s)for(let r of Object.keys(e).filter(l=>!l.startsWith("_")))t.add(r);return Array.from(t)}function el(s,t,e,r){let{iScale:l}=s,{key:f="r"}=this._parsing,g=new Array(r),h,a,d,m;for(h=0,a=r;h<a;++h)d=h+e,m=t[d],g[h]={r:l.parse(cn(m,f),d)};return g}var Ib=Number.EPSILON||1e-14,Si=(s,t)=>t<s.length&&!s[t].skip&&s[t],yu=s=>s==="x"?"y":"x";function Fb(s,t,e,r){let l=s.skip?t:s,f=t,g=e.skip?t:e,h=Jo(f,l),a=Jo(g,f),d=h/(h+a),m=a/(h+a);d=isNaN(d)?0:d,m=isNaN(m)?0:m;let _=r*d,y=r*m;return{previous:{x:f.x-_*(g.x-l.x),y:f.y-_*(g.y-l.y)},next:{x:f.x+y*(g.x-l.x),y:f.y+y*(g.y-l.y)}}}function zb(s,t,e){let r=s.length,l,f,g,h,a,d=Si(s,0);for(let m=0;m<r-1;++m)if(a=d,d=Si(s,m+1),!(!a||!d)){if(Fi(t[m],0,Ib)){e[m]=e[m+1]=0;continue}l=e[m]/t[m],f=e[m+1]/t[m],h=Math.pow(l,2)+Math.pow(f,2),!(h<=9)&&(g=3/Math.sqrt(h),e[m]=l*g*t[m],e[m+1]=f*g*t[m])}}function Bb(s,t,e="x"){let r=yu(e),l=s.length,f,g,h,a=Si(s,0);for(let d=0;d<l;++d){if(g=h,h=a,a=Si(s,d+1),!h)continue;let m=h[e],_=h[r];g&&(f=(m-g[e])/3,h[`cp1${e}`]=m-f,h[`cp1${r}`]=_-f*t[d]),a&&(f=(a[e]-m)/3,h[`cp2${e}`]=m+f,h[`cp2${r}`]=_+f*t[d])}}function Vb(s,t="x"){let e=yu(t),r=s.length,l=Array(r).fill(0),f=Array(r),g,h,a,d=Si(s,0);for(g=0;g<r;++g)if(h=a,a=d,d=Si(s,g+1),!!a){if(d){let m=d[t]-a[t];l[g]=m!==0?(d[e]-a[e])/m:0}f[g]=h?d?qe(l[g-1])!==qe(l[g])?0:(l[g-1]+l[g])/2:l[g-1]:l[g]}zb(s,l,f),Bb(s,f,t)}function Go(s,t,e){return Math.max(Math.min(s,e),t)}function Hb(s,t){let e,r,l,f,g,h=Ri(s[0],t);for(e=0,r=s.length;e<r;++e)g=f,f=h,h=e<r-1&&Ri(s[e+1],t),f&&(l=s[e],g&&(l.cp1x=Go(l.cp1x,t.left,t.right),l.cp1y=Go(l.cp1y,t.top,t.bottom)),h&&(l.cp2x=Go(l.cp2x,t.left,t.right),l.cp2y=Go(l.cp2y,t.top,t.bottom)))}function wu(s,t,e,r,l){let f,g,h,a;if(t.spanGaps&&(s=s.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")Vb(s,l);else{let d=r?s[s.length-1]:s[0];for(f=0,g=s.length;f<g;++f)h=s[f],a=Fb(d,h,s[Math.min(f+1,g-(r?0:1))%g],t.tension),h.cp1x=a.previous.x,h.cp1y=a.previous.y,h.cp2x=a.next.x,h.cp2y=a.next.y,d=h}t.capBezierPoints&&Hb(s,e)}function nl(){return typeof window<"u"&&typeof document<"u"}function lr(s){let t=s.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function jo(s,t,e){let r;return typeof s=="string"?(r=parseInt(s,10),s.indexOf("%")!==-1&&(r=r/100*t.parentNode[e])):r=s,r}var cr=s=>s.ownerDocument.defaultView.getComputedStyle(s,null);function Nb(s,t){return cr(s).getPropertyValue(t)}var Wb=["top","right","bottom","left"];function ti(s,t,e){let r={};e=e?"-"+e:"";for(let l=0;l<4;l++){let f=Wb[l];r[f]=parseFloat(s[t+"-"+f+e])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}var $b=(s,t,e)=>(s>0||t>0)&&(!e||!e.shadowRoot);function Yb(s,t){let e=s.touches,r=e&&e.length?e[0]:s,{offsetX:l,offsetY:f}=r,g=!1,h,a;if($b(l,f,s.target))h=l,a=f;else{let d=t.getBoundingClientRect();h=r.clientX-d.left,a=r.clientY-d.top,g=!0}return{x:h,y:a,box:g}}function Wn(s,t){if("native"in s)return s;let{canvas:e,currentDevicePixelRatio:r}=t,l=cr(e),f=l.boxSizing==="border-box",g=ti(l,"padding"),h=ti(l,"border","width"),{x:a,y:d,box:m}=Yb(s,e),_=g.left+(m&&h.left),y=g.top+(m&&h.top),{width:w,height:P}=t;return f&&(w-=g.width+h.width,P-=g.height+h.height),{x:Math.round((a-_)/w*e.width/r),y:Math.round((d-y)/P*e.height/r)}}function qb(s,t,e){let r,l;if(t===void 0||e===void 0){let f=lr(s);if(!f)t=s.clientWidth,e=s.clientHeight;else{let g=f.getBoundingClientRect(),h=cr(f),a=ti(h,"border","width"),d=ti(h,"padding");t=g.width-d.width-a.width,e=g.height-d.height-a.height,r=jo(h.maxWidth,f,"clientWidth"),l=jo(h.maxHeight,f,"clientHeight")}}return{width:t,height:e,maxWidth:r||Zo,maxHeight:l||Zo}}var Ko=s=>Math.round(s*10)/10;function ku(s,t,e,r){let l=cr(s),f=ti(l,"margin"),g=jo(l.maxWidth,s,"clientWidth")||Zo,h=jo(l.maxHeight,s,"clientHeight")||Zo,a=qb(s,t,e),{width:d,height:m}=a;if(l.boxSizing==="content-box"){let y=ti(l,"border","width"),w=ti(l,"padding");d-=w.width+y.width,m-=w.height+y.height}return d=Math.max(0,d-f.width),m=Math.max(0,r?d/r:m-f.height),d=Ko(Math.min(d,g,a.maxWidth)),m=Ko(Math.min(m,h,a.maxHeight)),d&&!m&&(m=Ko(d/2)),(t!==void 0||e!==void 0)&&r&&a.height&&m>a.height&&(m=a.height,d=Ko(Math.floor(m*r))),{width:d,height:m}}function il(s,t,e){let r=t||1,l=Math.floor(s.height*r),f=Math.floor(s.width*r);s.height=Math.floor(s.height),s.width=Math.floor(s.width);let g=s.canvas;return g.style&&(e||!g.style.height&&!g.style.width)&&(g.style.height=`${s.height}px`,g.style.width=`${s.width}px`),s.currentDevicePixelRatio!==r||g.height!==l||g.width!==f?(s.currentDevicePixelRatio=r,g.height=l,g.width=f,s.ctx.setTransform(r,0,0,r,0,0),!0):!1}var Pu=function(){let s=!1;try{let t={get passive(){return s=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return s}();function sl(s,t){let e=Nb(s,t),r=e&&e.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function zn(s,t,e,r){return{x:s.x+e*(t.x-s.x),y:s.y+e*(t.y-s.y)}}function Mu(s,t,e,r){return{x:s.x+e*(t.x-s.x),y:r==="middle"?e<.5?s.y:t.y:r==="after"?e<1?s.y:t.y:e>0?t.y:s.y}}function Cu(s,t,e,r){let l={x:s.cp2x,y:s.cp2y},f={x:t.cp1x,y:t.cp1y},g=zn(s,l,e),h=zn(l,f,e),a=zn(f,t,e),d=zn(g,h,e),m=zn(h,a,e);return zn(d,m,e)}var Ub=function(s,t){return{x(e){return s+s+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,r){return e-r},leftForLtr(e,r){return e-r}}},Xb=function(){return{x(s){return s},setWidth(s){},textAlign(s){return s},xPlus(s,t){return s+t},leftForLtr(s,t){return s}}};function ii(s,t,e){return s?Ub(t,e):Xb()}function ol(s,t){let e,r;(t==="ltr"||t==="rtl")&&(e=s.canvas.style,r=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),s.prevTextDirection=r)}function rl(s,t){t!==void 0&&(delete s.prevTextDirection,s.canvas.style.setProperty("direction",t[0],t[1]))}function Au(s){return s==="angle"?{between:zi,compare:hb,normalize:ve}:{between:Qe,compare:(t,e)=>t-e,normalize:t=>t}}function Qh({start:s,end:t,count:e,loop:r,style:l}){return{start:s%e,end:t%e,loop:r&&(t-s+1)%e===0,style:l}}function Gb(s,t,e){let{property:r,start:l,end:f}=e,{between:g,normalize:h}=Au(r),a=t.length,{start:d,end:m,loop:_}=s,y,w;if(_){for(d+=a,m+=a,y=0,w=a;y<w&&g(h(t[d%a][r]),l,f);++y)d--,m--;d%=a,m%=a}return m<d&&(m+=a),{start:d,end:m,loop:_,style:s.style}}function al(s,t,e){if(!e)return[s];let{property:r,start:l,end:f}=e,g=t.length,{compare:h,between:a,normalize:d}=Au(r),{start:m,end:_,loop:y,style:w}=Gb(s,t,e),P=[],M=!1,T=null,C,D,L,I=()=>a(l,L,C)&&h(l,L)!==0,B=()=>h(f,C)===0||a(f,L,C),N=()=>M||I(),U=()=>!M||B();for(let X=m,G=m;X<=_;++X)D=t[X%g],!D.skip&&(C=d(D[r]),C!==L&&(M=a(C,l,f),T===null&&N()&&(T=h(C,l)===0?X:G),T!==null&&U()&&(P.push(Qh({start:T,end:X,loop:y,count:g,style:w})),T=null),G=X,L=C));return T!==null&&P.push(Qh({start:T,end:_,loop:y,count:g,style:w})),P}function ll(s,t){let e=[],r=s.segments;for(let l=0;l<r.length;l++){let f=al(r[l],s.points,t);f.length&&e.push(...f)}return e}function Kb(s,t,e,r){let l=0,f=t-1;if(e&&!r)for(;l<t&&!s[l].skip;)l++;for(;l<t&&s[l].skip;)l++;for(l%=t,e&&(f+=l);f>l&&s[f%t].skip;)f--;return f%=t,{start:l,end:f}}function Qb(s,t,e,r){let l=s.length,f=[],g=t,h=s[t],a;for(a=t+1;a<=e;++a){let d=s[a%l];d.skip||d.stop?h.skip||(r=!1,f.push({start:t%l,end:(a-1)%l,loop:r}),t=g=d.stop?a:null):(g=a,h.skip&&(t=a)),h=d}return g!==null&&f.push({start:t%l,end:g%l,loop:r}),f}function Tu(s,t){let e=s.points,r=s.options.spanGaps,l=e.length;if(!l)return[];let f=!!s._loop,{start:g,end:h}=Kb(e,l,f,r);if(r===!0)return Zh(s,[{start:g,end:h,loop:f}],e,t);let a=h<g?h+l:h,d=!!s._fullLoop&&g===0&&h===l-1;return Zh(s,Qb(e,g,a,d),e,t)}function Zh(s,t,e,r){return!r||!r.setContext||!e?t:Zb(s,t,e,r)}function Zb(s,t,e,r){let l=s._chart.getContext(),f=Jh(s.options),{_datasetIndex:g,options:{spanGaps:h}}=s,a=e.length,d=[],m=f,_=t[0].start,y=_;function w(P,M,T,C){let D=h?-1:1;if(P!==M){for(P+=a;e[P%a].skip;)P-=D;for(;e[M%a].skip;)M+=D;P%a!==M%a&&(d.push({start:P%a,end:M%a,loop:T,style:C}),m=C,_=M%a)}}for(let P of t){_=h?_:P.start;let M=e[_%a],T;for(y=_+1;y<=P.end;y++){let C=e[y%a];T=Jh(r.setContext(hn(l,{type:"segment",p0:M,p1:C,p0DataIndex:(y-1)%a,p1DataIndex:y%a,datasetIndex:g}))),Jb(T,m)&&w(_,y-1,P.loop,m),M=C,m=T}_<y-1&&w(_,y-1,P.loop,m)}return d}function Jh(s){return{backgroundColor:s.backgroundColor,borderCapStyle:s.borderCapStyle,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderJoinStyle:s.borderJoinStyle,borderWidth:s.borderWidth,borderColor:s.borderColor}}function Jb(s,t){return t&&JSON.stringify(s)!==JSON.stringify(t)}var _l=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,r,l){let f=e.listeners[l],g=e.duration;f.forEach(h=>h({chart:t,initial:e.initial,numSteps:g,currentStep:Math.min(r-e.start,g)}))}_refresh(){this._request||(this._running=!0,this._request=Ya.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((r,l)=>{if(!r.running||!r.items.length)return;let f=r.items,g=f.length-1,h=!1,a;for(;g>=0;--g)a=f[g],a._active?(a._total>r.duration&&(r.duration=a._total),a.tick(t),h=!0):(f[g]=f[f.length-1],f.pop());h&&(l.draw(),this._notify(l,r,t,"progress")),f.length||(r.running=!1,this._notify(l,r,t,"complete"),r.initial=!1),e+=f.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){let e=this._charts,r=e.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,r)),r}listen(t,e,r){this._getAnims(t).listeners[e].push(r)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){let e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((r,l)=>Math.max(r,l._duration),0),this._refresh())}running(t){if(!this._running)return!1;let e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){let e=this._charts.get(t);if(!e||!e.items.length)return;let r=e.items,l=r.length-1;for(;l>=0;--l)r[l].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}},un=new _l,Du="transparent",jb={boolean(s,t,e){return e>.5?t:s},color(s,t,e){let r=Ga(s||Du),l=r.valid&&Ga(t||Du);return l&&l.valid?l.mix(r,e).hexString():t},number(s,t,e){return s+(t-s)*e}},xl=class{constructor(t,e,r,l){let f=e[r];l=Hi([t.to,l,f,t.from]);let g=Hi([t.from,f,l]);this._active=!0,this._fn=t.fn||jb[t.type||typeof g],this._easing=Ei[t.easing]||Ei.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=r,this._from=g,this._to=l,this._promises=void 0}active(){return this._active}update(t,e,r){if(this._active){this._notify(!1);let l=this._target[this._prop],f=r-this._start,g=this._duration-f;this._start=r,this._duration=Math.floor(Math.max(g,t.duration)),this._total+=f,this._loop=!!t.loop,this._to=Hi([t.to,e,l,t.from]),this._from=Hi([t.from,l,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){let e=t-this._start,r=this._duration,l=this._prop,f=this._from,g=this._loop,h=this._to,a;if(this._active=f!==h&&(g||e<r),!this._active){this._target[l]=h,this._notify(!0);return}if(e<0){this._target[l]=f;return}a=e/r%2,a=g&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[l]=this._fn(f,h,a)}wait(){let t=this._promises||(this._promises=[]);return new Promise((e,r)=>{t.push({res:e,rej:r})})}_notify(t){let e=t?"res":"rej",r=this._promises||[];for(let l=0;l<r.length;l++)r[l][e]()}},_r=class{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!At(t))return;let e=Object.keys(Kt.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(l=>{let f=t[l];if(!At(f))return;let g={};for(let h of e)g[h]=f[h];(Ht(f.properties)&&f.properties||[l]).forEach(h=>{(h===l||!r.has(h))&&r.set(h,g)})})}_animateOptions(t,e){let r=e.options,l=e0(t,r);if(!l)return[];let f=this._createAnimations(l,r);return r.$shared&&t0(t.options.$animations,r).then(()=>{t.options=r},()=>{}),f}_createAnimations(t,e){let r=this._properties,l=[],f=t.$animations||(t.$animations={}),g=Object.keys(e),h=Date.now(),a;for(a=g.length-1;a>=0;--a){let d=g[a];if(d.charAt(0)==="$")continue;if(d==="options"){l.push(...this._animateOptions(t,e));continue}let m=e[d],_=f[d],y=r.get(d);if(_)if(y&&_.active()){_.update(y,m,h);continue}else _.cancel();if(!y||!y.duration){t[d]=m;continue}f[d]=_=new xl(y,t,d,m),l.push(_)}return l}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}let r=this._createAnimations(t,e);if(r.length)return un.add(this._chart,r),!0}};function t0(s,t){let e=[],r=Object.keys(t);for(let l=0;l<r.length;l++){let f=s[r[l]];f&&f.active()&&e.push(f.wait())}return Promise.all(e)}function e0(s,t){if(!t)return;let e=s.options;if(!e){s.options=t;return}return e.$shared&&(s.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Ou(s,t){let e=s&&s.options||{},r=e.reverse,l=e.min===void 0?t:0,f=e.max===void 0?t:0;return{start:r?f:l,end:r?l:f}}function n0(s,t,e){if(e===!1)return!1;let r=Ou(s,e),l=Ou(t,e);return{top:l.end,right:r.end,bottom:l.start,left:r.start}}function i0(s){let t,e,r,l;return At(s)?(t=s.top,e=s.right,r=s.bottom,l=s.left):t=e=r=l=s,{top:t,right:e,bottom:r,left:l,disabled:s===!1}}function Af(s,t){let e=[],r=s._getSortedDatasetMetas(t),l,f;for(l=0,f=r.length;l<f;++l)e.push(r[l].index);return e}function Eu(s,t,e,r={}){let l=s.keys,f=r.mode==="single",g,h,a,d;if(t!==null){for(g=0,h=l.length;g<h;++g){if(a=+l[g],a===e){if(r.all)continue;break}d=s.values[a],Ut(d)&&(f||t===0||qe(t)===qe(d))&&(t+=d)}return t}}function s0(s){let t=Object.keys(s),e=new Array(t.length),r,l,f;for(r=0,l=t.length;r<l;++r)f=t[r],e[r]={x:f,y:s[f]};return e}function Lu(s,t){let e=s&&s.options.stacked;return e||e===void 0&&t.stack!==void 0}function o0(s,t,e){return`${s.id}.${t.id}.${e.stack||e.type}`}function r0(s){let{min:t,max:e,minDefined:r,maxDefined:l}=s.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:l?e:Number.POSITIVE_INFINITY}}function a0(s,t,e){let r=s[t]||(s[t]={});return r[e]||(r[e]={})}function Ru(s,t,e,r){for(let l of t.getMatchingVisibleMetas(r).reverse()){let f=s[l.index];if(e&&f>0||!e&&f<0)return l.index}return null}function Su(s,t){let{chart:e,_cachedMeta:r}=s,l=e._stacks||(e._stacks={}),{iScale:f,vScale:g,index:h}=r,a=f.axis,d=g.axis,m=o0(f,g,r),_=t.length,y;for(let w=0;w<_;++w){let P=t[w],{[a]:M,[d]:T}=P,C=P._stacks||(P._stacks={});y=C[d]=a0(l,m,M),y[h]=T,y._top=Ru(y,g,!0,r.type),y._bottom=Ru(y,g,!1,r.type);let D=y._visualValues||(y._visualValues={});D[h]=T}}function cl(s,t){let e=s.scales;return Object.keys(e).filter(r=>e[r].axis===t).shift()}function l0(s,t){return hn(s,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function c0(s,t,e){return hn(s,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Ss(s,t){let e=s.controller.index,r=s.vScale&&s.vScale.axis;if(r){t=t||s._parsed;for(let l of t){let f=l._stacks;if(!f||f[r]===void 0||f[r][e]===void 0)return;delete f[r][e],f[r]._visualValues!==void 0&&f[r]._visualValues[e]!==void 0&&delete f[r]._visualValues[e]}}}var hl=s=>s==="reset"||s==="none",Iu=(s,t)=>t?s:Object.assign({},s),h0=(s,t,e)=>s&&!t.hidden&&t._stacked&&{keys:Af(e,!0),values:null},Ae=class{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Lu(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Ss(this._cachedMeta),this.index=t}linkScales(){let t=this.chart,e=this._cachedMeta,r=this.getDataset(),l=(_,y,w,P)=>_==="x"?y:_==="r"?P:w,f=e.xAxisID=xt(r.xAxisID,cl(t,"x")),g=e.yAxisID=xt(r.yAxisID,cl(t,"y")),h=e.rAxisID=xt(r.rAxisID,cl(t,"r")),a=e.indexAxis,d=e.iAxisID=l(a,f,g,h),m=e.vAxisID=l(a,g,f,h);e.xScale=this.getScaleForId(f),e.yScale=this.getScaleForId(g),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(d),e.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){let e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){let t=this._cachedMeta;this._data&&Wa(this._data,this),t._stacked&&Ss(t)}_dataCheck(){let t=this.getDataset(),e=t.data||(t.data=[]),r=this._data;if(At(e))this._data=s0(e);else if(r!==e){if(r){Wa(r,this);let l=this._cachedMeta;Ss(l),l._parsed=[]}e&&Object.isExtensible(e)&&cu(e,this),this._syncList=[],this._data=e}}addElements(){let t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){let e=this._cachedMeta,r=this.getDataset(),l=!1;this._dataCheck();let f=e._stacked;e._stacked=Lu(e.vScale,e),e.stack!==r.stack&&(l=!0,Ss(e),e.stack=r.stack),this._resyncElements(t),(l||f!==e._stacked)&&Su(this,e._parsed)}configure(){let t=this.chart.config,e=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){let{_cachedMeta:r,_data:l}=this,{iScale:f,_stacked:g}=r,h=f.axis,a=t===0&&e===l.length?!0:r._sorted,d=t>0&&r._parsed[t-1],m,_,y;if(this._parsing===!1)r._parsed=l,r._sorted=!0,y=l;else{Ht(l[t])?y=this.parseArrayData(r,l,t,e):At(l[t])?y=this.parseObjectData(r,l,t,e):y=this.parsePrimitiveData(r,l,t,e);let w=()=>_[h]===null||d&&_[h]<d[h];for(m=0;m<e;++m)r._parsed[m+t]=_=y[m],a&&(w()&&(a=!1),d=_);r._sorted=a}g&&Su(this,y)}parsePrimitiveData(t,e,r,l){let{iScale:f,vScale:g}=t,h=f.axis,a=g.axis,d=f.getLabels(),m=f===g,_=new Array(l),y,w,P;for(y=0,w=l;y<w;++y)P=y+r,_[y]={[h]:m||f.parse(d[P],P),[a]:g.parse(e[P],P)};return _}parseArrayData(t,e,r,l){let{xScale:f,yScale:g}=t,h=new Array(l),a,d,m,_;for(a=0,d=l;a<d;++a)m=a+r,_=e[m],h[a]={x:f.parse(_[0],m),y:g.parse(_[1],m)};return h}parseObjectData(t,e,r,l){let{xScale:f,yScale:g}=t,{xAxisKey:h="x",yAxisKey:a="y"}=this._parsing,d=new Array(l),m,_,y,w;for(m=0,_=l;m<_;++m)y=m+r,w=e[y],d[m]={x:f.parse(cn(w,h),y),y:g.parse(cn(w,a),y)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,r){let l=this.chart,f=this._cachedMeta,g=e[t.axis],h={keys:Af(l,!0),values:e._stacks[t.axis]._visualValues};return Eu(h,g,f.index,{mode:r})}updateRangeFromParsed(t,e,r,l){let f=r[e.axis],g=f===null?NaN:f,h=l&&r._stacks[e.axis];l&&h&&(l.values=h,g=Eu(l,f,this._cachedMeta.index)),t.min=Math.min(t.min,g),t.max=Math.max(t.max,g)}getMinMax(t,e){let r=this._cachedMeta,l=r._parsed,f=r._sorted&&t===r.iScale,g=l.length,h=this._getOtherScale(t),a=h0(e,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:_}=r0(h),y,w;function P(){w=l[y];let M=w[h.axis];return!Ut(w[t.axis])||m>M||_<M}for(y=0;y<g&&!(!P()&&(this.updateRangeFromParsed(d,t,w,a),f));++y);if(f){for(y=g-1;y>=0;--y)if(!P()){this.updateRangeFromParsed(d,t,w,a);break}}return d}getAllParsedValues(t){let e=this._cachedMeta._parsed,r=[],l,f,g;for(l=0,f=e.length;l<f;++l)g=e[l][t.axis],Ut(g)&&r.push(g);return r}getMaxOverflow(){return!1}getLabelAndValue(t){let e=this._cachedMeta,r=e.iScale,l=e.vScale,f=this.getParsed(t);return{label:r?""+r.getLabelForValue(f[r.axis]):"",value:l?""+l.getLabelForValue(f[l.axis]):""}}_update(t){let e=this._cachedMeta;this.update(t||"default"),e._clip=i0(xt(this.options.clip,n0(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){let t=this._ctx,e=this.chart,r=this._cachedMeta,l=r.data||[],f=e.chartArea,g=[],h=this._drawStart||0,a=this._drawCount||l.length-h,d=this.options.drawActiveElementsOnTop,m;for(r.dataset&&r.dataset.draw(t,f,h,a),m=h;m<h+a;++m){let _=l[m];_.hidden||(_.active&&d?g.push(_):_.draw(t,f))}for(m=0;m<g.length;++m)g[m].draw(t,f)}getStyle(t,e){let r=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,e,r){let l=this.getDataset(),f;if(t>=0&&t<this._cachedMeta.data.length){let g=this._cachedMeta.data[t];f=g.$context||(g.$context=c0(this.getContext(),t,g)),f.parsed=this.getParsed(t),f.raw=l.data[t],f.index=f.dataIndex=t}else f=this.$context||(this.$context=l0(this.chart.getContext(),this.index)),f.dataset=l,f.index=f.datasetIndex=this.index;return f.active=!!e,f.mode=r,f}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",r){let l=e==="active",f=this._cachedDataOpts,g=t+"-"+e,h=f[g],a=this.enableOptionSharing&&Ce(r);if(h)return Iu(h,a);let d=this.chart.config,m=d.datasetElementScopeKeys(this._type,t),_=l?[`${t}Hover`,"hover",t,""]:[t,""],y=d.getOptionScopes(this.getDataset(),m),w=Object.keys(Kt.elements[t]),P=()=>this.getContext(r,l,e),M=d.resolveNamedOptions(y,w,P,_);return M.$shared&&(M.$shared=a,f[g]=Object.freeze(Iu(M,a))),M}_resolveAnimations(t,e,r){let l=this.chart,f=this._cachedDataOpts,g=`animation-${e}`,h=f[g];if(h)return h;let a;if(l.options.animation!==!1){let m=this.chart.config,_=m.datasetAnimationScopeKeys(this._type,e),y=m.getOptionScopes(this.getDataset(),_);a=m.createResolver(y,this.getContext(t,r,e))}let d=new _r(l,a&&a.animations);return a&&a._cacheable&&(f[g]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||hl(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){let r=this.resolveDataElementOptions(t,e),l=this._sharedOptions,f=this.getSharedOptions(r),g=this.includeOptions(e,f)||f!==l;return this.updateSharedOptions(f,e,r),{sharedOptions:f,includeOptions:g}}updateElement(t,e,r,l){hl(l)?Object.assign(t,r):this._resolveAnimations(e,l).update(t,r)}updateSharedOptions(t,e,r){t&&!hl(e)&&this._resolveAnimations(void 0,e).update(t,r)}_setStyle(t,e,r,l){t.active=l;let f=this.getStyle(e,l);this._resolveAnimations(e,r,l).update(t,{options:!l&&this.getSharedOptions(f)||f})}removeHoverStyle(t,e,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,e,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){let e=this._data,r=this._cachedMeta.data;for(let[h,a,d]of this._syncList)this[h](a,d);this._syncList=[];let l=r.length,f=e.length,g=Math.min(f,l);g&&this.parse(0,g),f>l?this._insertElements(l,f-l,t):f<l&&this._removeElements(f,l-f)}_insertElements(t,e,r=!0){let l=this._cachedMeta,f=l.data,g=t+e,h,a=d=>{for(d.length+=e,h=d.length-1;h>=g;h--)d[h]=d[h-e]};for(a(f),h=t;h<g;++h)f[h]=new this.dataElementType;this._parsing&&a(l._parsed),this.parse(t,e),r&&this.updateElements(f,t,e,"reset")}updateElements(t,e,r,l){}_removeElements(t,e){let r=this._cachedMeta;if(this._parsing){let l=r._parsed.splice(t,e);r._stacked&&Ss(r,l)}r.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{let[e,r,l]=t;this[e](r,l)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){let t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);let r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}};ht(Ae,"defaults",{}),ht(Ae,"datasetElementType",null),ht(Ae,"dataElementType",null);function u0(s,t){if(!s._cache.$bar){let e=s.getMatchingVisibleMetas(t),r=[];for(let l=0,f=e.length;l<f;l++)r=r.concat(e[l].controller.getAllParsedValues(s));s._cache.$bar=$a(r.sort((l,f)=>l-f))}return s._cache.$bar}function f0(s){let t=s.iScale,e=u0(t,s.type),r=t._length,l,f,g,h,a=()=>{g===32767||g===-32768||(Ce(h)&&(r=Math.min(r,Math.abs(g-h)||r)),h=g)};for(l=0,f=e.length;l<f;++l)g=t.getPixelForValue(e[l]),a();for(h=void 0,l=0,f=t.ticks.length;l<f;++l)g=t.getPixelForTick(l),a();return r}function d0(s,t,e,r){let l=e.barThickness,f,g;return Ot(l)?(f=t.min*e.categoryPercentage,g=e.barPercentage):(f=l*r,g=1),{chunk:f/r,ratio:g,start:t.pixels[s]-f/2}}function g0(s,t,e,r){let l=t.pixels,f=l[s],g=s>0?l[s-1]:null,h=s<l.length-1?l[s+1]:null,a=e.categoryPercentage;g===null&&(g=f-(h===null?t.end-t.start:h-f)),h===null&&(h=f+f-g);let d=f-(f-Math.min(g,h))/2*a;return{chunk:Math.abs(h-g)/2*a/r,ratio:e.barPercentage,start:d}}function p0(s,t,e,r){let l=e.parse(s[0],r),f=e.parse(s[1],r),g=Math.min(l,f),h=Math.max(l,f),a=g,d=h;Math.abs(g)>Math.abs(h)&&(a=h,d=g),t[e.axis]=d,t._custom={barStart:a,barEnd:d,start:l,end:f,min:g,max:h}}function Tf(s,t,e,r){return Ht(s)?p0(s,t,e,r):t[e.axis]=e.parse(s,r),t}function Fu(s,t,e,r){let l=s.iScale,f=s.vScale,g=l.getLabels(),h=l===f,a=[],d,m,_,y;for(d=e,m=e+r;d<m;++d)y=t[d],_={},_[l.axis]=h||l.parse(g[d],d),a.push(Tf(y,_,f,d));return a}function ul(s){return s&&s.barStart!==void 0&&s.barEnd!==void 0}function m0(s,t,e){return s!==0?qe(s):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function b0(s){let t,e,r,l,f;return s.horizontal?(t=s.base>s.x,e="left",r="right"):(t=s.base<s.y,e="bottom",r="top"),t?(l="end",f="start"):(l="start",f="end"),{start:e,end:r,reverse:t,top:l,bottom:f}}function _0(s,t,e,r){let l=t.borderSkipped,f={};if(!l){s.borderSkipped=f;return}if(l===!0){s.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:g,end:h,reverse:a,top:d,bottom:m}=b0(s);l==="middle"&&e&&(s.enableBorderRadius=!0,(e._top||0)===r?l=d:(e._bottom||0)===r?l=m:(f[zu(m,g,h,a)]=!0,l=d)),f[zu(l,g,h,a)]=!0,s.borderSkipped=f}function zu(s,t,e,r){return r?(s=x0(s,t,e),s=Bu(s,e,t)):s=Bu(s,t,e),s}function x0(s,t,e){return s===t?e:s===e?t:s}function Bu(s,t,e){return s==="start"?t:s==="end"?e:s}function v0(s,{inflateAmount:t},e){s.inflateAmount=t==="auto"?e===1?.33:0:t}var Wi=class extends Ae{parsePrimitiveData(t,e,r,l){return Fu(t,e,r,l)}parseArrayData(t,e,r,l){return Fu(t,e,r,l)}parseObjectData(t,e,r,l){let{iScale:f,vScale:g}=t,{xAxisKey:h="x",yAxisKey:a="y"}=this._parsing,d=f.axis==="x"?h:a,m=g.axis==="x"?h:a,_=[],y,w,P,M;for(y=r,w=r+l;y<w;++y)M=e[y],P={},P[f.axis]=f.parse(cn(M,d),y),_.push(Tf(cn(M,m),P,g,y));return _}updateRangeFromParsed(t,e,r,l){super.updateRangeFromParsed(t,e,r,l);let f=r._custom;f&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,f.min),t.max=Math.max(t.max,f.max))}getMaxOverflow(){return 0}getLabelAndValue(t){let e=this._cachedMeta,{iScale:r,vScale:l}=e,f=this.getParsed(t),g=f._custom,h=ul(g)?"["+g.start+", "+g.end+"]":""+l.getLabelForValue(f[l.axis]);return{label:""+r.getLabelForValue(f[r.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();let t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){let e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,r,l){let f=l==="reset",{index:g,_cachedMeta:{vScale:h}}=this,a=h.getBasePixel(),d=h.isHorizontal(),m=this._getRuler(),{sharedOptions:_,includeOptions:y}=this._getSharedOptions(e,l);for(let w=e;w<e+r;w++){let P=this.getParsed(w),M=f||Ot(P[h.axis])?{base:a,head:a}:this._calculateBarValuePixels(w),T=this._calculateBarIndexPixels(w,m),C=(P._stacks||{})[h.axis],D={horizontal:d,base:M.base,enableBorderRadius:!C||ul(P._custom)||g===C._top||g===C._bottom,x:d?M.head:T.center,y:d?T.center:M.head,height:d?T.size:Math.abs(M.size),width:d?Math.abs(M.size):T.size};y&&(D.options=_||this.resolveDataElementOptions(w,t[w].active?"active":l));let L=D.options||t[w].options;_0(D,L,C,g),v0(D,L,m.ratio),this.updateElement(t[w],w,D,l)}}_getStacks(t,e){let{iScale:r}=this._cachedMeta,l=r.getMatchingVisibleMetas(this._type).filter(a=>a.controller.options.grouped),f=r.options.stacked,g=[],h=a=>{let d=a.controller.getParsed(e),m=d&&d[a.vScale.axis];if(Ot(m)||isNaN(m))return!0};for(let a of l)if(!(e!==void 0&&h(a))&&((f===!1||g.indexOf(a.stack)===-1||f===void 0&&a.stack===void 0)&&g.push(a.stack),a.index===t))break;return g.length||g.push(void 0),g}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,r){let l=this._getStacks(t,r),f=e!==void 0?l.indexOf(e):-1;return f===-1?l.length-1:f}_getRuler(){let t=this.options,e=this._cachedMeta,r=e.iScale,l=[],f,g;for(f=0,g=e.data.length;f<g;++f)l.push(r.getPixelForValue(this.getParsed(f)[r.axis],f));let h=t.barThickness;return{min:h||f0(e),pixels:l,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){let{_cachedMeta:{vScale:e,_stacked:r,index:l},options:{base:f,minBarLength:g}}=this,h=f||0,a=this.getParsed(t),d=a._custom,m=ul(d),_=a[e.axis],y=0,w=r?this.applyStack(e,a,r):_,P,M;w!==_&&(y=w-_,w=_),m&&(_=d.barStart,w=d.barEnd-d.barStart,_!==0&&qe(_)!==qe(d.barEnd)&&(y=0),y+=_);let T=!Ot(f)&&!m?f:y,C=e.getPixelForValue(T);if(this.chart.getDataVisibility(t)?P=e.getPixelForValue(y+w):P=C,M=P-C,Math.abs(M)<g){M=m0(M,e,h)*g,_===h&&(C-=M/2);let D=e.getPixelForDecimal(0),L=e.getPixelForDecimal(1),I=Math.min(D,L),B=Math.max(D,L);C=Math.max(Math.min(C,B),I),P=C+M,r&&!m&&(a._stacks[e.axis]._visualValues[l]=e.getValueForPixel(P)-e.getValueForPixel(C))}if(C===e.getPixelForValue(h)){let D=qe(M)*e.getLineWidthForValue(h)/2;C+=D,M-=D}return{size:M,base:C,head:P,center:P+M/2}}_calculateBarIndexPixels(t,e){let r=e.scale,l=this.options,f=l.skipNull,g=xt(l.maxBarThickness,1/0),h,a;if(e.grouped){let d=f?this._getStackCount(t):e.stackCount,m=l.barThickness==="flex"?g0(t,e,l,d):d0(t,e,l,d),_=this._getStackIndex(this.index,this._cachedMeta.stack,f?t:void 0);h=m.start+m.chunk*_+m.chunk/2,a=Math.min(g,m.chunk*m.ratio)}else h=r.getPixelForValue(this.getParsed(t)[r.axis],t),a=Math.min(g,e.min*e.ratio);return{base:h-a/2,head:h+a/2,center:h,size:a}}draw(){let t=this._cachedMeta,e=t.vScale,r=t.data,l=r.length,f=0;for(;f<l;++f)this.getParsed(f)[e.axis]!==null&&r[f].draw(this._ctx)}};ht(Wi,"id","bar"),ht(Wi,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ht(Wi,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});var $i=class extends Ae{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,r,l){let f=super.parsePrimitiveData(t,e,r,l);for(let g=0;g<f.length;g++)f[g]._custom=this.resolveDataElementOptions(g+r).radius;return f}parseArrayData(t,e,r,l){let f=super.parseArrayData(t,e,r,l);for(let g=0;g<f.length;g++){let h=e[r+g];f[g]._custom=xt(h[2],this.resolveDataElementOptions(g+r).radius)}return f}parseObjectData(t,e,r,l){let f=super.parseObjectData(t,e,r,l);for(let g=0;g<f.length;g++){let h=e[r+g];f[g]._custom=xt(h&&h.r&&+h.r,this.resolveDataElementOptions(g+r).radius)}return f}getMaxOverflow(){let t=this._cachedMeta.data,e=0;for(let r=t.length-1;r>=0;--r)e=Math.max(e,t[r].size(this.resolveDataElementOptions(r))/2);return e>0&&e}getLabelAndValue(t){let e=this._cachedMeta,r=this.chart.data.labels||[],{xScale:l,yScale:f}=e,g=this.getParsed(t),h=l.getLabelForValue(g.x),a=f.getLabelForValue(g.y),d=g._custom;return{label:r[t]||"",value:"("+h+", "+a+(d?", "+d:"")+")"}}update(t){let e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,r,l){let f=l==="reset",{iScale:g,vScale:h}=this._cachedMeta,{sharedOptions:a,includeOptions:d}=this._getSharedOptions(e,l),m=g.axis,_=h.axis;for(let y=e;y<e+r;y++){let w=t[y],P=!f&&this.getParsed(y),M={},T=M[m]=f?g.getPixelForDecimal(.5):g.getPixelForValue(P[m]),C=M[_]=f?h.getBasePixel():h.getPixelForValue(P[_]);M.skip=isNaN(T)||isNaN(C),d&&(M.options=a||this.resolveDataElementOptions(y,w.active?"active":l),f&&(M.options.radius=0)),this.updateElement(w,y,M,l)}}resolveDataElementOptions(t,e){let r=this.getParsed(t),l=super.resolveDataElementOptions(t,e);l.$shared&&(l=Object.assign({},l,{$shared:!1}));let f=l.radius;return e!=="active"&&(l.radius=0),l.radius+=xt(r&&r._custom,f),l}};ht($i,"id","bubble"),ht($i,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),ht($i,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function y0(s,t,e){let r=1,l=1,f=0,g=0;if(t<Nt){let h=s,a=h+t,d=Math.cos(h),m=Math.sin(h),_=Math.cos(a),y=Math.sin(a),w=(L,I,B)=>zi(L,h,a,!0)?1:Math.max(I,I*e,B,B*e),P=(L,I,B)=>zi(L,h,a,!0)?-1:Math.min(I,I*e,B,B*e),M=w(0,d,_),T=w(qt,m,y),C=P(Wt,d,_),D=P(Wt+qt,m,y);r=(M-C)/2,l=(T-D)/2,f=-(M+C)/2,g=-(T+D)/2}return{ratioX:r,ratioY:l,offsetX:f,offsetY:g}}var dn=class extends Ae{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){let r=this.getDataset().data,l=this._cachedMeta;if(this._parsing===!1)l._parsed=r;else{let f=a=>+r[a];if(At(r[t])){let{key:a="value"}=this._parsing;f=d=>+cn(r[d],a)}let g,h;for(g=t,h=t+e;g<h;++g)l._parsed[g]=f(g)}}_getRotation(){return Be(this.options.rotation-90)}_getCircumference(){return Be(this.options.circumference)}_getRotationExtents(){let t=Nt,e=-Nt;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){let l=this.chart.getDatasetMeta(r).controller,f=l._getRotation(),g=l._getCircumference();t=Math.min(t,f),e=Math.max(e,f+g)}return{rotation:t,circumference:e-t}}update(t){let e=this.chart,{chartArea:r}=e,l=this._cachedMeta,f=l.data,g=this.getMaxBorderWidth()+this.getMaxOffset(f)+this.options.spacing,h=Math.max((Math.min(r.width,r.height)-g)/2,0),a=Math.min(tu(this.options.cutout,h),1),d=this._getRingWeight(this.index),{circumference:m,rotation:_}=this._getRotationExtents(),{ratioX:y,ratioY:w,offsetX:P,offsetY:M}=y0(_,m,a),T=(r.width-g)/y,C=(r.height-g)/w,D=Math.max(Math.min(T,C)/2,0),L=Fa(this.options.radius,D),I=Math.max(L*a,0),B=(L-I)/this._getVisibleDatasetWeightTotal();this.offsetX=P*L,this.offsetY=M*L,l.total=this.calculateTotal(),this.outerRadius=L-B*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-B*d,0),this.updateElements(f,0,f.length,t)}_circumference(t,e){let r=this.options,l=this._cachedMeta,f=this._getCircumference();return e&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||l._parsed[t]===null||l.data[t].hidden?0:this.calculateCircumference(l._parsed[t]*f/Nt)}updateElements(t,e,r,l){let f=l==="reset",g=this.chart,h=g.chartArea,d=g.options.animation,m=(h.left+h.right)/2,_=(h.top+h.bottom)/2,y=f&&d.animateScale,w=y?0:this.innerRadius,P=y?0:this.outerRadius,{sharedOptions:M,includeOptions:T}=this._getSharedOptions(e,l),C=this._getRotation(),D;for(D=0;D<e;++D)C+=this._circumference(D,f);for(D=e;D<e+r;++D){let L=this._circumference(D,f),I=t[D],B={x:m+this.offsetX,y:_+this.offsetY,startAngle:C,endAngle:C+L,circumference:L,outerRadius:P,innerRadius:w};T&&(B.options=M||this.resolveDataElementOptions(D,I.active?"active":l)),C+=L,this.updateElement(I,D,B,l)}}calculateTotal(){let t=this._cachedMeta,e=t.data,r=0,l;for(l=0;l<e.length;l++){let f=t._parsed[l];f!==null&&!isNaN(f)&&this.chart.getDataVisibility(l)&&!e[l].hidden&&(r+=Math.abs(f))}return r}calculateCircumference(t){let e=this._cachedMeta.total;return e>0&&!isNaN(t)?Nt*(Math.abs(t)/e):0}getLabelAndValue(t){let e=this._cachedMeta,r=this.chart,l=r.data.labels||[],f=Bi(e._parsed[t],r.options.locale);return{label:l[t]||"",value:f}}getMaxBorderWidth(t){let e=0,r=this.chart,l,f,g,h,a;if(!t){for(l=0,f=r.data.datasets.length;l<f;++l)if(r.isDatasetVisible(l)){g=r.getDatasetMeta(l),t=g.data,h=g.controller;break}}if(!t)return 0;for(l=0,f=t.length;l<f;++l)a=h.resolveDataElementOptions(l),a.borderAlign!=="inner"&&(e=Math.max(e,a.borderWidth||0,a.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let r=0,l=t.length;r<l;++r){let f=this.resolveDataElementOptions(r);e=Math.max(e,f.offset||0,f.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(e+=this._getRingWeight(r));return e}_getRingWeight(t){return Math.max(xt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}};ht(dn,"id","doughnut"),ht(dn,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ht(dn,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"}),ht(dn,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let e=t.data;if(e.labels.length&&e.datasets.length){let{labels:{pointStyle:r,color:l}}=t.legend.options;return e.labels.map((f,g)=>{let a=t.getDatasetMeta(0).controller.getStyle(g);return{text:f,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:l,lineWidth:a.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(g),index:g}})}return[]}},onClick(t,e,r){r.chart.toggleDataVisibility(e.index),r.chart.update()}}}});var Yi=class extends Ae{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){let e=this._cachedMeta,{dataset:r,data:l=[],_dataset:f}=e,g=this.chart._animationsDisabled,{start:h,count:a}=Ua(e,l,g);this._drawStart=h,this._drawCount=a,Xa(e)&&(h=0,a=l.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!f._decimated,r.points=l;let d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!g,options:d},t),this.updateElements(l,h,a,t)}updateElements(t,e,r,l){let f=l==="reset",{iScale:g,vScale:h,_stacked:a,_dataset:d}=this._cachedMeta,{sharedOptions:m,includeOptions:_}=this._getSharedOptions(e,l),y=g.axis,w=h.axis,{spanGaps:P,segment:M}=this.options,T=ni(P)?P:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||f||l==="none",D=e+r,L=t.length,I=e>0&&this.getParsed(e-1);for(let B=0;B<L;++B){let N=t[B],U=C?N:{};if(B<e||B>=D){U.skip=!0;continue}let X=this.getParsed(B),G=Ot(X[w]),et=U[y]=g.getPixelForValue(X[y],B),it=U[w]=f||G?h.getBasePixel():h.getPixelForValue(a?this.applyStack(h,X,a):X[w],B);U.skip=isNaN(et)||isNaN(it)||G,U.stop=B>0&&Math.abs(X[y]-I[y])>T,M&&(U.parsed=X,U.raw=d.data[B]),_&&(U.options=m||this.resolveDataElementOptions(B,N.active?"active":l)),C||this.updateElement(N,B,U,l),I=X}}getMaxOverflow(){let t=this._cachedMeta,e=t.dataset,r=e.options&&e.options.borderWidth||0,l=t.data||[];if(!l.length)return r;let f=l[0].size(this.resolveDataElementOptions(0)),g=l[l.length-1].size(this.resolveDataElementOptions(l.length-1));return Math.max(r,f,g)/2}draw(){let t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}};ht(Yi,"id","line"),ht(Yi,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ht(Yi,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});var ai=class extends Ae{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){let e=this._cachedMeta,r=this.chart,l=r.data.labels||[],f=Bi(e._parsed[t].r,r.options.locale);return{label:l[t]||"",value:f}}parseObjectData(t,e,r,l){return el.bind(this)(t,e,r,l)}update(t){let e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){let t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((r,l)=>{let f=this.getParsed(l).r;!isNaN(f)&&this.chart.getDataVisibility(l)&&(f<e.min&&(e.min=f),f>e.max&&(e.max=f))}),e}_updateRadius(){let t=this.chart,e=t.chartArea,r=t.options,l=Math.min(e.right-e.left,e.bottom-e.top),f=Math.max(l/2,0),g=Math.max(r.cutoutPercentage?f/100*r.cutoutPercentage:1,0),h=(f-g)/t.getVisibleDatasetCount();this.outerRadius=f-h*this.index,this.innerRadius=this.outerRadius-h}updateElements(t,e,r,l){let f=l==="reset",g=this.chart,a=g.options.animation,d=this._cachedMeta.rScale,m=d.xCenter,_=d.yCenter,y=d.getIndexAngle(0)-.5*Wt,w=y,P,M=360/this.countVisibleElements();for(P=0;P<e;++P)w+=this._computeAngle(P,l,M);for(P=e;P<e+r;P++){let T=t[P],C=w,D=w+this._computeAngle(P,l,M),L=g.getDataVisibility(P)?d.getDistanceFromCenterForValue(this.getParsed(P).r):0;w=D,f&&(a.animateScale&&(L=0),a.animateRotate&&(C=D=y));let I={x:m,y:_,innerRadius:0,outerRadius:L,startAngle:C,endAngle:D,options:this.resolveDataElementOptions(P,T.active?"active":l)};this.updateElement(T,P,I,l)}}countVisibleElements(){let t=this._cachedMeta,e=0;return t.data.forEach((r,l)=>{!isNaN(this.getParsed(l).r)&&this.chart.getDataVisibility(l)&&e++}),e}_computeAngle(t,e,r){return this.chart.getDataVisibility(t)?Be(this.resolveDataElementOptions(t,e).angle||r):0}};ht(ai,"id","polarArea"),ht(ai,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),ht(ai,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let e=t.data;if(e.labels.length&&e.datasets.length){let{labels:{pointStyle:r,color:l}}=t.legend.options;return e.labels.map((f,g)=>{let a=t.getDatasetMeta(0).controller.getStyle(g);return{text:f,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:l,lineWidth:a.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(g),index:g}})}return[]}},onClick(t,e,r){r.chart.toggleDataVisibility(e.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});var Vs=class extends dn{};ht(Vs,"id","pie"),ht(Vs,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});var qi=class extends Ae{getLabelAndValue(t){let e=this._cachedMeta.vScale,r=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(r[e.axis])}}parseObjectData(t,e,r,l){return el.bind(this)(t,e,r,l)}update(t){let e=this._cachedMeta,r=e.dataset,l=e.data||[],f=e.iScale.getLabels();if(r.points=l,t!=="resize"){let g=this.resolveDatasetElementOptions(t);this.options.showLine||(g.borderWidth=0);let h={_loop:!0,_fullLoop:f.length===l.length,options:g};this.updateElement(r,void 0,h,t)}this.updateElements(l,0,l.length,t)}updateElements(t,e,r,l){let f=this._cachedMeta.rScale,g=l==="reset";for(let h=e;h<e+r;h++){let a=t[h],d=this.resolveDataElementOptions(h,a.active?"active":l),m=f.getPointPositionForValue(h,this.getParsed(h).r),_=g?f.xCenter:m.x,y=g?f.yCenter:m.y,w={x:_,y,angle:m.angle,skip:isNaN(_)||isNaN(y),options:d};this.updateElement(a,h,w,l)}}};ht(qi,"id","radar"),ht(qi,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),ht(qi,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});var Ui=class extends Ae{getLabelAndValue(t){let e=this._cachedMeta,r=this.chart.data.labels||[],{xScale:l,yScale:f}=e,g=this.getParsed(t),h=l.getLabelForValue(g.x),a=f.getLabelForValue(g.y);return{label:r[t]||"",value:"("+h+", "+a+")"}}update(t){let e=this._cachedMeta,{data:r=[]}=e,l=this.chart._animationsDisabled,{start:f,count:g}=Ua(e,r,l);if(this._drawStart=f,this._drawCount=g,Xa(e)&&(f=0,g=r.length),this.options.showLine){let{dataset:h,_dataset:a}=e;h._chart=this.chart,h._datasetIndex=this.index,h._decimated=!!a._decimated,h.points=r;let d=this.resolveDatasetElementOptions(t);d.segment=this.options.segment,this.updateElement(h,void 0,{animated:!l,options:d},t)}this.updateElements(r,f,g,t)}addElements(){let{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,r,l){let f=l==="reset",{iScale:g,vScale:h,_stacked:a,_dataset:d}=this._cachedMeta,m=this.resolveDataElementOptions(e,l),_=this.getSharedOptions(m),y=this.includeOptions(l,_),w=g.axis,P=h.axis,{spanGaps:M,segment:T}=this.options,C=ni(M)?M:Number.POSITIVE_INFINITY,D=this.chart._animationsDisabled||f||l==="none",L=e>0&&this.getParsed(e-1);for(let I=e;I<e+r;++I){let B=t[I],N=this.getParsed(I),U=D?B:{},X=Ot(N[P]),G=U[w]=g.getPixelForValue(N[w],I),et=U[P]=f||X?h.getBasePixel():h.getPixelForValue(a?this.applyStack(h,N,a):N[P],I);U.skip=isNaN(G)||isNaN(et)||X,U.stop=I>0&&Math.abs(N[w]-L[w])>C,T&&(U.parsed=N,U.raw=d.data[I]),y&&(U.options=_||this.resolveDataElementOptions(I,B.active?"active":l)),D||this.updateElement(B,I,U,l),L=N}this.updateSharedOptions(_,l,m)}getMaxOverflow(){let t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let h=0;for(let a=e.length-1;a>=0;--a)h=Math.max(h,e[a].size(this.resolveDataElementOptions(a))/2);return h>0&&h}let r=t.dataset,l=r.options&&r.options.borderWidth||0;if(!e.length)return l;let f=e[0].size(this.resolveDataElementOptions(0)),g=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(l,f,g)/2}};ht(Ui,"id","scatter"),ht(Ui,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),ht(Ui,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var w0=Object.freeze({__proto__:null,BarController:Wi,BubbleController:$i,DoughnutController:dn,LineController:Yi,PolarAreaController:ai,PieController:Vs,RadarController:qi,ScatterController:Ui});function si(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var Xs=class{static override(t){Object.assign(Xs.prototype,t)}constructor(t){this.options=t||{}}init(){}formats(){return si()}parse(){return si()}format(){return si()}add(){return si()}diff(){return si()}startOf(){return si()}endOf(){return si()}},k0={_date:Xs};function P0(s,t,e,r){let{controller:l,data:f,_sorted:g}=s,h=l._cachedMeta.iScale;if(h&&t===h.axis&&t!=="r"&&g&&f.length){let a=h._reversePixels?ru:Ge;if(r){if(l._sharedOptions){let d=f[0],m=typeof d.getRange=="function"&&d.getRange(t);if(m){let _=a(f,t,e-m),y=a(f,t,e+m);return{lo:_.lo,hi:y.hi}}}}else return a(f,t,e)}return{lo:0,hi:f.length-1}}function Zs(s,t,e,r,l){let f=s.getSortedVisibleDatasetMetas(),g=e[t];for(let h=0,a=f.length;h<a;++h){let{index:d,data:m}=f[h],{lo:_,hi:y}=P0(f[h],t,g,l);for(let w=_;w<=y;++w){let P=m[w];P.skip||r(P,d,w)}}}function M0(s){let t=s.indexOf("x")!==-1,e=s.indexOf("y")!==-1;return function(r,l){let f=t?Math.abs(r.x-l.x):0,g=e?Math.abs(r.y-l.y):0;return Math.sqrt(Math.pow(f,2)+Math.pow(g,2))}}function fl(s,t,e,r,l){let f=[];return!l&&!s.isPointInArea(t)||Zs(s,e,t,function(h,a,d){!l&&!Ri(h,s.chartArea,0)||h.inRange(t.x,t.y,r)&&f.push({element:h,datasetIndex:a,index:d})},!0),f}function C0(s,t,e,r){let l=[];function f(g,h,a){let{startAngle:d,endAngle:m}=g.getProps(["startAngle","endAngle"],r),{angle:_}=Na(g,{x:t.x,y:t.y});zi(_,d,m)&&l.push({element:g,datasetIndex:h,index:a})}return Zs(s,e,t,f),l}function A0(s,t,e,r,l,f){let g=[],h=M0(e),a=Number.POSITIVE_INFINITY;function d(m,_,y){let w=m.inRange(t.x,t.y,l);if(r&&!w)return;let P=m.getCenterPoint(l);if(!(!!f||s.isPointInArea(P))&&!w)return;let T=h(t,P);T<a?(g=[{element:m,datasetIndex:_,index:y}],a=T):T===a&&g.push({element:m,datasetIndex:_,index:y})}return Zs(s,e,t,d),g}function dl(s,t,e,r,l,f){return!f&&!s.isPointInArea(t)?[]:e==="r"&&!r?C0(s,t,e,l):A0(s,t,e,r,l,f)}function Vu(s,t,e,r,l){let f=[],g=e==="x"?"inXRange":"inYRange",h=!1;return Zs(s,e,t,(a,d,m)=>{a[g](t[e],l)&&(f.push({element:a,datasetIndex:d,index:m}),h=h||a.inRange(t.x,t.y,l))}),r&&!h?[]:f}var T0={evaluateInteractionItems:Zs,modes:{index(s,t,e,r){let l=Wn(t,s),f=e.axis||"x",g=e.includeInvisible||!1,h=e.intersect?fl(s,l,f,r,g):dl(s,l,f,!1,r,g),a=[];return h.length?(s.getSortedVisibleDatasetMetas().forEach(d=>{let m=h[0].index,_=d.data[m];_&&!_.skip&&a.push({element:_,datasetIndex:d.index,index:m})}),a):[]},dataset(s,t,e,r){let l=Wn(t,s),f=e.axis||"xy",g=e.includeInvisible||!1,h=e.intersect?fl(s,l,f,r,g):dl(s,l,f,!1,r,g);if(h.length>0){let a=h[0].datasetIndex,d=s.getDatasetMeta(a).data;h=[];for(let m=0;m<d.length;++m)h.push({element:d[m],datasetIndex:a,index:m})}return h},point(s,t,e,r){let l=Wn(t,s),f=e.axis||"xy",g=e.includeInvisible||!1;return fl(s,l,f,r,g)},nearest(s,t,e,r){let l=Wn(t,s),f=e.axis||"xy",g=e.includeInvisible||!1;return dl(s,l,f,e.intersect,r,g)},x(s,t,e,r){let l=Wn(t,s);return Vu(s,l,"x",e.intersect,r)},y(s,t,e,r){let l=Wn(t,s);return Vu(s,l,"y",e.intersect,r)}}},Df=["left","top","right","bottom"];function Is(s,t){return s.filter(e=>e.pos===t)}function Hu(s,t){return s.filter(e=>Df.indexOf(e.pos)===-1&&e.box.axis===t)}function Fs(s,t){return s.sort((e,r)=>{let l=t?r:e,f=t?e:r;return l.weight===f.weight?l.index-f.index:l.weight-f.weight})}function D0(s){let t=[],e,r,l,f,g,h;for(e=0,r=(s||[]).length;e<r;++e)l=s[e],{position:f,options:{stack:g,stackWeight:h=1}}=l,t.push({index:e,box:l,pos:f,horizontal:l.isHorizontal(),weight:l.weight,stack:g&&f+g,stackWeight:h});return t}function O0(s){let t={};for(let e of s){let{stack:r,pos:l,stackWeight:f}=e;if(!r||!Df.includes(l))continue;let g=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});g.count++,g.weight+=f}return t}function E0(s,t){let e=O0(s),{vBoxMaxWidth:r,hBoxMaxHeight:l}=t,f,g,h;for(f=0,g=s.length;f<g;++f){h=s[f];let{fullSize:a}=h.box,d=e[h.stack],m=d&&h.stackWeight/d.weight;h.horizontal?(h.width=m?m*r:a&&t.availableWidth,h.height=l):(h.width=r,h.height=m?m*l:a&&t.availableHeight)}return e}function L0(s){let t=D0(s),e=Fs(t.filter(d=>d.box.fullSize),!0),r=Fs(Is(t,"left"),!0),l=Fs(Is(t,"right")),f=Fs(Is(t,"top"),!0),g=Fs(Is(t,"bottom")),h=Hu(t,"x"),a=Hu(t,"y");return{fullSize:e,leftAndTop:r.concat(f),rightAndBottom:l.concat(a).concat(g).concat(h),chartArea:Is(t,"chartArea"),vertical:r.concat(l).concat(a),horizontal:f.concat(g).concat(h)}}function Nu(s,t,e,r){return Math.max(s[e],t[e])+Math.max(s[r],t[r])}function Of(s,t){s.top=Math.max(s.top,t.top),s.left=Math.max(s.left,t.left),s.bottom=Math.max(s.bottom,t.bottom),s.right=Math.max(s.right,t.right)}function R0(s,t,e,r){let{pos:l,box:f}=e,g=s.maxPadding;if(!At(l)){e.size&&(s[l]-=e.size);let _=r[e.stack]||{size:0,count:1};_.size=Math.max(_.size,e.horizontal?f.height:f.width),e.size=_.size/_.count,s[l]+=e.size}f.getPadding&&Of(g,f.getPadding());let h=Math.max(0,t.outerWidth-Nu(g,s,"left","right")),a=Math.max(0,t.outerHeight-Nu(g,s,"top","bottom")),d=h!==s.w,m=a!==s.h;return s.w=h,s.h=a,e.horizontal?{same:d,other:m}:{same:m,other:d}}function S0(s){let t=s.maxPadding;function e(r){let l=Math.max(t[r]-s[r],0);return s[r]+=l,l}s.y+=e("top"),s.x+=e("left"),e("right"),e("bottom")}function I0(s,t){let e=t.maxPadding;function r(l){let f={left:0,top:0,right:0,bottom:0};return l.forEach(g=>{f[g]=Math.max(t[g],e[g])}),f}return r(s?["left","right"]:["top","bottom"])}function Hs(s,t,e,r){let l=[],f,g,h,a,d,m;for(f=0,g=s.length,d=0;f<g;++f){h=s[f],a=h.box,a.update(h.width||t.w,h.height||t.h,I0(h.horizontal,t));let{same:_,other:y}=R0(t,e,h,r);d|=_&&l.length,m=m||y,a.fullSize||l.push(h)}return d&&Hs(l,t,e,r)||m}function hr(s,t,e,r,l){s.top=e,s.left=t,s.right=t+r,s.bottom=e+l,s.width=r,s.height=l}function Wu(s,t,e,r){let l=e.padding,{x:f,y:g}=t;for(let h of s){let a=h.box,d=r[h.stack]||{count:1,placed:0,weight:1},m=h.stackWeight/d.weight||1;if(h.horizontal){let _=t.w*m,y=d.size||a.height;Ce(d.start)&&(g=d.start),a.fullSize?hr(a,l.left,g,e.outerWidth-l.right-l.left,y):hr(a,t.left+d.placed,g,_,y),d.start=g,d.placed+=_,g=a.bottom}else{let _=t.h*m,y=d.size||a.width;Ce(d.start)&&(f=d.start),a.fullSize?hr(a,f,l.top,y,e.outerHeight-l.bottom-l.top):hr(a,f,t.top+d.placed,y,_),d.start=f,d.placed+=_,f=a.right}}t.x=f,t.y=g}var fe={addBox(s,t){s.boxes||(s.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},s.boxes.push(t)},removeBox(s,t){let e=s.boxes?s.boxes.indexOf(t):-1;e!==-1&&s.boxes.splice(e,1)},configure(s,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(s,t,e,r){if(!s)return;let l=le(s.options.layout.padding),f=Math.max(t-l.width,0),g=Math.max(e-l.height,0),h=L0(s.boxes),a=h.vertical,d=h.horizontal;It(s.boxes,M=>{typeof M.beforeLayout=="function"&&M.beforeLayout()});let m=a.reduce((M,T)=>T.box.options&&T.box.options.display===!1?M:M+1,0)||1,_=Object.freeze({outerWidth:t,outerHeight:e,padding:l,availableWidth:f,availableHeight:g,vBoxMaxWidth:f/2/m,hBoxMaxHeight:g/2}),y=Object.assign({},l);Of(y,le(r));let w=Object.assign({maxPadding:y,w:f,h:g,x:l.left,y:l.top},l),P=E0(a.concat(d),_);Hs(h.fullSize,w,_,P),Hs(a,w,_,P),Hs(d,w,_,P)&&Hs(a,w,_,P),S0(w),Wu(h.leftAndTop,w,_,P),w.x+=w.w,w.y+=w.h,Wu(h.rightAndBottom,w,_,P),s.chartArea={left:w.left,top:w.top,right:w.left+w.w,bottom:w.top+w.h,height:w.h,width:w.w},It(h.chartArea,M=>{let T=M.box;Object.assign(T,s.chartArea),T.update(w.w,w.h,{left:0,top:0,right:0,bottom:0})})}},xr=class{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,r){}removeEventListener(t,e,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,r,l){return e=Math.max(0,e||t.width),r=r||t.height,{width:e,height:Math.max(0,l?Math.floor(e/l):r)}}isAttached(t){return!0}updateConfig(t){}},vl=class extends xr{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}},mr="$chartjs",F0={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},$u=s=>s===null||s==="";function z0(s,t){let e=s.style,r=s.getAttribute("height"),l=s.getAttribute("width");if(s[mr]={initial:{height:r,width:l,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",$u(l)){let f=sl(s,"width");f!==void 0&&(s.width=f)}if($u(r))if(s.style.height==="")s.height=s.width/(t||2);else{let f=sl(s,"height");f!==void 0&&(s.height=f)}return s}var Ef=Pu?{passive:!0}:!1;function B0(s,t,e){s.addEventListener(t,e,Ef)}function V0(s,t,e){s.canvas.removeEventListener(t,e,Ef)}function H0(s,t){let e=F0[s.type]||s.type,{x:r,y:l}=Wn(s,t);return{type:e,chart:t,native:s,x:r!==void 0?r:null,y:l!==void 0?l:null}}function vr(s,t){for(let e of s)if(e===t||e.contains(t))return!0}function N0(s,t,e){let r=s.canvas,l=new MutationObserver(f=>{let g=!1;for(let h of f)g=g||vr(h.addedNodes,r),g=g&&!vr(h.removedNodes,r);g&&e()});return l.observe(document,{childList:!0,subtree:!0}),l}function W0(s,t,e){let r=s.canvas,l=new MutationObserver(f=>{let g=!1;for(let h of f)g=g||vr(h.removedNodes,r),g=g&&!vr(h.addedNodes,r);g&&e()});return l.observe(document,{childList:!0,subtree:!0}),l}var Gs=new Map,Yu=0;function Lf(){let s=window.devicePixelRatio;s!==Yu&&(Yu=s,Gs.forEach((t,e)=>{e.currentDevicePixelRatio!==s&&t()}))}function $0(s,t){Gs.size||window.addEventListener("resize",Lf),Gs.set(s,t)}function Y0(s){Gs.delete(s),Gs.size||window.removeEventListener("resize",Lf)}function q0(s,t,e){let r=s.canvas,l=r&&lr(r);if(!l)return;let f=qa((h,a)=>{let d=l.clientWidth;e(h,a),d<l.clientWidth&&e()},window),g=new ResizeObserver(h=>{let a=h[0],d=a.contentRect.width,m=a.contentRect.height;d===0&&m===0||f(d,m)});return g.observe(l),$0(s,f),g}function gl(s,t,e){e&&e.disconnect(),t==="resize"&&Y0(s)}function U0(s,t,e){let r=s.canvas,l=qa(f=>{s.ctx!==null&&e(H0(f,s))},s);return B0(r,t,l),l}var yl=class extends xr{acquireContext(t,e){let r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(z0(t,e),r):null}releaseContext(t){let e=t.canvas;if(!e[mr])return!1;let r=e[mr].initial;["height","width"].forEach(f=>{let g=r[f];Ot(g)?e.removeAttribute(f):e.setAttribute(f,g)});let l=r.style||{};return Object.keys(l).forEach(f=>{e.style[f]=l[f]}),e.width=e.width,delete e[mr],!0}addEventListener(t,e,r){this.removeEventListener(t,e);let l=t.$proxies||(t.$proxies={}),g={attach:N0,detach:W0,resize:q0}[e]||U0;l[e]=g(t,e,r)}removeEventListener(t,e){let r=t.$proxies||(t.$proxies={}),l=r[e];if(!l)return;({attach:gl,detach:gl,resize:gl}[e]||V0)(t,e,l),r[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,r,l){return ku(t,e,r,l)}isAttached(t){let e=lr(t);return!!(e&&e.isConnected)}};function X0(s){return!nl()||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas?vl:yl}var Te=class{active=!1;tooltipPosition(t){let{x:e,y:r}=this.getProps(["x","y"],t);return{x:e,y:r}}hasValue(){return ni(this.x)&&ni(this.y)}getProps(t,e){let r=this.$animations;if(!e||!r)return this;let l={};return t.forEach(f=>{l[f]=r[f]&&r[f].active()?r[f]._to:this[f]}),l}};ht(Te,"defaults",{}),ht(Te,"defaultRoutes");function G0(s,t){let e=s.options.ticks,r=K0(s),l=Math.min(e.maxTicksLimit||r,r),f=e.major.enabled?Z0(t):[],g=f.length,h=f[0],a=f[g-1],d=[];if(g>l)return J0(t,d,f,g/l),d;let m=Q0(f,t,l);if(g>0){let _,y,w=g>1?Math.round((a-h)/(g-1)):null;for(ur(t,d,m,Ot(w)?0:h-w,h),_=0,y=g-1;_<y;_++)ur(t,d,m,f[_],f[_+1]);return ur(t,d,m,a,Ot(w)?t.length:a+w),d}return ur(t,d,m),d}function K0(s){let t=s.options.offset,e=s._tickSize(),r=s._length/e+(t?0:1),l=s._maxLength/e;return Math.floor(Math.min(r,l))}function Q0(s,t,e){let r=j0(s),l=t.length/e;if(!r)return Math.max(l,1);let f=iu(r);for(let g=0,h=f.length-1;g<h;g++){let a=f[g];if(a>l)return a}return Math.max(l,1)}function Z0(s){let t=[],e,r;for(e=0,r=s.length;e<r;e++)s[e].major&&t.push(e);return t}function J0(s,t,e,r){let l=0,f=e[0],g;for(r=Math.ceil(r),g=0;g<s.length;g++)g===f&&(t.push(s[g]),l++,f=e[l*r])}function ur(s,t,e,r,l){let f=xt(r,0),g=Math.min(xt(l,s.length),s.length),h=0,a,d,m;for(e=Math.ceil(e),l&&(a=l-r,e=a/Math.floor(a/e)),m=f;m<0;)h++,m=Math.round(f+h*e);for(d=Math.max(f,0);d<g;d++)d===m&&(t.push(s[d]),h++,m=Math.round(f+h*e))}function j0(s){let t=s.length,e,r;if(t<2)return!1;for(r=s[0],e=1;e<t;++e)if(s[e]-s[e-1]!==r)return!1;return r}var t_=s=>s==="left"?"right":s==="right"?"left":s,qu=(s,t,e)=>t==="top"||t==="left"?s[t]+e:s[t]-e,Uu=(s,t)=>Math.min(t||s,s);function Xu(s,t){let e=[],r=s.length/t,l=s.length,f=0;for(;f<l;f+=r)e.push(s[Math.floor(f)]);return e}function e_(s,t,e){let r=s.ticks.length,l=Math.min(t,r-1),f=s._startPixel,g=s._endPixel,h=1e-6,a=s.getPixelForTick(l),d;if(!(e&&(r===1?d=Math.max(a-f,g-a):t===0?d=(s.getPixelForTick(1)-a)/2:d=(a-s.getPixelForTick(l-1))/2,a+=l<t?d:-d,a<f-h||a>g+h)))return a}function n_(s,t){It(s,e=>{let r=e.gc,l=r.length/2,f;if(l>t){for(f=0;f<l;++f)delete e.data[r[f]];r.splice(0,l)}})}function zs(s){return s.drawTicks?s.tickLength:0}function Gu(s,t){if(!s.display)return 0;let e=ee(s.font,t),r=le(s.padding);return(Ht(s.text)?s.text.length:1)*e.lineHeight+r.height}function i_(s,t){return hn(s,{scale:t,type:"scale"})}function s_(s,t,e){return hn(s,{tick:e,index:t,type:"tick"})}function o_(s,t,e){let r=ir(s);return(e&&t!=="right"||!e&&t==="right")&&(r=t_(r)),r}function r_(s,t,e,r){let{top:l,left:f,bottom:g,right:h,chart:a}=s,{chartArea:d,scales:m}=a,_=0,y,w,P,M=g-l,T=h-f;if(s.isHorizontal()){if(w=ae(r,f,h),At(e)){let C=Object.keys(e)[0],D=e[C];P=m[C].getPixelForValue(D)+M-t}else e==="center"?P=(d.bottom+d.top)/2+M-t:P=qu(s,e,t);y=h-f}else{if(At(e)){let C=Object.keys(e)[0],D=e[C];w=m[C].getPixelForValue(D)-T+t}else e==="center"?w=(d.left+d.right)/2-T+t:w=qu(s,e,t);P=ae(r,g,l),_=e==="left"?-qt:qt}return{titleX:w,titleY:P,maxWidth:y,rotation:_}}var gn=class extends Te{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:r,_suggestedMax:l}=this;return t=ye(t,Number.POSITIVE_INFINITY),e=ye(e,Number.NEGATIVE_INFINITY),r=ye(r,Number.POSITIVE_INFINITY),l=ye(l,Number.NEGATIVE_INFINITY),{min:ye(t,r),max:ye(e,l),minDefined:Ut(t),maxDefined:Ut(e)}}getMinMax(t){let{min:e,max:r,minDefined:l,maxDefined:f}=this.getUserBounds(),g;if(l&&f)return{min:e,max:r};let h=this.getMatchingVisibleMetas();for(let a=0,d=h.length;a<d;++a)g=h[a].controller.getMinMax(this,t),l||(e=Math.min(e,g.min)),f||(r=Math.max(r,g.max));return e=f&&e>r?r:e,r=l&&e>r?e:r,{min:ye(e,ye(r,e)),max:ye(r,ye(e,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Bt(this.options.beforeUpdate,[this])}update(t,e,r){let{beginAtZero:l,grace:f,ticks:g}=this.options,h=g.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=bu(this,f,l),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let a=h<this.ticks.length;this._convertTicksToLabels(a?Xu(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),g.display&&(g.autoSkip||g.source==="auto")&&(this.ticks=G0(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,r;this.isHorizontal()?(e=this.left,r=this.right):(e=this.top,r=this.bottom,t=!t),this._startPixel=e,this._endPixel=r,this._reversePixels=t,this._length=r-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Bt(this.options.afterUpdate,[this])}beforeSetDimensions(){Bt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Bt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Bt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Bt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){let e=this.options.ticks,r,l,f;for(r=0,l=t.length;r<l;r++)f=t[r],f.label=Bt(e.callback,[f.value,r,t],this)}afterTickToLabelConversion(){Bt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Bt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let t=this.options,e=t.ticks,r=Uu(this.ticks.length,t.ticks.maxTicksLimit),l=e.minRotation||0,f=e.maxRotation,g=l,h,a,d;if(!this._isVisible()||!e.display||l>=f||r<=1||!this.isHorizontal()){this.labelRotation=l;return}let m=this._getLabelSizes(),_=m.widest.width,y=m.highest.height,w=se(this.chart.width-_,0,this.maxWidth);h=t.offset?this.maxWidth/r:w/(r-1),_+6>h&&(h=w/(r-(t.offset?.5:1)),a=this.maxHeight-zs(t.grid)-e.padding-Gu(t.title,this.chart.options.font),d=Math.sqrt(_*_+y*y),g=er(Math.min(Math.asin(se((m.highest.height+6)/h,-1,1)),Math.asin(se(a/d,-1,1))-Math.asin(se(y/d,-1,1)))),g=Math.max(l,Math.min(f,g))),this.labelRotation=g}afterCalculateLabelRotation(){Bt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Bt(this.options.beforeFit,[this])}fit(){let t={width:0,height:0},{chart:e,options:{ticks:r,title:l,grid:f}}=this,g=this._isVisible(),h=this.isHorizontal();if(g){let a=Gu(l,e.options.font);if(h?(t.width=this.maxWidth,t.height=zs(f)+a):(t.height=this.maxHeight,t.width=zs(f)+a),r.display&&this.ticks.length){let{first:d,last:m,widest:_,highest:y}=this._getLabelSizes(),w=r.padding*2,P=Be(this.labelRotation),M=Math.cos(P),T=Math.sin(P);if(h){let C=r.mirror?0:T*_.width+M*y.height;t.height=Math.min(this.maxHeight,t.height+C+w)}else{let C=r.mirror?0:M*_.width+T*y.height;t.width=Math.min(this.maxWidth,t.width+C+w)}this._calculatePadding(d,m,T,M)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,r,l){let{ticks:{align:f,padding:g},position:h}=this.options,a=this.labelRotation!==0,d=h!=="top"&&this.axis==="x";if(this.isHorizontal()){let m=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1),y=0,w=0;a?d?(y=l*t.width,w=r*e.height):(y=r*t.height,w=l*e.width):f==="start"?w=e.width:f==="end"?y=t.width:f!=="inner"&&(y=t.width/2,w=e.width/2),this.paddingLeft=Math.max((y-m+g)*this.width/(this.width-m),0),this.paddingRight=Math.max((w-_+g)*this.width/(this.width-_),0)}else{let m=e.height/2,_=t.height/2;f==="start"?(m=0,_=t.height):f==="end"&&(m=e.height,_=0),this.paddingTop=m+g,this.paddingBottom=_+g}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Bt(this.options.afterFit,[this])}isHorizontal(){let{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,r;for(e=0,r=t.length;e<r;e++)Ot(t[e].label)&&(t.splice(e,1),r--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){let e=this.options.ticks.sampleSize,r=this.ticks;e<r.length&&(r=Xu(r,e)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,r){let{ctx:l,_longestTextCache:f}=this,g=[],h=[],a=Math.floor(e/Uu(e,r)),d=0,m=0,_,y,w,P,M,T,C,D,L,I,B;for(_=0;_<e;_+=a){if(P=t[_].label,M=this._resolveTickFontOptions(_),l.font=T=M.string,C=f[T]=f[T]||{data:{},gc:[]},D=M.lineHeight,L=I=0,!Ot(P)&&!Ht(P))L=Ds(l,C.data,C.gc,L,P),I=D;else if(Ht(P))for(y=0,w=P.length;y<w;++y)B=P[y],!Ot(B)&&!Ht(B)&&(L=Ds(l,C.data,C.gc,L,B),I+=D);g.push(L),h.push(I),d=Math.max(L,d),m=Math.max(I,m)}n_(f,e);let N=g.indexOf(d),U=h.indexOf(m),X=G=>({width:g[G]||0,height:h[G]||0});return{first:X(0),last:X(e-1),widest:X(N),highest:X(U),widths:g,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);let e=this._startPixel+t*this._length;return ou(this._alignToPixels?Vn(this.chart,e,0):e)}getDecimalForPixel(t){let e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){let e=this.ticks||[];if(t>=0&&t<e.length){let r=e[t];return r.$context||(r.$context=s_(this.getContext(),t,r))}return this.$context||(this.$context=i_(this.chart.getContext(),this))}_tickSize(){let t=this.options.ticks,e=Be(this.labelRotation),r=Math.abs(Math.cos(e)),l=Math.abs(Math.sin(e)),f=this._getLabelSizes(),g=t.autoSkipPadding||0,h=f?f.widest.width+g:0,a=f?f.highest.height+g:0;return this.isHorizontal()?a*r>h*l?h/r:a/l:a*l<h*r?a/r:h/l}_isVisible(){let t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){let e=this.axis,r=this.chart,l=this.options,{grid:f,position:g,border:h}=l,a=f.offset,d=this.isHorizontal(),_=this.ticks.length+(a?1:0),y=zs(f),w=[],P=h.setContext(this.getContext()),M=P.display?P.width:0,T=M/2,C=function(_t){return Vn(r,_t,M)},D,L,I,B,N,U,X,G,et,it,ct,ut;if(g==="top")D=C(this.bottom),U=this.bottom-y,G=D-T,it=C(t.top)+T,ut=t.bottom;else if(g==="bottom")D=C(this.top),it=t.top,ut=C(t.bottom)-T,U=D+T,G=this.top+y;else if(g==="left")D=C(this.right),N=this.right-y,X=D-T,et=C(t.left)+T,ct=t.right;else if(g==="right")D=C(this.left),et=t.left,ct=C(t.right)-T,N=D+T,X=this.left+y;else if(e==="x"){if(g==="center")D=C((t.top+t.bottom)/2+.5);else if(At(g)){let _t=Object.keys(g)[0],Pt=g[_t];D=C(this.chart.scales[_t].getPixelForValue(Pt))}it=t.top,ut=t.bottom,U=D+T,G=U+y}else if(e==="y"){if(g==="center")D=C((t.left+t.right)/2);else if(At(g)){let _t=Object.keys(g)[0],Pt=g[_t];D=C(this.chart.scales[_t].getPixelForValue(Pt))}N=D-T,X=N-y,et=t.left,ct=t.right}let gt=xt(l.ticks.maxTicksLimit,_),pt=Math.max(1,Math.ceil(_/gt));for(L=0;L<_;L+=pt){let _t=this.getContext(L),Pt=f.setContext(_t),bt=h.setContext(_t),Mt=Pt.lineWidth,$t=Pt.color,kt=bt.dash||[],Dt=bt.dashOffset,Et=Pt.tickWidth,de=Pt.tickColor,Yt=Pt.tickBorderDash||[],be=Pt.tickBorderDashOffset;I=e_(this,L,a),I!==void 0&&(B=Vn(r,I,Mt),d?N=X=et=ct=B:U=G=it=ut=B,w.push({tx1:N,ty1:U,tx2:X,ty2:G,x1:et,y1:it,x2:ct,y2:ut,width:Mt,color:$t,borderDash:kt,borderDashOffset:Dt,tickWidth:Et,tickColor:de,tickBorderDash:Yt,tickBorderDashOffset:be}))}return this._ticksLength=_,this._borderValue=D,w}_computeLabelItems(t){let e=this.axis,r=this.options,{position:l,ticks:f}=r,g=this.isHorizontal(),h=this.ticks,{align:a,crossAlign:d,padding:m,mirror:_}=f,y=zs(r.grid),w=y+m,P=_?-m:w,M=-Be(this.labelRotation),T=[],C,D,L,I,B,N,U,X,G,et,it,ct,ut="middle";if(l==="top")N=this.bottom-P,U=this._getXAxisLabelAlignment();else if(l==="bottom")N=this.top+P,U=this._getXAxisLabelAlignment();else if(l==="left"){let pt=this._getYAxisLabelAlignment(y);U=pt.textAlign,B=pt.x}else if(l==="right"){let pt=this._getYAxisLabelAlignment(y);U=pt.textAlign,B=pt.x}else if(e==="x"){if(l==="center")N=(t.top+t.bottom)/2+w;else if(At(l)){let pt=Object.keys(l)[0],_t=l[pt];N=this.chart.scales[pt].getPixelForValue(_t)+w}U=this._getXAxisLabelAlignment()}else if(e==="y"){if(l==="center")B=(t.left+t.right)/2-w;else if(At(l)){let pt=Object.keys(l)[0],_t=l[pt];B=this.chart.scales[pt].getPixelForValue(_t)}U=this._getYAxisLabelAlignment(y).textAlign}e==="y"&&(a==="start"?ut="top":a==="end"&&(ut="bottom"));let gt=this._getLabelSizes();for(C=0,D=h.length;C<D;++C){L=h[C],I=L.label;let pt=f.setContext(this.getContext(C));X=this.getPixelForTick(C)+f.labelOffset,G=this._resolveTickFontOptions(C),et=G.lineHeight,it=Ht(I)?I.length:1;let _t=it/2,Pt=pt.color,bt=pt.textStrokeColor,Mt=pt.textStrokeWidth,$t=U;g?(B=X,U==="inner"&&(C===D-1?$t=this.options.reverse?"left":"right":C===0?$t=this.options.reverse?"right":"left":$t="center"),l==="top"?d==="near"||M!==0?ct=-it*et+et/2:d==="center"?ct=-gt.highest.height/2-_t*et+et:ct=-gt.highest.height+et/2:d==="near"||M!==0?ct=et/2:d==="center"?ct=gt.highest.height/2-_t*et:ct=gt.highest.height-it*et,_&&(ct*=-1),M!==0&&!pt.showLabelBackdrop&&(B+=et/2*Math.sin(M))):(N=X,ct=(1-it)*et/2);let kt;if(pt.showLabelBackdrop){let Dt=le(pt.backdropPadding),Et=gt.heights[C],de=gt.widths[C],Yt=ct-Dt.top,be=0-Dt.left;switch(ut){case"middle":Yt-=Et/2;break;case"bottom":Yt-=Et;break}switch(U){case"center":be-=de/2;break;case"right":be-=de;break}kt={left:be,top:Yt,width:de+Dt.width,height:Et+Dt.height,color:pt.backdropColor}}T.push({label:I,font:G,textOffset:ct,options:{rotation:M,color:Pt,strokeColor:bt,strokeWidth:Mt,textAlign:$t,textBaseline:ut,translation:[B,N],backdrop:kt}})}return T}_getXAxisLabelAlignment(){let{position:t,ticks:e}=this.options;if(-Be(this.labelRotation))return t==="top"?"left":"right";let l="center";return e.align==="start"?l="left":e.align==="end"?l="right":e.align==="inner"&&(l="inner"),l}_getYAxisLabelAlignment(t){let{position:e,ticks:{crossAlign:r,mirror:l,padding:f}}=this.options,g=this._getLabelSizes(),h=t+f,a=g.widest.width,d,m;return e==="left"?l?(m=this.right+f,r==="near"?d="left":r==="center"?(d="center",m+=a/2):(d="right",m+=a)):(m=this.right-h,r==="near"?d="right":r==="center"?(d="center",m-=a/2):(d="left",m=this.left)):e==="right"?l?(m=this.left+f,r==="near"?d="right":r==="center"?(d="center",m-=a/2):(d="left",m-=a)):(m=this.left+h,r==="near"?d="left":r==="center"?(d="center",m+=a/2):(d="right",m=this.right)):d="right",{textAlign:d,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;let t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){let{ctx:t,options:{backgroundColor:e},left:r,top:l,width:f,height:g}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(r,l,f,g),t.restore())}getLineWidthForValue(t){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let l=this.ticks.findIndex(f=>f.value===t);return l>=0?e.setContext(this.getContext(l)).lineWidth:0}drawGrid(t){let e=this.options.grid,r=this.ctx,l=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),f,g,h=(a,d,m)=>{!m.width||!m.color||(r.save(),r.lineWidth=m.width,r.strokeStyle=m.color,r.setLineDash(m.borderDash||[]),r.lineDashOffset=m.borderDashOffset,r.beginPath(),r.moveTo(a.x,a.y),r.lineTo(d.x,d.y),r.stroke(),r.restore())};if(e.display)for(f=0,g=l.length;f<g;++f){let a=l[f];e.drawOnChartArea&&h({x:a.x1,y:a.y1},{x:a.x2,y:a.y2},a),e.drawTicks&&h({x:a.tx1,y:a.ty1},{x:a.tx2,y:a.ty2},{color:a.tickColor,width:a.tickWidth,borderDash:a.tickBorderDash,borderDashOffset:a.tickBorderDashOffset})}}drawBorder(){let{chart:t,ctx:e,options:{border:r,grid:l}}=this,f=r.setContext(this.getContext()),g=r.display?f.width:0;if(!g)return;let h=l.setContext(this.getContext(0)).lineWidth,a=this._borderValue,d,m,_,y;this.isHorizontal()?(d=Vn(t,this.left,g)-g/2,m=Vn(t,this.right,h)+h/2,_=y=a):(_=Vn(t,this.top,g)-g/2,y=Vn(t,this.bottom,h)+h/2,d=m=a),e.save(),e.lineWidth=f.width,e.strokeStyle=f.color,e.beginPath(),e.moveTo(d,_),e.lineTo(m,y),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;let r=this.ctx,l=this._computeLabelArea();l&&Ls(r,l);let f=this.getLabelItems(t);for(let g of f){let h=g.options,a=g.font,d=g.label,m=g.textOffset;Hn(r,d,0,m,a,h)}l&&Rs(r)}drawTitle(){let{ctx:t,options:{position:e,title:r,reverse:l}}=this;if(!r.display)return;let f=ee(r.font),g=le(r.padding),h=r.align,a=f.lineHeight/2;e==="bottom"||e==="center"||At(e)?(a+=g.bottom,Ht(r.text)&&(a+=f.lineHeight*(r.text.length-1))):a+=g.top;let{titleX:d,titleY:m,maxWidth:_,rotation:y}=r_(this,a,e,h);Hn(t,r.text,0,0,f,{color:r.color,maxWidth:_,rotation:y,textAlign:o_(h,e,l),textBaseline:"middle",translation:[d,m]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){let t=this.options,e=t.ticks&&t.ticks.z||0,r=xt(t.grid&&t.grid.z,-1),l=xt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==gn.prototype.draw?[{z:e,draw:f=>{this.draw(f)}}]:[{z:r,draw:f=>{this.drawBackground(),this.drawGrid(f),this.drawTitle()}},{z:l,draw:()=>{this.drawBorder()}},{z:e,draw:f=>{this.drawLabels(f)}}]}getMatchingVisibleMetas(t){let e=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",l=[],f,g;for(f=0,g=e.length;f<g;++f){let h=e[f];h[r]===this.id&&(!t||h.type===t)&&l.push(h)}return l}_resolveTickFontOptions(t){let e=this.options.ticks.setContext(this.getContext(t));return ee(e.font)}_maxDigits(){let t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}},Qi=class{constructor(t,e,r){this.type=t,this.scope=e,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){let e=Object.getPrototypeOf(t),r;c_(e)&&(r=this.register(e));let l=this.items,f=t.id,g=this.scope+"."+f;if(!f)throw new Error("class does not have id: "+t);return f in l||(l[f]=t,a_(t,g,r),this.override&&Kt.override(t.id,t.overrides)),g}get(t){return this.items[t]}unregister(t){let e=this.items,r=t.id,l=this.scope;r in e&&delete e[r],l&&r in Kt[l]&&(delete Kt[l][r],this.override&&delete Bn[r])}};function a_(s,t,e){let r=Li(Object.create(null),[e?Kt.get(e):{},Kt.get(t),s.defaults]);Kt.set(t,r),s.defaultRoutes&&l_(t,s.defaultRoutes),s.descriptors&&Kt.describe(t,s.descriptors)}function l_(s,t){Object.keys(t).forEach(e=>{let r=e.split("."),l=r.pop(),f=[s].concat(r).join("."),g=t[e].split("."),h=g.pop(),a=g.join(".");Kt.route(f,l,a,h)})}function c_(s){return"id"in s&&"defaults"in s}var wl=class{constructor(){this.controllers=new Qi(Ae,"datasets",!0),this.elements=new Qi(Te,"elements"),this.plugins=new Qi(Object,"plugins"),this.scales=new Qi(gn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,r){[...e].forEach(l=>{let f=r||this._getRegistryForType(l);r||f.isForType(l)||f===this.plugins&&l.id?this._exec(t,f,l):It(l,g=>{let h=r||this._getRegistryForType(g);this._exec(t,h,g)})})}_exec(t,e,r){let l=tr(t);Bt(r["before"+l],[],r),e[t](r),Bt(r["after"+l],[],r)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){let r=this._typedRegistries[e];if(r.isForType(t))return r}return this.plugins}_get(t,e,r){let l=e.get(t);if(l===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return l}},Je=new wl,kl=class{constructor(){this._init=[]}notify(t,e,r,l){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));let f=l?this._descriptors(t).filter(l):this._descriptors(t),g=this._notify(f,t,e,r);return e==="afterDestroy"&&(this._notify(f,t,"stop"),this._notify(this._init,t,"uninstall")),g}_notify(t,e,r,l){l=l||{};for(let f of t){let g=f.plugin,h=g[r],a=[e,l,f.options];if(Bt(h,a,g)===!1&&l.cancelable)return!1}return!0}invalidate(){Ot(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){let r=t&&t.config,l=xt(r.options&&r.options.plugins,{}),f=h_(r);return l===!1&&!e?[]:f_(t,f,l,e)}_notifyStateChanges(t){let e=this._oldCache||[],r=this._cache,l=(f,g)=>f.filter(h=>!g.some(a=>h.plugin.id===a.plugin.id));this._notify(l(e,r),t,"stop"),this._notify(l(r,e),t,"start")}};function h_(s){let t={},e=[],r=Object.keys(Je.plugins.items);for(let f=0;f<r.length;f++)e.push(Je.getPlugin(r[f]));let l=s.plugins||[];for(let f=0;f<l.length;f++){let g=l[f];e.indexOf(g)===-1&&(e.push(g),t[g.id]=!0)}return{plugins:e,localIds:t}}function u_(s,t){return!t&&s===!1?null:s===!0?{}:s}function f_(s,{plugins:t,localIds:e},r,l){let f=[],g=s.getContext();for(let h of t){let a=h.id,d=u_(r[a],l);d!==null&&f.push({plugin:h,options:d_(s.config,{plugin:h,local:e[a]},d,g)})}return f}function d_(s,{plugin:t,local:e},r,l){let f=s.pluginScopeKeys(t),g=s.getOptionScopes(r,f);return e&&t.defaults&&g.push(t.defaults),s.createResolver(g,l,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Pl(s,t){let e=Kt.datasets[s]||{};return((t.datasets||{})[s]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function g_(s,t){let e=s;return s==="_index_"?e=t:s==="_value_"&&(e=t==="x"?"y":"x"),e}function p_(s,t){return s===t?"_index_":"_value_"}function m_(s){if(s==="top"||s==="bottom")return"x";if(s==="left"||s==="right")return"y"}function yr(s,t){if(s==="x"||s==="y"||s==="r"||(s=t.axis||m_(t.position)||s.length>1&&yr(s[0].toLowerCase(),t),s))return s;throw new Error(`Cannot determine type of '${name}' axis. Please provide 'axis' or 'position' option.`)}function b_(s,t){let e=Bn[s.type]||{scales:{}},r=t.scales||{},l=Pl(s.type,t),f=Object.create(null);return Object.keys(r).forEach(g=>{let h=r[g];if(!At(h))return console.error(`Invalid scale configuration for scale: ${g}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${g}`);let a=yr(g,h),d=p_(a,l),m=e.scales||{};f[g]=Ii(Object.create(null),[{axis:a},h,m[a],m[d]])}),s.data.datasets.forEach(g=>{let h=g.type||s.type,a=g.indexAxis||Pl(h,t),m=(Bn[h]||{}).scales||{};Object.keys(m).forEach(_=>{let y=g_(_,a),w=g[y+"AxisID"]||y;f[w]=f[w]||Object.create(null),Ii(f[w],[{axis:y},r[w],m[_]])})}),Object.keys(f).forEach(g=>{let h=f[g];Ii(h,[Kt.scales[h.type],Kt.scale])}),f}function Rf(s){let t=s.options||(s.options={});t.plugins=xt(t.plugins,{}),t.scales=b_(s,t)}function Sf(s){return s=s||{},s.datasets=s.datasets||[],s.labels=s.labels||[],s}function __(s){return s=s||{},s.data=Sf(s.data),Rf(s),s}var Ku=new Map,If=new Set;function fr(s,t){let e=Ku.get(s);return e||(e=t(),Ku.set(s,e),If.add(e)),e}var Bs=(s,t,e)=>{let r=cn(t,e);r!==void 0&&s.add(r)},Ml=class{constructor(t){this._config=__(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Sf(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){let t=this._config;this.clearCache(),Rf(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return fr(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return fr(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return fr(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){let e=t.id,r=this.type;return fr(`${r}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){let r=this._scopeCache,l=r.get(t);return(!l||e)&&(l=new Map,r.set(t,l)),l}getOptionScopes(t,e,r){let{options:l,type:f}=this,g=this._cachedScopes(t,r),h=g.get(e);if(h)return h;let a=new Set;e.forEach(m=>{t&&(a.add(t),m.forEach(_=>Bs(a,t,_))),m.forEach(_=>Bs(a,l,_)),m.forEach(_=>Bs(a,Bn[f]||{},_)),m.forEach(_=>Bs(a,Kt,_)),m.forEach(_=>Bs(a,sr,_))});let d=Array.from(a);return d.length===0&&d.push(Object.create(null)),If.has(e)&&g.set(e,d),d}chartOptionScopes(){let{options:t,type:e}=this;return[t,Bn[e]||{},Kt.datasets[e]||{},{type:e},Kt,sr]}resolveNamedOptions(t,e,r,l=[""]){let f={$shared:!0},{resolver:g,subPrefixes:h}=Qu(this._resolverCache,t,l),a=g;if(v_(g,e)){f.$shared=!1,r=an(r)?r():r;let d=this.createResolver(t,r,h);a=ei(g,r,d)}for(let d of e)f[d]=a[d];return f}createResolver(t,e,r=[""],l){let{resolver:f}=Qu(this._resolverCache,t,r);return At(e)?ei(f,e,void 0,l):f}};function Qu(s,t,e){let r=s.get(t);r||(r=new Map,s.set(t,r));let l=e.join(),f=r.get(l);return f||(f={resolver:ar(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},r.set(l,f)),f}var x_=s=>At(s)&&Object.getOwnPropertyNames(s).reduce((t,e)=>t||an(s[e]),!1);function v_(s,t){let{isScriptable:e,isIndexable:r}=Ja(s);for(let l of t){let f=e(l),g=r(l),h=(g||f)&&s[l];if(f&&(an(h)||x_(h))||g&&Ht(h))return!0}return!1}var y_="4.2.1",w_=["top","bottom","left","right","chartArea"];function Zu(s,t){return s==="top"||s==="bottom"||w_.indexOf(s)===-1&&t==="x"}function Ju(s,t){return function(e,r){return e[s]===r[s]?e[t]-r[t]:e[s]-r[s]}}function ju(s){let t=s.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Bt(e&&e.onComplete,[s],t)}function k_(s){let t=s.chart,e=t.options.animation;Bt(e&&e.onProgress,[s],t)}function Ff(s){return nl()&&typeof s=="string"?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}var br={},tf=s=>{let t=Ff(s);return Object.values(br).filter(e=>e.canvas===t).pop()};function P_(s,t,e){let r=Object.keys(s);for(let l of r){let f=+l;if(f>=t){let g=s[l];delete s[l],(e>0||f>t)&&(s[f+e]=g)}}}function M_(s,t,e,r){return!e||s.type==="mouseout"?null:r?t:s}function C_(s){let{xScale:t,yScale:e}=s;if(t&&e)return{left:t.left,right:t.right,top:e.top,bottom:e.bottom}}var Ve=class{static register(...t){Je.add(...t),ef()}static unregister(...t){Je.remove(...t),ef()}constructor(t,e){let r=this.config=new Ml(e),l=Ff(t),f=tf(l);if(f)throw new Error("Canvas is already in use. Chart with ID '"+f.id+"' must be destroyed before the canvas with ID '"+f.canvas.id+"' can be reused.");let g=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||X0(l)),this.platform.updateConfig(r);let h=this.platform.acquireContext(l,g.aspectRatio),a=h&&h.canvas,d=a&&a.height,m=a&&a.width;if(this.id=jh(),this.ctx=h,this.canvas=a,this.width=m,this.height=d,this._options=g,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new kl,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=hu(_=>this.update(_),g.resizeDelay||0),this._dataChanges=[],br[this.id]=this,!h||!a){console.error("Failed to create chart: can't acquire context from the given item");return}un.listen(this,"complete",ju),un.listen(this,"progress",k_),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:t,maintainAspectRatio:e},width:r,height:l,_aspectRatio:f}=this;return Ot(t)?e&&f?f:l?r/l:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Je}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():il(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ka(this.canvas,this.ctx),this}stop(){return un.stop(this),this}resize(t,e){un.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){let r=this.options,l=this.canvas,f=r.maintainAspectRatio&&this.aspectRatio,g=this.platform.getMaximumSize(l,t,e,f),h=r.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=g.width,this.height=g.height,this._aspectRatio=this.aspectRatio,il(this,h,!0)&&(this.notifyPlugins("resize",{size:g}),Bt(r.onResize,[this,g],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){let e=this.options.scales||{};It(e,(r,l)=>{r.id=l})}buildOrUpdateScales(){let t=this.options,e=t.scales,r=this.scales,l=Object.keys(r).reduce((g,h)=>(g[h]=!1,g),{}),f=[];e&&(f=f.concat(Object.keys(e).map(g=>{let h=e[g],a=yr(g,h),d=a==="r",m=a==="x";return{options:h,dposition:d?"chartArea":m?"bottom":"left",dtype:d?"radialLinear":m?"category":"linear"}}))),It(f,g=>{let h=g.options,a=h.id,d=yr(a,h),m=xt(h.type,g.dtype);(h.position===void 0||Zu(h.position,d)!==Zu(g.dposition))&&(h.position=g.dposition),l[a]=!0;let _=null;if(a in r&&r[a].type===m)_=r[a];else{let y=Je.getScale(m);_=new y({id:a,type:m,ctx:this.ctx,chart:this}),r[_.id]=_}_.init(h,t)}),It(l,(g,h)=>{g||delete r[h]}),It(r,g=>{fe.configure(this,g,g.options),fe.addBox(this,g)})}_updateMetasets(){let t=this._metasets,e=this.data.datasets.length,r=t.length;if(t.sort((l,f)=>l.index-f.index),r>e){for(let l=e;l<r;++l)this._destroyDatasetMeta(l);t.splice(e,r-e)}this._sortedMetasets=t.slice(0).sort(Ju("order","index"))}_removeUnreferencedMetasets(){let{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((r,l)=>{e.filter(f=>f===r._dataset).length===0&&this._destroyDatasetMeta(l)})}buildOrUpdateControllers(){let t=[],e=this.data.datasets,r,l;for(this._removeUnreferencedMetasets(),r=0,l=e.length;r<l;r++){let f=e[r],g=this.getDatasetMeta(r),h=f.type||this.config.type;if(g.type&&g.type!==h&&(this._destroyDatasetMeta(r),g=this.getDatasetMeta(r)),g.type=h,g.indexAxis=f.indexAxis||Pl(h,this.options),g.order=f.order||0,g.index=r,g.label=""+f.label,g.visible=this.isDatasetVisible(r),g.controller)g.controller.updateIndex(r),g.controller.linkScales();else{let a=Je.getController(h),{datasetElementType:d,dataElementType:m}=Kt.datasets[h];Object.assign(a,{dataElementType:Je.getElement(m),datasetElementType:d&&Je.getElement(d)}),g.controller=new a(this,r),t.push(g.controller)}}return this._updateMetasets(),t}_resetElements(){It(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){let e=this.config;e.update();let r=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),l=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;let f=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let g=0;for(let d=0,m=this.data.datasets.length;d<m;d++){let{controller:_}=this.getDatasetMeta(d),y=!l&&f.indexOf(_)===-1;_.buildOrUpdateElements(y),g=Math.max(+_.getMaxOverflow(),g)}g=this._minPadding=r.layout.autoPadding?g:0,this._updateLayout(g),l||It(f,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Ju("z","_idx"));let{_active:h,_lastEvent:a}=this;a?this._eventHandler(a,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){It(this.scales,t=>{fe.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let t=this.options,e=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!za(e,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(let{method:r,start:l,count:f}of e){let g=r==="_removeElements"?-f:f;P_(t,l,g)}}_getUniformDataChanges(){let t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];let e=this.data.datasets.length,r=f=>new Set(t.filter(g=>g[0]===f).map((g,h)=>h+","+g.splice(1).join(","))),l=r(0);for(let f=1;f<e;f++)if(!za(l,r(f)))return;return Array.from(l).map(f=>f.split(",")).map(f=>({method:f[1],start:+f[2],count:+f[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;fe.update(this,this.width,this.height,t);let e=this.chartArea,r=e.width<=0||e.height<=0;this._layers=[],It(this.boxes,l=>{r&&l.position==="chartArea"||(l.configure&&l.configure(),this._layers.push(...l._layers()))},this),this._layers.forEach((l,f)=>{l._idx=f}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,r=this.data.datasets.length;e<r;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,r=this.data.datasets.length;e<r;++e)this._updateDataset(e,an(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){let r=this.getDatasetMeta(t),l={meta:r,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",l)!==!1&&(r.controller._update(e),l.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",l))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(un.has(this)?this.attached&&!un.running(this)&&un.start(this):(this.draw(),ju({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){let{width:r,height:l}=this._resizeBeforeDraw;this._resize(r,l),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){let e=this._sortedMetasets,r=[],l,f;for(l=0,f=e.length;l<f;++l){let g=e[l];(!t||g.visible)&&r.push(g)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){let e=this.ctx,r=t._clip,l=!r.disabled,f=C_(t)||this.chartArea,g={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",g)!==!1&&(l&&Ls(e,{left:r.left===!1?0:f.left-r.left,right:r.right===!1?this.width:f.right+r.right,top:r.top===!1?0:f.top-r.top,bottom:r.bottom===!1?this.height:f.bottom+r.bottom}),t.controller.draw(),l&&Rs(e),g.cancelable=!1,this.notifyPlugins("afterDatasetDraw",g))}isPointInArea(t){return Ri(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,r,l){let f=T0.modes[e];return typeof f=="function"?f(this,t,r,l):[]}getDatasetMeta(t){let e=this.data.datasets[t],r=this._metasets,l=r.filter(f=>f&&f._dataset===e).pop();return l||(l={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},r.push(l)),l}getContext(){return this.$context||(this.$context=hn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){let e=this.data.datasets[t];if(!e)return!1;let r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!e.hidden}setDatasetVisibility(t,e){let r=this.getDatasetMeta(t);r.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,r){let l=r?"show":"hide",f=this.getDatasetMeta(t),g=f.controller._resolveAnimations(void 0,l);Ce(e)?(f.data[e].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),g.update(f,{visible:r}),this.update(h=>h.datasetIndex===t?l:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){let e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),un.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Ka(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete br[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let t=this._listeners,e=this.platform,r=(f,g)=>{e.addEventListener(this,f,g),t[f]=g},l=(f,g,h)=>{f.offsetX=g,f.offsetY=h,this._eventHandler(f)};It(this.options.events,f=>r(f,l))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let t=this._responsiveListeners,e=this.platform,r=(a,d)=>{e.addEventListener(this,a,d),t[a]=d},l=(a,d)=>{t[a]&&(e.removeEventListener(this,a,d),delete t[a])},f=(a,d)=>{this.canvas&&this.resize(a,d)},g,h=()=>{l("attach",h),this.attached=!0,this.resize(),r("resize",f),r("detach",g)};g=()=>{this.attached=!1,l("resize",f),this._stop(),this._resize(0,0),r("attach",h)},e.isAttached(this.canvas)?h():g()}unbindEvents(){It(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},It(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,r){let l=r?"set":"remove",f,g,h,a;for(e==="dataset"&&(f=this.getDatasetMeta(t[0].datasetIndex),f.controller["_"+l+"DatasetHoverStyle"]()),h=0,a=t.length;h<a;++h){g=t[h];let d=g&&this.getDatasetMeta(g.datasetIndex).controller;d&&d[l+"HoverStyle"](g.element,g.datasetIndex,g.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){let e=this._active||[],r=t.map(({datasetIndex:f,index:g})=>{let h=this.getDatasetMeta(f);if(!h)throw new Error("No dataset found at index "+f);return{datasetIndex:f,element:h.data[g],index:g}});!Os(r,e)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,e))}notifyPlugins(t,e,r){return this._plugins.notify(this,t,e,r)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,r){let l=this.options.hover,f=(a,d)=>a.filter(m=>!d.some(_=>m.datasetIndex===_.datasetIndex&&m.index===_.index)),g=f(e,t),h=r?t:f(t,e);g.length&&this.updateHoverStyle(g,l.mode,!1),h.length&&l.mode&&this.updateHoverStyle(h,l.mode,!0)}_eventHandler(t,e){let r={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},l=g=>(g.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,l)===!1)return;let f=this._handleEvent(t,e,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,l),(f||r.changed)&&this.render(),this}_handleEvent(t,e,r){let{_active:l=[],options:f}=this,g=e,h=this._getActiveElements(t,l,r,g),a=nu(t),d=M_(t,this._lastEvent,r,a);r&&(this._lastEvent=null,Bt(f.onHover,[t,h,this],this),a&&Bt(f.onClick,[t,h,this],this));let m=!Os(h,l);return(m||e)&&(this._active=h,this._updateHoverStyles(h,l,e)),this._lastEvent=d,m}_getActiveElements(t,e,r,l){if(t.type==="mouseout")return[];if(!r)return e;let f=this.options.hover;return this.getElementsAtEventForMode(t,f.mode,f,l)}};ht(Ve,"defaults",Kt),ht(Ve,"instances",br),ht(Ve,"overrides",Bn),ht(Ve,"registry",Je),ht(Ve,"version",y_),ht(Ve,"getChart",tf);function ef(){return It(Ve.instances,s=>s._plugins.invalidate())}function A_(s,t,e){let{startAngle:r,pixelMargin:l,x:f,y:g,outerRadius:h,innerRadius:a}=t,d=l/h;s.beginPath(),s.arc(f,g,h,r-d,e+d),a>l?(d=l/a,s.arc(f,g,a,e+d,r-d,!0)):s.arc(f,g,l,e+qt,r-qt),s.closePath(),s.clip()}function T_(s){return rr(s,["outerStart","outerEnd","innerStart","innerEnd"])}function D_(s,t,e,r){let l=T_(s.options.borderRadius),f=(e-t)/2,g=Math.min(f,r*t/2),h=a=>{let d=(e-Math.min(f,a))*r/2;return se(a,0,Math.min(f,d))};return{outerStart:h(l.outerStart),outerEnd:h(l.outerEnd),innerStart:se(l.innerStart,0,g),innerEnd:se(l.innerEnd,0,g)}}function Ni(s,t,e,r){return{x:e+s*Math.cos(t),y:r+s*Math.sin(t)}}function wr(s,t,e,r,l,f){let{x:g,y:h,startAngle:a,pixelMargin:d,innerRadius:m}=t,_=Math.max(t.outerRadius+r+e-d,0),y=m>0?m+r+e+d:0,w=0,P=l-a;if(r){let pt=m>0?m-r:0,_t=_>0?_-r:0,Pt=(pt+_t)/2,bt=Pt!==0?P*Pt/(Pt+r):P;w=(P-bt)/2}let M=Math.max(.001,P*_-e/Wt)/_,T=(P-M)/2,C=a+T+w,D=l-T-w,{outerStart:L,outerEnd:I,innerStart:B,innerEnd:N}=D_(t,y,_,D-C),U=_-L,X=_-I,G=C+L/U,et=D-I/X,it=y+B,ct=y+N,ut=C+B/it,gt=D-N/ct;if(s.beginPath(),f){let pt=(G+et)/2;if(s.arc(g,h,_,G,pt),s.arc(g,h,_,pt,et),I>0){let Mt=Ni(X,et,g,h);s.arc(Mt.x,Mt.y,I,et,D+qt)}let _t=Ni(ct,D,g,h);if(s.lineTo(_t.x,_t.y),N>0){let Mt=Ni(ct,gt,g,h);s.arc(Mt.x,Mt.y,N,D+qt,gt+Math.PI)}let Pt=(D-N/y+(C+B/y))/2;if(s.arc(g,h,y,D-N/y,Pt,!0),s.arc(g,h,y,Pt,C+B/y,!0),B>0){let Mt=Ni(it,ut,g,h);s.arc(Mt.x,Mt.y,B,ut+Math.PI,C-qt)}let bt=Ni(U,C,g,h);if(s.lineTo(bt.x,bt.y),L>0){let Mt=Ni(U,G,g,h);s.arc(Mt.x,Mt.y,L,C-qt,G)}}else{s.moveTo(g,h);let pt=Math.cos(G)*_+g,_t=Math.sin(G)*_+h;s.lineTo(pt,_t);let Pt=Math.cos(et)*_+g,bt=Math.sin(et)*_+h;s.lineTo(Pt,bt)}s.closePath()}function O_(s,t,e,r,l){let{fullCircles:f,startAngle:g,circumference:h}=t,a=t.endAngle;if(f){wr(s,t,e,r,a,l);for(let d=0;d<f;++d)s.fill();isNaN(h)||(a=g+(h%Nt||Nt))}return wr(s,t,e,r,a,l),s.fill(),a}function E_(s,t,e,r,l){let{fullCircles:f,startAngle:g,circumference:h,options:a}=t,{borderWidth:d,borderJoinStyle:m}=a,_=a.borderAlign==="inner";if(!d)return;_?(s.lineWidth=d*2,s.lineJoin=m||"round"):(s.lineWidth=d,s.lineJoin=m||"bevel");let y=t.endAngle;if(f){wr(s,t,e,r,y,l);for(let w=0;w<f;++w)s.stroke();isNaN(h)||(y=g+(h%Nt||Nt))}_&&A_(s,t,y),f||(wr(s,t,e,r,y,l),s.stroke())}var Xi=class extends Te{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,r){let l=this.getProps(["x","y"],r),{angle:f,distance:g}=Na(l,{x:t,y:e}),{startAngle:h,endAngle:a,innerRadius:d,outerRadius:m,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),y=this.options.spacing/2,P=xt(_,a-h)>=Nt||zi(f,h,a),M=Qe(g,d+y,m+y);return P&&M}getCenterPoint(t){let{x:e,y:r,startAngle:l,endAngle:f,innerRadius:g,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:a,spacing:d}=this.options,m=(l+f)/2,_=(g+h+d+a)/2;return{x:e+Math.cos(m)*_,y:r+Math.sin(m)*_}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){let{options:e,circumference:r}=this,l=(e.offset||0)/4,f=(e.spacing||0)/2,g=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=r>Nt?Math.floor(r/Nt):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*l,Math.sin(h)*l);let a=1-Math.sin(Math.min(Wt,r||0)),d=l*a;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,O_(t,this,d,f,g),E_(t,this,d,f,g),t.restore()}};ht(Xi,"id","arc"),ht(Xi,"defaults",{borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),ht(Xi,"defaultRoutes",{backgroundColor:"backgroundColor"});function zf(s,t,e=t){s.lineCap=xt(e.borderCapStyle,t.borderCapStyle),s.setLineDash(xt(e.borderDash,t.borderDash)),s.lineDashOffset=xt(e.borderDashOffset,t.borderDashOffset),s.lineJoin=xt(e.borderJoinStyle,t.borderJoinStyle),s.lineWidth=xt(e.borderWidth,t.borderWidth),s.strokeStyle=xt(e.borderColor,t.borderColor)}function L_(s,t,e){s.lineTo(e.x,e.y)}function R_(s){return s.stepped?pu:s.tension||s.cubicInterpolationMode==="monotone"?mu:L_}function Bf(s,t,e={}){let r=s.length,{start:l=0,end:f=r-1}=e,{start:g,end:h}=t,a=Math.max(l,g),d=Math.min(f,h),m=l<g&&f<g||l>h&&f>h;return{count:r,start:a,loop:t.loop,ilen:d<a&&!m?r+d-a:d-a}}function S_(s,t,e,r){let{points:l,options:f}=t,{count:g,start:h,loop:a,ilen:d}=Bf(l,e,r),m=R_(f),{move:_=!0,reverse:y}=r||{},w,P,M;for(w=0;w<=d;++w)P=l[(h+(y?d-w:w))%g],!P.skip&&(_?(s.moveTo(P.x,P.y),_=!1):m(s,M,P,y,f.stepped),M=P);return a&&(P=l[(h+(y?d:0))%g],m(s,M,P,y,f.stepped)),!!a}function I_(s,t,e,r){let l=t.points,{count:f,start:g,ilen:h}=Bf(l,e,r),{move:a=!0,reverse:d}=r||{},m=0,_=0,y,w,P,M,T,C,D=I=>(g+(d?h-I:I))%f,L=()=>{M!==T&&(s.lineTo(m,T),s.lineTo(m,M),s.lineTo(m,C))};for(a&&(w=l[D(0)],s.moveTo(w.x,w.y)),y=0;y<=h;++y){if(w=l[D(y)],w.skip)continue;let I=w.x,B=w.y,N=I|0;N===P?(B<M?M=B:B>T&&(T=B),m=(_*m+I)/++_):(L(),s.lineTo(I,B),P=N,_=0,M=T=B),C=B}L()}function Cl(s){let t=s.options,e=t.borderDash&&t.borderDash.length;return!s._decimated&&!s._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?I_:S_}function F_(s){return s.stepped?Mu:s.tension||s.cubicInterpolationMode==="monotone"?Cu:zn}function z_(s,t,e,r){let l=t._path;l||(l=t._path=new Path2D,t.path(l,e,r)&&l.closePath()),zf(s,t.options),s.stroke(l)}function B_(s,t,e,r){let{segments:l,options:f}=t,g=Cl(t);for(let h of l)zf(s,f,h.style),s.beginPath(),g(s,t,h,{start:e,end:e+r-1})&&s.closePath(),s.stroke()}var V_=typeof Path2D=="function";function H_(s,t,e,r){V_&&!t.options.segment?z_(s,t,e,r):B_(s,t,e,r)}var je=class extends Te{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){let r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){let l=r.spanGaps?this._loop:this._fullLoop;wu(this._points,r,t,l,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Tu(this,this.options.segment))}first(){let t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){let t=this.segments,e=this.points,r=t.length;return r&&e[t[r-1].end]}interpolate(t,e){let r=this.options,l=t[e],f=this.points,g=ll(this,{property:e,start:l,end:l});if(!g.length)return;let h=[],a=F_(r),d,m;for(d=0,m=g.length;d<m;++d){let{start:_,end:y}=g[d],w=f[_],P=f[y];if(w===P){h.push(w);continue}let M=Math.abs((l-w[e])/(P[e]-w[e])),T=a(w,P,M,r.stepped);T[e]=t[e],h.push(T)}return h.length===1?h[0]:h}pathSegment(t,e,r){return Cl(this)(t,this,e,r)}path(t,e,r){let l=this.segments,f=Cl(this),g=this._loop;e=e||0,r=r||this.points.length-e;for(let h of l)g&=f(t,this,h,{start:e,end:e+r-1});return!!g}draw(t,e,r,l){let f=this.options||{};(this.points||[]).length&&f.borderWidth&&(t.save(),H_(t,this,r,l),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}};ht(je,"id","line"),ht(je,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ht(je,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ht(je,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function nf(s,t,e,r){let l=s.options,{[e]:f}=s.getProps([e],r);return Math.abs(t-f)<l.radius+l.hitRadius}var Gi=class extends Te{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,r){let l=this.options,{x:f,y:g}=this.getProps(["x","y"],r);return Math.pow(t-f,2)+Math.pow(e-g,2)<Math.pow(l.hitRadius+l.radius,2)}inXRange(t,e){return nf(this,t,"x",e)}inYRange(t,e){return nf(this,t,"y",e)}getCenterPoint(t){let{x:e,y:r}=this.getProps(["x","y"],t);return{x:e,y:r}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);let r=e&&t.borderWidth||0;return(e+r)*2}draw(t,e){let r=this.options;this.skip||r.radius<.1||!Ri(this,e,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,or(t,r,this.x,this.y))}getRange(){let t=this.options||{};return t.radius+t.hitRadius}};ht(Gi,"id","point"),ht(Gi,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ht(Gi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Vf(s,t){let{x:e,y:r,base:l,width:f,height:g}=s.getProps(["x","y","base","width","height"],t),h,a,d,m,_;return s.horizontal?(_=g/2,h=Math.min(e,l),a=Math.max(e,l),d=r-_,m=r+_):(_=f/2,h=e-_,a=e+_,d=Math.min(r,l),m=Math.max(r,l)),{left:h,top:d,right:a,bottom:m}}function $n(s,t,e,r){return s?0:se(t,e,r)}function N_(s,t,e){let r=s.options.borderWidth,l=s.borderSkipped,f=Za(r);return{t:$n(l.top,f.top,0,e),r:$n(l.right,f.right,0,t),b:$n(l.bottom,f.bottom,0,e),l:$n(l.left,f.left,0,t)}}function W_(s,t,e){let{enableBorderRadius:r}=s.getProps(["enableBorderRadius"]),l=s.options.borderRadius,f=Nn(l),g=Math.min(t,e),h=s.borderSkipped,a=r||At(l);return{topLeft:$n(!a||h.top||h.left,f.topLeft,0,g),topRight:$n(!a||h.top||h.right,f.topRight,0,g),bottomLeft:$n(!a||h.bottom||h.left,f.bottomLeft,0,g),bottomRight:$n(!a||h.bottom||h.right,f.bottomRight,0,g)}}function $_(s){let t=Vf(s),e=t.right-t.left,r=t.bottom-t.top,l=N_(s,e/2,r/2),f=W_(s,e/2,r/2);return{outer:{x:t.left,y:t.top,w:e,h:r,radius:f},inner:{x:t.left+l.l,y:t.top+l.t,w:e-l.l-l.r,h:r-l.t-l.b,radius:{topLeft:Math.max(0,f.topLeft-Math.max(l.t,l.l)),topRight:Math.max(0,f.topRight-Math.max(l.t,l.r)),bottomLeft:Math.max(0,f.bottomLeft-Math.max(l.b,l.l)),bottomRight:Math.max(0,f.bottomRight-Math.max(l.b,l.r))}}}}function pl(s,t,e,r){let l=t===null,f=e===null,h=s&&!(l&&f)&&Vf(s,r);return h&&(l||Qe(t,h.left,h.right))&&(f||Qe(e,h.top,h.bottom))}function Y_(s){return s.topLeft||s.topRight||s.bottomLeft||s.bottomRight}function q_(s,t){s.rect(t.x,t.y,t.w,t.h)}function ml(s,t,e={}){let r=s.x!==e.x?-t:0,l=s.y!==e.y?-t:0,f=(s.x+s.w!==e.x+e.w?t:0)-r,g=(s.y+s.h!==e.y+e.h?t:0)-l;return{x:s.x+r,y:s.y+l,w:s.w+f,h:s.h+g,radius:s.radius}}var Ki=class extends Te{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){let{inflateAmount:e,options:{borderColor:r,backgroundColor:l}}=this,{inner:f,outer:g}=$_(this),h=Y_(g.radius)?Vi:q_;t.save(),(g.w!==f.w||g.h!==f.h)&&(t.beginPath(),h(t,ml(g,e,f)),t.clip(),h(t,ml(f,-e,g)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),h(t,ml(f,e)),t.fillStyle=l,t.fill(),t.restore()}inRange(t,e,r){return pl(this,t,e,r)}inXRange(t,e){return pl(this,t,null,e)}inYRange(t,e){return pl(this,null,t,e)}getCenterPoint(t){let{x:e,y:r,base:l,horizontal:f}=this.getProps(["x","y","base","horizontal"],t);return{x:f?(e+l)/2:e,y:f?r:(r+l)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}};ht(Ki,"id","bar"),ht(Ki,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ht(Ki,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var U_=Object.freeze({__proto__:null,ArcElement:Xi,LineElement:je,PointElement:Gi,BarElement:Ki}),Al=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],sf=Al.map(s=>s.replace("rgb(","rgba(").replace(")",", 0.5)"));function Hf(s){return Al[s%Al.length]}function Nf(s){return sf[s%sf.length]}function X_(s,t){return s.borderColor=Hf(t),s.backgroundColor=Nf(t),++t}function G_(s,t){return s.backgroundColor=s.data.map(()=>Hf(t++)),t}function K_(s,t){return s.backgroundColor=s.data.map(()=>Nf(t++)),t}function Q_(s){let t=0;return(e,r)=>{let l=s.getDatasetMeta(r).controller;l instanceof dn?t=G_(e,t):l instanceof ai?t=K_(e,t):l&&(t=X_(e,t))}}function of(s){let t;for(t in s)if(s[t].borderColor||s[t].backgroundColor)return!0;return!1}function Z_(s){return s&&(s.borderColor||s.backgroundColor)}var J_={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(s,t,e){if(!e.enabled)return;let{data:{datasets:r},options:l}=s.config,{elements:f}=l;if(!e.forceOverride&&(of(r)||Z_(l)||f&&of(f)))return;let g=Q_(s);r.forEach(g)}};function j_(s,t,e,r,l){let f=l.samples||r;if(f>=e)return s.slice(t,t+e);let g=[],h=(e-2)/(f-2),a=0,d=t+e-1,m=t,_,y,w,P,M;for(g[a++]=s[m],_=0;_<f-2;_++){let T=0,C=0,D,L=Math.floor((_+1)*h)+1+t,I=Math.min(Math.floor((_+2)*h)+1,e)+t,B=I-L;for(D=L;D<I;D++)T+=s[D].x,C+=s[D].y;T/=B,C/=B;let N=Math.floor(_*h)+1+t,U=Math.min(Math.floor((_+1)*h)+1,e)+t,{x:X,y:G}=s[m];for(w=P=-1,D=N;D<U;D++)P=.5*Math.abs((X-T)*(s[D].y-G)-(X-s[D].x)*(C-G)),P>w&&(w=P,y=s[D],M=D);g[a++]=y,m=M}return g[a++]=s[d],g}function tx(s,t,e,r){let l=0,f=0,g,h,a,d,m,_,y,w,P,M,T=[],C=t+e-1,D=s[t].x,I=s[C].x-D;for(g=t;g<t+e;++g){h=s[g],a=(h.x-D)/I*r,d=h.y;let B=a|0;if(B===m)d<P?(P=d,_=g):d>M&&(M=d,y=g),l=(f*l+h.x)/++f;else{let N=g-1;if(!Ot(_)&&!Ot(y)){let U=Math.min(_,y),X=Math.max(_,y);U!==w&&U!==N&&T.push({...s[U],x:l}),X!==w&&X!==N&&T.push({...s[X],x:l})}g>0&&N!==w&&T.push(s[N]),T.push(h),m=B,f=0,P=M=d,_=y=w=g}}return T}function Wf(s){if(s._decimated){let t=s._data;delete s._decimated,delete s._data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function rf(s){s.data.datasets.forEach(t=>{Wf(t)})}function ex(s,t){let e=t.length,r=0,l,{iScale:f}=s,{min:g,max:h,minDefined:a,maxDefined:d}=f.getUserBounds();return a&&(r=se(Ge(t,f.axis,g).lo,0,e-1)),d?l=se(Ge(t,f.axis,h).hi+1,r,e)-r:l=e-r,{start:r,count:l}}var nx={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(s,t,e)=>{if(!e.enabled){rf(s);return}let r=s.width;s.data.datasets.forEach((l,f)=>{let{_data:g,indexAxis:h}=l,a=s.getDatasetMeta(f),d=g||l.data;if(Hi([h,s.options.indexAxis])==="y"||!a.controller.supportsDecimation)return;let m=s.scales[a.xAxisID];if(m.type!=="linear"&&m.type!=="time"||s.options.parsing)return;let{start:_,count:y}=ex(a,d),w=e.threshold||4*r;if(y<=w){Wf(l);return}Ot(g)&&(l._data=d,delete l.data,Object.defineProperty(l,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(M){this._data=M}}));let P;switch(e.algorithm){case"lttb":P=j_(d,_,y,r,e);break;case"min-max":P=tx(d,_,y,r);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}l._decimated=P})},destroy(s){rf(s)}};function ix(s,t,e){let r=s.segments,l=s.points,f=t.points,g=[];for(let h of r){let{start:a,end:d}=h;d=Ol(a,d,l);let m=Tl(e,l[a],l[d],h.loop);if(!t.segments){g.push({source:h,target:m,start:l[a],end:l[d]});continue}let _=ll(t,m);for(let y of _){let w=Tl(e,f[y.start],f[y.end],y.loop),P=al(h,l,w);for(let M of P)g.push({source:M,target:y,start:{[e]:af(m,w,"start",Math.max)},end:{[e]:af(m,w,"end",Math.min)}})}}return g}function Tl(s,t,e,r){if(r)return;let l=t[s],f=e[s];return s==="angle"&&(l=ve(l),f=ve(f)),{property:s,start:l,end:f}}function sx(s,t){let{x:e=null,y:r=null}=s||{},l=t.points,f=[];return t.segments.forEach(({start:g,end:h})=>{h=Ol(g,h,l);let a=l[g],d=l[h];r!==null?(f.push({x:a.x,y:r}),f.push({x:d.x,y:r})):e!==null&&(f.push({x:e,y:a.y}),f.push({x:e,y:d.y}))}),f}function Ol(s,t,e){for(;t>s;t--){let r=e[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function af(s,t,e,r){return s&&t?r(s[e],t[e]):s?s[e]:t?t[e]:0}function $f(s,t){let e=[],r=!1;return Ht(s)?(r=!0,e=s):e=sx(s,t),e.length?new je({points:e,options:{tension:0},_loop:r,_fullLoop:r}):null}function lf(s){return s&&s.fill!==!1}function ox(s,t,e){let l=s[t].fill,f=[t],g;if(!e)return l;for(;l!==!1&&f.indexOf(l)===-1;){if(!Ut(l))return l;if(g=s[l],!g)return!1;if(g.visible)return l;f.push(l),l=g.fill}return!1}function rx(s,t,e){let r=hx(s);if(At(r))return isNaN(r.value)?!1:r;let l=parseFloat(r);return Ut(l)&&Math.floor(l)===l?ax(r[0],t,l,e):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function ax(s,t,e,r){return(s==="-"||s==="+")&&(e=t+e),e===t||e<0||e>=r?!1:e}function lx(s,t){let e=null;return s==="start"?e=t.bottom:s==="end"?e=t.top:At(s)?e=t.getPixelForValue(s.value):t.getBasePixel&&(e=t.getBasePixel()),e}function cx(s,t,e){let r;return s==="start"?r=e:s==="end"?r=t.options.reverse?t.min:t.max:At(s)?r=s.value:r=t.getBaseValue(),r}function hx(s){let t=s.options,e=t.fill,r=xt(e&&e.target,e);return r===void 0&&(r=!!t.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function ux(s){let{scale:t,index:e,line:r}=s,l=[],f=r.segments,g=r.points,h=fx(t,e);h.push($f({x:null,y:t.bottom},r));for(let a=0;a<f.length;a++){let d=f[a];for(let m=d.start;m<=d.end;m++)dx(l,g[m],h)}return new je({points:l,options:{}})}function fx(s,t){let e=[],r=s.getMatchingVisibleMetas("line");for(let l=0;l<r.length;l++){let f=r[l];if(f.index===t)break;f.hidden||e.unshift(f.dataset)}return e}function dx(s,t,e){let r=[];for(let l=0;l<e.length;l++){let f=e[l],{first:g,last:h,point:a}=gx(f,t,"x");if(!(!a||g&&h)){if(g)r.unshift(a);else if(s.push(a),!h)break}}s.push(...r)}function gx(s,t,e){let r=s.interpolate(t,e);if(!r)return{};let l=r[e],f=s.segments,g=s.points,h=!1,a=!1;for(let d=0;d<f.length;d++){let m=f[d],_=g[m.start][e],y=g[m.end][e];if(Qe(l,_,y)){h=l===_,a=l===y;break}}return{first:h,last:a,point:r}}var kr=class{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,r){let{x:l,y:f,radius:g}=this;return e=e||{start:0,end:Nt},t.arc(l,f,g,e.end,e.start,!0),!r.bounds}interpolate(t){let{x:e,y:r,radius:l}=this,f=t.angle;return{x:e+Math.cos(f)*l,y:r+Math.sin(f)*l,angle:f}}};function px(s){let{chart:t,fill:e,line:r}=s;if(Ut(e))return mx(t,e);if(e==="stack")return ux(s);if(e==="shape")return!0;let l=bx(s);return l instanceof kr?l:$f(l,r)}function mx(s,t){let e=s.getDatasetMeta(t);return e&&s.isDatasetVisible(t)?e.dataset:null}function bx(s){return(s.scale||{}).getPointPositionForValue?xx(s):_x(s)}function _x(s){let{scale:t={},fill:e}=s,r=lx(e,t);if(Ut(r)){let l=t.isHorizontal();return{x:l?r:null,y:l?null:r}}return null}function xx(s){let{scale:t,fill:e}=s,r=t.options,l=t.getLabels().length,f=r.reverse?t.max:t.min,g=cx(e,t,f),h=[];if(r.grid.circular){let a=t.getPointPositionForValue(0,f);return new kr({x:a.x,y:a.y,radius:t.getDistanceFromCenterForValue(g)})}for(let a=0;a<l;++a)h.push(t.getPointPositionForValue(a,g));return h}function bl(s,t,e){let r=px(t),{line:l,scale:f,axis:g}=t,h=l.options,a=h.fill,d=h.backgroundColor,{above:m=d,below:_=d}=a||{};r&&l.points.length&&(Ls(s,e),vx(s,{line:l,target:r,above:m,below:_,area:e,scale:f,axis:g}),Rs(s))}function vx(s,t){let{line:e,target:r,above:l,below:f,area:g,scale:h}=t,a=e._loop?"angle":t.axis;s.save(),a==="x"&&f!==l&&(cf(s,r,g.top),hf(s,{line:e,target:r,color:l,scale:h,property:a}),s.restore(),s.save(),cf(s,r,g.bottom)),hf(s,{line:e,target:r,color:f,scale:h,property:a}),s.restore()}function cf(s,t,e){let{segments:r,points:l}=t,f=!0,g=!1;s.beginPath();for(let h of r){let{start:a,end:d}=h,m=l[a],_=l[Ol(a,d,l)];f?(s.moveTo(m.x,m.y),f=!1):(s.lineTo(m.x,e),s.lineTo(m.x,m.y)),g=!!t.pathSegment(s,h,{move:g}),g?s.closePath():s.lineTo(_.x,e)}s.lineTo(t.first().x,e),s.closePath(),s.clip()}function hf(s,t){let{line:e,target:r,property:l,color:f,scale:g}=t,h=ix(e,r,l);for(let{source:a,target:d,start:m,end:_}of h){let{style:{backgroundColor:y=f}={}}=a,w=r!==!0;s.save(),s.fillStyle=y,yx(s,g,w&&Tl(l,m,_)),s.beginPath();let P=!!e.pathSegment(s,a),M;if(w){P?s.closePath():uf(s,r,_,l);let T=!!r.pathSegment(s,d,{move:P,reverse:!0});M=P&&T,M||uf(s,r,m,l)}s.closePath(),s.fill(M?"evenodd":"nonzero"),s.restore()}}function yx(s,t,e){let{top:r,bottom:l}=t.chart.chartArea,{property:f,start:g,end:h}=e||{};f==="x"&&(s.beginPath(),s.rect(g,r,h-g,l-r),s.clip())}function uf(s,t,e,r){let l=t.interpolate(e,r);l&&s.lineTo(l.x,l.y)}var wx={id:"filler",afterDatasetsUpdate(s,t,e){let r=(s.data.datasets||[]).length,l=[],f,g,h,a;for(g=0;g<r;++g)f=s.getDatasetMeta(g),h=f.dataset,a=null,h&&h.options&&h instanceof je&&(a={visible:s.isDatasetVisible(g),index:g,fill:rx(h,g,r),chart:s,axis:f.controller.options.indexAxis,scale:f.vScale,line:h}),f.$filler=a,l.push(a);for(g=0;g<r;++g)a=l[g],!(!a||a.fill===!1)&&(a.fill=ox(l,g,e.propagate))},beforeDraw(s,t,e){let r=e.drawTime==="beforeDraw",l=s.getSortedVisibleDatasetMetas(),f=s.chartArea;for(let g=l.length-1;g>=0;--g){let h=l[g].$filler;h&&(h.line.updateControlPoints(f,h.axis),r&&h.fill&&bl(s.ctx,h,f))}},beforeDatasetsDraw(s,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;let r=s.getSortedVisibleDatasetMetas();for(let l=r.length-1;l>=0;--l){let f=r[l].$filler;lf(f)&&bl(s.ctx,f,s.chartArea)}},beforeDatasetDraw(s,t,e){let r=t.meta.$filler;!lf(r)||e.drawTime!=="beforeDatasetDraw"||bl(s.ctx,r,s.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},ff=(s,t)=>{let{boxHeight:e=t,boxWidth:r=t}=s;return s.usePointStyle&&(e=Math.min(e,t),r=s.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:e,itemHeight:Math.max(t,e)}},kx=(s,t)=>s!==null&&t!==null&&s.datasetIndex===t.datasetIndex&&s.index===t.index,Pr=class extends Te{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,r){this.maxWidth=t,this.maxHeight=e,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let t=this.options.labels||{},e=Bt(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(r=>t.filter(r,this.chart.data))),t.sort&&(e=e.sort((r,l)=>t.sort(r,l,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}let r=t.labels,l=ee(r.font),f=l.size,g=this._computeTitleHeight(),{boxWidth:h,itemHeight:a}=ff(r,f),d,m;e.font=l.string,this.isHorizontal()?(d=this.maxWidth,m=this._fitRows(g,f,h,a)+10):(m=this.maxHeight,d=this._fitCols(g,l,h,a)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(m,t.maxHeight||this.maxHeight)}_fitRows(t,e,r,l){let{ctx:f,maxWidth:g,options:{labels:{padding:h}}}=this,a=this.legendHitBoxes=[],d=this.lineWidths=[0],m=l+h,_=t;f.textAlign="left",f.textBaseline="middle";let y=-1,w=-m;return this.legendItems.forEach((P,M)=>{let T=r+e/2+f.measureText(P.text).width;(M===0||d[d.length-1]+T+2*h>g)&&(_+=m,d[d.length-(M>0?0:1)]=0,w+=m,y++),a[M]={left:0,top:w,row:y,width:T,height:l},d[d.length-1]+=T+h}),_}_fitCols(t,e,r,l){let{ctx:f,maxHeight:g,options:{labels:{padding:h}}}=this,a=this.legendHitBoxes=[],d=this.columnSizes=[],m=g-t,_=h,y=0,w=0,P=0,M=0;return this.legendItems.forEach((T,C)=>{let{itemWidth:D,itemHeight:L}=Px(r,e,f,T,l);C>0&&w+L+2*h>m&&(_+=y+h,d.push({width:y,height:w}),P+=y+h,M++,y=w=0),a[C]={left:P,top:w,col:M,width:D,height:L},y=Math.max(y,D),w+=L+h}),_+=y,d.push({width:y,height:w}),_}adjustHitBoxes(){if(!this.options.display)return;let t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:r,labels:{padding:l},rtl:f}}=this,g=ii(f,this.left,this.width);if(this.isHorizontal()){let h=0,a=ae(r,this.left+l,this.right-this.lineWidths[h]);for(let d of e)h!==d.row&&(h=d.row,a=ae(r,this.left+l,this.right-this.lineWidths[h])),d.top+=this.top+t+l,d.left=g.leftForLtr(g.x(a),d.width),a+=d.width+l}else{let h=0,a=ae(r,this.top+t+l,this.bottom-this.columnSizes[h].height);for(let d of e)d.col!==h&&(h=d.col,a=ae(r,this.top+t+l,this.bottom-this.columnSizes[h].height)),d.top=a,d.left+=this.left+l,d.left=g.leftForLtr(g.x(d.left),d.width),a+=d.height+l}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let t=this.ctx;Ls(t,this),this._draw(),Rs(t)}}_draw(){let{options:t,columnSizes:e,lineWidths:r,ctx:l}=this,{align:f,labels:g}=t,h=Kt.color,a=ii(t.rtl,this.left,this.width),d=ee(g.font),{padding:m}=g,_=d.size,y=_/2,w;this.drawTitle(),l.textAlign=a.textAlign("left"),l.textBaseline="middle",l.lineWidth=.5,l.font=d.string;let{boxWidth:P,boxHeight:M,itemHeight:T}=ff(g,_),C=function(N,U,X){if(isNaN(P)||P<=0||isNaN(M)||M<0)return;l.save();let G=xt(X.lineWidth,1);if(l.fillStyle=xt(X.fillStyle,h),l.lineCap=xt(X.lineCap,"butt"),l.lineDashOffset=xt(X.lineDashOffset,0),l.lineJoin=xt(X.lineJoin,"miter"),l.lineWidth=G,l.strokeStyle=xt(X.strokeStyle,h),l.setLineDash(xt(X.lineDash,[])),g.usePointStyle){let et={radius:M*Math.SQRT2/2,pointStyle:X.pointStyle,rotation:X.rotation,borderWidth:G},it=a.xPlus(N,P/2),ct=U+y;Qa(l,et,it,ct,g.pointStyleWidth&&P)}else{let et=U+Math.max((_-M)/2,0),it=a.leftForLtr(N,P),ct=Nn(X.borderRadius);l.beginPath(),Object.values(ct).some(ut=>ut!==0)?Vi(l,{x:it,y:et,w:P,h:M,radius:ct}):l.rect(it,et,P,M),l.fill(),G!==0&&l.stroke()}l.restore()},D=function(N,U,X){Hn(l,X.text,N,U+T/2,d,{strikethrough:X.hidden,textAlign:a.textAlign(X.textAlign)})},L=this.isHorizontal(),I=this._computeTitleHeight();L?w={x:ae(f,this.left+m,this.right-r[0]),y:this.top+m+I,line:0}:w={x:this.left+m,y:ae(f,this.top+I+m,this.bottom-e[0].height),line:0},ol(this.ctx,t.textDirection);let B=T+m;this.legendItems.forEach((N,U)=>{l.strokeStyle=N.fontColor,l.fillStyle=N.fontColor;let X=l.measureText(N.text).width,G=a.textAlign(N.textAlign||(N.textAlign=g.textAlign)),et=P+y+X,it=w.x,ct=w.y;a.setWidth(this.width),L?U>0&&it+et+m>this.right&&(ct=w.y+=B,w.line++,it=w.x=ae(f,this.left+m,this.right-r[w.line])):U>0&&ct+B>this.bottom&&(it=w.x=it+e[w.line].width+m,w.line++,ct=w.y=ae(f,this.top+I+m,this.bottom-e[w.line].height));let ut=a.x(it);if(C(ut,ct,N),it=uu(G,it+P+y,L?it+et:this.right,t.rtl),D(a.x(it),ct,N),L)w.x+=et+m;else if(typeof N.text!="string"){let gt=d.lineHeight;w.y+=Yf(N,gt)}else w.y+=B}),rl(this.ctx,t.textDirection)}drawTitle(){let t=this.options,e=t.title,r=ee(e.font),l=le(e.padding);if(!e.display)return;let f=ii(t.rtl,this.left,this.width),g=this.ctx,h=e.position,a=r.size/2,d=l.top+a,m,_=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),m=this.top+d,_=ae(t.align,_,this.right-y);else{let P=this.columnSizes.reduce((M,T)=>Math.max(M,T.height),0);m=d+ae(t.align,this.top,this.bottom-P-t.labels.padding-this._computeTitleHeight())}let w=ae(h,_,_+y);g.textAlign=f.textAlign(ir(h)),g.textBaseline="middle",g.strokeStyle=e.color,g.fillStyle=e.color,g.font=r.string,Hn(g,e.text,w,m,r)}_computeTitleHeight(){let t=this.options.title,e=ee(t.font),r=le(t.padding);return t.display?e.lineHeight+r.height:0}_getLegendItemAt(t,e){let r,l,f;if(Qe(t,this.left,this.right)&&Qe(e,this.top,this.bottom)){for(f=this.legendHitBoxes,r=0;r<f.length;++r)if(l=f[r],Qe(t,l.left,l.left+l.width)&&Qe(e,l.top,l.top+l.height))return this.legendItems[r]}return null}handleEvent(t){let e=this.options;if(!Ax(t.type,e))return;let r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){let l=this._hoveredItem,f=kx(l,r);l&&!f&&Bt(e.onLeave,[t,l,this],this),this._hoveredItem=r,r&&!f&&Bt(e.onHover,[t,r,this],this)}else r&&Bt(e.onClick,[t,r,this],this)}};function Px(s,t,e,r,l){let f=Mx(r,s,t,e),g=Cx(l,r,t.lineHeight);return{itemWidth:f,itemHeight:g}}function Mx(s,t,e,r){let l=s.text;return l&&typeof l!="string"&&(l=l.reduce((f,g)=>f.length>g.length?f:g)),t+e.size/2+r.measureText(l).width}function Cx(s,t,e){let r=s;return typeof t.text!="string"&&(r=Yf(t,e)),r}function Yf(s,t){let e=s.text?s.text.length+.5:0;return t*e}function Ax(s,t){return!!((s==="mousemove"||s==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(s==="click"||s==="mouseup"))}var Tx={id:"legend",_element:Pr,start(s,t,e){let r=s.legend=new Pr({ctx:s.ctx,options:e,chart:s});fe.configure(s,r,e),fe.addBox(s,r)},stop(s){fe.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,t,e){let r=s.legend;fe.configure(s,r,e),r.options=e},afterUpdate(s){let t=s.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(s,t){t.replay||s.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,t,e){let r=t.datasetIndex,l=e.chart;l.isDatasetVisible(r)?(l.hide(r),t.hidden=!0):(l.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){let t=s.data.datasets,{labels:{usePointStyle:e,pointStyle:r,textAlign:l,color:f,useBorderRadius:g,borderRadius:h}}=s.legend.options;return s._getSortedDatasetMetas().map(a=>{let d=a.controller.getStyle(e?0:void 0),m=le(d.borderWidth);return{text:t[a.index].label,fillStyle:d.backgroundColor,fontColor:f,hidden:!a.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:d.borderColor,pointStyle:r||d.pointStyle,rotation:d.rotation,textAlign:l||d.textAlign,borderRadius:g&&(h||d.borderRadius),datasetIndex:a.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}},Ks=class extends Te{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){let r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;let l=Ht(r.text)?r.text.length:1;this._padding=le(r.padding);let f=l*ee(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=f:this.width=f}isHorizontal(){let t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){let{top:e,left:r,bottom:l,right:f,options:g}=this,h=g.align,a=0,d,m,_;return this.isHorizontal()?(m=ae(h,r,f),_=e+t,d=f-r):(g.position==="left"?(m=r+t,_=ae(h,l,e),a=Wt*-.5):(m=f-t,_=ae(h,e,l),a=Wt*.5),d=l-e),{titleX:m,titleY:_,maxWidth:d,rotation:a}}draw(){let t=this.ctx,e=this.options;if(!e.display)return;let r=ee(e.font),f=r.lineHeight/2+this._padding.top,{titleX:g,titleY:h,maxWidth:a,rotation:d}=this._drawArgs(f);Hn(t,e.text,0,0,r,{color:e.color,maxWidth:a,rotation:d,textAlign:ir(e.align),textBaseline:"middle",translation:[g,h]})}};function Dx(s,t){let e=new Ks({ctx:s.ctx,options:t,chart:s});fe.configure(s,e,t),fe.addBox(s,e),s.titleBlock=e}var Ox={id:"title",_element:Ks,start(s,t,e){Dx(s,e)},stop(s){let t=s.titleBlock;fe.removeBox(s,t),delete s.titleBlock},beforeUpdate(s,t,e){let r=s.titleBlock;fe.configure(s,r,e),r.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},dr=new WeakMap,Ex={id:"subtitle",start(s,t,e){let r=new Ks({ctx:s.ctx,options:e,chart:s});fe.configure(s,r,e),fe.addBox(s,r),dr.set(s,r)},stop(s){fe.removeBox(s,dr.get(s)),dr.delete(s)},beforeUpdate(s,t,e){let r=dr.get(s);fe.configure(s,r,e),r.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Ns={average(s){if(!s.length)return!1;let t,e,r=0,l=0,f=0;for(t=0,e=s.length;t<e;++t){let g=s[t].element;if(g&&g.hasValue()){let h=g.tooltipPosition();r+=h.x,l+=h.y,++f}}return{x:r/f,y:l/f}},nearest(s,t){if(!s.length)return!1;let e=t.x,r=t.y,l=Number.POSITIVE_INFINITY,f,g,h;for(f=0,g=s.length;f<g;++f){let a=s[f].element;if(a&&a.hasValue()){let d=a.getCenterPoint(),m=Jo(t,d);m<l&&(l=m,h=a)}}if(h){let a=h.tooltipPosition();e=a.x,r=a.y}return{x:e,y:r}}};function Ze(s,t){return t&&(Ht(t)?Array.prototype.push.apply(s,t):s.push(t)),s}function fn(s){return(typeof s=="string"||s instanceof String)&&s.indexOf(`
`)>-1?s.split(`
`):s}function Lx(s,t){let{element:e,datasetIndex:r,index:l}=t,f=s.getDatasetMeta(r).controller,{label:g,value:h}=f.getLabelAndValue(l);return{chart:s,label:g,parsed:f.getParsed(l),raw:s.data.datasets[r].data[l],formattedValue:h,dataset:f.getDataset(),dataIndex:l,datasetIndex:r,element:e}}function df(s,t){let e=s.chart.ctx,{body:r,footer:l,title:f}=s,{boxWidth:g,boxHeight:h}=t,a=ee(t.bodyFont),d=ee(t.titleFont),m=ee(t.footerFont),_=f.length,y=l.length,w=r.length,P=le(t.padding),M=P.height,T=0,C=r.reduce((I,B)=>I+B.before.length+B.lines.length+B.after.length,0);if(C+=s.beforeBody.length+s.afterBody.length,_&&(M+=_*d.lineHeight+(_-1)*t.titleSpacing+t.titleMarginBottom),C){let I=t.displayColors?Math.max(h,a.lineHeight):a.lineHeight;M+=w*I+(C-w)*a.lineHeight+(C-1)*t.bodySpacing}y&&(M+=t.footerMarginTop+y*m.lineHeight+(y-1)*t.footerSpacing);let D=0,L=function(I){T=Math.max(T,e.measureText(I).width+D)};return e.save(),e.font=d.string,It(s.title,L),e.font=a.string,It(s.beforeBody.concat(s.afterBody),L),D=t.displayColors?g+2+t.boxPadding:0,It(r,I=>{It(I.before,L),It(I.lines,L),It(I.after,L)}),D=0,e.font=m.string,It(s.footer,L),e.restore(),T+=P.width,{width:T,height:M}}function Rx(s,t){let{y:e,height:r}=t;return e<r/2?"top":e>s.height-r/2?"bottom":"center"}function Sx(s,t,e,r){let{x:l,width:f}=r,g=e.caretSize+e.caretPadding;if(s==="left"&&l+f+g>t.width||s==="right"&&l-f-g<0)return!0}function Ix(s,t,e,r){let{x:l,width:f}=e,{width:g,chartArea:{left:h,right:a}}=s,d="center";return r==="center"?d=l<=(h+a)/2?"left":"right":l<=f/2?d="left":l>=g-f/2&&(d="right"),Sx(d,s,t,e)&&(d="center"),d}function gf(s,t,e){let r=e.yAlign||t.yAlign||Rx(s,e);return{xAlign:e.xAlign||t.xAlign||Ix(s,t,e,r),yAlign:r}}function Fx(s,t){let{x:e,width:r}=s;return t==="right"?e-=r:t==="center"&&(e-=r/2),e}function zx(s,t,e){let{y:r,height:l}=s;return t==="top"?r+=e:t==="bottom"?r-=l+e:r-=l/2,r}function pf(s,t,e,r){let{caretSize:l,caretPadding:f,cornerRadius:g}=s,{xAlign:h,yAlign:a}=e,d=l+f,{topLeft:m,topRight:_,bottomLeft:y,bottomRight:w}=Nn(g),P=Fx(t,h),M=zx(t,a,d);return a==="center"?h==="left"?P+=d:h==="right"&&(P-=d):h==="left"?P-=Math.max(m,y)+l:h==="right"&&(P+=Math.max(_,w)+l),{x:se(P,0,r.width-t.width),y:se(M,0,r.height-t.height)}}function gr(s,t,e){let r=le(e.padding);return t==="center"?s.x+s.width/2:t==="right"?s.x+s.width-r.right:s.x+r.left}function mf(s){return Ze([],fn(s))}function Bx(s,t,e){return hn(s,{tooltip:t,tooltipItems:e,type:"tooltip"})}function bf(s,t){let e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?s.override(e):s}var qf={beforeTitle:Ke,title(s){if(s.length>0){let t=s[0],e=t.chart.data.labels,r=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return e[t.dataIndex]}return""},afterTitle:Ke,beforeBody:Ke,beforeLabel:Ke,label(s){if(this&&this.options&&this.options.mode==="dataset")return s.label+": "+s.formattedValue||s.formattedValue;let t=s.dataset.label||"";t&&(t+=": ");let e=s.formattedValue;return Ot(e)||(t+=e),t},labelColor(s){let e=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){let e=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Ke,afterBody:Ke,beforeFooter:Ke,footer:Ke,afterFooter:Ke};function we(s,t,e,r){let l=s[t].call(e,r);return typeof l>"u"?qf[t].call(e,r):l}var Us=class extends Te{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let t=this._cachedAnimations;if(t)return t;let e=this.chart,r=this.options.setContext(this.getContext()),l=r.enabled&&e.options.animation&&r.animations,f=new _r(this.chart,l);return l._cacheable&&(this._cachedAnimations=Object.freeze(f)),f}getContext(){return this.$context||(this.$context=Bx(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){let{callbacks:r}=e,l=we(r,"beforeTitle",this,t),f=we(r,"title",this,t),g=we(r,"afterTitle",this,t),h=[];return h=Ze(h,fn(l)),h=Ze(h,fn(f)),h=Ze(h,fn(g)),h}getBeforeBody(t,e){return mf(we(e.callbacks,"beforeBody",this,t))}getBody(t,e){let{callbacks:r}=e,l=[];return It(t,f=>{let g={before:[],lines:[],after:[]},h=bf(r,f);Ze(g.before,fn(we(h,"beforeLabel",this,f))),Ze(g.lines,we(h,"label",this,f)),Ze(g.after,fn(we(h,"afterLabel",this,f))),l.push(g)}),l}getAfterBody(t,e){return mf(we(e.callbacks,"afterBody",this,t))}getFooter(t,e){let{callbacks:r}=e,l=we(r,"beforeFooter",this,t),f=we(r,"footer",this,t),g=we(r,"afterFooter",this,t),h=[];return h=Ze(h,fn(l)),h=Ze(h,fn(f)),h=Ze(h,fn(g)),h}_createItems(t){let e=this._active,r=this.chart.data,l=[],f=[],g=[],h=[],a,d;for(a=0,d=e.length;a<d;++a)h.push(Lx(this.chart,e[a]));return t.filter&&(h=h.filter((m,_,y)=>t.filter(m,_,y,r))),t.itemSort&&(h=h.sort((m,_)=>t.itemSort(m,_,r))),It(h,m=>{let _=bf(t.callbacks,m);l.push(we(_,"labelColor",this,m)),f.push(we(_,"labelPointStyle",this,m)),g.push(we(_,"labelTextColor",this,m))}),this.labelColors=l,this.labelPointStyles=f,this.labelTextColors=g,this.dataPoints=h,h}update(t,e){let r=this.options.setContext(this.getContext()),l=this._active,f,g=[];if(!l.length)this.opacity!==0&&(f={opacity:0});else{let h=Ns[r.position].call(this,l,this._eventPosition);g=this._createItems(r),this.title=this.getTitle(g,r),this.beforeBody=this.getBeforeBody(g,r),this.body=this.getBody(g,r),this.afterBody=this.getAfterBody(g,r),this.footer=this.getFooter(g,r);let a=this._size=df(this,r),d=Object.assign({},h,a),m=gf(this.chart,r,d),_=pf(r,d,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,f={opacity:1,x:_.x,y:_.y,width:a.width,height:a.height,caretX:h.x,caretY:h.y}}this._tooltipItems=g,this.$context=void 0,f&&this._resolveAnimations().update(this,f),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,r,l){let f=this.getCaretPosition(t,r,l);e.lineTo(f.x1,f.y1),e.lineTo(f.x2,f.y2),e.lineTo(f.x3,f.y3)}getCaretPosition(t,e,r){let{xAlign:l,yAlign:f}=this,{caretSize:g,cornerRadius:h}=r,{topLeft:a,topRight:d,bottomLeft:m,bottomRight:_}=Nn(h),{x:y,y:w}=t,{width:P,height:M}=e,T,C,D,L,I,B;return f==="center"?(I=w+M/2,l==="left"?(T=y,C=T-g,L=I+g,B=I-g):(T=y+P,C=T+g,L=I-g,B=I+g),D=T):(l==="left"?C=y+Math.max(a,m)+g:l==="right"?C=y+P-Math.max(d,_)-g:C=this.caretX,f==="top"?(L=w,I=L-g,T=C-g,D=C+g):(L=w+M,I=L+g,T=C+g,D=C-g),B=L),{x1:T,x2:C,x3:D,y1:L,y2:I,y3:B}}drawTitle(t,e,r){let l=this.title,f=l.length,g,h,a;if(f){let d=ii(r.rtl,this.x,this.width);for(t.x=gr(this,r.titleAlign,r),e.textAlign=d.textAlign(r.titleAlign),e.textBaseline="middle",g=ee(r.titleFont),h=r.titleSpacing,e.fillStyle=r.titleColor,e.font=g.string,a=0;a<f;++a)e.fillText(l[a],d.x(t.x),t.y+g.lineHeight/2),t.y+=g.lineHeight+h,a+1===f&&(t.y+=r.titleMarginBottom-h)}}_drawColorBox(t,e,r,l,f){let g=this.labelColors[r],h=this.labelPointStyles[r],{boxHeight:a,boxWidth:d,boxPadding:m}=f,_=ee(f.bodyFont),y=gr(this,"left",f),w=l.x(y),P=a<_.lineHeight?(_.lineHeight-a)/2:0,M=e.y+P;if(f.usePointStyle){let T={radius:Math.min(d,a)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},C=l.leftForLtr(w,d)+d/2,D=M+a/2;t.strokeStyle=f.multiKeyBackground,t.fillStyle=f.multiKeyBackground,or(t,T,C,D),t.strokeStyle=g.borderColor,t.fillStyle=g.backgroundColor,or(t,T,C,D)}else{t.lineWidth=At(g.borderWidth)?Math.max(...Object.values(g.borderWidth)):g.borderWidth||1,t.strokeStyle=g.borderColor,t.setLineDash(g.borderDash||[]),t.lineDashOffset=g.borderDashOffset||0;let T=l.leftForLtr(w,d-m),C=l.leftForLtr(l.xPlus(w,1),d-m-2),D=Nn(g.borderRadius);Object.values(D).some(L=>L!==0)?(t.beginPath(),t.fillStyle=f.multiKeyBackground,Vi(t,{x:T,y:M,w:d,h:a,radius:D}),t.fill(),t.stroke(),t.fillStyle=g.backgroundColor,t.beginPath(),Vi(t,{x:C,y:M+1,w:d-2,h:a-2,radius:D}),t.fill()):(t.fillStyle=f.multiKeyBackground,t.fillRect(T,M,d,a),t.strokeRect(T,M,d,a),t.fillStyle=g.backgroundColor,t.fillRect(C,M+1,d-2,a-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,e,r){let{body:l}=this,{bodySpacing:f,bodyAlign:g,displayColors:h,boxHeight:a,boxWidth:d,boxPadding:m}=r,_=ee(r.bodyFont),y=_.lineHeight,w=0,P=ii(r.rtl,this.x,this.width),M=function(X){e.fillText(X,P.x(t.x+w),t.y+y/2),t.y+=y+f},T=P.textAlign(g),C,D,L,I,B,N,U;for(e.textAlign=g,e.textBaseline="middle",e.font=_.string,t.x=gr(this,T,r),e.fillStyle=r.bodyColor,It(this.beforeBody,M),w=h&&T!=="right"?g==="center"?d/2+m:d+2+m:0,I=0,N=l.length;I<N;++I){for(C=l[I],D=this.labelTextColors[I],e.fillStyle=D,It(C.before,M),L=C.lines,h&&L.length&&(this._drawColorBox(e,t,I,P,r),y=Math.max(_.lineHeight,a)),B=0,U=L.length;B<U;++B)M(L[B]),y=_.lineHeight;It(C.after,M)}w=0,y=_.lineHeight,It(this.afterBody,M),t.y-=f}drawFooter(t,e,r){let l=this.footer,f=l.length,g,h;if(f){let a=ii(r.rtl,this.x,this.width);for(t.x=gr(this,r.footerAlign,r),t.y+=r.footerMarginTop,e.textAlign=a.textAlign(r.footerAlign),e.textBaseline="middle",g=ee(r.footerFont),e.fillStyle=r.footerColor,e.font=g.string,h=0;h<f;++h)e.fillText(l[h],a.x(t.x),t.y+g.lineHeight/2),t.y+=g.lineHeight+r.footerSpacing}}drawBackground(t,e,r,l){let{xAlign:f,yAlign:g}=this,{x:h,y:a}=t,{width:d,height:m}=r,{topLeft:_,topRight:y,bottomLeft:w,bottomRight:P}=Nn(l.cornerRadius);e.fillStyle=l.backgroundColor,e.strokeStyle=l.borderColor,e.lineWidth=l.borderWidth,e.beginPath(),e.moveTo(h+_,a),g==="top"&&this.drawCaret(t,e,r,l),e.lineTo(h+d-y,a),e.quadraticCurveTo(h+d,a,h+d,a+y),g==="center"&&f==="right"&&this.drawCaret(t,e,r,l),e.lineTo(h+d,a+m-P),e.quadraticCurveTo(h+d,a+m,h+d-P,a+m),g==="bottom"&&this.drawCaret(t,e,r,l),e.lineTo(h+w,a+m),e.quadraticCurveTo(h,a+m,h,a+m-w),g==="center"&&f==="left"&&this.drawCaret(t,e,r,l),e.lineTo(h,a+_),e.quadraticCurveTo(h,a,h+_,a),e.closePath(),e.fill(),l.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){let e=this.chart,r=this.$animations,l=r&&r.x,f=r&&r.y;if(l||f){let g=Ns[t.position].call(this,this._active,this._eventPosition);if(!g)return;let h=this._size=df(this,t),a=Object.assign({},g,this._size),d=gf(e,t,a),m=pf(t,a,d,e);(l._to!==m.x||f._to!==m.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=h.width,this.height=h.height,this.caretX=g.x,this.caretY=g.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(t){let e=this.options.setContext(this.getContext()),r=this.opacity;if(!r)return;this._updateAnimationTarget(e);let l={width:this.width,height:this.height},f={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;let g=le(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=r,this.drawBackground(f,t,l,e),ol(t,e.textDirection),f.y+=g.top,this.drawTitle(f,t,e),this.drawBody(f,t,e),this.drawFooter(f,t,e),rl(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){let r=this._active,l=t.map(({datasetIndex:h,index:a})=>{let d=this.chart.getDatasetMeta(h);if(!d)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:d.data[a],index:a}}),f=!Os(r,l),g=this._positionChanged(l,e);(f||g)&&(this._active=l,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,r=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let l=this.options,f=this._active||[],g=this._getActiveElements(t,f,e,r),h=this._positionChanged(g,t),a=e||!Os(g,f)||h;return a&&(this._active=g,(l.enabled||l.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),a}_getActiveElements(t,e,r,l){let f=this.options;if(t.type==="mouseout")return[];if(!l)return e;let g=this.chart.getElementsAtEventForMode(t,f.mode,f,r);return f.reverse&&g.reverse(),g}_positionChanged(t,e){let{caretX:r,caretY:l,options:f}=this,g=Ns[f.position].call(this,t,e);return g!==!1&&(r!==g.x||l!==g.y)}};ht(Us,"positioners",Ns);var Vx={id:"tooltip",_element:Us,positioners:Ns,afterInit(s,t,e){e&&(s.tooltip=new Us({chart:s,options:e}))},beforeUpdate(s,t,e){s.tooltip&&s.tooltip.initialize(e)},reset(s,t,e){s.tooltip&&s.tooltip.initialize(e)},afterDraw(s){let t=s.tooltip;if(t&&t._willRender()){let e={tooltip:t};if(s.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",e)}},afterEvent(s,t){if(s.tooltip){let e=t.replay;s.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,t)=>t.bodyFont.size,boxWidth:(s,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:qf},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>s!=="filter"&&s!=="itemSort"&&s!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Hx=Object.freeze({__proto__:null,Colors:J_,Decimation:nx,Filler:wx,Legend:Tx,SubTitle:Ex,Title:Ox,Tooltip:Vx}),Nx=(s,t,e,r)=>(typeof t=="string"?(e=s.push(t)-1,r.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function Wx(s,t,e,r){let l=s.indexOf(t);if(l===-1)return Nx(s,t,e,r);let f=s.lastIndexOf(t);return l!==f?e:l}var $x=(s,t)=>s===null?null:se(Math.round(s),0,t);function _f(s){let t=this.getLabels();return s>=0&&s<t.length?t[s]:s}var Ws=class extends gn{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){let e=this._addedLabels;if(e.length){let r=this.getLabels();for(let{index:l,label:f}of e)r[l]===f&&r.splice(l,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Ot(t))return null;let r=this.getLabels();return e=isFinite(e)&&r[e]===t?e:Wx(r,t,xt(e,t),this._addedLabels),$x(e,r.length-1)}determineDataLimits(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),{min:r,max:l}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),e||(l=this.getLabels().length-1)),this.min=r,this.max=l}buildTicks(){let t=this.min,e=this.max,r=this.options.offset,l=[],f=this.getLabels();f=t===0&&e===f.length-1?f:f.slice(t,e+1),this._valueRange=Math.max(f.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let g=t;g<=e;g++)l.push({value:g});return l}getLabelForValue(t){return _f.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}};ht(Ws,"id","category"),ht(Ws,"defaults",{ticks:{callback:_f}});function Yx(s,t){let e=[],{bounds:l,step:f,min:g,max:h,precision:a,count:d,maxTicks:m,maxDigits:_,includeBounds:y}=s,w=f||1,P=m-1,{min:M,max:T}=t,C=!Ot(g),D=!Ot(h),L=!Ot(d),I=(T-M)/(_+1),B=Ba((T-M)/P/w)*w,N,U,X,G;if(B<1e-14&&!C&&!D)return[{value:M},{value:T}];G=Math.ceil(T/B)-Math.floor(M/B),G>P&&(B=Ba(G*B/P/w)*w),Ot(a)||(N=Math.pow(10,a),B=Math.ceil(B*N)/N),l==="ticks"?(U=Math.floor(M/B)*B,X=Math.ceil(T/B)*B):(U=M,X=T),C&&D&&f&&su((h-g)/f,B/1e3)?(G=Math.round(Math.min((h-g)/B,m)),B=(h-g)/G,U=g,X=h):L?(U=C?g:U,X=D?h:X,G=d-1,B=(X-U)/G):(G=(X-U)/B,Fi(G,Math.round(G),B/1e3)?G=Math.round(G):G=Math.ceil(G));let et=Math.max(Ha(B),Ha(U));N=Math.pow(10,Ot(a)?et:a),U=Math.round(U*N)/N,X=Math.round(X*N)/N;let it=0;for(C&&(y&&U!==g?(e.push({value:g}),U<g&&it++,Fi(Math.round((U+it*B)*N)/N,g,xf(g,I,s))&&it++):U<g&&it++);it<G;++it)e.push({value:Math.round((U+it*B)*N)/N});return D&&y&&X!==h?e.length&&Fi(e[e.length-1].value,h,xf(h,I,s))?e[e.length-1].value=h:e.push({value:h}):(!D||X===h)&&e.push({value:X}),e}function xf(s,t,{horizontal:e,minRotation:r}){let l=Be(r),f=(e?Math.sin(l):Math.cos(l))||.001,g=.75*t*(""+s).length;return Math.min(t/f,g)}var Zi=class extends gn{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Ot(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let{beginAtZero:t}=this.options,{minDefined:e,maxDefined:r}=this.getUserBounds(),{min:l,max:f}=this,g=a=>l=e?l:a,h=a=>f=r?f:a;if(t){let a=qe(l),d=qe(f);a<0&&d<0?h(0):a>0&&d>0&&g(0)}if(l===f){let a=f===0?1:Math.abs(f*.05);h(f+a),t||g(l-a)}this.min=l,this.max=f}getTickLimit(){let t=this.options.ticks,{maxTicksLimit:e,stepSize:r}=t,l;return r?(l=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,l>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${l} ticks. Limiting to 1000.`),l=1e3)):(l=this.computeTickLimit(),e=e||11),e&&(l=Math.min(e,l)),l}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let t=this.options,e=t.ticks,r=this.getTickLimit();r=Math.max(2,r);let l={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},f=this._range||this,g=Yx(l,f);return t.bounds==="ticks"&&Va(g,this,"value"),t.reverse?(g.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),g}configure(){let t=this.ticks,e=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){let l=(r-e)/Math.max(t.length-1,1)/2;e-=l,r+=l}this._startValue=e,this._endValue=r,this._valueRange=r-e}getLabelForValue(t){return Bi(t,this.chart.options.locale,this.options.ticks.format)}},$s=class extends Zi{determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=Ut(t)?t:0,this.max=Ut(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let t=this.isHorizontal(),e=t?this.width:this.height,r=Be(this.options.ticks.minRotation),l=(t?Math.sin(r):Math.cos(r))||.001,f=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,f.lineHeight/l))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}};ht($s,"id","linear"),ht($s,"defaults",{ticks:{callback:Es.formatters.numeric}});var Qs=s=>Math.floor(ln(s)),oi=(s,t)=>Math.pow(10,Qs(s)+t);function vf(s){return s/Math.pow(10,Qs(s))===1}function yf(s,t,e){let r=Math.pow(10,e),l=Math.floor(s/r);return Math.ceil(t/r)-l}function qx(s,t){let e=t-s,r=Qs(e);for(;yf(s,t,r)>10;)r++;for(;yf(s,t,r)<10;)r--;return Math.min(r,Qs(s))}function Ux(s,{min:t,max:e}){t=ye(s.min,t);let r=[],l=Qs(t),f=qx(t,e),g=f<0?Math.pow(10,Math.abs(f)):1,h=Math.pow(10,f),a=l>f?Math.pow(10,l):0,d=Math.round((t-a)*g)/g,m=Math.floor((t-a)/h/10)*h*10,_=Math.floor((d-m)/Math.pow(10,f)),y=ye(s.min,Math.round((a+m+_*Math.pow(10,f))*g)/g);for(;y<e;)r.push({value:y,major:vf(y),significand:_}),_>=10?_=_<15?15:20:_++,_>=20&&(f++,_=2,g=f>=0?1:g),y=Math.round((a+m+_*Math.pow(10,f))*g)/g;let w=ye(s.max,y);return r.push({value:w,major:vf(w),significand:_}),r}var Ys=class extends gn{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){let r=Zi.prototype.parse.apply(this,[t,e]);if(r===0){this._zero=!0;return}return Ut(r)&&r>0?r:null}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=Ut(t)?Math.max(0,t):null,this.max=Ut(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ut(this._userMin)&&(this.min=t===oi(this.min,0)?oi(this.min,-1):oi(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),r=this.min,l=this.max,f=h=>r=t?r:h,g=h=>l=e?l:h;r===l&&(r<=0?(f(1),g(10)):(f(oi(r,-1)),g(oi(l,1)))),r<=0&&f(oi(l,-1)),l<=0&&g(oi(r,1)),this.min=r,this.max=l}buildTicks(){let t=this.options,e={min:this._userMin,max:this._userMax},r=Ux(e,this);return t.bounds==="ticks"&&Va(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(t){return t===void 0?"0":Bi(t,this.chart.options.locale,this.options.ticks.format)}configure(){let t=this.min;super.configure(),this._startValue=ln(t),this._valueRange=ln(this.max)-ln(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(ln(t)-this._startValue)/this._valueRange)}getValueForPixel(t){let e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}};ht(Ys,"id","logarithmic"),ht(Ys,"defaults",{ticks:{callback:Es.formatters.logarithmic,major:{enabled:!0}}});function Dl(s){let t=s.ticks;if(t.display&&s.display){let e=le(t.backdropPadding);return xt(t.font&&t.font.size,Kt.font.size)+e.height}return 0}function Xx(s,t,e){return e=Ht(e)?e:[e],{w:gu(s,t.string,e),h:e.length*t.lineHeight}}function wf(s,t,e,r,l){return s===r||s===l?{start:t-e/2,end:t+e/2}:s<r||s>l?{start:t-e,end:t}:{start:t,end:t+e}}function Gx(s){let t={l:s.left+s._padding.left,r:s.right-s._padding.right,t:s.top+s._padding.top,b:s.bottom-s._padding.bottom},e=Object.assign({},t),r=[],l=[],f=s._pointLabels.length,g=s.options.pointLabels,h=g.centerPointLabels?Wt/f:0;for(let a=0;a<f;a++){let d=g.setContext(s.getPointLabelContext(a));l[a]=d.padding;let m=s.getPointPosition(a,s.drawingArea+l[a],h),_=ee(d.font),y=Xx(s.ctx,_,s._pointLabels[a]);r[a]=y;let w=ve(s.getIndexAngle(a)+h),P=Math.round(er(w)),M=wf(P,m.x,y.w,0,180),T=wf(P,m.y,y.h,90,270);Kx(e,t,w,M,T)}s.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),s._pointLabelItems=Qx(s,r,l)}function Kx(s,t,e,r,l){let f=Math.abs(Math.sin(e)),g=Math.abs(Math.cos(e)),h=0,a=0;r.start<t.l?(h=(t.l-r.start)/f,s.l=Math.min(s.l,t.l-h)):r.end>t.r&&(h=(r.end-t.r)/f,s.r=Math.max(s.r,t.r+h)),l.start<t.t?(a=(t.t-l.start)/g,s.t=Math.min(s.t,t.t-a)):l.end>t.b&&(a=(l.end-t.b)/g,s.b=Math.max(s.b,t.b+a))}function Qx(s,t,e){let r=[],l=s._pointLabels.length,f=s.options,g=Dl(f)/2,h=s.drawingArea,a=f.pointLabels.centerPointLabels?Wt/l:0;for(let d=0;d<l;d++){let m=s.getPointPosition(d,h+g+e[d],a),_=Math.round(er(ve(m.angle+qt))),y=t[d],w=jx(m.y,y.h,_),P=Zx(_),M=Jx(m.x,y.w,P);r.push({x:m.x,y:w,textAlign:P,left:M,top:w,right:M+y.w,bottom:w+y.h})}return r}function Zx(s){return s===0||s===180?"center":s<180?"left":"right"}function Jx(s,t,e){return e==="right"?s-=t:e==="center"&&(s-=t/2),s}function jx(s,t,e){return e===90||e===270?s-=t/2:(e>270||e<90)&&(s-=t),s}function tv(s,t){let{ctx:e,options:{pointLabels:r}}=s;for(let l=t-1;l>=0;l--){let f=r.setContext(s.getPointLabelContext(l)),g=ee(f.font),{x:h,y:a,textAlign:d,left:m,top:_,right:y,bottom:w}=s._pointLabelItems[l],{backdropColor:P}=f;if(!Ot(P)){let M=Nn(f.borderRadius),T=le(f.backdropPadding);e.fillStyle=P;let C=m-T.left,D=_-T.top,L=y-m+T.width,I=w-_+T.height;Object.values(M).some(B=>B!==0)?(e.beginPath(),Vi(e,{x:C,y:D,w:L,h:I,radius:M}),e.fill()):e.fillRect(C,D,L,I)}Hn(e,s._pointLabels[l],h,a+g.lineHeight/2,g,{color:f.color,textAlign:d,textBaseline:"middle"})}}function Uf(s,t,e,r){let{ctx:l}=s;if(e)l.arc(s.xCenter,s.yCenter,t,0,Nt);else{let f=s.getPointPosition(0,t);l.moveTo(f.x,f.y);for(let g=1;g<r;g++)f=s.getPointPosition(g,t),l.lineTo(f.x,f.y)}}function ev(s,t,e,r,l){let f=s.ctx,g=t.circular,{color:h,lineWidth:a}=t;!g&&!r||!h||!a||e<0||(f.save(),f.strokeStyle=h,f.lineWidth=a,f.setLineDash(l.dash),f.lineDashOffset=l.dashOffset,f.beginPath(),Uf(s,e,g,r),f.closePath(),f.stroke(),f.restore())}function nv(s,t,e){return hn(s,{label:e,index:t,type:"pointLabel"})}var ri=class extends Zi{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let t=this._padding=le(Dl(this.options)/2),e=this.width=this.maxWidth-t.width,r=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+r/2+t.top),this.drawingArea=Math.floor(Math.min(e,r)/2)}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!1);this.min=Ut(t)&&!isNaN(t)?t:0,this.max=Ut(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Dl(this.options))}generateTickLabels(t){Zi.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,r)=>{let l=Bt(this.options.pointLabels.callback,[e,r],this);return l||l===0?l:""}).filter((e,r)=>this.chart.getDataVisibility(r))}fit(){let t=this.options;t.display&&t.pointLabels.display?Gx(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,r,l){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((r-l)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,r,l))}getIndexAngle(t){let e=Nt/(this._pointLabels.length||1),r=this.options.startAngle||0;return ve(t*e+Be(r))}getDistanceFromCenterForValue(t){if(Ot(t))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Ot(t))return NaN;let e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){let e=this._pointLabels||[];if(t>=0&&t<e.length){let r=e[t];return nv(this.getContext(),t,r)}}getPointPosition(t,e,r=0){let l=this.getIndexAngle(t)-qt+r;return{x:Math.cos(l)*e+this.xCenter,y:Math.sin(l)*e+this.yCenter,angle:l}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){let{left:e,top:r,right:l,bottom:f}=this._pointLabelItems[t];return{left:e,top:r,right:l,bottom:f}}drawBackground(){let{backgroundColor:t,grid:{circular:e}}=this.options;if(t){let r=this.ctx;r.save(),r.beginPath(),Uf(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),r.closePath(),r.fillStyle=t,r.fill(),r.restore()}}drawGrid(){let t=this.ctx,e=this.options,{angleLines:r,grid:l,border:f}=e,g=this._pointLabels.length,h,a,d;if(e.pointLabels.display&&tv(this,g),l.display&&this.ticks.forEach((m,_)=>{if(_!==0){a=this.getDistanceFromCenterForValue(m.value);let y=this.getContext(_),w=l.setContext(y),P=f.setContext(y);ev(this,w,a,g,P)}}),r.display){for(t.save(),h=g-1;h>=0;h--){let m=r.setContext(this.getPointLabelContext(h)),{color:_,lineWidth:y}=m;!y||!_||(t.lineWidth=y,t.strokeStyle=_,t.setLineDash(m.borderDash),t.lineDashOffset=m.borderDashOffset,a=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),d=this.getPointPosition(h,a),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){let t=this.ctx,e=this.options,r=e.ticks;if(!r.display)return;let l=this.getIndexAngle(0),f,g;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(l),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((h,a)=>{if(a===0&&!e.reverse)return;let d=r.setContext(this.getContext(a)),m=ee(d.font);if(f=this.getDistanceFromCenterForValue(this.ticks[a].value),d.showLabelBackdrop){t.font=m.string,g=t.measureText(h.label).width,t.fillStyle=d.backdropColor;let _=le(d.backdropPadding);t.fillRect(-g/2-_.left,-f-m.size/2-_.top,g+_.width,m.size+_.height)}Hn(t,h.label,0,-f,m,{color:d.color})}),t.restore()}drawTitle(){}};ht(ri,"id","radialLinear"),ht(ri,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Es.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),ht(ri,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ht(ri,"descriptors",{angleLines:{_fallback:"grid"}});var Mr={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ke=Object.keys(Mr);function iv(s,t){return s-t}function kf(s,t){if(Ot(t))return null;let e=s._adapter,{parser:r,round:l,isoWeekday:f}=s._parseOpts,g=t;return typeof r=="function"&&(g=r(g)),Ut(g)||(g=typeof r=="string"?e.parse(g,r):e.parse(g)),g===null?null:(l&&(g=l==="week"&&(ni(f)||f===!0)?e.startOf(g,"isoWeek",f):e.startOf(g,l)),+g)}function Pf(s,t,e,r){let l=ke.length;for(let f=ke.indexOf(s);f<l-1;++f){let g=Mr[ke[f]],h=g.steps?g.steps:Number.MAX_SAFE_INTEGER;if(g.common&&Math.ceil((e-t)/(h*g.size))<=r)return ke[f]}return ke[l-1]}function sv(s,t,e,r,l){for(let f=ke.length-1;f>=ke.indexOf(e);f--){let g=ke[f];if(Mr[g].common&&s._adapter.diff(l,r,g)>=t-1)return g}return ke[e?ke.indexOf(e):0]}function ov(s){for(let t=ke.indexOf(s)+1,e=ke.length;t<e;++t)if(Mr[ke[t]].common)return ke[t]}function Mf(s,t,e){if(!e)s[t]=!0;else if(e.length){let{lo:r,hi:l}=nr(e,t),f=e[r]>=t?e[r]:e[l];s[f]=!0}}function rv(s,t,e,r){let l=s._adapter,f=+l.startOf(t[0].value,r),g=t[t.length-1].value,h,a;for(h=f;h<=g;h=+l.add(h,1,r))a=e[h],a>=0&&(t[a].major=!0);return t}function Cf(s,t,e){let r=[],l={},f=t.length,g,h;for(g=0;g<f;++g)h=t[g],l[h]=g,r.push({value:h,major:!1});return f===0||!e?r:rv(s,r,l,e)}var li=class extends gn{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){let r=t.time||(t.time={}),l=this._adapter=new k0._date(t.adapters.date);l.init(e),Ii(r.displayFormats,l.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:kf(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let t=this.options,e=this._adapter,r=t.time.unit||"day",{min:l,max:f,minDefined:g,maxDefined:h}=this.getUserBounds();function a(d){!g&&!isNaN(d.min)&&(l=Math.min(l,d.min)),!h&&!isNaN(d.max)&&(f=Math.max(f,d.max))}(!g||!h)&&(a(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&a(this.getMinMax(!1))),l=Ut(l)&&!isNaN(l)?l:+e.startOf(Date.now(),r),f=Ut(f)&&!isNaN(f)?f:+e.endOf(Date.now(),r)+1,this.min=Math.min(l,f-1),this.max=Math.max(l+1,f)}_getLabelBounds(){let t=this.getLabelTimestamps(),e=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],r=t[t.length-1]),{min:e,max:r}}buildTicks(){let t=this.options,e=t.time,r=t.ticks,l=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&l.length&&(this.min=this._userMin||l[0],this.max=this._userMax||l[l.length-1]);let f=this.min,g=this.max,h=au(l,f,g);return this._unit=e.unit||(r.autoSkip?Pf(e.minUnit,this.min,this.max,this._getLabelCapacity(f)):sv(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:ov(this._unit),this.initOffsets(l),t.reverse&&h.reverse(),Cf(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,r=0,l,f;this.options.offset&&t.length&&(l=this.getDecimalForValue(t[0]),t.length===1?e=1-l:e=(this.getDecimalForValue(t[1])-l)/2,f=this.getDecimalForValue(t[t.length-1]),t.length===1?r=f:r=(f-this.getDecimalForValue(t[t.length-2]))/2);let g=t.length<3?.5:.25;e=se(e,0,g),r=se(r,0,g),this._offsets={start:e,end:r,factor:1/(e+1+r)}}_generate(){let t=this._adapter,e=this.min,r=this.max,l=this.options,f=l.time,g=f.unit||Pf(f.minUnit,e,r,this._getLabelCapacity(e)),h=xt(l.ticks.stepSize,1),a=g==="week"?f.isoWeekday:!1,d=ni(a)||a===!0,m={},_=e,y,w;if(d&&(_=+t.startOf(_,"isoWeek",a)),_=+t.startOf(_,d?"day":g),t.diff(r,e,g)>1e5*h)throw new Error(e+" and "+r+" are too far apart with stepSize of "+h+" "+g);let P=l.ticks.source==="data"&&this.getDataTimestamps();for(y=_,w=0;y<r;y=+t.add(y,h,g),w++)Mf(m,y,P);return(y===r||l.bounds==="ticks"||w===1)&&Mf(m,y,P),Object.keys(m).sort((M,T)=>M-T).map(M=>+M)}getLabelForValue(t){let e=this._adapter,r=this.options.time;return r.tooltipFormat?e.format(t,r.tooltipFormat):e.format(t,r.displayFormats.datetime)}format(t,e){let l=this.options.time.displayFormats,f=this._unit,g=e||l[f];return this._adapter.format(t,g)}_tickFormatFunction(t,e,r,l){let f=this.options,g=f.ticks.callback;if(g)return Bt(g,[t,e,r],this);let h=f.time.displayFormats,a=this._unit,d=this._majorUnit,m=a&&h[a],_=d&&h[d],y=r[e],w=d&&_&&y&&y.major;return this._adapter.format(t,l||(w?_:m))}generateTickLabels(t){let e,r,l;for(e=0,r=t.length;e<r;++e)l=t[e],l.label=this._tickFormatFunction(l.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){let e=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+r)*e.factor)}getValueForPixel(t){let e=this._offsets,r=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){let e=this.options.ticks,r=this.ctx.measureText(t).width,l=Be(this.isHorizontal()?e.maxRotation:e.minRotation),f=Math.cos(l),g=Math.sin(l),h=this._resolveTickFontOptions(0).size;return{w:r*f+h*g,h:r*g+h*f}}_getLabelCapacity(t){let e=this.options.time,r=e.displayFormats,l=r[e.unit]||r.millisecond,f=this._tickFormatFunction(t,0,Cf(this,[t],this._majorUnit),l),g=this._getLabelSize(f),h=Math.floor(this.isHorizontal()?this.width/g.w:this.height/g.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,r;if(t.length)return t;let l=this.getMatchingVisibleMetas();if(this._normalized&&l.length)return this._cache.data=l[0].controller.getAllParsedValues(this);for(e=0,r=l.length;e<r;++e)t=t.concat(l[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){let t=this._cache.labels||[],e,r;if(t.length)return t;let l=this.getLabels();for(e=0,r=l.length;e<r;++e)t.push(kf(this,l[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return $a(t.sort(iv))}};ht(li,"id","time"),ht(li,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function pr(s,t,e){let r=0,l=s.length-1,f,g,h,a;e?(t>=s[r].pos&&t<=s[l].pos&&({lo:r,hi:l}=Ge(s,"pos",t)),{pos:f,time:h}=s[r],{pos:g,time:a}=s[l]):(t>=s[r].time&&t<=s[l].time&&({lo:r,hi:l}=Ge(s,"time",t)),{time:f,pos:h}=s[r],{time:g,pos:a}=s[l]);let d=g-f;return d?h+(a-h)*(t-f)/d:h}var qs=class extends li{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=pr(e,this.min),this._tableRange=pr(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){let{min:e,max:r}=this,l=[],f=[],g,h,a,d,m;for(g=0,h=t.length;g<h;++g)d=t[g],d>=e&&d<=r&&l.push(d);if(l.length<2)return[{time:e,pos:0},{time:r,pos:1}];for(g=0,h=l.length;g<h;++g)m=l[g+1],a=l[g-1],d=l[g],Math.round((m+a)/2)!==d&&f.push({time:d,pos:g/(h-1)});return f}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;let e=this.getDataTimestamps(),r=this.getLabelTimestamps();return e.length&&r.length?t=this.normalize(e.concat(r)):t=e.length?e:r,t=this._cache.all=t,t}getDecimalForValue(t){return(pr(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){let e=this._offsets,r=this.getDecimalForPixel(t)/e.factor-e.end;return pr(this._table,r*this._tableRange+this._minPos,!0)}};ht(qs,"id","timeseries"),ht(qs,"defaults",li.defaults);var av=Object.freeze({__proto__:null,CategoryScale:Ws,LinearScale:$s,LogarithmicScale:Ys,RadialLinearScale:ri,TimeScale:li,TimeSeriesScale:qs}),Cr=[w0,U_,Hx,av];Ve.register(...Cr);var Js=Ve;var Jf=ka(Gf(),1);function lv(s,t){let e=s.insertCell(-1),r=document.createElement("BUTTON"),l=document.createElement("SPAN");l.classList.add("material-symbols-outlined"),l.innerText="delete",r.appendChild(l),r.classList.add("pure-button"),e.appendChild(r),r.addEventListener("click",function(f){let g=s.rowIndex;t.deleteRow(g-1)})}function Fl(s,t,e){let r=s.insertRow(-1);for(let l of t){let f=r.insertCell(-1);f.contentEditable="true",f.innerText=e[l]}lv(r,s)}function Kf(s,t,e,r){let l=s.tHead.rows[0].insertCell(-1),f=document.createElement("BUTTON"),g=document.createElement("SPAN");g.classList.add("material-symbols-outlined"),g.innerText="add",f.appendChild(g),f.classList.add("button-success","pure-button"),l.appendChild(f),f.addEventListener("click",function(){Fl(t,e,r)})}function Il(s){let t=[];for(let e of s.rows)t.push({name:e.cells[0].innerText,guestsAverage:Number(e.cells[1].innerText),guestsCV:Number(e.cells[2].innerText),wastePerGuestAverage:Number(e.cells[3].innerText),wastePerGuestCV:Number(e.cells[4].innerText),dinerPerGuestProbability:Number(e.cells[5].innerText)});return t}function Qf(s){let t=[],e=0;for(let r of s.rows)t.push({name:r.cells[0].innerText,trueEffectMean:Number(r.cells[1].innerText),trueEffectCV:Number(r.cells[2].innerText),index:e}),e=e+1;return t}function cv(s,t,e){let r=document.createElement("div"),l=document.createElement("h4");l.innerText="Average Food Wasted: ",r.appendChild(l);let f=document.createElement("table");r.appendChild(f),f.classList.add("pure-table-horizontal"),f.classList.add("pure-table");let g=f.createTHead().insertRow(),h=f.createTBody().insertRow();for(let a of s)g.insertCell().innerText=a.name,h.insertCell().innerText=t.averages[a.name].toFixed(2)+" kg";e.appendChild(r),r.style.margin="0 auto",r.style.width="80%"}function hv(s,t,e){let r=document.createElement("div"),l=document.createElement("h4");l.innerText="Measured effect (% reduction): ",r.appendChild(l);let f=document.createElement("table");r.appendChild(f),f.classList.add("pure-table-horizontal"),f.classList.add("pure-table");let g=f.createTHead().insertRow(),h=f.createTBody().insertRow();for(let a of s)if(g.insertCell().innerText=a.name,a.index===0)h.insertCell().innerText=" / ";else{let d=t.effects[a.index],m=t.averages[s[0].name];if(m===0)h.insertCell().innerText=" ? ";else{let _=-(1-(m-d)/m)*100;h.insertCell().innerText=_.toFixed(2)+"%"}}e.appendChild(r),r.style.margin="0 auto",r.style.width="80%"}function uv(s,t,e){let r=document.createElement("div"),l=document.createElement("h4");l.innerText="Significance Test (p-value): ",r.appendChild(l);let f=document.createElement("table");r.appendChild(f),f.classList.add("pure-table-horizontal"),f.classList.add("pure-table");let g=f.createTHead().insertRow(),h=f.createTBody().insertRow();for(let a of s)if(g.insertCell().innerText=a.name,a.index===0)h.insertCell().innerText=" / ";else{let d=t.p_values[a.index],m=d<.05?"green":"red";d=d<.001?"<0.001":d.toFixed(3);let _=document.createElement("span");_.innerText=d,_.style.color=m,h.insertCell().appendChild(_)}e.appendChild(r),r.style.margin="0 auto",r.style.width="80%"}document.addEventListener("DOMContentLoaded",function(s){let t=document.getElementById("hotel_table"),e=["name","guestsAverage","guestsCV","wastePerGuestAverage","wastePerGuestCV","dinerPerGuestProbability"],r=t.getElementsByTagName("tbody")[0];for(let C of Ms)Fl(r,e,C);Kf(t,r,e,Ms[0]),document.getElementById("export-btn").addEventListener("click",function(){let C=Il(r)});let f=document.getElementById("stimulus_table"),g=["name","trueEffectMean","trueEffectCV"],h=f.getElementsByTagName("tbody")[0];for(let C of Di)Fl(h,g,C);Kf(f,h,g,Di[1]);let a=document.getElementById("weekssampled"),d=Number(a.value),m=new Array(d).fill(1),_=Array.from({length:d},(C,D)=>D);console.log(_),console.log(m),Js.register(...Cr,Jf.default);let y=document.getElementById("weekChartContainer"),w=new Js(y,{type:"line",data:{labels:_,datasets:[{label:"% of guests compared to average",data:m,fill:!0,borderWidth:1,pointHitRadius:25}]},options:{plugins:{title:{display:!0,text:"Weeks' variation in # of guests",align:"center",font:{size:20,family:"Helvetica"},padding:{bottom:10}},dragData:{round:2,showTooltip:!0,onDragEnd:function(C,D,L,I){}}},scales:{y:{max:3,min:0}},onHover:function(C){C.chart.getElementsAtEventForMode(C,"nearest",{intersect:!0},!1).length?C.native.target.style.cursor="grab":C.native.target.style.cursor="default"}}});a.addEventListener("change",C=>{for(d=Number(a.value);d>m.length;)m.push(1),_.push(m.length);for(;d<m.length;)m.pop(),_.pop();w.update(!1)});let P=document.getElementById("results"),M=document.getElementById("run_simulation_btn"),T=document.getElementById("run_power_btn");M.addEventListener("click",function(){M.disabled=!0,T.disabled=!0,P.replaceChildren();let C=Qf(h),D=Ma(d,Il(r),$o,C,w.data.datasets[0].data);var L=[];for(let Et of D)L.push(`<tr> <th> ${Et.date} </th> <th> ${Et.guests} </th><th> ${Et.hotel.name} </th><th> ${Et.meal} </th><th> ${Et.stimulus.name} </th><th> ${Et.totalFoodWasteObserved.toFixed(2)} </th></tr>`);let I=document.createElement("div"),B=document.createElement("h4");B.innerText="Simulated Experiment: ",I.appendChild(B),P.appendChild(I),I.classList.add("clusterize");let N=document.createElement("table"),X=N.createTHead().insertRow(-1);X.insertCell(-1).innerText="Date",X.insertCell(-1).innerText="# of guests",X.insertCell(-1).innerText="Hotel",X.insertCell(-1).innerText="Type of meal",X.insertCell(-1).innerText="Experiment",X.insertCell(-1).innerText="Kg wasted",N.classList.add("pure-table-horizontal"),N.classList.add("pure-table"),I.appendChild(N);let G=document.createElement("div");G.id="scrollAreaObservation",G.classList.add("clusterize-scroll");let et=document.createElement("table"),it=et.createTBody();it.classList.add("clusterize-content"),it.id="contentAreaObservation";let ct=document.createElement("tr");ct.classList.add("clusterize-no-data");let ut=ct.insertCell(-1);ut.innerText="Loading data...",it.appendChild(ct),G.appendChild(et),I.appendChild(G),et.classList.add("pure-table-horizontal"),et.classList.add("pure-table"),N.style.width="100%",et.style.width="100%",I.style.margin="auto";let gt=new Zf.default({rows:L,scrollId:"scrollAreaObservation",contentId:"contentAreaObservation"}),pt=Ca(D,C);cv(C,pt,P),hv(C,pt,P),uv(C,pt,P);let _t=Array(C.length),Pt=0,bt=0;for(let Et of C)_t[Et.index]={label:Et.name,data:[]};for(let Et of D)_t[Et.stimulus.index].data.push({x:Et.guests,y:Et.totalFoodWasteObserved});let $t={type:"scatter",data:{datasets:_t},options:{scales:{x:{type:"linear",position:"bottom",text:"# of Guests"},y:{type:"linear",text:"Food wasted",ticks:{callback:function(Et,de,Yt){return Et+" kg"}}}}}},kt=document.createElement("canvas");kt.id="scatterplot";let Dt=document.createElement("div");Dt.appendChild(kt),Dt.style.margin="0 auto",Dt.style.width="80%",P.appendChild(Dt),Dt.scrollIntoView(),new Js(kt,$t),M.disabled=!1,T.disabled=!1}),T.addEventListener("click",function(){M.disabled=!0,T.disabled=!0,P.replaceChildren();let C=document.createElement("div");C.id="myProgress";let D=document.createElement("div");D.id="myBar",D.innerText="5%",D.style.width="5%",D.style.height="30px",D.style.backgroundColor="#04AA6D",D.style.textAlign="center",D.style.lineHeight="30px",D.style.color="white",C.appendChild(D),P.appendChild(C),P.scrollIntoView(!1);let L=[],I=Qf(h),B=Number(document.getElementById("weekssampled").value),N=Il(r),U=w.data.datasets[0].data;for(let et=0;et<100;et++){let it=Ma(B,N,$o,I,U);L.push(Ca(it,I)),D.style.width=`${et+1}%`,D.innerText=`${et+1}%`}console.log("reading documents");let X=["<.01","0.05","0.1","not-significant"],G={};for(let et of I)if(et.index!=0){G[et.name]={};for(let it of X)G[et.name][it]=0}console.log(L),console.log(G);for(let et of L)for(let it of I){if(it.index==0)continue;let ct=et.p_values[it.index];console.log(`pvalue is ${ct}`),ct<.01?(console.log("<.01"),G[it.name]["<.01"]=G[it.name]["<.01"]+1):ct<.05?(console.log("<.05"),G[it.name]["0.05"]=G[it.name]["0.05"]+1):ct<.1?(console.log("<.1"),G[it.name]["0.1"]=G[it.name]["0.1"]+1):G[it.name]["not-significant"]=G[it.name]["not-significant"]+1}for(let et of I){if(et.index==0)continue;let it=document.createElement("div"),ct=document.createElement("h2");ct.innerText=`Significance of '${et.name}'`;let ut=document.createElement("canvas");it.appendChild(ct),it.appendChild(ut),ut.style.width="100px",ut.style.height="100px",it.style.width="500px";let gt=[G[et.name]["<.01"],G[et.name]["0.05"],G[et.name]["0.1"],G[et.name]["not-significant"]];console.log(gt);let pt={labels:X,datasets:[{label:`Significance of '${et.name}'`,data:gt,hoverOffset:4}]};new Js(ut,{type:"doughnut",data:pt,options:{aspectRatio:1,layout:{padding:{left:0,right:0,top:0,bottom:0}},responsive:!0}}),P.appendChild(it)}M.disabled=!1,T.disabled=!1})});})();
/*! Bundled license information:

chart.js/dist/chart.js:
  (*!
   * Chart.js v3.9.1
   * https://www.chartjs.org
   * (c) 2022 Chart.js Contributors
   * Released under the MIT License
   *)
  (*!
   * @kurkle/color v0.2.1
   * https://github.com/kurkle/color#readme
   * (c) 2022 Jukka Kurkela
   * Released under the MIT License
   *)

@kurkle/color/dist/color.esm.js:
  (*!
   * @kurkle/color v0.3.2
   * https://github.com/kurkle/color#readme
   * (c) 2023 Jukka Kurkela
   * Released under the MIT License
   *)

chart.js/dist/chunks/helpers.segment.js:
  (*!
   * Chart.js v4.2.1
   * https://www.chartjs.org
   * (c) 2023 Chart.js Contributors
   * Released under the MIT License
   *)

chart.js/dist/chart.js:
  (*!
   * Chart.js v4.2.1
   * https://www.chartjs.org
   * (c) 2023 Chart.js Contributors
   * Released under the MIT License
   *)
*/
