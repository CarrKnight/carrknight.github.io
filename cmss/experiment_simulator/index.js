(()=>{var wy=Object.create;var _c=Object.defineProperty;var ky=Object.getOwnPropertyDescriptor;var Py=Object.getOwnPropertyNames;var Cy=Object.getPrototypeOf,My=Object.prototype.hasOwnProperty;var Oy=(n,t,e)=>t in n?_c(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var ha=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports);var Ty=(n,t,e,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of Py(t))!My.call(n,r)&&r!==e&&_c(n,r,{get:()=>t[r],enumerable:!(s=ky(t,r))||s.enumerable});return n};var wc=(n,t,e)=>(e=n!=null?wy(Cy(n)):{},Ty(t||!n||!n.__esModule?_c(e,"default",{value:n,enumerable:!0}):e,n));var vt=(n,t,e)=>(Oy(n,typeof t!="symbol"?t+"":t,e),e);var bd=ha((kc,md)=>{(function(n,t){typeof kc=="object"?md.exports=t():typeof define=="function"&&define.amd?define(t):n.jStat=t()})(kc,function(){var n=function(t,e){var s=Array.prototype.concat,r=Array.prototype.slice,c=Object.prototype.toString;function h(O,M){var A=O>M?O:M;return t.pow(10,17-~~(t.log(A>0?A:-A)*t.LOG10E))}var u=Array.isArray||function(M){return c.call(M)==="[object Array]"};function a(O){return c.call(O)==="[object Function]"}function d(O){return typeof O=="number"?O-O===0:!1}function g(O){return s.apply([],O)}function v(){return new v._init(arguments)}v.fn=v.prototype,v._init=function(M){if(u(M[0]))if(u(M[0][0])){a(M[1])&&(M[0]=v.map(M[0],M[1]));for(var A=0;A<M[0].length;A++)this[A]=M[0][A];this.length=M[0].length}else this[0]=a(M[1])?v.map(M[0],M[1]):M[0],this.length=1;else if(d(M[0]))this[0]=v.seq.apply(null,M),this.length=1;else{if(M[0]instanceof v)return v(M[0].toArray());this[0]=[],this.length=1}return this},v._init.prototype=v.prototype,v._init.constructor=v,v.utils={calcRdx:h,isArray:u,isFunction:a,isNumber:d,toVector:g},v._random_fn=t.random,v.setRandom=function(M){if(typeof M!="function")throw new TypeError("fn is not a function");v._random_fn=M},v.extend=function(M){var A,S;if(arguments.length===1){for(S in M)v[S]=M[S];return this}for(A=1;A<arguments.length;A++)for(S in arguments[A])M[S]=arguments[A][S];return M},v.rows=function(M){return M.length||1},v.cols=function(M){return M[0].length||1},v.dimensions=function(M){return{rows:v.rows(M),cols:v.cols(M)}},v.row=function(M,A){return u(A)?A.map(function(S){return v.row(M,S)}):M[A]},v.rowa=function(M,A){return v.row(M,A)},v.col=function(M,A){if(u(A)){var S=v.arange(M.length).map(function(){return new Array(A.length)});return A.forEach(function(N,H){v.arange(M.length).forEach(function($){S[$][H]=M[$][N]})}),S}for(var E=new Array(M.length),I=0;I<M.length;I++)E[I]=[M[I][A]];return E},v.cola=function(M,A){return v.col(M,A).map(function(S){return S[0]})},v.diag=function(M){for(var A=v.rows(M),S=new Array(A),E=0;E<A;E++)S[E]=[M[E][E]];return S},v.antidiag=function(M){for(var A=v.rows(M)-1,S=new Array(A),E=0;A>=0;A--,E++)S[E]=[M[E][A]];return S},v.transpose=function(M){var A=[],S,E,I,N,H;for(u(M[0])||(M=[M]),E=M.length,I=M[0].length,H=0;H<I;H++){for(S=new Array(E),N=0;N<E;N++)S[N]=M[N][H];A.push(S)}return A.length===1?A[0]:A},v.map=function(M,A,S){var E,I,N,H,$;for(u(M[0])||(M=[M]),I=M.length,N=M[0].length,H=S?M:new Array(I),E=0;E<I;E++)for(H[E]||(H[E]=new Array(N)),$=0;$<N;$++)H[E][$]=A(M[E][$],E,$);return H.length===1?H[0]:H},v.cumreduce=function(M,A,S){var E,I,N,H,$;for(u(M[0])||(M=[M]),I=M.length,N=M[0].length,H=S?M:new Array(I),E=0;E<I;E++)for(H[E]||(H[E]=new Array(N)),N>0&&(H[E][0]=M[E][0]),$=1;$<N;$++)H[E][$]=A(H[E][$-1],M[E][$]);return H.length===1?H[0]:H},v.alter=function(M,A){return v.map(M,A,!0)},v.create=function(M,A,S){var E=new Array(M),I,N;for(a(A)&&(S=A,A=M),I=0;I<M;I++)for(E[I]=new Array(A),N=0;N<A;N++)E[I][N]=S(I,N);return E};function x(){return 0}v.zeros=function(M,A){return d(A)||(A=M),v.create(M,A,x)};function w(){return 1}v.ones=function(M,A){return d(A)||(A=M),v.create(M,A,w)},v.rand=function(M,A){return d(A)||(A=M),v.create(M,A,v._random_fn)};function P(O,M){return O===M?1:0}v.identity=function(M,A){return d(A)||(A=M),v.create(M,A,P)},v.symmetric=function(M){var A=M.length,S,E;if(M.length!==M[0].length)return!1;for(S=0;S<A;S++)for(E=0;E<A;E++)if(M[E][S]!==M[S][E])return!1;return!0},v.clear=function(M){return v.alter(M,x)},v.seq=function(M,A,S,E){a(E)||(E=!1);var I=[],N=h(M,A),H=(A*N-M*N)/((S-1)*N),$=M,G;for(G=0;$<=A&&G<S;G++,$=(M*N+H*N*G)/N)I.push(E?E($,G):$);return I},v.arange=function(M,A,S){var E=[],I;if(S=S||1,A===e&&(A=M,M=0),M===A||S===0)return[];if(M<A&&S<0)return[];if(M>A&&S>0)return[];if(S>0)for(I=M;I<A;I+=S)E.push(I);else for(I=M;I>A;I+=S)E.push(I);return E},v.slice=function(){function O(A,S,E,I){var N,H=[],$=A.length;if(S===e&&E===e&&I===e)return v.copy(A);if(S=S||0,E=E||A.length,S=S>=0?S:$+S,E=E>=0?E:$+E,I=I||1,S===E||I===0)return[];if(S<E&&I<0)return[];if(S>E&&I>0)return[];if(I>0)for(N=S;N<E;N+=I)H.push(A[N]);else for(N=S;N>E;N+=I)H.push(A[N]);return H}function M(A,S){var E,I;if(S=S||{},d(S.row)){if(d(S.col))return A[S.row][S.col];var N=v.rowa(A,S.row);return E=S.col||{},O(N,E.start,E.end,E.step)}if(d(S.col)){var H=v.cola(A,S.col);return I=S.row||{},O(H,I.start,I.end,I.step)}I=S.row||{},E=S.col||{};var $=O(A,I.start,I.end,I.step);return $.map(function(G){return O(G,E.start,E.end,E.step)})}return M}(),v.sliceAssign=function(M,A,S){var E,I;if(d(A.row)){if(d(A.col))return M[A.row][A.col]=S;A.col=A.col||{},A.col.start=A.col.start||0,A.col.end=A.col.end||M[0].length,A.col.step=A.col.step||1,E=v.arange(A.col.start,t.min(M.length,A.col.end),A.col.step);var N=A.row;return E.forEach(function($,G){M[N][$]=S[G]}),M}if(d(A.col)){A.row=A.row||{},A.row.start=A.row.start||0,A.row.end=A.row.end||M.length,A.row.step=A.row.step||1,I=v.arange(A.row.start,t.min(M[0].length,A.row.end),A.row.step);var H=A.col;return I.forEach(function($,G){M[$][H]=S[G]}),M}return S[0].length===e&&(S=[S]),A.row.start=A.row.start||0,A.row.end=A.row.end||M.length,A.row.step=A.row.step||1,A.col.start=A.col.start||0,A.col.end=A.col.end||M[0].length,A.col.step=A.col.step||1,I=v.arange(A.row.start,t.min(M.length,A.row.end),A.row.step),E=v.arange(A.col.start,t.min(M[0].length,A.col.end),A.col.step),I.forEach(function($,G){E.forEach(function(tt,et){M[$][tt]=S[G][et]})}),M},v.diagonal=function(M){var A=v.zeros(M.length,M.length);return M.forEach(function(S,E){A[E][E]=S}),A},v.copy=function(M){return M.map(function(A){return d(A)?A:A.map(function(S){return S})})};var C=v.prototype;return C.length=0,C.push=Array.prototype.push,C.sort=Array.prototype.sort,C.splice=Array.prototype.splice,C.slice=Array.prototype.slice,C.toArray=function(){return this.length>1?r.call(this):r.call(this)[0]},C.map=function(M,A){return v(v.map(this,M,A))},C.cumreduce=function(M,A){return v(v.cumreduce(this,M,A))},C.alter=function(M){return v.alter(this,M),this},function(O){for(var M=0;M<O.length;M++)(function(A){C[A]=function(S){var E=this,I;return S?(setTimeout(function(){S.call(E,C[A].call(E))}),this):(I=v[A](this),u(I)?v(I):I)}})(O[M])}("transpose clear symmetric rows cols dimensions diag antidiag".split(" ")),function(O){for(var M=0;M<O.length;M++)(function(A){C[A]=function(S,E){var I=this;return E?(setTimeout(function(){E.call(I,C[A].call(I,S))}),this):v(v[A](this,S))}})(O[M])}("row col".split(" ")),function(O){for(var M=0;M<O.length;M++)(function(A){C[A]=function(){return v(v[A].apply(null,arguments))}})(O[M])}("create zeros ones rand identity".split(" ")),v}(Math);return function(t,e){var s=t.utils.isFunction;function r(u,a){return u-a}function c(u,a,d){return e.max(a,e.min(u,d))}t.sum=function(a){for(var d=0,g=a.length;--g>=0;)d+=a[g];return d},t.sumsqrd=function(a){for(var d=0,g=a.length;--g>=0;)d+=a[g]*a[g];return d},t.sumsqerr=function(a){for(var d=t.mean(a),g=0,v=a.length,x;--v>=0;)x=a[v]-d,g+=x*x;return g},t.sumrow=function(a){for(var d=0,g=a.length;--g>=0;)d+=a[g];return d},t.product=function(a){for(var d=1,g=a.length;--g>=0;)d*=a[g];return d},t.min=function(a){for(var d=a[0],g=0;++g<a.length;)a[g]<d&&(d=a[g]);return d},t.max=function(a){for(var d=a[0],g=0;++g<a.length;)a[g]>d&&(d=a[g]);return d},t.unique=function(a){for(var d={},g=[],v=0;v<a.length;v++)d[a[v]]||(d[a[v]]=!0,g.push(a[v]));return g},t.mean=function(a){return t.sum(a)/a.length},t.meansqerr=function(a){return t.sumsqerr(a)/a.length},t.geomean=function(a){var d=a.map(e.log),g=t.mean(d);return e.exp(g)},t.median=function(a){var d=a.length,g=a.slice().sort(r);return d&1?g[d/2|0]:(g[d/2-1]+g[d/2])/2},t.cumsum=function(a){return t.cumreduce(a,function(d,g){return d+g})},t.cumprod=function(a){return t.cumreduce(a,function(d,g){return d*g})},t.diff=function(a){var d=[],g=a.length,v;for(v=1;v<g;v++)d.push(a[v]-a[v-1]);return d},t.rank=function(u){var a,d=[],g={};for(a=0;a<u.length;a++){var v=u[a];g[v]?g[v]++:(g[v]=1,d.push(v))}var x=d.sort(r),w={},P=1;for(a=0;a<x.length;a++){var v=x[a],C=g[v],O=P,M=P+C-1,A=(O+M)/2;w[v]=A,P+=C}return u.map(function(S){return w[S]})},t.mode=function(a){var d=a.length,g=a.slice().sort(r),v=1,x=0,w=0,P=[],C;for(C=0;C<d;C++)g[C]===g[C+1]?v++:(v>x?(P=[g[C]],x=v,w=0):v===x&&(P.push(g[C]),w++),v=1);return w===0?P[0]:P},t.range=function(a){return t.max(a)-t.min(a)},t.variance=function(a,d){return t.sumsqerr(a)/(a.length-(d?1:0))},t.pooledvariance=function(a){var d=a.reduce(function(v,x){return v+t.sumsqerr(x)},0),g=a.reduce(function(v,x){return v+x.length},0);return d/(g-a.length)},t.deviation=function(u){for(var a=t.mean(u),d=u.length,g=new Array(d),v=0;v<d;v++)g[v]=u[v]-a;return g},t.stdev=function(a,d){return e.sqrt(t.variance(a,d))},t.pooledstdev=function(a){return e.sqrt(t.pooledvariance(a))},t.meandev=function(a){for(var d=t.mean(a),g=[],v=a.length-1;v>=0;v--)g.push(e.abs(a[v]-d));return t.mean(g)},t.meddev=function(a){for(var d=t.median(a),g=[],v=a.length-1;v>=0;v--)g.push(e.abs(a[v]-d));return t.median(g)},t.coeffvar=function(a){return t.stdev(a)/t.mean(a)},t.quartiles=function(a){var d=a.length,g=a.slice().sort(r);return[g[e.round(d/4)-1],g[e.round(d/2)-1],g[e.round(d*3/4)-1]]},t.quantiles=function(a,d,g,v){var x=a.slice().sort(r),w=[d.length],P=a.length,C,O,M,A,S,E;for(typeof g>"u"&&(g=3/8),typeof v>"u"&&(v=3/8),C=0;C<d.length;C++)O=d[C],M=g+O*(1-g-v),A=P*O+M,S=e.floor(c(A,1,P-1)),E=c(A-S,0,1),w[C]=(1-E)*x[S-1]+E*x[S];return w},t.percentile=function(a,d,g){var v=a.slice().sort(r),x=d*(v.length+(g?1:-1))+(g?0:1),w=parseInt(x),P=x-w;return w+1<v.length?v[w-1]+P*(v[w]-v[w-1]):v[w-1]},t.percentileOfScore=function(a,d,g){var v=0,x=a.length,w=!1,P,C;for(g==="strict"&&(w=!0),C=0;C<x;C++)P=a[C],(w&&P<d||!w&&P<=d)&&v++;return v/x},t.histogram=function(a,d){d=d||4;var g=t.min(a),v=(t.max(a)-g)/d,x=a.length,w=[],P;for(P=0;P<d;P++)w[P]=0;for(P=0;P<x;P++)w[e.min(e.floor((a[P]-g)/v),d-1)]+=1;return w},t.covariance=function(a,d){var g=t.mean(a),v=t.mean(d),x=a.length,w=new Array(x),P;for(P=0;P<x;P++)w[P]=(a[P]-g)*(d[P]-v);return t.sum(w)/(x-1)},t.corrcoeff=function(a,d){return t.covariance(a,d)/t.stdev(a,1)/t.stdev(d,1)},t.spearmancoeff=function(u,a){return u=t.rank(u),a=t.rank(a),t.corrcoeff(u,a)},t.stanMoment=function(a,d){for(var g=t.mean(a),v=t.stdev(a),x=a.length,w=0,P=0;P<x;P++)w+=e.pow((a[P]-g)/v,d);return w/a.length},t.skewness=function(a){return t.stanMoment(a,3)},t.kurtosis=function(a){return t.stanMoment(a,4)-3};var h=t.prototype;(function(u){for(var a=0;a<u.length;a++)(function(d){h[d]=function(g,v){var x=[],w=0,P=this;if(s(g)&&(v=g,g=!1),v)return setTimeout(function(){v.call(P,h[d].call(P,g))}),this;if(this.length>1){for(P=g===!0?this:this.transpose();w<P.length;w++)x[w]=t[d](P[w]);return x}return t[d](this[0],g)}})(u[a])})("cumsum cumprod".split(" ")),function(u){for(var a=0;a<u.length;a++)(function(d){h[d]=function(g,v){var x=[],w=0,P=this;if(s(g)&&(v=g,g=!1),v)return setTimeout(function(){v.call(P,h[d].call(P,g))}),this;if(this.length>1){for(d!=="sumrow"&&(P=g===!0?this:this.transpose());w<P.length;w++)x[w]=t[d](P[w]);return g===!0?t[d](t.utils.toVector(x)):x}return t[d](this[0],g)}})(u[a])}("sum sumsqrd sumsqerr sumrow product min max unique mean meansqerr geomean median diff rank mode range variance deviation stdev meandev meddev coeffvar quartiles histogram skewness kurtosis".split(" ")),function(u){for(var a=0;a<u.length;a++)(function(d){h[d]=function(){var g=[],v=0,x=this,w=Array.prototype.slice.call(arguments),P;if(s(w[w.length-1])){P=w[w.length-1];var C=w.slice(0,w.length-1);return setTimeout(function(){P.call(x,h[d].apply(x,C))}),this}else{P=void 0;var O=function(A){return t[d].apply(x,[A].concat(w))}}if(this.length>1){for(x=x.transpose();v<x.length;v++)g[v]=O(x[v]);return g}return O(this[0])}})(u[a])}("quantiles percentileOfScore".split(" "))}(n,Math),function(t,e){t.gammaln=function(r){var c=0,h=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],u=1.000000000190015,a,d,g;for(g=(d=a=r)+5.5,g-=(a+.5)*e.log(g);c<6;c++)u+=h[c]/++d;return e.log(2.5066282746310007*u/a)-g},t.loggam=function(r){var c,h,u,a,d,g,v,x=[.08333333333333333,-.002777777777777778,.0007936507936507937,-.0005952380952380952,.0008417508417508418,-.001917526917526918,.00641025641025641,-.02955065359477124,.1796443723688307,-1.3924322169059];if(c=r,v=0,r==1||r==2)return 0;for(r<=7&&(v=e.floor(7-r),c=r+v),h=1/(c*c),u=2*e.PI,d=x[9],g=8;g>=0;g--)d*=h,d+=x[g];if(a=d/c+.5*e.log(u)+(c-.5)*e.log(c)-c,r<=7)for(g=1;g<=v;g++)a-=e.log(c-1),c-=1;return a},t.gammafn=function(r){var c=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054],h=[-30.8402300119739,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.11842098015,4755.846277527881,-134659.9598649693,-115132.2596755535],u=!1,a=0,d=0,g=0,v=r,x,w,P,C;if(r>171.6243769536076)return 1/0;if(v<=0)if(C=v%1+36e-17,C)u=(v&1?-1:1)*e.PI/e.sin(e.PI*C),v=1-v;else return 1/0;for(P=v,v<1?w=v++:w=(v-=a=(v|0)-1)-1,x=0;x<8;++x)g=(g+c[x])*w,d=d*w+h[x];if(C=g/d+1,P<v)C/=P;else if(P>v)for(x=0;x<a;++x)C*=v,v++;return u&&(C=u/C),C},t.gammap=function(r,c){return t.lowRegGamma(r,c)*t.gammafn(r)},t.lowRegGamma=function(r,c){var h=t.gammaln(r),u=r,a=1/r,d=a,g=c+1-r,v=1/1e-30,x=1/g,w=x,P=1,C=-~(e.log(r>=1?r:1/r)*8.5+r*.4+17),O;if(c<0||r<=0)return NaN;if(c<r+1){for(;P<=C;P++)a+=d*=c/++u;return a*e.exp(-c+r*e.log(c)-h)}for(;P<=C;P++)O=-P*(P-r),g+=2,x=O*x+g,v=g+O/v,x=1/x,w*=x*v;return 1-w*e.exp(-c+r*e.log(c)-h)},t.factorialln=function(r){return r<0?NaN:t.gammaln(r+1)},t.factorial=function(r){return r<0?NaN:t.gammafn(r+1)},t.combination=function(r,c){return r>170||c>170?e.exp(t.combinationln(r,c)):t.factorial(r)/t.factorial(c)/t.factorial(r-c)},t.combinationln=function(r,c){return t.factorialln(r)-t.factorialln(c)-t.factorialln(r-c)},t.permutation=function(r,c){return t.factorial(r)/t.factorial(r-c)},t.betafn=function(r,c){if(!(r<=0||c<=0))return r+c>170?e.exp(t.betaln(r,c)):t.gammafn(r)*t.gammafn(c)/t.gammafn(r+c)},t.betaln=function(r,c){return t.gammaln(r)+t.gammaln(c)-t.gammaln(r+c)},t.betacf=function(r,c,h){var u=1e-30,a=1,d=c+h,g=c+1,v=c-1,x=1,w=1-d*r/g,P,C,O,M;for(e.abs(w)<u&&(w=u),w=1/w,M=w;a<=100&&(P=2*a,C=a*(h-a)*r/((v+P)*(c+P)),w=1+C*w,e.abs(w)<u&&(w=u),x=1+C/x,e.abs(x)<u&&(x=u),w=1/w,M*=w*x,C=-(c+a)*(d+a)*r/((c+P)*(g+P)),w=1+C*w,e.abs(w)<u&&(w=u),x=1+C/x,e.abs(x)<u&&(x=u),w=1/w,O=w*x,M*=O,!(e.abs(O-1)<3e-7));a++);return M},t.gammapinv=function(r,c){var h=0,u=c-1,a=1e-8,d=t.gammaln(c),g,v,x,w,P,C,O;if(r>=1)return e.max(100,c+100*e.sqrt(c));if(r<=0)return 0;for(c>1?(C=e.log(u),O=e.exp(u*(C-1)-d),P=r<.5?r:1-r,x=e.sqrt(-2*e.log(P)),g=(2.30753+x*.27061)/(1+x*(.99229+x*.04481))-x,r<.5&&(g=-g),g=e.max(.001,c*e.pow(1-1/(9*c)-g/(3*e.sqrt(c)),3))):(x=1-c*(.253+c*.12),r<x?g=e.pow(r/x,1/c):g=1-e.log(1-(r-x)/(1-x)));h<12;h++){if(g<=0)return 0;if(v=t.lowRegGamma(c,g)-r,c>1?x=O*e.exp(-(g-u)+u*(e.log(g)-C)):x=e.exp(-g+u*e.log(g)-d),w=v/x,g-=x=w/(1-.5*e.min(1,w*((c-1)/g-1))),g<=0&&(g=.5*(g+x)),e.abs(x)<a*g)break}return g},t.erf=function(r){var c=[-1.3026537197817094,.6419697923564902,.019476473204185836,-.00956151478680863,-.000946595344482036,.000366839497852761,42523324806907e-18,-20278578112534e-18,-1624290004647e-18,130365583558e-17,15626441722e-18,-85238095915e-18,6529054439e-18,5059343495e-18,-991364156e-18,-227365122e-18,96467911e-18,2394038e-18,-6886027e-18,894487e-18,313092e-18,-112708e-18,381e-18,7106e-18,-1523e-18,-94e-18,121e-18,-28e-18],h=c.length-1,u=!1,a=0,d=0,g,v,x,w;for(r<0&&(r=-r,u=!0),g=2/(2+r),v=4*g-2;h>0;h--)x=a,a=v*a-d+c[h],d=x;return w=g*e.exp(-r*r+.5*(c[0]+v*a)-d),u?w-1:1-w},t.erfc=function(r){return 1-t.erf(r)},t.erfcinv=function(r){var c=0,h,u,a,d;if(r>=2)return-100;if(r<=0)return 100;for(d=r<1?r:2-r,a=e.sqrt(-2*e.log(d/2)),h=-.70711*((2.30753+a*.27061)/(1+a*(.99229+a*.04481))-a);c<2;c++)u=t.erfc(h)-d,h+=u/(1.1283791670955126*e.exp(-h*h)-h*u);return r<1?h:-h},t.ibetainv=function(r,c,h){var u=1e-8,a=c-1,d=h-1,g=0,v,x,w,P,C,O,M,A,S,E,I;if(r<=0)return 0;if(r>=1)return 1;for(c>=1&&h>=1?(w=r<.5?r:1-r,P=e.sqrt(-2*e.log(w)),M=(2.30753+P*.27061)/(1+P*(.99229+P*.04481))-P,r<.5&&(M=-M),A=(M*M-3)/6,S=2/(1/(2*c-1)+1/(2*h-1)),E=M*e.sqrt(A+S)/S-(1/(2*h-1)-1/(2*c-1))*(A+5/6-2/(3*S)),M=c/(c+h*e.exp(2*E))):(v=e.log(c/(c+h)),x=e.log(h/(c+h)),P=e.exp(c*v)/c,C=e.exp(h*x)/h,E=P+C,r<P/E?M=e.pow(c*E*r,1/c):M=1-e.pow(h*E*(1-r),1/h)),I=-t.gammaln(c)-t.gammaln(h)+t.gammaln(c+h);g<10;g++){if(M===0||M===1)return M;if(O=t.ibeta(M,c,h)-r,P=e.exp(a*e.log(M)+d*e.log(1-M)+I),C=O/P,M-=P=C/(1-.5*e.min(1,C*(a/M-d/(1-M)))),M<=0&&(M=.5*(M+P)),M>=1&&(M=.5*(M+P+1)),e.abs(P)<u*M&&g>0)break}return M},t.ibeta=function(r,c,h){var u=r===0||r===1?0:e.exp(t.gammaln(c+h)-t.gammaln(c)-t.gammaln(h)+c*e.log(r)+h*e.log(1-r));return r<0||r>1?!1:r<(c+1)/(c+h+2)?u*t.betacf(r,c,h)/c:1-u*t.betacf(1-r,h,c)/h},t.randn=function(r,c){var h,u,a,d,g;if(c||(c=r),r)return t.create(r,c,function(){return t.randn()});do h=t._random_fn(),u=1.7156*(t._random_fn()-.5),a=h-.449871,d=e.abs(u)+.386595,g=a*a+d*(.196*d-.25472*a);while(g>.27597&&(g>.27846||u*u>-4*e.log(h)*h*h));return u/h},t.randg=function(r,c,h){var u=r,a,d,g,v,x,w;if(h||(h=c),r||(r=1),c)return w=t.zeros(c,h),w.alter(function(){return t.randg(r)}),w;r<1&&(r+=1),a=r-1/3,d=1/e.sqrt(9*a);do{do x=t.randn(),v=1+d*x;while(v<=0);v=v*v*v,g=t._random_fn()}while(g>1-.331*e.pow(x,4)&&e.log(g)>.5*x*x+a*(1-v+e.log(v)));if(r==u)return a*v;do g=t._random_fn();while(g===0);return e.pow(g,1/u)*a*v},function(s){for(var r=0;r<s.length;r++)(function(c){t.fn[c]=function(){return t(t.map(this,function(h){return t[c](h)}))}})(s[r])}("gammaln gammafn factorial factorialln".split(" ")),function(s){for(var r=0;r<s.length;r++)(function(c){t.fn[c]=function(){return t(t[c].apply(null,arguments))}})(s[r])}("randn".split(" "))}(n,Math),function(t,e){(function(u){for(var a=0;a<u.length;a++)(function(d){t[d]=function g(v,x,w){return this instanceof g?(this._a=v,this._b=x,this._c=w,this):new g(v,x,w)},t.fn[d]=function(g,v,x){var w=t[d](g,v,x);return w.data=this,w},t[d].prototype.sample=function(g){var v=this._a,x=this._b,w=this._c;return g?t.alter(g,function(){return t[d].sample(v,x,w)}):t[d].sample(v,x,w)},function(g){for(var v=0;v<g.length;v++)(function(x){t[d].prototype[x]=function(w){var P=this._a,C=this._b,O=this._c;return!w&&w!==0&&(w=this.data),typeof w!="number"?t.fn.map.call(w,function(M){return t[d][x](M,P,C,O)}):t[d][x](w,P,C,O)}})(g[v])}("pdf cdf inv".split(" ")),function(g){for(var v=0;v<g.length;v++)(function(x){t[d].prototype[x]=function(){return t[d][x](this._a,this._b,this._c)}})(g[v])}("mean median mode variance".split(" "))})(u[a])})("beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy laplace lognormal noncentralt normal pareto studentt weibull uniform binomial negbin hypgeom poisson triangular tukey arcsine".split(" ")),t.extend(t.beta,{pdf:function(a,d,g){return a>1||a<0?0:d==1&&g==1?1:d<512&&g<512?e.pow(a,d-1)*e.pow(1-a,g-1)/t.betafn(d,g):e.exp((d-1)*e.log(a)+(g-1)*e.log(1-a)-t.betaln(d,g))},cdf:function(a,d,g){return a>1||a<0?(a>1)*1:t.ibeta(a,d,g)},inv:function(a,d,g){return t.ibetainv(a,d,g)},mean:function(a,d){return a/(a+d)},median:function(a,d){return t.ibetainv(.5,a,d)},mode:function(a,d){return(a-1)/(a+d-2)},sample:function(a,d){var g=t.randg(a);return g/(g+t.randg(d))},variance:function(a,d){return a*d/(e.pow(a+d,2)*(a+d+1))}}),t.extend(t.centralF,{pdf:function(a,d,g){var v,x,w;return a<0?0:d<=2?a===0&&d<2?1/0:a===0&&d===2?1:1/t.betafn(d/2,g/2)*e.pow(d/g,d/2)*e.pow(a,d/2-1)*e.pow(1+d/g*a,-(d+g)/2):(v=d*a/(g+a*d),x=g/(g+a*d),w=d*x/2,w*t.binomial.pdf((d-2)/2,(d+g-2)/2,v))},cdf:function(a,d,g){return a<0?0:t.ibeta(d*a/(d*a+g),d/2,g/2)},inv:function(a,d,g){return g/(d*(1/t.ibetainv(a,d/2,g/2)-1))},mean:function(a,d){return d>2?d/(d-2):void 0},mode:function(a,d){return a>2?d*(a-2)/(a*(d+2)):void 0},sample:function(a,d){var g=t.randg(a/2)*2,v=t.randg(d/2)*2;return g/a/(v/d)},variance:function(a,d){if(!(d<=4))return 2*d*d*(a+d-2)/(a*(d-2)*(d-2)*(d-4))}}),t.extend(t.cauchy,{pdf:function(a,d,g){return g<0?0:g/(e.pow(a-d,2)+e.pow(g,2))/e.PI},cdf:function(a,d,g){return e.atan((a-d)/g)/e.PI+.5},inv:function(u,a,d){return a+d*e.tan(e.PI*(u-.5))},median:function(a){return a},mode:function(a){return a},sample:function(a,d){return t.randn()*e.sqrt(1/(2*t.randg(.5)))*d+a}}),t.extend(t.chisquare,{pdf:function(a,d){return a<0?0:a===0&&d===2?.5:e.exp((d/2-1)*e.log(a)-a/2-d/2*e.log(2)-t.gammaln(d/2))},cdf:function(a,d){return a<0?0:t.lowRegGamma(d/2,a/2)},inv:function(u,a){return 2*t.gammapinv(u,.5*a)},mean:function(u){return u},median:function(a){return a*e.pow(1-2/(9*a),3)},mode:function(a){return a-2>0?a-2:0},sample:function(a){return t.randg(a/2)*2},variance:function(a){return 2*a}}),t.extend(t.exponential,{pdf:function(a,d){return a<0?0:d*e.exp(-d*a)},cdf:function(a,d){return a<0?0:1-e.exp(-d*a)},inv:function(u,a){return-e.log(1-u)/a},mean:function(u){return 1/u},median:function(u){return 1/u*e.log(2)},mode:function(){return 0},sample:function(a){return-1/a*e.log(t._random_fn())},variance:function(u){return e.pow(u,-2)}}),t.extend(t.gamma,{pdf:function(a,d,g){return a<0?0:a===0&&d===1?1/g:e.exp((d-1)*e.log(a)-a/g-t.gammaln(d)-d*e.log(g))},cdf:function(a,d,g){return a<0?0:t.lowRegGamma(d,a/g)},inv:function(u,a,d){return t.gammapinv(u,a)*d},mean:function(u,a){return u*a},mode:function(a,d){if(a>1)return(a-1)*d},sample:function(a,d){return t.randg(a)*d},variance:function(a,d){return a*d*d}}),t.extend(t.invgamma,{pdf:function(a,d,g){return a<=0?0:e.exp(-(d+1)*e.log(a)-g/a-t.gammaln(d)+d*e.log(g))},cdf:function(a,d,g){return a<=0?0:1-t.lowRegGamma(d,g/a)},inv:function(u,a,d){return d/t.gammapinv(1-u,a)},mean:function(u,a){return u>1?a/(u-1):void 0},mode:function(a,d){return d/(a+1)},sample:function(a,d){return d/t.randg(a)},variance:function(a,d){if(!(a<=2))return d*d/((a-1)*(a-1)*(a-2))}}),t.extend(t.kumaraswamy,{pdf:function(a,d,g){return a===0&&d===1?g:a===1&&g===1?d:e.exp(e.log(d)+e.log(g)+(d-1)*e.log(a)+(g-1)*e.log(1-e.pow(a,d)))},cdf:function(a,d,g){return a<0?0:a>1?1:1-e.pow(1-e.pow(a,d),g)},inv:function(a,d,g){return e.pow(1-e.pow(1-a,1/g),1/d)},mean:function(u,a){return a*t.gammafn(1+1/u)*t.gammafn(a)/t.gammafn(1+1/u+a)},median:function(a,d){return e.pow(1-e.pow(2,-1/d),1/a)},mode:function(a,d){if(a>=1&&d>=1&&a!==1&&d!==1)return e.pow((a-1)/(a*d-1),1/a)},variance:function(){throw new Error("variance not yet implemented")}}),t.extend(t.lognormal,{pdf:function(a,d,g){return a<=0?0:e.exp(-e.log(a)-.5*e.log(2*e.PI)-e.log(g)-e.pow(e.log(a)-d,2)/(2*g*g))},cdf:function(a,d,g){return a<0?0:.5+.5*t.erf((e.log(a)-d)/e.sqrt(2*g*g))},inv:function(u,a,d){return e.exp(-1.4142135623730951*d*t.erfcinv(2*u)+a)},mean:function(a,d){return e.exp(a+d*d/2)},median:function(a){return e.exp(a)},mode:function(a,d){return e.exp(a-d*d)},sample:function(a,d){return e.exp(t.randn()*d+a)},variance:function(a,d){return(e.exp(d*d)-1)*e.exp(2*a+d*d)}}),t.extend(t.noncentralt,{pdf:function(a,d,g){var v=1e-14;return e.abs(g)<v?t.studentt.pdf(a,d):e.abs(a)<v?e.exp(t.gammaln((d+1)/2)-g*g/2-.5*e.log(e.PI*d)-t.gammaln(d/2)):d/a*(t.noncentralt.cdf(a*e.sqrt(1+2/d),d+2,g)-t.noncentralt.cdf(a,d,g))},cdf:function(a,d,g){var v=1e-14,x=200;if(e.abs(g)<v)return t.studentt.cdf(a,d);var w=!1;a<0&&(w=!0,g=-g);for(var P=t.normal.cdf(-g,0,1),C=v+1,O=C,M=a*a/(a*a+d),A=0,S=e.exp(-g*g/2),E=e.exp(-g*g/2-.5*e.log(2)-t.gammaln(3/2))*g;A<x||O>v||C>v;)O=C,A>0&&(S*=g*g/(2*A),E*=g*g/(2*(A+1/2))),C=S*t.beta.cdf(M,A+.5,d/2)+E*t.beta.cdf(M,A+1,d/2),P+=.5*C,A++;return w?1-P:P}}),t.extend(t.normal,{pdf:function(a,d,g){return e.exp(-.5*e.log(2*e.PI)-e.log(g)-e.pow(a-d,2)/(2*g*g))},cdf:function(a,d,g){return .5*(1+t.erf((a-d)/e.sqrt(2*g*g)))},inv:function(u,a,d){return-1.4142135623730951*d*t.erfcinv(2*u)+a},mean:function(u){return u},median:function(a){return a},mode:function(u){return u},sample:function(a,d){return t.randn()*d+a},variance:function(u,a){return a*a}}),t.extend(t.pareto,{pdf:function(a,d,g){return a<d?0:g*e.pow(d,g)/e.pow(a,g+1)},cdf:function(a,d,g){return a<d?0:1-e.pow(d/a,g)},inv:function(a,d,g){return d/e.pow(1-a,1/g)},mean:function(a,d){if(!(d<=1))return d*e.pow(a,d)/(d-1)},median:function(a,d){return a*(d*e.SQRT2)},mode:function(a){return a},variance:function(u,a){if(!(a<=2))return u*u*a/(e.pow(a-1,2)*(a-2))}}),t.extend(t.studentt,{pdf:function(a,d){return d=d>1e100?1e100:d,1/(e.sqrt(d)*t.betafn(.5,d/2))*e.pow(1+a*a/d,-((d+1)/2))},cdf:function(a,d){var g=d/2;return t.ibeta((a+e.sqrt(a*a+d))/(2*e.sqrt(a*a+d)),g,g)},inv:function(u,a){var d=t.ibetainv(2*e.min(u,1-u),.5*a,.5);return d=e.sqrt(a*(1-d)/d),u>.5?d:-d},mean:function(a){return a>1?0:void 0},median:function(){return 0},mode:function(){return 0},sample:function(a){return t.randn()*e.sqrt(a/(2*t.randg(a/2)))},variance:function(a){return a>2?a/(a-2):a>1?1/0:void 0}}),t.extend(t.weibull,{pdf:function(a,d,g){return a<0||d<0||g<0?0:g/d*e.pow(a/d,g-1)*e.exp(-e.pow(a/d,g))},cdf:function(a,d,g){return a<0?0:1-e.exp(-e.pow(a/d,g))},inv:function(u,a,d){return a*e.pow(-e.log(1-u),1/d)},mean:function(u,a){return u*t.gammafn(1+1/a)},median:function(a,d){return a*e.pow(e.log(2),1/d)},mode:function(a,d){return d<=1?0:a*e.pow((d-1)/d,1/d)},sample:function(a,d){return a*e.pow(-e.log(t._random_fn()),1/d)},variance:function(a,d){return a*a*t.gammafn(1+2/d)-e.pow(t.weibull.mean(a,d),2)}}),t.extend(t.uniform,{pdf:function(a,d,g){return a<d||a>g?0:1/(g-d)},cdf:function(a,d,g){return a<d?0:a<g?(a-d)/(g-d):1},inv:function(u,a,d){return a+u*(d-a)},mean:function(a,d){return .5*(a+d)},median:function(a,d){return t.mean(a,d)},mode:function(){throw new Error("mode is not yet implemented")},sample:function(a,d){return a/2+d/2+(d/2-a/2)*(2*t._random_fn()-1)},variance:function(a,d){return e.pow(d-a,2)/12}});function s(u,a,d,g){for(var v=0,x=1,w=1,P=1,C=0,O=0,M;e.abs((w-O)/w)>g;)O=w,M=-(a+C)*(a+d+C)*u/(a+2*C)/(a+2*C+1),v=w+M*v,x=P+M*x,C=C+1,M=C*(d-C)*u/(a+2*C-1)/(a+2*C),w=v+M*w,P=x+M*P,v=v/P,x=x/P,w=w/P,P=1;return w/a}t.extend(t.binomial,{pdf:function(a,d,g){return g===0||g===1?d*g===a?1:0:t.combination(d,a)*e.pow(g,a)*e.pow(1-g,d-a)},cdf:function(a,d,g){var v,x=1e-10;if(a<0)return 0;if(a>=d)return 1;if(g<0||g>1||d<=0)return NaN;a=e.floor(a);var w=g,P=a+1,C=d-a,O=P+C,M=e.exp(t.gammaln(O)-t.gammaln(C)-t.gammaln(P)+P*e.log(w)+C*e.log(1-w));return w<(P+1)/(O+2)?v=M*s(w,P,C,x):v=1-M*s(1-w,C,P,x),e.round((1-v)*(1/x))/(1/x)}}),t.extend(t.negbin,{pdf:function(a,d,g){return a!==a>>>0?!1:a<0?0:t.combination(a+d-1,d-1)*e.pow(1-g,a)*e.pow(g,d)},cdf:function(a,d,g){var v=0,x=0;if(a<0)return 0;for(;x<=a;x++)v+=t.negbin.pdf(x,d,g);return v}}),t.extend(t.hypgeom,{pdf:function(a,d,g,v){if(a!==a|0)return!1;if(a<0||a<g-(d-v))return 0;if(a>v||a>g)return 0;if(g*2>d)return v*2>d?t.hypgeom.pdf(d-g-v+a,d,d-g,d-v):t.hypgeom.pdf(v-a,d,d-g,v);if(v*2>d)return t.hypgeom.pdf(g-a,d,g,d-v);if(g<v)return t.hypgeom.pdf(a,d,v,g);for(var x=1,w=0,P=0;P<a;P++){for(;x>1&&w<v;)x*=1-g/(d-w),w++;x*=(v-P)*(g-P)/((P+1)*(d-g-v+P+1))}for(;w<v;w++)x*=1-g/(d-w);return e.min(1,e.max(0,x))},cdf:function(a,d,g,v){if(a<0||a<g-(d-v))return 0;if(a>=v||a>=g)return 1;if(g*2>d)return v*2>d?t.hypgeom.cdf(d-g-v+a,d,d-g,d-v):1-t.hypgeom.cdf(v-a-1,d,d-g,v);if(v*2>d)return 1-t.hypgeom.cdf(g-a-1,d,g,d-v);if(g<v)return t.hypgeom.cdf(a,d,v,g);for(var x=1,w=1,P=0,C=0;C<a;C++){for(;x>1&&P<v;){var O=1-g/(d-P);w*=O,x*=O,P++}w*=(v-C)*(g-C)/((C+1)*(d-g-v+C+1)),x+=w}for(;P<v;P++)x*=1-g/(d-P);return e.min(1,e.max(0,x))}}),t.extend(t.poisson,{pdf:function(a,d){return d<0||a%1!==0||a<0?0:e.pow(d,a)*e.exp(-d)/t.factorial(a)},cdf:function(a,d){var g=[],v=0;if(a<0)return 0;for(;v<=a;v++)g.push(t.poisson.pdf(v,d));return t.sum(g)},mean:function(u){return u},variance:function(u){return u},sampleSmall:function(a){var d=1,g=0,v=e.exp(-a);do g++,d*=t._random_fn();while(d>v);return g-1},sampleLarge:function(a){var d=a,g,v,x,w,P,C,O,M,A,S;for(w=e.sqrt(d),P=e.log(d),O=.931+2.53*w,C=-.059+.02483*O,M=1.1239+1.1328/(O-3.4),A=.9277-3.6224/(O-2);;){if(v=e.random()-.5,x=e.random(),S=.5-e.abs(v),g=e.floor((2*C/S+O)*v+d+.43),S>=.07&&x<=A)return g;if(!(g<0||S<.013&&x>S)&&e.log(x)+e.log(M)-e.log(C/(S*S)+O)<=-d+g*P-t.loggam(g+1))return g}},sample:function(a){return a<10?this.sampleSmall(a):this.sampleLarge(a)}}),t.extend(t.triangular,{pdf:function(a,d,g,v){return g<=d||v<d||v>g?NaN:a<d||a>g?0:a<v?2*(a-d)/((g-d)*(v-d)):a===v?2/(g-d):2*(g-a)/((g-d)*(g-v))},cdf:function(a,d,g,v){return g<=d||v<d||v>g?NaN:a<=d?0:a>=g?1:a<=v?e.pow(a-d,2)/((g-d)*(v-d)):1-e.pow(g-a,2)/((g-d)*(g-v))},inv:function(a,d,g,v){return g<=d||v<d||v>g?NaN:a<=(v-d)/(g-d)?d+(g-d)*e.sqrt(a*((v-d)/(g-d))):d+(g-d)*(1-e.sqrt((1-a)*(1-(v-d)/(g-d))))},mean:function(a,d,g){return(a+d+g)/3},median:function(a,d,g){if(g<=(a+d)/2)return d-e.sqrt((d-a)*(d-g))/e.sqrt(2);if(g>(a+d)/2)return a+e.sqrt((d-a)*(g-a))/e.sqrt(2)},mode:function(a,d,g){return g},sample:function(a,d,g){var v=t._random_fn();return v<(g-a)/(d-a)?a+e.sqrt(v*(d-a)*(g-a)):d-e.sqrt((1-v)*(d-a)*(d-g))},variance:function(a,d,g){return(a*a+d*d+g*g-a*d-a*g-d*g)/18}}),t.extend(t.arcsine,{pdf:function(a,d,g){return g<=d?NaN:a<=d||a>=g?0:2/e.PI*e.pow(e.pow(g-d,2)-e.pow(2*a-d-g,2),-.5)},cdf:function(a,d,g){return a<d?0:a<g?2/e.PI*e.asin(e.sqrt((a-d)/(g-d))):1},inv:function(u,a,d){return a+(.5-.5*e.cos(e.PI*u))*(d-a)},mean:function(a,d){return d<=a?NaN:(a+d)/2},median:function(a,d){return d<=a?NaN:(a+d)/2},mode:function(){throw new Error("mode is not yet implemented")},sample:function(a,d){return(a+d)/2+(d-a)/2*e.sin(2*e.PI*t.uniform.sample(0,1))},variance:function(a,d){return d<=a?NaN:e.pow(d-a,2)/8}});function r(u){return u/e.abs(u)}t.extend(t.laplace,{pdf:function(a,d,g){return g<=0?0:e.exp(-e.abs(a-d)/g)/(2*g)},cdf:function(a,d,g){return g<=0?0:a<d?.5*e.exp((a-d)/g):1-.5*e.exp(-(a-d)/g)},mean:function(u){return u},median:function(u){return u},mode:function(u){return u},variance:function(u,a){return 2*a*a},sample:function(a,d){var g=t._random_fn()-.5;return a-d*r(g)*e.log(1-2*e.abs(g))}});function c(u,a,d){var g=12,v=6,x=-30,w=-50,P=60,C=8,O=3,M=2,A=3,S=[.9815606342467192,.9041172563704749,.7699026741943047,.5873179542866175,.3678314989981802,.1252334085114689],E=[.04717533638651183,.10693932599531843,.16007832854334622,.20316742672306592,.2334925365383548,.24914704581340277],I=u*.5;if(I>=C)return 1;var N=2*t.normal.cdf(I,0,1,1,0)-1;N>=e.exp(w/d)?N=e.pow(N,d):N=0;var H;u>O?H=M:H=A;for(var $=I,G=(C-I)/H,tt=$+G,et=0,lt=d-1,ct=1;ct<=H;ct++){for(var rt=0,dt=.5*(tt+$),bt=.5*(tt-$),at=1;at<=g;at++){var ot,kt;v<at?(ot=g-at+1,kt=S[ot-1]):(ot=at,kt=-S[ot-1]);var Et=bt*kt,wt=dt+Et,Tt=wt*wt;if(Tt>P)break;var Zt=2*t.normal.cdf(wt,0,1,1,0),Xt=2*t.normal.cdf(wt,u,1,1,0),Lt=Zt*.5-Xt*.5;Lt>=e.exp(x/lt)&&(Lt=E[ot-1]*e.exp(-(.5*Tt))*e.pow(Lt,lt),rt+=Lt)}rt*=2*bt*d/e.sqrt(2*e.PI),et+=rt,$=tt,tt+=G}return N+=et,N<=e.exp(x/a)?0:(N=e.pow(N,a),N>=1?1:N)}function h(u,a,d){var g=.322232421088,v=.099348462606,x=-1,w=.588581570495,P=-.342242088547,C=.531103462366,O=-.204231210125,M=.10353775285,A=-453642210148e-16,S=.0038560700634,E=.8832,I=.2368,N=1.214,H=1.208,$=1.4142,G=120,tt=.5-.5*u,et=e.sqrt(e.log(1/(tt*tt))),lt=et+((((et*A+O)*et+P)*et+x)*et+g)/((((et*S+M)*et+C)*et+w)*et+v);d<G&&(lt+=(lt*lt*lt+lt)/d/4);var ct=E-I*lt;return d<G&&(ct+=-N/d+H*lt/d),lt*(ct*e.log(a-1)+$)}t.extend(t.tukey,{cdf:function(a,d,g){var v=1,x=d,w=16,P=8,C=-30,O=1e-14,M=100,A=800,S=5e3,E=25e3,I=1,N=.5,H=.25,$=.125,G=[.9894009349916499,.9445750230732326,.8656312023878318,.755404408355003,.6178762444026438,.45801677765722737,.2816035507792589,.09501250983763744],tt=[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685];if(a<=0)return 0;if(g<2||v<1||x<2)return NaN;if(!Number.isFinite(a))return 1;if(g>E)return c(a,v,x);var et=g*.5,lt=et*e.log(g)-g*e.log(2)-t.gammaln(et),ct=et-1,rt=g*.25,dt;g<=M?dt=I:g<=A?dt=N:g<=S?dt=H:dt=$,lt+=e.log(dt);for(var bt=0,at=1;at<=50;at++){for(var ot=0,kt=(2*at-1)*dt,Et=1;Et<=w;Et++){var wt,Tt;P<Et?(wt=Et-P-1,Tt=lt+ct*e.log(kt+G[wt]*dt)-(G[wt]*dt+kt)*rt):(wt=Et-1,Tt=lt+ct*e.log(kt-G[wt]*dt)+(G[wt]*dt-kt)*rt);var Zt;if(Tt>=C){P<Et?Zt=a*e.sqrt((G[wt]*dt+kt)*.5):Zt=a*e.sqrt((-(G[wt]*dt)+kt)*.5);var Xt=c(Zt,v,x),Lt=Xt*tt[wt]*e.exp(Tt);ot+=Lt}}if(at*dt>=1&&ot<=O)break;bt+=ot}if(ot>O)throw new Error("tukey.cdf failed to converge");return bt>1&&(bt=1),bt},inv:function(u,a,d){var g=1,v=a,x=1e-4,w=50;if(d<2||g<1||v<2)return NaN;if(u<0||u>1)return NaN;if(u===0)return 0;if(u===1)return 1/0;var P=h(u,v,d),C=t.tukey.cdf(P,a,d)-u,O;C>0?O=e.max(0,P-1):O=P+1;for(var M=t.tukey.cdf(O,a,d)-u,A,S=1;S<w;S++){A=O-M*(O-P)/(M-C),C=M,P=O,A<0&&(A=0,M=-u),M=t.tukey.cdf(A,a,d)-u,O=A;var E=e.abs(O-P);if(E<x)return A}throw new Error("tukey.inv failed to converge")}})}(n,Math),function(t,e){var s=Array.prototype.push,r=t.utils.isArray;function c(h){return r(h)||h instanceof t}t.extend({add:function(u,a){return c(a)?(c(a[0])||(a=[a]),t.map(u,function(d,g,v){return d+a[g][v]})):t.map(u,function(d){return d+a})},subtract:function(u,a){return c(a)?(c(a[0])||(a=[a]),t.map(u,function(d,g,v){return d-a[g][v]||0})):t.map(u,function(d){return d-a})},divide:function(u,a){return c(a)?(c(a[0])||(a=[a]),t.multiply(u,t.inv(a))):t.map(u,function(d){return d/a})},multiply:function(u,a){var d,g,v,x,w,P,C,O;if(u.length===void 0&&a.length===void 0)return u*a;if(w=u.length,P=u[0].length,C=t.zeros(w,v=c(a)?a[0].length:P),O=0,c(a)){for(;O<v;O++)for(d=0;d<w;d++){for(x=0,g=0;g<P;g++)x+=u[d][g]*a[g][O];C[d][O]=x}return w===1&&O===1?C[0][0]:C}return t.map(u,function(M){return M*a})},outer:function(u,a){return t.multiply(u.map(function(d){return[d]}),[a])},dot:function(u,a){c(u[0])||(u=[u]),c(a[0])||(a=[a]);for(var d=u[0].length===1&&u.length!==1?t.transpose(u):u,g=a[0].length===1&&a.length!==1?t.transpose(a):a,v=[],x=0,w=d.length,P=d[0].length,C,O;x<w;x++){for(v[x]=[],C=0,O=0;O<P;O++)C+=d[x][O]*g[x][O];v[x]=C}return v.length===1?v[0]:v},pow:function(u,a){return t.map(u,function(d){return e.pow(d,a)})},exp:function(u){return t.map(u,function(a){return e.exp(a)})},log:function(u){return t.map(u,function(a){return e.log(a)})},abs:function(u){return t.map(u,function(a){return e.abs(a)})},norm:function(u,a){var d=0,g=0;for(isNaN(a)&&(a=2),c(u[0])&&(u=u[0]);g<u.length;g++)d+=e.pow(e.abs(u[g]),a);return e.pow(d,1/a)},angle:function(u,a){return e.acos(t.dot(u,a)/(t.norm(u)*t.norm(a)))},aug:function(u,a){var d=[],g;for(g=0;g<u.length;g++)d.push(u[g].slice());for(g=0;g<d.length;g++)s.apply(d[g],a[g]);return d},inv:function(u){for(var a=u.length,d=u[0].length,g=t.identity(a,d),v=t.gauss_jordan(u,g),x=[],w=0,P;w<a;w++)for(x[w]=[],P=d;P<v[0].length;P++)x[w][P-d]=v[w][P];return x},det:function h(u){if(u.length===2)return u[0][0]*u[1][1]-u[0][1]*u[1][0];for(var a=0,d=0;d<u.length;d++){for(var g=[],v=1;v<u.length;v++){g[v-1]=[];for(var x=0;x<u.length;x++)x<d?g[v-1][x]=u[v][x]:x>d&&(g[v-1][x-1]=u[v][x])}var w=d%2?-1:1;a+=h(g)*u[0][d]*w}return a},gauss_elimination:function(u,a){var d=0,g=0,v=u.length,x=u[0].length,w=1,P=0,C=[],O,M,A,S;for(u=t.aug(u,a),O=u[0].length,d=0;d<v;d++){for(M=u[d][d],g=d,S=d+1;S<x;S++)M<e.abs(u[S][d])&&(M=u[S][d],g=S);if(g!=d)for(S=0;S<O;S++)A=u[d][S],u[d][S]=u[g][S],u[g][S]=A;for(g=d+1;g<v;g++)for(w=u[g][d]/u[d][d],S=d;S<O;S++)u[g][S]=u[g][S]-w*u[d][S]}for(d=v-1;d>=0;d--){for(P=0,g=d+1;g<=v-1;g++)P=P+C[g]*u[d][g];C[d]=(u[d][O-1]-P)/u[d][d]}return C},gauss_jordan:function(u,a){var d=t.aug(u,a),g=d.length,v=d[0].length,x=0,w,P,C;for(P=0;P<g;P++){var O=P;for(C=P+1;C<g;C++)e.abs(d[C][P])>e.abs(d[O][P])&&(O=C);var M=d[P];for(d[P]=d[O],d[O]=M,C=P+1;C<g;C++)for(x=d[C][P]/d[P][P],w=P;w<v;w++)d[C][w]-=d[P][w]*x}for(P=g-1;P>=0;P--){for(x=d[P][P],C=0;C<P;C++)for(w=v-1;w>P-1;w--)d[C][w]-=d[P][w]*d[C][P]/x;for(d[P][P]/=x,w=g;w<v;w++)d[P][w]/=x}return d},triaUpSolve:function(u,a){var d=u[0].length,g=t.zeros(1,d)[0],v,x=!1;return a[0].length!=null&&(a=a.map(function(w){return w[0]}),x=!0),t.arange(d-1,-1,-1).forEach(function(w){v=t.arange(w+1,d).map(function(P){return g[P]*u[w][P]}),g[w]=(a[w]-t.sum(v))/u[w][w]}),x?g.map(function(w){return[w]}):g},triaLowSolve:function(u,a){var d=u[0].length,g=t.zeros(1,d)[0],v,x=!1;return a[0].length!=null&&(a=a.map(function(w){return w[0]}),x=!0),t.arange(d).forEach(function(w){v=t.arange(w).map(function(P){return u[w][P]*g[P]}),g[w]=(a[w]-t.sum(v))/u[w][w]}),x?g.map(function(w){return[w]}):g},lu:function(u){var a=u.length,d=t.identity(a),g=t.zeros(u.length,u[0].length),v;return t.arange(a).forEach(function(x){g[0][x]=u[0][x]}),t.arange(1,a).forEach(function(x){t.arange(x).forEach(function(w){v=t.arange(w).map(function(P){return d[x][P]*g[P][w]}),d[x][w]=(u[x][w]-t.sum(v))/g[w][w]}),t.arange(x,a).forEach(function(w){v=t.arange(x).map(function(P){return d[x][P]*g[P][w]}),g[x][w]=u[v.length][w]-t.sum(v)})}),[d,g]},cholesky:function(u){var a=u.length,d=t.zeros(u.length,u[0].length),g;return t.arange(a).forEach(function(v){g=t.arange(v).map(function(x){return e.pow(d[v][x],2)}),d[v][v]=e.sqrt(u[v][v]-t.sum(g)),t.arange(v+1,a).forEach(function(x){g=t.arange(v).map(function(w){return d[v][w]*d[x][w]}),d[x][v]=(u[v][x]-t.sum(g))/d[v][v]})}),d},gauss_jacobi:function(u,a,d,g){for(var v=0,x=0,w=u.length,P=[],C=[],O=[],M,A,S,E;v<w;v++)for(P[v]=[],C[v]=[],O[v]=[],x=0;x<w;x++)v>x?(P[v][x]=u[v][x],C[v][x]=O[v][x]=0):v<x?(C[v][x]=u[v][x],P[v][x]=O[v][x]=0):(O[v][x]=u[v][x],P[v][x]=C[v][x]=0);for(S=t.multiply(t.multiply(t.inv(O),t.add(P,C)),-1),A=t.multiply(t.inv(O),a),M=d,E=t.add(t.multiply(S,d),A),v=2;e.abs(t.norm(t.subtract(E,M)))>g;)M=E,E=t.add(t.multiply(S,M),A),v++;return E},gauss_seidel:function(u,a,d,g){for(var v=0,x=u.length,w=[],P=[],C=[],O,M,A,S,E;v<x;v++)for(w[v]=[],P[v]=[],C[v]=[],O=0;O<x;O++)v>O?(w[v][O]=u[v][O],P[v][O]=C[v][O]=0):v<O?(P[v][O]=u[v][O],w[v][O]=C[v][O]=0):(C[v][O]=u[v][O],w[v][O]=P[v][O]=0);for(S=t.multiply(t.multiply(t.inv(t.add(C,w)),P),-1),A=t.multiply(t.inv(t.add(C,w)),a),M=d,E=t.add(t.multiply(S,d),A),v=2;e.abs(t.norm(t.subtract(E,M)))>g;)M=E,E=t.add(t.multiply(S,M),A),v=v+1;return E},SOR:function(u,a,d,g,v){for(var x=0,w=u.length,P=[],C=[],O=[],M,A,S,E,I;x<w;x++)for(P[x]=[],C[x]=[],O[x]=[],M=0;M<w;M++)x>M?(P[x][M]=u[x][M],C[x][M]=O[x][M]=0):x<M?(C[x][M]=u[x][M],P[x][M]=O[x][M]=0):(O[x][M]=u[x][M],P[x][M]=C[x][M]=0);for(E=t.multiply(t.inv(t.add(O,t.multiply(P,v))),t.subtract(t.multiply(O,1-v),t.multiply(C,v))),S=t.multiply(t.multiply(t.inv(t.add(O,t.multiply(P,v))),a),v),A=d,I=t.add(t.multiply(E,d),S),x=2;e.abs(t.norm(t.subtract(I,A)))>g;)A=I,I=t.add(t.multiply(E,A),S),x++;return I},householder:function(u){for(var a=u.length,d=u[0].length,g=0,v=[],x=[],w,P,C,O,M;g<a-1;g++){for(w=0,O=g+1;O<d;O++)w+=u[O][g]*u[O][g];for(M=u[g+1][g]>0?-1:1,w=M*e.sqrt(w),P=e.sqrt((w*w-u[g+1][g]*w)/2),v=t.zeros(a,1),v[g+1][0]=(u[g+1][g]-w)/(2*P),C=g+2;C<a;C++)v[C][0]=u[C][g]/(2*P);x=t.subtract(t.identity(a,d),t.multiply(t.multiply(v,t.transpose(v)),2)),u=t.multiply(x,t.multiply(u,x))}return u},QR:function(){var h=t.sum,u=t.arange;function a(d){var g=d.length,v=d[0].length,x=t.zeros(v,v);d=t.copy(d);var w,P,C;for(P=0;P<v;P++){for(x[P][P]=e.sqrt(h(u(g).map(function(O){return d[O][P]*d[O][P]}))),w=0;w<g;w++)d[w][P]=d[w][P]/x[P][P];for(C=P+1;C<v;C++)for(x[P][C]=h(u(g).map(function(O){return d[O][P]*d[O][C]})),w=0;w<g;w++)d[w][C]=d[w][C]-d[w][P]*x[P][C]}return[d,x]}return a}(),lstsq:function(){function h(a){a=t.copy(a);var d=a.length,g=t.identity(d);return t.arange(d-1,-1,-1).forEach(function(v){t.sliceAssign(g,{row:v},t.divide(t.slice(g,{row:v}),a[v][v])),t.sliceAssign(a,{row:v},t.divide(t.slice(a,{row:v}),a[v][v])),t.arange(v).forEach(function(x){var w=t.multiply(a[x][v],-1),P=t.slice(a,{row:x}),C=t.multiply(t.slice(a,{row:v}),w);t.sliceAssign(a,{row:x},t.add(P,C));var O=t.slice(g,{row:x}),M=t.multiply(t.slice(g,{row:v}),w);t.sliceAssign(g,{row:x},t.add(O,M))})}),g}function u(a,d){var g=!1;d[0].length===void 0&&(d=d.map(function(E){return[E]}),g=!0);var v=t.QR(a),x=v[0],w=v[1],P=a[0].length,C=t.slice(x,{col:{end:P}}),O=t.slice(w,{row:{end:P}}),M=h(O),A=t.transpose(C);A[0].length===void 0&&(A=[A]);var S=t.multiply(t.multiply(M,A),d);return S.length===void 0&&(S=[[S]]),g?S.map(function(E){return E[0]}):S}return u}(),jacobi:function(u){for(var a=1,d=u.length,g=t.identity(d,d),v=[],x,w,P,C,O,M,A,S;a===1;){for(M=u[0][1],C=0,O=1,w=0;w<d;w++)for(P=0;P<d;P++)w!=P&&M<e.abs(u[w][P])&&(M=e.abs(u[w][P]),C=w,O=P);for(u[C][C]===u[O][O]?A=u[C][O]>0?e.PI/4:-e.PI/4:A=e.atan(2*u[C][O]/(u[C][C]-u[O][O]))/2,S=t.identity(d,d),S[C][C]=e.cos(A),S[C][O]=-e.sin(A),S[O][C]=e.sin(A),S[O][O]=e.cos(A),g=t.multiply(g,S),x=t.multiply(t.multiply(t.inv(S),u),S),u=x,a=0,w=1;w<d;w++)for(P=1;P<d;P++)w!=P&&e.abs(u[w][P])>.001&&(a=1)}for(w=0;w<d;w++)v.push(u[w][w]);return[g,v]},rungekutta:function(u,a,d,g,v,x){var w,P,C,O,M;if(x===2)for(;g<=d;)w=a*u(g,v),P=a*u(g+a,v+w),C=v+(w+P)/2,v=C,g=g+a;if(x===4)for(;g<=d;)w=a*u(g,v),P=a*u(g+a/2,v+w/2),O=a*u(g+a/2,v+P/2),M=a*u(g+a,v+O),C=v+(w+2*P+2*O+M)/6,v=C,g=g+a;return v},romberg:function(u,a,d,g){for(var v=0,x=(d-a)/2,w=[],P=[],C=[],O,M,A,S,E;v<g/2;){for(E=u(a),A=a,S=0;A<=d;A=A+x,S++)w[S]=A;for(O=w.length,A=1;A<O-1;A++)E+=(A%2!==0?4:2)*u(w[A]);E=x/3*(E+u(d)),C[v]=E,x/=2,v++}for(M=C.length,O=1;M!==1;){for(A=0;A<M-1;A++)P[A]=(e.pow(4,O)*C[A+1]-C[A])/(e.pow(4,O)-1);M=P.length,C=P,P=[],O++}return C},richardson:function(u,a,d,g){function v(I,N){for(var H=0,$=I.length,G;H<$;H++)I[H]===N&&(G=H);return G}for(var x=e.abs(d-u[v(u,d)+1]),w=0,P=[],C=[],O,M,A,S,E;g>=x;)O=v(u,d+g),M=v(u,d),P[w]=(a[O]-2*a[M]+a[2*M-O])/(g*g),g/=2,w++;for(S=P.length,A=1;S!=1;){for(E=0;E<S-1;E++)C[E]=(e.pow(4,A)*P[E+1]-P[E])/(e.pow(4,A)-1);S=C.length,P=C,C=[],A++}return P},simpson:function(u,a,d,g){for(var v=(d-a)/g,x=u(a),w=[],P=a,C=0,O=1,M;P<=d;P=P+v,C++)w[C]=P;for(M=w.length;O<M-1;O++)x+=(O%2!==0?4:2)*u(w[O]);return v/3*(x+u(d))},hermite:function(u,a,d,g){for(var v=u.length,x=0,w=0,P=[],C=[],O=[],M=[],A;w<v;w++){for(P[w]=1,A=0;A<v;A++)w!=A&&(P[w]*=(g-u[A])/(u[w]-u[A]));for(C[w]=0,A=0;A<v;A++)w!=A&&(C[w]+=1/(u[w]-u[A]));O[w]=(1-2*(g-u[w])*C[w])*(P[w]*P[w]),M[w]=(g-u[w])*(P[w]*P[w]),x+=O[w]*a[w]+M[w]*d[w]}return x},lagrange:function(u,a,d){for(var g=0,v=0,x,w,P=u.length;v<P;v++){for(w=a[v],x=0;x<P;x++)v!=x&&(w*=(d-u[x])/(u[v]-u[x]));g+=w}return g},cubic_spline:function(u,a,d){for(var g=u.length,v=0,x,w=[],P=[],C=[],O=[],M=[],A=[],S=[];v<g-1;v++)M[v]=u[v+1]-u[v];for(C[0]=0,v=1;v<g-1;v++)C[v]=3/M[v]*(a[v+1]-a[v])-3/M[v-1]*(a[v]-a[v-1]);for(v=1;v<g-1;v++)w[v]=[],P[v]=[],w[v][v-1]=M[v-1],w[v][v]=2*(M[v-1]+M[v]),w[v][v+1]=M[v],P[v][0]=C[v];for(O=t.multiply(t.inv(w),P),x=0;x<g-1;x++)A[x]=(a[x+1]-a[x])/M[x]-M[x]*(O[x+1][0]+2*O[x][0])/3,S[x]=(O[x+1][0]-O[x][0])/(3*M[x]);for(x=0;x<g&&!(u[x]>d);x++);return x-=1,a[x]+(d-u[x])*A[x]+t.sq(d-u[x])*O[x]+(d-u[x])*t.sq(d-u[x])*S[x]},gauss_quadrature:function(){throw new Error("gauss_quadrature not yet implemented")},PCA:function(u){var a=u.length,d=u[0].length,g=0,v,x,w=[],P=[],C=[],O=[],M=[],A=[],S=[],E=[],I=[],N=[];for(g=0;g<a;g++)w[g]=t.sum(u[g])/d;for(g=0;g<d;g++)for(S[g]=[],v=0;v<a;v++)S[g][v]=u[v][g]-w[v];for(S=t.transpose(S),g=0;g<a;g++)for(E[g]=[],v=0;v<a;v++)E[g][v]=t.dot([S[g]],[S[v]])/(d-1);for(C=t.jacobi(E),I=C[0],P=C[1],N=t.transpose(I),g=0;g<P.length;g++)for(v=g;v<P.length;v++)P[g]<P[v]&&(x=P[g],P[g]=P[v],P[v]=x,O=N[g],N[g]=N[v],N[v]=O);for(A=t.transpose(S),g=0;g<a;g++)for(M[g]=[],v=0;v<A.length;v++)M[g][v]=t.dot([N[g]],[A[v]]);return[u,P,N,M]}}),function(h){for(var u=0;u<h.length;u++)(function(a){t.fn[a]=function(d,g){var v=this;return g?(setTimeout(function(){g.call(v,t.fn[a].call(v,d))},15),this):typeof t[a](this,d)=="number"?t[a](this,d):t(t[a](this,d))}})(h[u])}("add divide multiply subtract dot pow exp log abs norm angle".split(" "))}(n,Math),function(t,e){var s=[].slice,r=t.utils.isNumber,c=t.utils.isArray;t.extend({zscore:function(){var a=s.call(arguments);return r(a[1])?(a[0]-a[1])/a[2]:(a[0]-t.mean(a[1]))/t.stdev(a[1],a[2])},ztest:function(){var a=s.call(arguments),d;return c(a[1])?(d=t.zscore(a[0],a[1],a[3]),a[2]===1?t.normal.cdf(-e.abs(d),0,1):t.normal.cdf(-e.abs(d),0,1)*2):a.length>2?(d=t.zscore(a[0],a[1],a[2]),a[3]===1?t.normal.cdf(-e.abs(d),0,1):t.normal.cdf(-e.abs(d),0,1)*2):(d=a[0],a[1]===1?t.normal.cdf(-e.abs(d),0,1):t.normal.cdf(-e.abs(d),0,1)*2)}}),t.extend(t.fn,{zscore:function(a,d){return(a-this.mean())/this.stdev(d)},ztest:function(a,d,g){var v=e.abs(this.zscore(a,g));return d===1?t.normal.cdf(-v,0,1):t.normal.cdf(-v,0,1)*2}}),t.extend({tscore:function(){var a=s.call(arguments);return a.length===4?(a[0]-a[1])/(a[2]/e.sqrt(a[3])):(a[0]-t.mean(a[1]))/(t.stdev(a[1],!0)/e.sqrt(a[1].length))},ttest:function(){var a=s.call(arguments),d;return a.length===5?(d=e.abs(t.tscore(a[0],a[1],a[2],a[3])),a[4]===1?t.studentt.cdf(-d,a[3]-1):t.studentt.cdf(-d,a[3]-1)*2):r(a[1])?(d=e.abs(a[0]),a[2]==1?t.studentt.cdf(-d,a[1]-1):t.studentt.cdf(-d,a[1]-1)*2):(d=e.abs(t.tscore(a[0],a[1])),a[2]==1?t.studentt.cdf(-d,a[1].length-1):t.studentt.cdf(-d,a[1].length-1)*2)}}),t.extend(t.fn,{tscore:function(a){return(a-this.mean())/(this.stdev(!0)/e.sqrt(this.cols()))},ttest:function(a,d){return d===1?1-t.studentt.cdf(e.abs(this.tscore(a)),this.cols()-1):t.studentt.cdf(-e.abs(this.tscore(a)),this.cols()-1)*2}}),t.extend({anovafscore:function(){var a=s.call(arguments),d,g,v,x,w,P,C,O;if(a.length===1){for(w=new Array(a[0].length),C=0;C<a[0].length;C++)w[C]=a[0][C];a=w}for(g=new Array,C=0;C<a.length;C++)g=g.concat(a[C]);for(v=t.mean(g),d=0,C=0;C<a.length;C++)d=d+a[C].length*e.pow(t.mean(a[C])-v,2);for(d/=a.length-1,P=0,C=0;C<a.length;C++)for(x=t.mean(a[C]),O=0;O<a[C].length;O++)P+=e.pow(a[C][O]-x,2);return P/=g.length-a.length,d/P},anovaftest:function(){var a=s.call(arguments),d,g,v,x;if(r(a[0]))return 1-t.centralF.cdf(a[0],a[1],a[2]);var w=t.anovafscore(a);for(d=a.length-1,v=0,x=0;x<a.length;x++)v=v+a[x].length;return g=v-d-1,1-t.centralF.cdf(w,d,g)},ftest:function(a,d,g){return 1-t.centralF.cdf(a,d,g)}}),t.extend(t.fn,{anovafscore:function(){return t.anovafscore(this.toArray())},anovaftes:function(){var a=0,d;for(d=0;d<this.length;d++)a=a+this[d].length;return t.ftest(this.anovafscore(),this.length-1,a-this.length)}}),t.extend({qscore:function(){var a=s.call(arguments),d,g,v,x,w;return r(a[0])?(d=a[0],g=a[1],v=a[2],x=a[3],w=a[4]):(d=t.mean(a[0]),g=t.mean(a[1]),v=a[0].length,x=a[1].length,w=a[2]),e.abs(d-g)/(w*e.sqrt((1/v+1/x)/2))},qtest:function(){var a=s.call(arguments),d;a.length===3?(d=a[0],a=a.slice(1)):a.length===7?(d=t.qscore(a[0],a[1],a[2],a[3],a[4]),a=a.slice(5)):(d=t.qscore(a[0],a[1],a[2]),a=a.slice(3));var g=a[0],v=a[1];return 1-t.tukey.cdf(d,v,g-v)},tukeyhsd:function(a){for(var d=t.pooledstdev(a),g=a.map(function(O){return t.mean(O)}),v=a.reduce(function(O,M){return O+M.length},0),x=[],w=0;w<a.length;++w)for(var P=w+1;P<a.length;++P){var C=t.qtest(g[w],g[P],a[w].length,a[P].length,d,v,a.length);x.push([[w,P],C])}return x}}),t.extend({normalci:function(){var a=s.call(arguments),d=new Array(2),g;return a.length===4?g=e.abs(t.normal.inv(a[1]/2,0,1)*a[2]/e.sqrt(a[3])):g=e.abs(t.normal.inv(a[1]/2,0,1)*t.stdev(a[2])/e.sqrt(a[2].length)),d[0]=a[0]-g,d[1]=a[0]+g,d},tci:function(){var a=s.call(arguments),d=new Array(2),g;return a.length===4?g=e.abs(t.studentt.inv(a[1]/2,a[3]-1)*a[2]/e.sqrt(a[3])):g=e.abs(t.studentt.inv(a[1]/2,a[2].length-1)*t.stdev(a[2],!0)/e.sqrt(a[2].length)),d[0]=a[0]-g,d[1]=a[0]+g,d},significant:function(a,d){return a<d}}),t.extend(t.fn,{normalci:function(a,d){return t.normalci(a,d,this.toArray())},tci:function(a,d){return t.tci(a,d,this.toArray())}});function h(u,a,d,g){if(u>1||d>1||u<=0||d<=0)throw new Error("Proportions should be greater than 0 and less than 1");var v=(u*a+d*g)/(a+g),x=e.sqrt(v*(1-v)*(1/a+1/g));return(u-d)/x}t.extend(t.fn,{oneSidedDifferenceOfProportions:function(a,d,g,v){var x=h(a,d,g,v);return t.ztest(x,1)},twoSidedDifferenceOfProportions:function(a,d,g,v){var x=h(a,d,g,v);return t.ztest(x,2)}})}(n,Math),n.models=function(){function t(h){var u=h[0].length,a=n.arange(u).map(function(d){var g=n.arange(u).filter(function(v){return v!==d});return e(n.col(h,d).map(function(v){return v[0]}),n.col(h,g))});return a}function e(h,u){var a=h.length,d=u[0].length-1,g=a-d-1,v=n.lstsq(u,h),x=n.multiply(u,v.map(function(S){return[S]})).map(function(S){return S[0]}),w=n.subtract(h,x),P=n.mean(h),C=n.sum(x.map(function(S){return Math.pow(S-P,2)})),O=n.sum(h.map(function(S,E){return Math.pow(S-x[E],2)})),M=C+O,A=C/M;return{exog:u,endog:h,nobs:a,df_model:d,df_resid:g,coef:v,predict:x,resid:w,ybar:P,SST:M,SSE:C,SSR:O,R2:A}}function s(h){var u=t(h.exog),a=Math.sqrt(h.SSR/h.df_resid),d=u.map(function(P){var C=P.SST,O=P.R2;return a/Math.sqrt(C*(1-O))}),g=h.coef.map(function(P,C){return(P-0)/d[C]}),v=g.map(function(P){var C=n.studentt.cdf(P,h.df_resid);return(C>.5?1-C:C)*2}),x=n.studentt.inv(.975,h.df_resid),w=h.coef.map(function(P,C){var O=x*d[C];return[P-O,P+O]});return{se:d,t:g,p:v,sigmaHat:a,interval95:w}}function r(h){var u=h.R2/h.df_model/((1-h.R2)/h.df_resid),a=function(g,v,x){return n.beta.cdf(g/(x/v+g),v/2,x/2)},d=1-a(u,h.df_model,h.df_resid);return{F_statistic:u,pvalue:d}}function c(h,u){var a=e(h,u),d=s(a),g=r(a),v=1-(1-a.R2)*((a.nobs-1)/a.df_resid);return a.t=d,a.f=g,a.adjust_R2=v,a}return{ols:c}}(),n.extend({buildxmatrix:function(){for(var e=new Array(arguments.length),s=0;s<arguments.length;s++){var r=[1];e[s]=r.concat(arguments[s])}return n(e)},builddxmatrix:function(){for(var e=new Array(arguments[0].length),s=0;s<arguments[0].length;s++){var r=[1];e[s]=r.concat(arguments[0][s])}return n(e)},buildjxmatrix:function(e){for(var s=new Array(e.length),r=0;r<e.length;r++)s[r]=e[r];return n.builddxmatrix(s)},buildymatrix:function(e){return n(e).transpose()},buildjymatrix:function(e){return e.transpose()},matrixmult:function(e,s){var r,c,h,u,a;if(e.cols()==s.rows()){if(s.rows()>1){for(u=[],r=0;r<e.rows();r++)for(u[r]=[],c=0;c<s.cols();c++){for(a=0,h=0;h<e.cols();h++)a+=e.toArray()[r][h]*s.toArray()[h][c];u[r][c]=a}return n(u)}for(u=[],r=0;r<e.rows();r++)for(u[r]=[],c=0;c<s.cols();c++){for(a=0,h=0;h<e.cols();h++)a+=e.toArray()[r][h]*s.toArray()[c];u[r][c]=a}return n(u)}},regress:function(e,s){var r=n.xtranspxinv(e),c=e.transpose(),h=n.matrixmult(n(r),c);return n.matrixmult(h,s)},regresst:function(e,s,r){var c=n.regress(e,s),h={};h.anova={};var u=n.jMatYBar(e,c);h.yBar=u;var a=s.mean();h.anova.residuals=n.residuals(s,u),h.anova.ssr=n.ssr(u,a),h.anova.msr=h.anova.ssr/(e[0].length-1),h.anova.sse=n.sse(s,u),h.anova.mse=h.anova.sse/(s.length-(e[0].length-1)-1),h.anova.sst=n.sst(s,a),h.anova.mst=h.anova.sst/(s.length-1),h.anova.r2=1-h.anova.sse/h.anova.sst,h.anova.r2<0&&(h.anova.r2=0),h.anova.fratio=h.anova.msr/h.anova.mse,h.anova.pvalue=n.anovaftest(h.anova.fratio,e[0].length-1,s.length-(e[0].length-1)-1),h.anova.rmse=Math.sqrt(h.anova.mse),h.anova.r2adj=1-h.anova.mse/h.anova.mst,h.anova.r2adj<0&&(h.anova.r2adj=0),h.stats=new Array(e[0].length);for(var d=n.xtranspxinv(e),g,v,x,w=0;w<c.length;w++)g=Math.sqrt(h.anova.mse*Math.abs(d[w][w])),v=Math.abs(c[w]/g),x=n.ttest(v,s.length-e[0].length-1,r),h.stats[w]=[c[w],g,v,x];return h.regress=c,h},xtranspx:function(e){return n.matrixmult(e.transpose(),e)},xtranspxinv:function(e){var s=n.matrixmult(e.transpose(),e),r=n.inv(s);return r},jMatYBar:function(e,s){var r=n.matrixmult(e,s);return new n(r)},residuals:function(e,s){return n.matrixsubtract(e,s)},ssr:function(e,s){for(var r=0,c=0;c<e.length;c++)r+=Math.pow(e[c]-s,2);return r},sse:function(e,s){for(var r=0,c=0;c<e.length;c++)r+=Math.pow(e[c]-s[c],2);return r},sst:function(e,s){for(var r=0,c=0;c<e.length;c++)r+=Math.pow(e[c]-s,2);return r},matrixsubtract:function(e,s){for(var r=new Array(e.length),c=0;c<e.length;c++){r[c]=new Array(e[c].length);for(var h=0;h<e[c].length;h++)r[c][h]=e[c][h]-s[c][h]}return n(r)}}),n.jStat=n,n})});var wd=ha((VP,Oc)=>{(function(n,t){typeof Oc<"u"?Oc.exports=t():typeof define=="function"&&typeof define.amd=="object"?define(t):this[n]=t()})("Clusterize",function(){"use strict";var n=function(){for(var u=3,a=document.createElement("b"),d=a.all||[];a.innerHTML="<!--[if gt IE "+ ++u+"]><i><![endif]-->",d[0];);return u>4?u:document.documentMode}(),t=navigator.platform.toLowerCase().indexOf("mac")+1,e=function(u){if(!(this instanceof e))return new e(u);var a=this,d={rows_in_block:50,blocks_in_cluster:4,tag:null,show_no_data_row:!0,no_data_class:"clusterize-no-data",no_data_text:"No data",keep_parity:!0,callbacks:{}};a.options={};for(var g=["rows_in_block","blocks_in_cluster","show_no_data_row","no_data_class","no_data_text","keep_parity","tag","callbacks"],v=0,x;x=g[v];v++)a.options[x]=typeof u[x]<"u"&&u[x]!=null?u[x]:d[x];for(var w=["scroll","content"],v=0,P;P=w[v];v++)if(a[P+"_elem"]=u[P+"Id"]?document.getElementById(u[P+"Id"]):u[P+"Elem"],!a[P+"_elem"])throw new Error("Error! Could not find "+P+" element");a.content_elem.hasAttribute("tabindex")||a.content_elem.setAttribute("tabindex",0);var C=c(u.rows)?u.rows:a.fetchMarkup(),O={},M=a.scroll_elem.scrollTop;a.insertToDOM(C,O),a.scroll_elem.scrollTop=M;var A=!1,S=0,E=!1,I=function(){t&&(E||(a.content_elem.style.pointerEvents="none"),E=!0,clearTimeout(S),S=setTimeout(function(){a.content_elem.style.pointerEvents="auto",E=!1},50)),A!=(A=a.getClusterNum(C))&&a.insertToDOM(C,O),a.options.callbacks.scrollingProgress&&a.options.callbacks.scrollingProgress(a.getScrollProgress())},N=0,H=function(){clearTimeout(N),N=setTimeout(a.refresh,100)};s("scroll",a.scroll_elem,I),s("resize",window,H),a.destroy=function(G){r("scroll",a.scroll_elem,I),r("resize",window,H),a.html((G?a.generateEmptyRow():C).join(""))},a.refresh=function(G){(a.getRowsHeight(C)||G)&&a.update(C)},a.update=function(G){C=c(G)?G:[];var tt=a.scroll_elem.scrollTop;C.length*a.options.item_height<tt&&(a.scroll_elem.scrollTop=0,A=0),a.insertToDOM(C,O),a.scroll_elem.scrollTop=tt},a.clear=function(){a.update([])},a.getRowsAmount=function(){return C.length},a.getScrollProgress=function(){return this.options.scroll_top/(C.length*this.options.item_height)*100||0};var $=function(G,tt){var et=c(tt)?tt:[];et.length&&(C=G=="append"?C.concat(et):et.concat(C),a.insertToDOM(C,O))};a.append=function(G){$("append",G)},a.prepend=function(G){$("prepend",G)}};e.prototype={constructor:e,fetchMarkup:function(){for(var u=[],a=this.getChildNodes(this.content_elem);a.length;)u.push(a.shift().outerHTML);return u},exploreEnvironment:function(u,a){var d=this.options;d.content_tag=this.content_elem.tagName.toLowerCase(),u.length&&(n&&n<=9&&!d.tag&&(d.tag=u[0].match(/<([^>\s/]*)/)[1].toLowerCase()),this.content_elem.children.length<=1&&(a.data=this.html(u[0]+u[0]+u[0])),d.tag||(d.tag=this.content_elem.children[0].tagName.toLowerCase()),this.getRowsHeight(u))},getRowsHeight:function(u){var a=this.options,d=a.item_height;if(a.cluster_height=0,!!u.length){var g=this.content_elem.children;if(g.length){var v=g[Math.floor(g.length/2)];if(a.item_height=v.offsetHeight,a.tag=="tr"&&h("borderCollapse",this.content_elem)!="collapse"&&(a.item_height+=parseInt(h("borderSpacing",this.content_elem),10)||0),a.tag!="tr"){var x=parseInt(h("marginTop",v),10)||0,w=parseInt(h("marginBottom",v),10)||0;a.item_height+=Math.max(x,w)}return a.block_height=a.item_height*a.rows_in_block,a.rows_in_cluster=a.blocks_in_cluster*a.rows_in_block,a.cluster_height=a.blocks_in_cluster*a.block_height,d!=a.item_height}}},getClusterNum:function(u){var a=this.options;a.scroll_top=this.scroll_elem.scrollTop;var d=a.cluster_height-a.block_height,g=Math.floor(a.scroll_top/d),v=Math.floor(u.length*a.item_height/d);return Math.min(g,v)},generateEmptyRow:function(){var u=this.options;if(!u.tag||!u.show_no_data_row)return[];var a=document.createElement(u.tag),d=document.createTextNode(u.no_data_text),g;return a.className=u.no_data_class,u.tag=="tr"&&(g=document.createElement("td"),g.colSpan=100,g.appendChild(d)),a.appendChild(g||d),[a.outerHTML]},generate:function(u){var a=this.options,d=u.length;if(d<a.rows_in_block)return{top_offset:0,bottom_offset:0,rows_above:0,rows:d?u:this.generateEmptyRow()};var g=Math.max((a.rows_in_cluster-a.rows_in_block)*this.getClusterNum(u),0),v=g+a.rows_in_cluster,x=Math.max(g*a.item_height,0),w=Math.max((d-v)*a.item_height,0),P=[],C=g;x<1&&C++;for(var O=g;O<v;O++)u[O]&&P.push(u[O]);return{top_offset:x,bottom_offset:w,rows_above:C,rows:P}},renderExtraTag:function(u,a){var d=document.createElement(this.options.tag),g="clusterize-";return d.className=[g+"extra-row",g+u].join(" "),a&&(d.style.height=a+"px"),d.outerHTML},insertToDOM:function(u,a){this.options.cluster_height||this.exploreEnvironment(u,a);var d=this.generate(u),g=d.rows.join(""),v=this.checkChanges("data",g,a),x=this.checkChanges("top",d.top_offset,a),w=this.checkChanges("bottom",d.bottom_offset,a),P=this.options.callbacks,C=[];v||x?(d.top_offset&&(this.options.keep_parity&&C.push(this.renderExtraTag("keep-parity")),C.push(this.renderExtraTag("top-space",d.top_offset))),C.push(g),d.bottom_offset&&C.push(this.renderExtraTag("bottom-space",d.bottom_offset)),P.clusterWillChange&&P.clusterWillChange(),this.html(C.join("")),this.options.content_tag=="ol"&&this.content_elem.setAttribute("start",d.rows_above),this.content_elem.style["counter-increment"]="clusterize-counter "+(d.rows_above-1),P.clusterChanged&&P.clusterChanged()):w&&(this.content_elem.lastChild.style.height=d.bottom_offset+"px")},html:function(u){var a=this.content_elem;if(n&&n<=9&&this.options.tag=="tr"){var d=document.createElement("div"),g;for(d.innerHTML="<table><tbody>"+u+"</tbody></table>";g=a.lastChild;)a.removeChild(g);for(var v=this.getChildNodes(d.firstChild.firstChild);v.length;)a.appendChild(v.shift())}else a.innerHTML=u},getChildNodes:function(u){for(var a=u.children,d=[],g=0,v=a.length;g<v;g++)d.push(a[g]);return d},checkChanges:function(u,a,d){var g=a!=d[u];return d[u]=a,g}};function s(u,a,d){return a.addEventListener?a.addEventListener(u,d,!1):a.attachEvent("on"+u,d)}function r(u,a,d){return a.removeEventListener?a.removeEventListener(u,d,!1):a.detachEvent("on"+u,d)}function c(u){return Object.prototype.toString.call(u)==="[object Array]"}function h(u,a){return window.getComputedStyle?window.getComputedStyle(a)[u]:a.currentStyle[u]}return e})});var xg=ha((Ou,Tu)=>{(function(n,t){typeof Ou=="object"&&typeof Tu<"u"?Tu.exports=t():typeof define=="function"&&define.amd?define(t):(n=typeof globalThis<"u"?globalThis:n||self,n.Chart=t())})(Ou,function(){"use strict";function n(){}let t=function(){let l=0;return function(){return l++}}();function e(l){return l===null||typeof l>"u"}function s(l){if(Array.isArray&&Array.isArray(l))return!0;let i=Object.prototype.toString.call(l);return i.slice(0,7)==="[object"&&i.slice(-6)==="Array]"}function r(l){return l!==null&&Object.prototype.toString.call(l)==="[object Object]"}let c=l=>(typeof l=="number"||l instanceof Number)&&isFinite(+l);function h(l,i){return c(l)?l:i}function u(l,i){return typeof l>"u"?i:l}let a=(l,i)=>typeof l=="string"&&l.endsWith("%")?parseFloat(l)/100:l/i,d=(l,i)=>typeof l=="string"&&l.endsWith("%")?parseFloat(l)/100*i:+l;function g(l,i,o){if(l&&typeof l.call=="function")return l.apply(o,i)}function v(l,i,o,f){let p,m,b;if(s(l))if(m=l.length,f)for(p=m-1;p>=0;p--)i.call(o,l[p],p);else for(p=0;p<m;p++)i.call(o,l[p],p);else if(r(l))for(b=Object.keys(l),m=b.length,p=0;p<m;p++)i.call(o,l[b[p]],b[p])}function x(l,i){let o,f,p,m;if(!l||!i||l.length!==i.length)return!1;for(o=0,f=l.length;o<f;++o)if(p=l[o],m=i[o],p.datasetIndex!==m.datasetIndex||p.index!==m.index)return!1;return!0}function w(l){if(s(l))return l.map(w);if(r(l)){let i=Object.create(null),o=Object.keys(l),f=o.length,p=0;for(;p<f;++p)i[o[p]]=w(l[o[p]]);return i}return l}function P(l){return["__proto__","prototype","constructor"].indexOf(l)===-1}function C(l,i,o,f){if(!P(l))return;let p=i[l],m=o[l];r(p)&&r(m)?O(p,m,f):i[l]=w(m)}function O(l,i,o){let f=s(i)?i:[i],p=f.length;if(!r(l))return l;o=o||{};let m=o.merger||C;for(let b=0;b<p;++b){if(i=f[b],!r(i))continue;let y=Object.keys(i);for(let _=0,k=y.length;_<k;++_)m(y[_],l,i,o)}return l}function M(l,i){return O(l,i,{merger:A})}function A(l,i,o){if(!P(l))return;let f=i[l],p=o[l];r(f)&&r(p)?M(f,p):Object.prototype.hasOwnProperty.call(i,l)||(i[l]=w(p))}function S(l,i,o,f){i!==void 0&&console.warn(l+': "'+o+'" is deprecated. Please use "'+f+'" instead')}let E={"":l=>l,x:l=>l.x,y:l=>l.y};function I(l,i){return(E[i]||(E[i]=N(i)))(l)}function N(l){let i=H(l);return o=>{for(let f of i){if(f==="")break;o=o&&o[f]}return o}}function H(l){let i=l.split("."),o=[],f="";for(let p of i)f+=p,f.endsWith("\\")?f=f.slice(0,-1)+".":(o.push(f),f="");return o}function $(l){return l.charAt(0).toUpperCase()+l.slice(1)}let G=l=>typeof l<"u",tt=l=>typeof l=="function",et=(l,i)=>{if(l.size!==i.size)return!1;for(let o of l)if(!i.has(o))return!1;return!0};function lt(l){return l.type==="mouseup"||l.type==="click"||l.type==="contextmenu"}let ct=Math.PI,rt=2*ct,dt=rt+ct,bt=Number.POSITIVE_INFINITY,at=ct/180,ot=ct/2,kt=ct/4,Et=ct*2/3,wt=Math.log10,Tt=Math.sign;function Zt(l){let i=Math.round(l);l=Ht(l,i,l/1e3)?i:l;let o=Math.pow(10,Math.floor(wt(l))),f=l/o;return(f<=1?1:f<=2?2:f<=5?5:10)*o}function Xt(l){let i=[],o=Math.sqrt(l),f;for(f=1;f<o;f++)l%f===0&&(i.push(f),i.push(l/f));return o===(o|0)&&i.push(o),i.sort((p,m)=>p-m).pop(),i}function Lt(l){return!isNaN(parseFloat(l))&&isFinite(l)}function Ht(l,i,o){return Math.abs(l-i)<o}function Te(l,i){let o=Math.round(l);return o-i<=l&&o+i>=l}function jt(l,i,o){let f,p,m;for(f=0,p=l.length;f<p;f++)m=l[f][o],isNaN(m)||(i.min=Math.min(i.min,m),i.max=Math.max(i.max,m))}function Mt(l){return l*(ct/180)}function ce(l){return l*(180/ct)}function Ge(l){if(!c(l))return;let i=1,o=0;for(;Math.round(l*i)/i!==l;)i*=10,o++;return o}function Fe(l,i){let o=i.x-l.x,f=i.y-l.y,p=Math.sqrt(o*o+f*f),m=Math.atan2(f,o);return m<-.5*ct&&(m+=rt),{angle:m,distance:p}}function We(l,i){return Math.sqrt(Math.pow(i.x-l.x,2)+Math.pow(i.y-l.y,2))}function Yn(l,i){return(l-i+dt)%rt-ct}function me(l){return(l%rt+rt)%rt}function en(l,i,o,f){let p=me(l),m=me(i),b=me(o),y=me(m-p),_=me(b-p),k=me(p-m),T=me(p-b);return p===m||p===b||f&&m===b||y>_&&k<T}function te(l,i,o){return Math.max(i,Math.min(o,l))}function Un(l){return te(l,-32768,32767)}function Be(l,i,o,f=1e-6){return l>=Math.min(i,o)-f&&l<=Math.max(i,o)+f}function $e(l,i,o){o=o||(b=>l[b]<i);let f=l.length-1,p=0,m;for(;f-p>1;)m=p+f>>1,o(m)?p=m:f=m;return{lo:p,hi:f}}let be=(l,i,o,f)=>$e(l,o,f?p=>l[p][i]<=o:p=>l[p][i]<o),Dn=(l,i,o)=>$e(l,o,f=>l[f][i]>=o);function ln(l,i,o){let f=0,p=l.length;for(;f<p&&l[f]<i;)f++;for(;p>f&&l[p-1]>o;)p--;return f>0||p<l.length?l.slice(f,p):l}let Sn=["push","pop","shift","splice","unshift"];function qn(l,i){if(l._chartjs){l._chartjs.listeners.push(i);return}Object.defineProperty(l,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),Sn.forEach(o=>{let f="_onData"+$(o),p=l[o];Object.defineProperty(l,o,{configurable:!0,enumerable:!1,value(...m){let b=p.apply(this,m);return l._chartjs.listeners.forEach(y=>{typeof y[f]=="function"&&y[f](...m)}),b}})})}function Ln(l,i){let o=l._chartjs;if(!o)return;let f=o.listeners,p=f.indexOf(i);p!==-1&&f.splice(p,1),!(f.length>0)&&(Sn.forEach(m=>{delete l[m]}),delete l._chartjs)}function Rn(l){let i=new Set,o,f;for(o=0,f=l.length;o<f;++o)i.add(l[o]);return i.size===f?l:Array.from(i)}function hi(l,i,o){return i+" "+l+"px "+o}let Ui=function(){return typeof window>"u"?function(l){return l()}:window.requestAnimationFrame}();function qi(l,i,o){let f=o||(b=>Array.prototype.slice.call(b)),p=!1,m=[];return function(...b){m=f(b),p||(p=!0,Ui.call(window,()=>{p=!1,l.apply(i,m)}))}}function Xi(l,i){let o;return function(...f){return i?(clearTimeout(o),o=setTimeout(l,i,f)):l.apply(this,f),i}}let di=l=>l==="start"?"left":l==="end"?"right":"center",ve=(l,i,o)=>l==="start"?i:l==="end"?o:(i+o)/2,K=(l,i,o,f)=>l===(f?"left":"right")?o:l==="center"?(i+o)/2:i;function ut(l,i,o){let f=i.length,p=0,m=f;if(l._sorted){let{iScale:b,_parsed:y}=l,_=b.axis,{min:k,max:T,minDefined:D,maxDefined:R}=b.getUserBounds();D&&(p=te(Math.min(be(y,b.axis,k).lo,o?f:be(i,_,b.getPixelForValue(k)).lo),0,f-1)),R?m=te(Math.max(be(y,b.axis,T,!0).hi+1,o?0:be(i,_,b.getPixelForValue(T),!0).hi+1),p,f)-p:m=f-p}return{start:p,count:m}}function _t(l){let{xScale:i,yScale:o,_scaleRanges:f}=l,p={xmin:i.min,xmax:i.max,ymin:o.min,ymax:o.max};if(!f)return l._scaleRanges=p,!0;let m=f.xmin!==i.min||f.xmax!==i.max||f.ymin!==o.min||f.ymax!==o.max;return Object.assign(f,p),m}class Vt{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(i,o,f,p){let m=o.listeners[p],b=o.duration;m.forEach(y=>y({chart:i,initial:o.initial,numSteps:b,currentStep:Math.min(f-o.start,b)}))}_refresh(){this._request||(this._running=!0,this._request=Ui.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(i=Date.now()){let o=0;this._charts.forEach((f,p)=>{if(!f.running||!f.items.length)return;let m=f.items,b=m.length-1,y=!1,_;for(;b>=0;--b)_=m[b],_._active?(_._total>f.duration&&(f.duration=_._total),_.tick(i),y=!0):(m[b]=m[m.length-1],m.pop());y&&(p.draw(),this._notify(p,f,i,"progress")),m.length||(f.running=!1,this._notify(p,f,i,"complete"),f.initial=!1),o+=m.length}),this._lastDate=i,o===0&&(this._running=!1)}_getAnims(i){let o=this._charts,f=o.get(i);return f||(f={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},o.set(i,f)),f}listen(i,o,f){this._getAnims(i).listeners[o].push(f)}add(i,o){!o||!o.length||this._getAnims(i).items.push(...o)}has(i){return this._getAnims(i).items.length>0}start(i){let o=this._charts.get(i);o&&(o.running=!0,o.start=Date.now(),o.duration=o.items.reduce((f,p)=>Math.max(f,p._duration),0),this._refresh())}running(i){if(!this._running)return!1;let o=this._charts.get(i);return!(!o||!o.running||!o.items.length)}stop(i){let o=this._charts.get(i);if(!o||!o.items.length)return;let f=o.items,p=f.length-1;for(;p>=0;--p)f[p].cancel();o.items=[],this._notify(i,o,Date.now(),"complete")}remove(i){return this._charts.delete(i)}}var Ot=new Vt;function ee(l){return l+.5|0}let oe=(l,i,o)=>Math.max(Math.min(l,o),i);function Ae(l){return oe(ee(l*2.55),0,255)}function Ye(l){return oe(ee(l*255),0,255)}function ye(l){return oe(ee(l/2.55)/100,0,1)}function pi(l){return oe(ee(l*100),0,100)}let Ee={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},cn=[..."0123456789ABCDEF"],Po=l=>cn[l&15],Gi=l=>cn[(l&240)>>4]+cn[l&15],ae=l=>(l&240)>>4===(l&15),vn=l=>ae(l.r)&&ae(l.g)&&ae(l.b)&&ae(l.a);function un(l){var i=l.length,o;return l[0]==="#"&&(i===4||i===5?o={r:255&Ee[l[1]]*17,g:255&Ee[l[2]]*17,b:255&Ee[l[3]]*17,a:i===5?Ee[l[4]]*17:255}:(i===7||i===9)&&(o={r:Ee[l[1]]<<4|Ee[l[2]],g:Ee[l[3]]<<4|Ee[l[4]],b:Ee[l[5]]<<4|Ee[l[6]],a:i===9?Ee[l[7]]<<4|Ee[l[8]]:255})),o}let In=(l,i)=>l<255?i(l):"";function Rs(l){var i=vn(l)?Po:Gi;return l?"#"+i(l.r)+i(l.g)+i(l.b)+In(l.a,i):void 0}let Rr=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Co(l,i,o){let f=i*Math.min(o,1-o),p=(m,b=(m+l/30)%12)=>o-f*Math.max(Math.min(b-3,9-b,1),-1);return[p(0),p(8),p(4)]}function Ir(l,i,o){let f=(p,m=(p+l/60)%6)=>o-o*i*Math.max(Math.min(m,4-m,1),0);return[f(5),f(3),f(1)]}function gi(l,i,o){let f=Co(l,1,.5),p;for(i+o>1&&(p=1/(i+o),i*=p,o*=p),p=0;p<3;p++)f[p]*=1-i-o,f[p]+=i;return f}function Xn(l,i,o,f,p){return l===p?(i-o)/f+(i<o?6:0):i===p?(o-l)/f+2:(l-i)/f+4}function Is(l){let o=l.r/255,f=l.g/255,p=l.b/255,m=Math.max(o,f,p),b=Math.min(o,f,p),y=(m+b)/2,_,k,T;return m!==b&&(T=m-b,k=y>.5?T/(2-m-b):T/(m+b),_=Xn(o,f,p,T,m),_=_*60+.5),[_|0,k||0,y]}function Ki(l,i,o,f){return(Array.isArray(i)?l(i[0],i[1],i[2]):l(i,o,f)).map(Ye)}function mi(l,i,o){return Ki(Co,l,i,o)}function Mo(l,i,o){return Ki(gi,l,i,o)}function Al(l,i,o){return Ki(Ir,l,i,o)}function Oo(l){return(l%360+360)%360}function L(l){let i=Rr.exec(l),o=255,f;if(!i)return;i[5]!==f&&(o=i[6]?Ae(+i[5]):Ye(+i[5]));let p=Oo(+i[2]),m=+i[3]/100,b=+i[4]/100;return i[1]==="hwb"?f=Mo(p,m,b):i[1]==="hsv"?f=Al(p,m,b):f=mi(p,m,b),{r:f[0],g:f[1],b:f[2],a:o}}function z(l,i){var o=Is(l);o[0]=Oo(o[0]+i),o=mi(o),l.r=o[0],l.g=o[1],l.b=o[2]}function Y(l){if(!l)return;let i=Is(l),o=i[0],f=pi(i[1]),p=pi(i[2]);return l.a<255?`hsla(${o}, ${f}%, ${p}%, ${ye(l.a)})`:`hsl(${o}, ${f}%, ${p}%)`}let U={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},X={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Z(){let l={},i=Object.keys(X),o=Object.keys(U),f,p,m,b,y;for(f=0;f<i.length;f++){for(b=y=i[f],p=0;p<o.length;p++)m=o[p],y=y.replace(m,U[m]);m=parseInt(X[b],16),l[y]=[m>>16&255,m>>8&255,m&255]}return l}let J;function st(l){J||(J=Z(),J.transparent=[0,0,0,0]);let i=J[l.toLowerCase()];return i&&{r:i[0],g:i[1],b:i[2],a:i.length===4?i[3]:255}}let mt=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function gt(l){let i=mt.exec(l),o=255,f,p,m;if(i){if(i[7]!==f){let b=+i[7];o=i[8]?Ae(b):oe(b*255,0,255)}return f=+i[1],p=+i[3],m=+i[5],f=255&(i[2]?Ae(f):oe(f,0,255)),p=255&(i[4]?Ae(p):oe(p,0,255)),m=255&(i[6]?Ae(m):oe(m,0,255)),{r:f,g:p,b:m,a:o}}}function yt(l){return l&&(l.a<255?`rgba(${l.r}, ${l.g}, ${l.b}, ${ye(l.a)})`:`rgb(${l.r}, ${l.g}, ${l.b})`)}let Wt=l=>l<=.0031308?l*12.92:Math.pow(l,1/2.4)*1.055-.055,St=l=>l<=.04045?l/12.92:Math.pow((l+.055)/1.055,2.4);function Ke(l,i,o){let f=St(ye(l.r)),p=St(ye(l.g)),m=St(ye(l.b));return{r:Ye(Wt(f+o*(St(ye(i.r))-f))),g:Ye(Wt(p+o*(St(ye(i.g))-p))),b:Ye(Wt(m+o*(St(ye(i.b))-m))),a:l.a+o*(i.a-l.a)}}function de(l,i,o){if(l){let f=Is(l);f[i]=Math.max(0,Math.min(f[i]+f[i]*o,i===0?360:1)),f=mi(f),l.r=f[0],l.g=f[1],l.b=f[2]}}function Qi(l,i){return l&&Object.assign(i||{},l)}function Zi(l){var i={r:0,g:0,b:0,a:255};return Array.isArray(l)?l.length>=3&&(i={r:l[0],g:l[1],b:l[2],a:255},l.length>3&&(i.a=Ye(l[3]))):(i=Qi(l,{r:0,g:0,b:0,a:1}),i.a=Ye(i.a)),i}function To(l){return l.charAt(0)==="r"?gt(l):L(l)}class Gn{constructor(i){if(i instanceof Gn)return i;let o=typeof i,f;o==="object"?f=Zi(i):o==="string"&&(f=un(i)||st(i)||To(i)),this._rgb=f,this._valid=!!f}get valid(){return this._valid}get rgb(){var i=Qi(this._rgb);return i&&(i.a=ye(i.a)),i}set rgb(i){this._rgb=Zi(i)}rgbString(){return this._valid?yt(this._rgb):void 0}hexString(){return this._valid?Rs(this._rgb):void 0}hslString(){return this._valid?Y(this._rgb):void 0}mix(i,o){if(i){let f=this.rgb,p=i.rgb,m,b=o===m?.5:o,y=2*b-1,_=f.a-p.a,k=((y*_===-1?y:(y+_)/(1+y*_))+1)/2;m=1-k,f.r=255&k*f.r+m*p.r+.5,f.g=255&k*f.g+m*p.g+.5,f.b=255&k*f.b+m*p.b+.5,f.a=b*f.a+(1-b)*p.a,this.rgb=f}return this}interpolate(i,o){return i&&(this._rgb=Ke(this._rgb,i._rgb,o)),this}clone(){return new Gn(this.rgb)}alpha(i){return this._rgb.a=Ye(i),this}clearer(i){let o=this._rgb;return o.a*=1-i,this}greyscale(){let i=this._rgb,o=ee(i.r*.3+i.g*.59+i.b*.11);return i.r=i.g=i.b=o,this}opaquer(i){let o=this._rgb;return o.a*=1+i,this}negate(){let i=this._rgb;return i.r=255-i.r,i.g=255-i.g,i.b=255-i.b,this}lighten(i){return de(this._rgb,2,i),this}darken(i){return de(this._rgb,2,-i),this}saturate(i){return de(this._rgb,1,i),this}desaturate(i){return de(this._rgb,1,-i),this}rotate(i){return z(this._rgb,i),this}}function bi(l){return new Gn(l)}function pt(l){if(l&&typeof l=="object"){let i=l.toString();return i==="[object CanvasPattern]"||i==="[object CanvasGradient]"}return!1}function Ft(l){return pt(l)?l:bi(l)}function Jt(l){return pt(l)?l:bi(l).saturate(.5).darken(.1).hexString()}let Gt=Object.create(null),ie=Object.create(null);function yn(l,i){if(!i)return l;let o=i.split(".");for(let f=0,p=o.length;f<p;++f){let m=o[f];l=l[m]||(l[m]=Object.create(null))}return l}function vi(l,i,o){return typeof i=="string"?O(yn(l,i),o):O(yn(l,""),i)}class Fr{constructor(i){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=o=>o.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(o,f)=>Jt(f.backgroundColor),this.hoverBorderColor=(o,f)=>Jt(f.borderColor),this.hoverColor=(o,f)=>Jt(f.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(i)}set(i,o){return vi(this,i,o)}get(i){return yn(this,i)}describe(i,o){return vi(ie,i,o)}override(i,o){return vi(Gt,i,o)}route(i,o,f,p){let m=yn(this,i),b=yn(this,f),y="_"+o;Object.defineProperties(m,{[y]:{value:m[o],writable:!0},[o]:{enumerable:!0,get(){let _=this[y],k=b[p];return r(_)?Object.assign({},k,_):u(_,k)},set(_){this[y]=_}}})}}var Rt=new Fr({_scriptable:l=>!l.startsWith("on"),_indexable:l=>l!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function Ji(){return typeof window<"u"&&typeof document<"u"}function Qe(l){let i=l.parentNode;return i&&i.toString()==="[object ShadowRoot]"&&(i=i.host),i}function Fs(l,i,o){let f;return typeof l=="string"?(f=parseInt(l,10),l.indexOf("%")!==-1&&(f=f/100*i.parentNode[o])):f=l,f}let yi=l=>window.getComputedStyle(l,null);function Ao(l,i){return yi(l).getPropertyValue(i)}let El=["top","right","bottom","left"];function xn(l,i,o){let f={};o=o?"-"+o:"";for(let p=0;p<4;p++){let m=El[p];f[m]=parseFloat(l[i+"-"+m+o])||0}return f.width=f.left+f.right,f.height=f.top+f.bottom,f}let Br=(l,i,o)=>(l>0||i>0)&&(!o||!o.shadowRoot);function Km(l,i){let o=l.touches,f=o&&o.length?o[0]:l,{offsetX:p,offsetY:m}=f,b=!1,y,_;if(Br(p,m,l.target))y=p,_=m;else{let k=i.getBoundingClientRect();y=f.clientX-k.left,_=f.clientY-k.top,b=!0}return{x:y,y:_,box:b}}function xi(l,i){if("native"in l)return l;let{canvas:o,currentDevicePixelRatio:f}=i,p=yi(o),m=p.boxSizing==="border-box",b=xn(p,"padding"),y=xn(p,"border","width"),{x:_,y:k,box:T}=Km(l,o),D=b.left+(T&&y.left),R=b.top+(T&&y.top),{width:F,height:B}=i;return m&&(F-=b.width+y.width,B-=b.height+y.height),{x:Math.round((_-D)/F*o.width/f),y:Math.round((k-R)/B*o.height/f)}}function Qm(l,i,o){let f,p;if(i===void 0||o===void 0){let m=Qe(l);if(!m)i=l.clientWidth,o=l.clientHeight;else{let b=m.getBoundingClientRect(),y=yi(m),_=xn(y,"border","width"),k=xn(y,"padding");i=b.width-k.width-_.width,o=b.height-k.height-_.height,f=Fs(y.maxWidth,m,"clientWidth"),p=Fs(y.maxHeight,m,"clientHeight")}}return{width:i,height:o,maxWidth:f||bt,maxHeight:p||bt}}let Dl=l=>Math.round(l*10)/10;function _f(l,i,o,f){let p=yi(l),m=xn(p,"margin"),b=Fs(p.maxWidth,l,"clientWidth")||bt,y=Fs(p.maxHeight,l,"clientHeight")||bt,_=Qm(l,i,o),{width:k,height:T}=_;if(p.boxSizing==="content-box"){let D=xn(p,"border","width"),R=xn(p,"padding");k-=R.width+D.width,T-=R.height+D.height}return k=Math.max(0,k-m.width),T=Math.max(0,f?Math.floor(k/f):T-m.height),k=Dl(Math.min(k,b,_.maxWidth)),T=Dl(Math.min(T,y,_.maxHeight)),k&&!T&&(T=Dl(k/2)),{width:k,height:T}}function Sl(l,i,o){let f=i||1,p=Math.floor(l.height*f),m=Math.floor(l.width*f);l.height=p/f,l.width=m/f;let b=l.canvas;return b.style&&(o||!b.style.height&&!b.style.width)&&(b.style.height=`${l.height}px`,b.style.width=`${l.width}px`),l.currentDevicePixelRatio!==f||b.height!==p||b.width!==m?(l.currentDevicePixelRatio=f,b.height=p,b.width=m,l.ctx.setTransform(f,0,0,f,0,0),!0):!1}let wf=function(){let l=!1;try{let i={get passive(){return l=!0,!1}};window.addEventListener("test",null,i),window.removeEventListener("test",null,i)}catch{}return l}();function Ll(l,i){let o=Ao(l,i),f=o&&o.match(/^(\d+)(\.\d+)?px$/);return f?+f[1]:void 0}function kf(l){return!l||e(l.size)||e(l.family)?null:(l.style?l.style+" ":"")+(l.weight?l.weight+" ":"")+l.size+"px "+l.family}function Eo(l,i,o,f,p){let m=i[p];return m||(m=i[p]=l.measureText(p).width,o.push(p)),m>f&&(f=m),f}function Pf(l,i,o,f){f=f||{};let p=f.data=f.data||{},m=f.garbageCollect=f.garbageCollect||[];f.font!==i&&(p=f.data={},m=f.garbageCollect=[],f.font=i),l.save(),l.font=i;let b=0,y=o.length,_,k,T,D,R;for(_=0;_<y;_++)if(D=o[_],D!=null&&s(D)!==!0)b=Eo(l,p,m,b,D);else if(s(D))for(k=0,T=D.length;k<T;k++)R=D[k],R!=null&&!s(R)&&(b=Eo(l,p,m,b,R));l.restore();let F=m.length/2;if(F>o.length){for(_=0;_<F;_++)delete p[m[_]];m.splice(0,F)}return b}function _i(l,i,o){let f=l.currentDevicePixelRatio,p=o!==0?Math.max(o/2,.5):0;return Math.round((i-p)*f)/f+p}function Rl(l,i){i=i||l.getContext("2d"),i.save(),i.resetTransform(),i.clearRect(0,0,l.width,l.height),i.restore()}function zr(l,i,o,f){Il(l,i,o,f,null)}function Il(l,i,o,f,p){let m,b,y,_,k,T,D=i.pointStyle,R=i.rotation,F=i.radius,B=(R||0)*at;if(D&&typeof D=="object"&&(m=D.toString(),m==="[object HTMLImageElement]"||m==="[object HTMLCanvasElement]")){l.save(),l.translate(o,f),l.rotate(B),l.drawImage(D,-D.width/2,-D.height/2,D.width,D.height),l.restore();return}if(!(isNaN(F)||F<=0)){switch(l.beginPath(),D){default:p?l.ellipse(o,f,p/2,F,0,0,rt):l.arc(o,f,F,0,rt),l.closePath();break;case"triangle":l.moveTo(o+Math.sin(B)*F,f-Math.cos(B)*F),B+=Et,l.lineTo(o+Math.sin(B)*F,f-Math.cos(B)*F),B+=Et,l.lineTo(o+Math.sin(B)*F,f-Math.cos(B)*F),l.closePath();break;case"rectRounded":k=F*.516,_=F-k,b=Math.cos(B+kt)*_,y=Math.sin(B+kt)*_,l.arc(o-b,f-y,k,B-ct,B-ot),l.arc(o+y,f-b,k,B-ot,B),l.arc(o+b,f+y,k,B,B+ot),l.arc(o-y,f+b,k,B+ot,B+ct),l.closePath();break;case"rect":if(!R){_=Math.SQRT1_2*F,T=p?p/2:_,l.rect(o-T,f-_,2*T,2*_);break}B+=kt;case"rectRot":b=Math.cos(B)*F,y=Math.sin(B)*F,l.moveTo(o-b,f-y),l.lineTo(o+y,f-b),l.lineTo(o+b,f+y),l.lineTo(o-y,f+b),l.closePath();break;case"crossRot":B+=kt;case"cross":b=Math.cos(B)*F,y=Math.sin(B)*F,l.moveTo(o-b,f-y),l.lineTo(o+b,f+y),l.moveTo(o+y,f-b),l.lineTo(o-y,f+b);break;case"star":b=Math.cos(B)*F,y=Math.sin(B)*F,l.moveTo(o-b,f-y),l.lineTo(o+b,f+y),l.moveTo(o+y,f-b),l.lineTo(o-y,f+b),B+=kt,b=Math.cos(B)*F,y=Math.sin(B)*F,l.moveTo(o-b,f-y),l.lineTo(o+b,f+y),l.moveTo(o+y,f-b),l.lineTo(o-y,f+b);break;case"line":b=p?p/2:Math.cos(B)*F,y=Math.sin(B)*F,l.moveTo(o-b,f-y),l.lineTo(o+b,f+y);break;case"dash":l.moveTo(o,f),l.lineTo(o+Math.cos(B)*F,f+Math.sin(B)*F);break}l.fill(),i.borderWidth>0&&l.stroke()}}function Bs(l,i,o){return o=o||.5,!i||l&&l.x>i.left-o&&l.x<i.right+o&&l.y>i.top-o&&l.y<i.bottom+o}function Do(l,i){l.save(),l.beginPath(),l.rect(i.left,i.top,i.right-i.left,i.bottom-i.top),l.clip()}function So(l){l.restore()}function Cf(l,i,o,f,p){if(!i)return l.lineTo(o.x,o.y);if(p==="middle"){let m=(i.x+o.x)/2;l.lineTo(m,i.y),l.lineTo(m,o.y)}else p==="after"!=!!f?l.lineTo(i.x,o.y):l.lineTo(o.x,i.y);l.lineTo(o.x,o.y)}function Mf(l,i,o,f){if(!i)return l.lineTo(o.x,o.y);l.bezierCurveTo(f?i.cp1x:i.cp2x,f?i.cp1y:i.cp2y,f?o.cp2x:o.cp1x,f?o.cp2y:o.cp1y,o.x,o.y)}function wi(l,i,o,f,p,m={}){let b=s(i)?i:[i],y=m.strokeWidth>0&&m.strokeColor!=="",_,k;for(l.save(),l.font=p.string,Zm(l,m),_=0;_<b.length;++_)k=b[_],y&&(m.strokeColor&&(l.strokeStyle=m.strokeColor),e(m.strokeWidth)||(l.lineWidth=m.strokeWidth),l.strokeText(k,o,f,m.maxWidth)),l.fillText(k,o,f,m.maxWidth),Jm(l,o,f,k,m),f+=p.lineHeight;l.restore()}function Zm(l,i){i.translation&&l.translate(i.translation[0],i.translation[1]),e(i.rotation)||l.rotate(i.rotation),i.color&&(l.fillStyle=i.color),i.textAlign&&(l.textAlign=i.textAlign),i.textBaseline&&(l.textBaseline=i.textBaseline)}function Jm(l,i,o,f,p){if(p.strikethrough||p.underline){let m=l.measureText(f),b=i-m.actualBoundingBoxLeft,y=i+m.actualBoundingBoxRight,_=o-m.actualBoundingBoxAscent,k=o+m.actualBoundingBoxDescent,T=p.strikethrough?(_+k)/2:k;l.strokeStyle=l.fillStyle,l.beginPath(),l.lineWidth=p.decorationWidth||2,l.moveTo(b,T),l.lineTo(y,T),l.stroke()}}function zs(l,i){let{x:o,y:f,w:p,h:m,radius:b}=i;l.arc(o+b.topLeft,f+b.topLeft,b.topLeft,-ot,ct,!0),l.lineTo(o,f+m-b.bottomLeft),l.arc(o+b.bottomLeft,f+m-b.bottomLeft,b.bottomLeft,ct,ot,!0),l.lineTo(o+p-b.bottomRight,f+m),l.arc(o+p-b.bottomRight,f+m-b.bottomRight,b.bottomRight,ot,0,!0),l.lineTo(o+p,f+b.topRight),l.arc(o+p-b.topRight,f+b.topRight,b.topRight,0,-ot,!0),l.lineTo(o+b.topLeft,f)}function Nr(l,i=[""],o=l,f,p=()=>l[0]){G(f)||(f=Ef("_fallback",l));let m={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:l,_rootScopes:o,_fallback:f,_getTarget:p,override:b=>Nr([b,...l],i,o,f)};return new Proxy(m,{deleteProperty(b,y){return delete b[y],delete b._keys,delete l[0][y],!0},get(b,y){return Of(b,y,()=>rb(y,i,l,b))},getOwnPropertyDescriptor(b,y){return Reflect.getOwnPropertyDescriptor(b._scopes[0],y)},getPrototypeOf(){return Reflect.getPrototypeOf(l[0])},has(b,y){return Df(b).includes(y)},ownKeys(b){return Df(b)},set(b,y,_){let k=b._storage||(b._storage=p());return b[y]=k[y]=_,delete b._keys,!0}})}function ji(l,i,o,f){let p={_cacheable:!1,_proxy:l,_context:i,_subProxy:o,_stack:new Set,_descriptors:Fl(l,f),setContext:m=>ji(l,m,o,f),override:m=>ji(l.override(m),i,o,f)};return new Proxy(p,{deleteProperty(m,b){return delete m[b],delete l[b],!0},get(m,b,y){return Of(m,b,()=>tb(m,b,y))},getOwnPropertyDescriptor(m,b){return m._descriptors.allKeys?Reflect.has(l,b)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(l,b)},getPrototypeOf(){return Reflect.getPrototypeOf(l)},has(m,b){return Reflect.has(l,b)},ownKeys(){return Reflect.ownKeys(l)},set(m,b,y){return l[b]=y,delete m[b],!0}})}function Fl(l,i={scriptable:!0,indexable:!0}){let{_scriptable:o=i.scriptable,_indexable:f=i.indexable,_allKeys:p=i.allKeys}=l;return{allKeys:p,scriptable:o,indexable:f,isScriptable:tt(o)?o:()=>o,isIndexable:tt(f)?f:()=>f}}let jm=(l,i)=>l?l+$(i):i,Bl=(l,i)=>r(i)&&l!=="adapters"&&(Object.getPrototypeOf(i)===null||i.constructor===Object);function Of(l,i,o){if(Object.prototype.hasOwnProperty.call(l,i))return l[i];let f=o();return l[i]=f,f}function tb(l,i,o){let{_proxy:f,_context:p,_subProxy:m,_descriptors:b}=l,y=f[i];return tt(y)&&b.isScriptable(i)&&(y=eb(i,y,l,o)),s(y)&&y.length&&(y=nb(i,y,l,b.isIndexable)),Bl(i,y)&&(y=ji(y,p,m&&m[i],b)),y}function eb(l,i,o,f){let{_proxy:p,_context:m,_subProxy:b,_stack:y}=o;if(y.has(l))throw new Error("Recursion detected: "+Array.from(y).join("->")+"->"+l);return y.add(l),i=i(m,b||f),y.delete(l),Bl(l,i)&&(i=zl(p._scopes,p,l,i)),i}function nb(l,i,o,f){let{_proxy:p,_context:m,_subProxy:b,_descriptors:y}=o;if(G(m.index)&&f(l))i=i[m.index%i.length];else if(r(i[0])){let _=i,k=p._scopes.filter(T=>T!==_);i=[];for(let T of _){let D=zl(k,p,l,T);i.push(ji(D,m,b&&b[l],y))}}return i}function Tf(l,i,o){return tt(l)?l(i,o):l}let ib=(l,i)=>l===!0?i:typeof l=="string"?I(i,l):void 0;function sb(l,i,o,f,p){for(let m of i){let b=ib(o,m);if(b){l.add(b);let y=Tf(b._fallback,o,p);if(G(y)&&y!==o&&y!==f)return y}else if(b===!1&&G(f)&&o!==f)return null}return!1}function zl(l,i,o,f){let p=i._rootScopes,m=Tf(i._fallback,o,f),b=[...l,...p],y=new Set;y.add(f);let _=Af(y,b,o,m||o,f);return _===null||G(m)&&m!==o&&(_=Af(y,b,m,_,f),_===null)?!1:Nr(Array.from(y),[""],p,m,()=>ob(i,o,f))}function Af(l,i,o,f,p){for(;o;)o=sb(l,i,o,f,p);return o}function ob(l,i,o){let f=l._getTarget();i in f||(f[i]={});let p=f[i];return s(p)&&r(o)?o:p}function rb(l,i,o,f){let p;for(let m of i)if(p=Ef(jm(m,l),o),G(p))return Bl(l,p)?zl(o,f,l,p):p}function Ef(l,i){for(let o of i){if(!o)continue;let f=o[l];if(G(f))return f}}function Df(l){let i=l._keys;return i||(i=l._keys=ab(l._scopes)),i}function ab(l){let i=new Set;for(let o of l)for(let f of Object.keys(o).filter(p=>!p.startsWith("_")))i.add(f);return Array.from(i)}function Nl(l,i,o,f){let{iScale:p}=l,{key:m="r"}=this._parsing,b=new Array(f),y,_,k,T;for(y=0,_=f;y<_;++y)k=y+o,T=i[k],b[y]={r:p.parse(I(T,m),k)};return b}let lb=Number.EPSILON||1e-14,Ns=(l,i)=>i<l.length&&!l[i].skip&&l[i],Sf=l=>l==="x"?"y":"x";function Lf(l,i,o,f){let p=l.skip?i:l,m=i,b=o.skip?i:o,y=We(m,p),_=We(b,m),k=y/(y+_),T=_/(y+_);k=isNaN(k)?0:k,T=isNaN(T)?0:T;let D=f*k,R=f*T;return{previous:{x:m.x-D*(b.x-p.x),y:m.y-D*(b.y-p.y)},next:{x:m.x+R*(b.x-p.x),y:m.y+R*(b.y-p.y)}}}function cb(l,i,o){let f=l.length,p,m,b,y,_,k=Ns(l,0);for(let T=0;T<f-1;++T)if(_=k,k=Ns(l,T+1),!(!_||!k)){if(Ht(i[T],0,lb)){o[T]=o[T+1]=0;continue}p=o[T]/i[T],m=o[T+1]/i[T],y=Math.pow(p,2)+Math.pow(m,2),!(y<=9)&&(b=3/Math.sqrt(y),o[T]=p*b*i[T],o[T+1]=m*b*i[T])}}function ub(l,i,o="x"){let f=Sf(o),p=l.length,m,b,y,_=Ns(l,0);for(let k=0;k<p;++k){if(b=y,y=_,_=Ns(l,k+1),!y)continue;let T=y[o],D=y[f];b&&(m=(T-b[o])/3,y[`cp1${o}`]=T-m,y[`cp1${f}`]=D-m*i[k]),_&&(m=(_[o]-T)/3,y[`cp2${o}`]=T+m,y[`cp2${f}`]=D+m*i[k])}}function Rf(l,i="x"){let o=Sf(i),f=l.length,p=Array(f).fill(0),m=Array(f),b,y,_,k=Ns(l,0);for(b=0;b<f;++b)if(y=_,_=k,k=Ns(l,b+1),!!_){if(k){let T=k[i]-_[i];p[b]=T!==0?(k[o]-_[o])/T:0}m[b]=y?k?Tt(p[b-1])!==Tt(p[b])?0:(p[b-1]+p[b])/2:p[b-1]:p[b]}cb(l,p,m),ub(l,m,i)}function Vr(l,i,o){return Math.max(Math.min(l,o),i)}function fb(l,i){let o,f,p,m,b,y=Bs(l[0],i);for(o=0,f=l.length;o<f;++o)b=m,m=y,y=o<f-1&&Bs(l[o+1],i),m&&(p=l[o],b&&(p.cp1x=Vr(p.cp1x,i.left,i.right),p.cp1y=Vr(p.cp1y,i.top,i.bottom)),y&&(p.cp2x=Vr(p.cp2x,i.left,i.right),p.cp2y=Vr(p.cp2y,i.top,i.bottom)))}function If(l,i,o,f,p){let m,b,y,_;if(i.spanGaps&&(l=l.filter(k=>!k.skip)),i.cubicInterpolationMode==="monotone")Rf(l,p);else{let k=f?l[l.length-1]:l[0];for(m=0,b=l.length;m<b;++m)y=l[m],_=Lf(k,y,l[Math.min(m+1,b-(f?0:1))%b],i.tension),y.cp1x=_.previous.x,y.cp1y=_.previous.y,y.cp2x=_.next.x,y.cp2y=_.next.y,k=y}i.capBezierPoints&&fb(l,o)}let Hr=l=>l===0||l===1,Ff=(l,i,o)=>-(Math.pow(2,10*(l-=1))*Math.sin((l-i)*rt/o)),Bf=(l,i,o)=>Math.pow(2,-10*l)*Math.sin((l-i)*rt/o)+1,Vs={linear:l=>l,easeInQuad:l=>l*l,easeOutQuad:l=>-l*(l-2),easeInOutQuad:l=>(l/=.5)<1?.5*l*l:-.5*(--l*(l-2)-1),easeInCubic:l=>l*l*l,easeOutCubic:l=>(l-=1)*l*l+1,easeInOutCubic:l=>(l/=.5)<1?.5*l*l*l:.5*((l-=2)*l*l+2),easeInQuart:l=>l*l*l*l,easeOutQuart:l=>-((l-=1)*l*l*l-1),easeInOutQuart:l=>(l/=.5)<1?.5*l*l*l*l:-.5*((l-=2)*l*l*l-2),easeInQuint:l=>l*l*l*l*l,easeOutQuint:l=>(l-=1)*l*l*l*l+1,easeInOutQuint:l=>(l/=.5)<1?.5*l*l*l*l*l:.5*((l-=2)*l*l*l*l+2),easeInSine:l=>-Math.cos(l*ot)+1,easeOutSine:l=>Math.sin(l*ot),easeInOutSine:l=>-.5*(Math.cos(ct*l)-1),easeInExpo:l=>l===0?0:Math.pow(2,10*(l-1)),easeOutExpo:l=>l===1?1:-Math.pow(2,-10*l)+1,easeInOutExpo:l=>Hr(l)?l:l<.5?.5*Math.pow(2,10*(l*2-1)):.5*(-Math.pow(2,-10*(l*2-1))+2),easeInCirc:l=>l>=1?l:-(Math.sqrt(1-l*l)-1),easeOutCirc:l=>Math.sqrt(1-(l-=1)*l),easeInOutCirc:l=>(l/=.5)<1?-.5*(Math.sqrt(1-l*l)-1):.5*(Math.sqrt(1-(l-=2)*l)+1),easeInElastic:l=>Hr(l)?l:Ff(l,.075,.3),easeOutElastic:l=>Hr(l)?l:Bf(l,.075,.3),easeInOutElastic(l){return Hr(l)?l:l<.5?.5*Ff(l*2,.1125,.45):.5+.5*Bf(l*2-1,.1125,.45)},easeInBack(l){return l*l*((1.70158+1)*l-1.70158)},easeOutBack(l){return(l-=1)*l*((1.70158+1)*l+1.70158)+1},easeInOutBack(l){let i=1.70158;return(l/=.5)<1?.5*(l*l*(((i*=1.525)+1)*l-i)):.5*((l-=2)*l*(((i*=1.525)+1)*l+i)+2)},easeInBounce:l=>1-Vs.easeOutBounce(1-l),easeOutBounce(l){return l<1/2.75?7.5625*l*l:l<2/2.75?7.5625*(l-=1.5/2.75)*l+.75:l<2.5/2.75?7.5625*(l-=2.25/2.75)*l+.9375:7.5625*(l-=2.625/2.75)*l+.984375},easeInOutBounce:l=>l<.5?Vs.easeInBounce(l*2)*.5:Vs.easeOutBounce(l*2-1)*.5+.5};function ki(l,i,o,f){return{x:l.x+o*(i.x-l.x),y:l.y+o*(i.y-l.y)}}function zf(l,i,o,f){return{x:l.x+o*(i.x-l.x),y:f==="middle"?o<.5?l.y:i.y:f==="after"?o<1?l.y:i.y:o>0?i.y:l.y}}function Nf(l,i,o,f){let p={x:l.cp2x,y:l.cp2y},m={x:i.cp1x,y:i.cp1y},b=ki(l,p,o),y=ki(p,m,o),_=ki(m,i,o),k=ki(b,y,o),T=ki(y,_,o);return ki(k,T,o)}let Vf=new Map;function hb(l,i){i=i||{};let o=l+JSON.stringify(i),f=Vf.get(o);return f||(f=new Intl.NumberFormat(l,i),Vf.set(o,f)),f}function Hs(l,i,o){return hb(i,o).format(l)}let db=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),pb=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function Hf(l,i){let o=(""+l).match(db);if(!o||o[1]==="normal")return i*1.2;switch(l=+o[2],o[3]){case"px":return l;case"%":l/=100;break}return i*l}let gb=l=>+l||0;function Wr(l,i){let o={},f=r(i),p=f?Object.keys(i):i,m=r(l)?f?b=>u(l[b],l[i[b]]):b=>l[b]:()=>l;for(let b of p)o[b]=gb(m(b));return o}function Vl(l){return Wr(l,{top:"y",right:"x",bottom:"y",left:"x"})}function Pi(l){return Wr(l,["topLeft","topRight","bottomLeft","bottomRight"])}function ze(l){let i=Vl(l);return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function we(l,i){l=l||{},i=i||Rt.font;let o=u(l.size,i.size);typeof o=="string"&&(o=parseInt(o,10));let f=u(l.style,i.style);f&&!(""+f).match(pb)&&(console.warn('Invalid font style specified: "'+f+'"'),f="");let p={family:u(l.family,i.family),lineHeight:Hf(u(l.lineHeight,i.lineHeight),o),size:o,style:f,weight:u(l.weight,i.weight),string:""};return p.string=kf(p),p}function Ws(l,i,o,f){let p=!0,m,b,y;for(m=0,b=l.length;m<b;++m)if(y=l[m],y!==void 0&&(i!==void 0&&typeof y=="function"&&(y=y(i),p=!1),o!==void 0&&s(y)&&(y=y[o%y.length],p=!1),y!==void 0))return f&&!p&&(f.cacheable=!1),y}function Wf(l,i,o){let{min:f,max:p}=l,m=d(i,(p-f)/2),b=(y,_)=>o&&y===0?0:y+_;return{min:b(f,-Math.abs(m)),max:b(p,m)}}function Kn(l,i){return Object.assign(Object.create(l),i)}let mb=function(l,i){return{x(o){return l+l+i-o},setWidth(o){i=o},textAlign(o){return o==="center"?o:o==="right"?"left":"right"},xPlus(o,f){return o-f},leftForLtr(o,f){return o-f}}},bb=function(){return{x(l){return l},setWidth(l){},textAlign(l){return l},xPlus(l,i){return l+i},leftForLtr(l,i){return l}}};function ts(l,i,o){return l?mb(i,o):bb()}function Hl(l,i){let o,f;(i==="ltr"||i==="rtl")&&(o=l.canvas.style,f=[o.getPropertyValue("direction"),o.getPropertyPriority("direction")],o.setProperty("direction",i,"important"),l.prevTextDirection=f)}function Wl(l,i){i!==void 0&&(delete l.prevTextDirection,l.canvas.style.setProperty("direction",i[0],i[1]))}function $f(l){return l==="angle"?{between:en,compare:Yn,normalize:me}:{between:Be,compare:(i,o)=>i-o,normalize:i=>i}}function Yf({start:l,end:i,count:o,loop:f,style:p}){return{start:l%o,end:i%o,loop:f&&(i-l+1)%o===0,style:p}}function vb(l,i,o){let{property:f,start:p,end:m}=o,{between:b,normalize:y}=$f(f),_=i.length,{start:k,end:T,loop:D}=l,R,F;if(D){for(k+=_,T+=_,R=0,F=_;R<F&&b(y(i[k%_][f]),p,m);++R)k--,T--;k%=_,T%=_}return T<k&&(T+=_),{start:k,end:T,loop:D,style:l.style}}function $l(l,i,o){if(!o)return[l];let{property:f,start:p,end:m}=o,b=i.length,{compare:y,between:_,normalize:k}=$f(f),{start:T,end:D,loop:R,style:F}=vb(l,i,o),B=[],V=!1,W=null,q,Q,it,nt=()=>_(p,it,q)&&y(p,it)!==0,j=()=>y(m,q)===0||_(m,it,q),ft=()=>V||nt(),ht=()=>!V||j();for(let Pt=T,xt=T;Pt<=D;++Pt)Q=i[Pt%b],!Q.skip&&(q=k(Q[f]),q!==it&&(V=_(q,p,m),W===null&&ft()&&(W=y(q,p)===0?Pt:xt),W!==null&&ht()&&(B.push(Yf({start:W,end:Pt,loop:R,count:b,style:F})),W=null),xt=Pt,it=q));return W!==null&&B.push(Yf({start:W,end:D,loop:R,count:b,style:F})),B}function Yl(l,i){let o=[],f=l.segments;for(let p=0;p<f.length;p++){let m=$l(f[p],l.points,i);m.length&&o.push(...m)}return o}function yb(l,i,o,f){let p=0,m=i-1;if(o&&!f)for(;p<i&&!l[p].skip;)p++;for(;p<i&&l[p].skip;)p++;for(p%=i,o&&(m+=p);m>p&&l[m%i].skip;)m--;return m%=i,{start:p,end:m}}function xb(l,i,o,f){let p=l.length,m=[],b=i,y=l[i],_;for(_=i+1;_<=o;++_){let k=l[_%p];k.skip||k.stop?y.skip||(f=!1,m.push({start:i%p,end:(_-1)%p,loop:f}),i=b=k.stop?_:null):(b=_,y.skip&&(i=_)),y=k}return b!==null&&m.push({start:i%p,end:b%p,loop:f}),m}function Uf(l,i){let o=l.points,f=l.options.spanGaps,p=o.length;if(!p)return[];let m=!!l._loop,{start:b,end:y}=yb(o,p,m,f);if(f===!0)return qf(l,[{start:b,end:y,loop:m}],o,i);let _=y<b?y+p:y,k=!!l._fullLoop&&b===0&&y===p-1;return qf(l,xb(o,b,_,k),o,i)}function qf(l,i,o,f){return!f||!f.setContext||!o?i:_b(l,i,o,f)}function _b(l,i,o,f){let p=l._chart.getContext(),m=Xf(l.options),{_datasetIndex:b,options:{spanGaps:y}}=l,_=o.length,k=[],T=m,D=i[0].start,R=D;function F(B,V,W,q){let Q=y?-1:1;if(B!==V){for(B+=_;o[B%_].skip;)B-=Q;for(;o[V%_].skip;)V+=Q;B%_!==V%_&&(k.push({start:B%_,end:V%_,loop:W,style:q}),T=q,D=V%_)}}for(let B of i){D=y?D:B.start;let V=o[D%_],W;for(R=D+1;R<=B.end;R++){let q=o[R%_];W=Xf(f.setContext(Kn(p,{type:"segment",p0:V,p1:q,p0DataIndex:(R-1)%_,p1DataIndex:R%_,datasetIndex:b}))),wb(W,T)&&F(D,R-1,B.loop,T),V=q,T=W}D<R-1&&F(D,R-1,B.loop,T)}return k}function Xf(l){return{backgroundColor:l.backgroundColor,borderCapStyle:l.borderCapStyle,borderDash:l.borderDash,borderDashOffset:l.borderDashOffset,borderJoinStyle:l.borderJoinStyle,borderWidth:l.borderWidth,borderColor:l.borderColor}}function wb(l,i){return i&&JSON.stringify(l)!==JSON.stringify(i)}var kb=Object.freeze({__proto__:null,easingEffects:Vs,isPatternOrGradient:pt,color:Ft,getHoverColor:Jt,noop:n,uid:t,isNullOrUndef:e,isArray:s,isObject:r,isFinite:c,finiteOrDefault:h,valueOrDefault:u,toPercentage:a,toDimension:d,callback:g,each:v,_elementsEqual:x,clone:w,_merger:C,merge:O,mergeIf:M,_mergerIf:A,_deprecated:S,resolveObjectKey:I,_splitKey:H,_capitalize:$,defined:G,isFunction:tt,setsEqual:et,_isClickEvent:lt,toFontString:kf,_measureText:Eo,_longestText:Pf,_alignPixel:_i,clearCanvas:Rl,drawPoint:zr,drawPointLegend:Il,_isPointInArea:Bs,clipArea:Do,unclipArea:So,_steppedLineTo:Cf,_bezierCurveTo:Mf,renderText:wi,addRoundedRectPath:zs,_lookup:$e,_lookupByKey:be,_rlookupByKey:Dn,_filterBetween:ln,listenArrayEvents:qn,unlistenArrayEvents:Ln,_arrayUnique:Rn,_createResolver:Nr,_attachContext:ji,_descriptors:Fl,_parseObjectDataRadialScale:Nl,splineCurve:Lf,splineCurveMonotone:Rf,_updateBezierControlPoints:If,_isDomSupported:Ji,_getParentNode:Qe,getStyle:Ao,getRelativePosition:xi,getMaximumSize:_f,retinaScale:Sl,supportsEventListenerOptions:wf,readUsedSize:Ll,fontString:hi,requestAnimFrame:Ui,throttled:qi,debounce:Xi,_toLeftRightCenter:di,_alignStartEnd:ve,_textX:K,_getStartAndCountOfVisiblePoints:ut,_scaleRangesChanged:_t,_pointInLine:ki,_steppedInterpolation:zf,_bezierInterpolation:Nf,formatNumber:Hs,toLineHeight:Hf,_readValueToProps:Wr,toTRBL:Vl,toTRBLCorners:Pi,toPadding:ze,toFont:we,resolve:Ws,_addGrace:Wf,createContext:Kn,PI:ct,TAU:rt,PITAU:dt,INFINITY:bt,RAD_PER_DEG:at,HALF_PI:ot,QUARTER_PI:kt,TWO_THIRDS_PI:Et,log10:wt,sign:Tt,niceNum:Zt,_factorize:Xt,isNumber:Lt,almostEquals:Ht,almostWhole:Te,_setMinAndMaxByKey:jt,toRadians:Mt,toDegrees:ce,_decimalPlaces:Ge,getAngleFromPoint:Fe,distanceBetweenPoints:We,_angleDiff:Yn,_normalizeAngle:me,_angleBetween:en,_limitValue:te,_int16Range:Un,_isBetween:Be,getRtlAdapter:ts,overrideTextDirection:Hl,restoreTextDirection:Wl,_boundSegment:$l,_boundSegments:Yl,_computeSegments:Uf});function Pb(l,i,o,f){let{controller:p,data:m,_sorted:b}=l,y=p._cachedMeta.iScale;if(y&&i===y.axis&&i!=="r"&&b&&m.length){let _=y._reversePixels?Dn:be;if(f){if(p._sharedOptions){let k=m[0],T=typeof k.getRange=="function"&&k.getRange(i);if(T){let D=_(m,i,o-T),R=_(m,i,o+T);return{lo:D.lo,hi:R.hi}}}}else return _(m,i,o)}return{lo:0,hi:m.length-1}}function Lo(l,i,o,f,p){let m=l.getSortedVisibleDatasetMetas(),b=o[i];for(let y=0,_=m.length;y<_;++y){let{index:k,data:T}=m[y],{lo:D,hi:R}=Pb(m[y],i,b,p);for(let F=D;F<=R;++F){let B=T[F];B.skip||f(B,k,F)}}}function Cb(l){let i=l.indexOf("x")!==-1,o=l.indexOf("y")!==-1;return function(f,p){let m=i?Math.abs(f.x-p.x):0,b=o?Math.abs(f.y-p.y):0;return Math.sqrt(Math.pow(m,2)+Math.pow(b,2))}}function Ul(l,i,o,f,p){let m=[];return!p&&!l.isPointInArea(i)||Lo(l,o,i,function(y,_,k){!p&&!Bs(y,l.chartArea,0)||y.inRange(i.x,i.y,f)&&m.push({element:y,datasetIndex:_,index:k})},!0),m}function Mb(l,i,o,f){let p=[];function m(b,y,_){let{startAngle:k,endAngle:T}=b.getProps(["startAngle","endAngle"],f),{angle:D}=Fe(b,{x:i.x,y:i.y});en(D,k,T)&&p.push({element:b,datasetIndex:y,index:_})}return Lo(l,o,i,m),p}function Ob(l,i,o,f,p,m){let b=[],y=Cb(o),_=Number.POSITIVE_INFINITY;function k(T,D,R){let F=T.inRange(i.x,i.y,p);if(f&&!F)return;let B=T.getCenterPoint(p);if(!(!!m||l.isPointInArea(B))&&!F)return;let W=y(i,B);W<_?(b=[{element:T,datasetIndex:D,index:R}],_=W):W===_&&b.push({element:T,datasetIndex:D,index:R})}return Lo(l,o,i,k),b}function ql(l,i,o,f,p,m){return!m&&!l.isPointInArea(i)?[]:o==="r"&&!f?Mb(l,i,o,p):Ob(l,i,o,f,p,m)}function Gf(l,i,o,f,p){let m=[],b=o==="x"?"inXRange":"inYRange",y=!1;return Lo(l,o,i,(_,k,T)=>{_[b](i[o],p)&&(m.push({element:_,datasetIndex:k,index:T}),y=y||_.inRange(i.x,i.y,p))}),f&&!y?[]:m}var Kf={evaluateInteractionItems:Lo,modes:{index(l,i,o,f){let p=xi(i,l),m=o.axis||"x",b=o.includeInvisible||!1,y=o.intersect?Ul(l,p,m,f,b):ql(l,p,m,!1,f,b),_=[];return y.length?(l.getSortedVisibleDatasetMetas().forEach(k=>{let T=y[0].index,D=k.data[T];D&&!D.skip&&_.push({element:D,datasetIndex:k.index,index:T})}),_):[]},dataset(l,i,o,f){let p=xi(i,l),m=o.axis||"xy",b=o.includeInvisible||!1,y=o.intersect?Ul(l,p,m,f,b):ql(l,p,m,!1,f,b);if(y.length>0){let _=y[0].datasetIndex,k=l.getDatasetMeta(_).data;y=[];for(let T=0;T<k.length;++T)y.push({element:k[T],datasetIndex:_,index:T})}return y},point(l,i,o,f){let p=xi(i,l),m=o.axis||"xy",b=o.includeInvisible||!1;return Ul(l,p,m,f,b)},nearest(l,i,o,f){let p=xi(i,l),m=o.axis||"xy",b=o.includeInvisible||!1;return ql(l,p,m,o.intersect,f,b)},x(l,i,o,f){let p=xi(i,l);return Gf(l,p,"x",o.intersect,f)},y(l,i,o,f){let p=xi(i,l);return Gf(l,p,"y",o.intersect,f)}}};let Qf=["left","top","right","bottom"];function Ro(l,i){return l.filter(o=>o.pos===i)}function Zf(l,i){return l.filter(o=>Qf.indexOf(o.pos)===-1&&o.box.axis===i)}function Io(l,i){return l.sort((o,f)=>{let p=i?f:o,m=i?o:f;return p.weight===m.weight?p.index-m.index:p.weight-m.weight})}function Tb(l){let i=[],o,f,p,m,b,y;for(o=0,f=(l||[]).length;o<f;++o)p=l[o],{position:m,options:{stack:b,stackWeight:y=1}}=p,i.push({index:o,box:p,pos:m,horizontal:p.isHorizontal(),weight:p.weight,stack:b&&m+b,stackWeight:y});return i}function Ab(l){let i={};for(let o of l){let{stack:f,pos:p,stackWeight:m}=o;if(!f||!Qf.includes(p))continue;let b=i[f]||(i[f]={count:0,placed:0,weight:0,size:0});b.count++,b.weight+=m}return i}function Eb(l,i){let o=Ab(l),{vBoxMaxWidth:f,hBoxMaxHeight:p}=i,m,b,y;for(m=0,b=l.length;m<b;++m){y=l[m];let{fullSize:_}=y.box,k=o[y.stack],T=k&&y.stackWeight/k.weight;y.horizontal?(y.width=T?T*f:_&&i.availableWidth,y.height=p):(y.width=f,y.height=T?T*p:_&&i.availableHeight)}return o}function Db(l){let i=Tb(l),o=Io(i.filter(k=>k.box.fullSize),!0),f=Io(Ro(i,"left"),!0),p=Io(Ro(i,"right")),m=Io(Ro(i,"top"),!0),b=Io(Ro(i,"bottom")),y=Zf(i,"x"),_=Zf(i,"y");return{fullSize:o,leftAndTop:f.concat(m),rightAndBottom:p.concat(_).concat(b).concat(y),chartArea:Ro(i,"chartArea"),vertical:f.concat(p).concat(_),horizontal:m.concat(b).concat(y)}}function Jf(l,i,o,f){return Math.max(l[o],i[o])+Math.max(l[f],i[f])}function jf(l,i){l.top=Math.max(l.top,i.top),l.left=Math.max(l.left,i.left),l.bottom=Math.max(l.bottom,i.bottom),l.right=Math.max(l.right,i.right)}function Sb(l,i,o,f){let{pos:p,box:m}=o,b=l.maxPadding;if(!r(p)){o.size&&(l[p]-=o.size);let D=f[o.stack]||{size:0,count:1};D.size=Math.max(D.size,o.horizontal?m.height:m.width),o.size=D.size/D.count,l[p]+=o.size}m.getPadding&&jf(b,m.getPadding());let y=Math.max(0,i.outerWidth-Jf(b,l,"left","right")),_=Math.max(0,i.outerHeight-Jf(b,l,"top","bottom")),k=y!==l.w,T=_!==l.h;return l.w=y,l.h=_,o.horizontal?{same:k,other:T}:{same:T,other:k}}function Lb(l){let i=l.maxPadding;function o(f){let p=Math.max(i[f]-l[f],0);return l[f]+=p,p}l.y+=o("top"),l.x+=o("left"),o("right"),o("bottom")}function Rb(l,i){let o=i.maxPadding;function f(p){let m={left:0,top:0,right:0,bottom:0};return p.forEach(b=>{m[b]=Math.max(i[b],o[b])}),m}return f(l?["left","right"]:["top","bottom"])}function Fo(l,i,o,f){let p=[],m,b,y,_,k,T;for(m=0,b=l.length,k=0;m<b;++m){y=l[m],_=y.box,_.update(y.width||i.w,y.height||i.h,Rb(y.horizontal,i));let{same:D,other:R}=Sb(i,o,y,f);k|=D&&p.length,T=T||R,_.fullSize||p.push(y)}return k&&Fo(p,i,o,f)||T}function $r(l,i,o,f,p){l.top=o,l.left=i,l.right=i+f,l.bottom=o+p,l.width=f,l.height=p}function th(l,i,o,f){let p=o.padding,{x:m,y:b}=i;for(let y of l){let _=y.box,k=f[y.stack]||{count:1,placed:0,weight:1},T=y.stackWeight/k.weight||1;if(y.horizontal){let D=i.w*T,R=k.size||_.height;G(k.start)&&(b=k.start),_.fullSize?$r(_,p.left,b,o.outerWidth-p.right-p.left,R):$r(_,i.left+k.placed,b,D,R),k.start=b,k.placed+=D,b=_.bottom}else{let D=i.h*T,R=k.size||_.width;G(k.start)&&(m=k.start),_.fullSize?$r(_,m,p.top,R,o.outerHeight-p.bottom-p.top):$r(_,m,i.top+k.placed,R,D),k.start=m,k.placed+=D,m=_.right}}i.x=m,i.y=b}Rt.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var Ne={addBox(l,i){l.boxes||(l.boxes=[]),i.fullSize=i.fullSize||!1,i.position=i.position||"top",i.weight=i.weight||0,i._layers=i._layers||function(){return[{z:0,draw(o){i.draw(o)}}]},l.boxes.push(i)},removeBox(l,i){let o=l.boxes?l.boxes.indexOf(i):-1;o!==-1&&l.boxes.splice(o,1)},configure(l,i,o){i.fullSize=o.fullSize,i.position=o.position,i.weight=o.weight},update(l,i,o,f){if(!l)return;let p=ze(l.options.layout.padding),m=Math.max(i-p.width,0),b=Math.max(o-p.height,0),y=Db(l.boxes),_=y.vertical,k=y.horizontal;v(l.boxes,V=>{typeof V.beforeLayout=="function"&&V.beforeLayout()});let T=_.reduce((V,W)=>W.box.options&&W.box.options.display===!1?V:V+1,0)||1,D=Object.freeze({outerWidth:i,outerHeight:o,padding:p,availableWidth:m,availableHeight:b,vBoxMaxWidth:m/2/T,hBoxMaxHeight:b/2}),R=Object.assign({},p);jf(R,ze(f));let F=Object.assign({maxPadding:R,w:m,h:b,x:p.left,y:p.top},p),B=Eb(_.concat(k),D);Fo(y.fullSize,F,D,B),Fo(_,F,D,B),Fo(k,F,D,B)&&Fo(_,F,D,B),Lb(F),th(y.leftAndTop,F,D,B),F.x+=F.w,F.y+=F.h,th(y.rightAndBottom,F,D,B),l.chartArea={left:F.left,top:F.top,right:F.left+F.w,bottom:F.top+F.h,height:F.h,width:F.w},v(y.chartArea,V=>{let W=V.box;Object.assign(W,l.chartArea),W.update(F.w,F.h,{left:0,top:0,right:0,bottom:0})})}};class Xl{acquireContext(i,o){}releaseContext(i){return!1}addEventListener(i,o,f){}removeEventListener(i,o,f){}getDevicePixelRatio(){return 1}getMaximumSize(i,o,f,p){return o=Math.max(0,o||i.width),f=f||i.height,{width:o,height:Math.max(0,p?Math.floor(o/p):f)}}isAttached(i){return!0}updateConfig(i){}}class eh extends Xl{acquireContext(i){return i&&i.getContext&&i.getContext("2d")||null}updateConfig(i){i.options.animation=!1}}let Yr="$chartjs",Ib={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},nh=l=>l===null||l==="";function Fb(l,i){let o=l.style,f=l.getAttribute("height"),p=l.getAttribute("width");if(l[Yr]={initial:{height:f,width:p,style:{display:o.display,height:o.height,width:o.width}}},o.display=o.display||"block",o.boxSizing=o.boxSizing||"border-box",nh(p)){let m=Ll(l,"width");m!==void 0&&(l.width=m)}if(nh(f))if(l.style.height==="")l.height=l.width/(i||2);else{let m=Ll(l,"height");m!==void 0&&(l.height=m)}return l}let ih=wf?{passive:!0}:!1;function Bb(l,i,o){l.addEventListener(i,o,ih)}function zb(l,i,o){l.canvas.removeEventListener(i,o,ih)}function Nb(l,i){let o=Ib[l.type]||l.type,{x:f,y:p}=xi(l,i);return{type:o,chart:i,native:l,x:f!==void 0?f:null,y:p!==void 0?p:null}}function Ur(l,i){for(let o of l)if(o===i||o.contains(i))return!0}function Vb(l,i,o){let f=l.canvas,p=new MutationObserver(m=>{let b=!1;for(let y of m)b=b||Ur(y.addedNodes,f),b=b&&!Ur(y.removedNodes,f);b&&o()});return p.observe(document,{childList:!0,subtree:!0}),p}function Hb(l,i,o){let f=l.canvas,p=new MutationObserver(m=>{let b=!1;for(let y of m)b=b||Ur(y.removedNodes,f),b=b&&!Ur(y.addedNodes,f);b&&o()});return p.observe(document,{childList:!0,subtree:!0}),p}let Bo=new Map,sh=0;function oh(){let l=window.devicePixelRatio;l!==sh&&(sh=l,Bo.forEach((i,o)=>{o.currentDevicePixelRatio!==l&&i()}))}function Wb(l,i){Bo.size||window.addEventListener("resize",oh),Bo.set(l,i)}function $b(l){Bo.delete(l),Bo.size||window.removeEventListener("resize",oh)}function Yb(l,i,o){let f=l.canvas,p=f&&Qe(f);if(!p)return;let m=qi((y,_)=>{let k=p.clientWidth;o(y,_),k<p.clientWidth&&o()},window),b=new ResizeObserver(y=>{let _=y[0],k=_.contentRect.width,T=_.contentRect.height;k===0&&T===0||m(k,T)});return b.observe(p),Wb(l,m),b}function Gl(l,i,o){o&&o.disconnect(),i==="resize"&&$b(l)}function Ub(l,i,o){let f=l.canvas,p=qi(m=>{l.ctx!==null&&o(Nb(m,l))},l,m=>{let b=m[0];return[b,b.offsetX,b.offsetY]});return Bb(f,i,p),p}class rh extends Xl{acquireContext(i,o){let f=i&&i.getContext&&i.getContext("2d");return f&&f.canvas===i?(Fb(i,o),f):null}releaseContext(i){let o=i.canvas;if(!o[Yr])return!1;let f=o[Yr].initial;["height","width"].forEach(m=>{let b=f[m];e(b)?o.removeAttribute(m):o.setAttribute(m,b)});let p=f.style||{};return Object.keys(p).forEach(m=>{o.style[m]=p[m]}),o.width=o.width,delete o[Yr],!0}addEventListener(i,o,f){this.removeEventListener(i,o);let p=i.$proxies||(i.$proxies={}),b={attach:Vb,detach:Hb,resize:Yb}[o]||Ub;p[o]=b(i,o,f)}removeEventListener(i,o){let f=i.$proxies||(i.$proxies={}),p=f[o];if(!p)return;({attach:Gl,detach:Gl,resize:Gl}[o]||zb)(i,o,p),f[o]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(i,o,f,p){return _f(i,o,f,p)}isAttached(i){let o=Qe(i);return!!(o&&o.isConnected)}}function ah(l){return!Ji()||typeof OffscreenCanvas<"u"&&l instanceof OffscreenCanvas?eh:rh}var lh=Object.freeze({__proto__:null,_detectPlatform:ah,BasePlatform:Xl,BasicPlatform:eh,DomPlatform:rh});let ch="transparent",qb={boolean(l,i,o){return o>.5?i:l},color(l,i,o){let f=Ft(l||ch),p=f.valid&&Ft(i||ch);return p&&p.valid?p.mix(f,o).hexString():i},number(l,i,o){return l+(i-l)*o}};class uh{constructor(i,o,f,p){let m=o[f];p=Ws([i.to,p,m,i.from]);let b=Ws([i.from,m,p]);this._active=!0,this._fn=i.fn||qb[i.type||typeof b],this._easing=Vs[i.easing]||Vs.linear,this._start=Math.floor(Date.now()+(i.delay||0)),this._duration=this._total=Math.floor(i.duration),this._loop=!!i.loop,this._target=o,this._prop=f,this._from=b,this._to=p,this._promises=void 0}active(){return this._active}update(i,o,f){if(this._active){this._notify(!1);let p=this._target[this._prop],m=f-this._start,b=this._duration-m;this._start=f,this._duration=Math.floor(Math.max(b,i.duration)),this._total+=m,this._loop=!!i.loop,this._to=Ws([i.to,o,p,i.from]),this._from=Ws([i.from,p,o])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(i){let o=i-this._start,f=this._duration,p=this._prop,m=this._from,b=this._loop,y=this._to,_;if(this._active=m!==y&&(b||o<f),!this._active){this._target[p]=y,this._notify(!0);return}if(o<0){this._target[p]=m;return}_=o/f%2,_=b&&_>1?2-_:_,_=this._easing(Math.min(1,Math.max(0,_))),this._target[p]=this._fn(m,y,_)}wait(){let i=this._promises||(this._promises=[]);return new Promise((o,f)=>{i.push({res:o,rej:f})})}_notify(i){let o=i?"res":"rej",f=this._promises||[];for(let p=0;p<f.length;p++)f[p][o]()}}let Xb=["x","y","borderWidth","radius","tension"],Gb=["color","borderColor","backgroundColor"];Rt.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});let Kb=Object.keys(Rt.animation);Rt.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:l=>l!=="onProgress"&&l!=="onComplete"&&l!=="fn"}),Rt.set("animations",{colors:{type:"color",properties:Gb},numbers:{type:"number",properties:Xb}}),Rt.describe("animations",{_fallback:"animation"}),Rt.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:l=>l|0}}}});class Kl{constructor(i,o){this._chart=i,this._properties=new Map,this.configure(o)}configure(i){if(!r(i))return;let o=this._properties;Object.getOwnPropertyNames(i).forEach(f=>{let p=i[f];if(!r(p))return;let m={};for(let b of Kb)m[b]=p[b];(s(p.properties)&&p.properties||[f]).forEach(b=>{(b===f||!o.has(b))&&o.set(b,m)})})}_animateOptions(i,o){let f=o.options,p=Zb(i,f);if(!p)return[];let m=this._createAnimations(p,f);return f.$shared&&Qb(i.options.$animations,f).then(()=>{i.options=f},()=>{}),m}_createAnimations(i,o){let f=this._properties,p=[],m=i.$animations||(i.$animations={}),b=Object.keys(o),y=Date.now(),_;for(_=b.length-1;_>=0;--_){let k=b[_];if(k.charAt(0)==="$")continue;if(k==="options"){p.push(...this._animateOptions(i,o));continue}let T=o[k],D=m[k],R=f.get(k);if(D)if(R&&D.active()){D.update(R,T,y);continue}else D.cancel();if(!R||!R.duration){i[k]=T;continue}m[k]=D=new uh(R,i,k,T),p.push(D)}return p}update(i,o){if(this._properties.size===0){Object.assign(i,o);return}let f=this._createAnimations(i,o);if(f.length)return Ot.add(this._chart,f),!0}}function Qb(l,i){let o=[],f=Object.keys(i);for(let p=0;p<f.length;p++){let m=l[f[p]];m&&m.active()&&o.push(m.wait())}return Promise.all(o)}function Zb(l,i){if(!i)return;let o=l.options;if(!o){l.options=i;return}return o.$shared&&(l.options=o=Object.assign({},o,{$shared:!1,$animations:{}})),o}function fh(l,i){let o=l&&l.options||{},f=o.reverse,p=o.min===void 0?i:0,m=o.max===void 0?i:0;return{start:f?m:p,end:f?p:m}}function Jb(l,i,o){if(o===!1)return!1;let f=fh(l,o),p=fh(i,o);return{top:p.end,right:f.end,bottom:p.start,left:f.start}}function jb(l){let i,o,f,p;return r(l)?(i=l.top,o=l.right,f=l.bottom,p=l.left):i=o=f=p=l,{top:i,right:o,bottom:f,left:p,disabled:l===!1}}function hh(l,i){let o=[],f=l._getSortedDatasetMetas(i),p,m;for(p=0,m=f.length;p<m;++p)o.push(f[p].index);return o}function dh(l,i,o,f={}){let p=l.keys,m=f.mode==="single",b,y,_,k;if(i!==null){for(b=0,y=p.length;b<y;++b){if(_=+p[b],_===o){if(f.all)continue;break}k=l.values[_],c(k)&&(m||i===0||Tt(i)===Tt(k))&&(i+=k)}return i}}function t0(l){let i=Object.keys(l),o=new Array(i.length),f,p,m;for(f=0,p=i.length;f<p;++f)m=i[f],o[f]={x:m,y:l[m]};return o}function ph(l,i){let o=l&&l.options.stacked;return o||o===void 0&&i.stack!==void 0}function e0(l,i,o){return`${l.id}.${i.id}.${o.stack||o.type}`}function n0(l){let{min:i,max:o,minDefined:f,maxDefined:p}=l.getUserBounds();return{min:f?i:Number.NEGATIVE_INFINITY,max:p?o:Number.POSITIVE_INFINITY}}function i0(l,i,o){let f=l[i]||(l[i]={});return f[o]||(f[o]={})}function gh(l,i,o,f){for(let p of i.getMatchingVisibleMetas(f).reverse()){let m=l[p.index];if(o&&m>0||!o&&m<0)return p.index}return null}function mh(l,i){let{chart:o,_cachedMeta:f}=l,p=o._stacks||(o._stacks={}),{iScale:m,vScale:b,index:y}=f,_=m.axis,k=b.axis,T=e0(m,b,f),D=i.length,R;for(let F=0;F<D;++F){let B=i[F],{[_]:V,[k]:W}=B,q=B._stacks||(B._stacks={});R=q[k]=i0(p,T,V),R[y]=W,R._top=gh(R,b,!0,f.type),R._bottom=gh(R,b,!1,f.type)}}function Ql(l,i){let o=l.scales;return Object.keys(o).filter(f=>o[f].axis===i).shift()}function s0(l,i){return Kn(l,{active:!1,dataset:void 0,datasetIndex:i,index:i,mode:"default",type:"dataset"})}function o0(l,i,o){return Kn(l,{active:!1,dataIndex:i,parsed:void 0,raw:void 0,element:o,index:i,mode:"default",type:"data"})}function zo(l,i){let o=l.controller.index,f=l.vScale&&l.vScale.axis;if(f){i=i||l._parsed;for(let p of i){let m=p._stacks;if(!m||m[f]===void 0||m[f][o]===void 0)return;delete m[f][o]}}}let Zl=l=>l==="reset"||l==="none",bh=(l,i)=>i?l:Object.assign({},l),r0=(l,i,o)=>l&&!i.hidden&&i._stacked&&{keys:hh(o,!0),values:null};class fn{constructor(i,o){this.chart=i,this._ctx=i.ctx,this.index=o,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){let i=this._cachedMeta;this.configure(),this.linkScales(),i._stacked=ph(i.vScale,i),this.addElements()}updateIndex(i){this.index!==i&&zo(this._cachedMeta),this.index=i}linkScales(){let i=this.chart,o=this._cachedMeta,f=this.getDataset(),p=(D,R,F,B)=>D==="x"?R:D==="r"?B:F,m=o.xAxisID=u(f.xAxisID,Ql(i,"x")),b=o.yAxisID=u(f.yAxisID,Ql(i,"y")),y=o.rAxisID=u(f.rAxisID,Ql(i,"r")),_=o.indexAxis,k=o.iAxisID=p(_,m,b,y),T=o.vAxisID=p(_,b,m,y);o.xScale=this.getScaleForId(m),o.yScale=this.getScaleForId(b),o.rScale=this.getScaleForId(y),o.iScale=this.getScaleForId(k),o.vScale=this.getScaleForId(T)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(i){return this.chart.scales[i]}_getOtherScale(i){let o=this._cachedMeta;return i===o.iScale?o.vScale:o.iScale}reset(){this._update("reset")}_destroy(){let i=this._cachedMeta;this._data&&Ln(this._data,this),i._stacked&&zo(i)}_dataCheck(){let i=this.getDataset(),o=i.data||(i.data=[]),f=this._data;if(r(o))this._data=t0(o);else if(f!==o){if(f){Ln(f,this);let p=this._cachedMeta;zo(p),p._parsed=[]}o&&Object.isExtensible(o)&&qn(o,this),this._syncList=[],this._data=o}}addElements(){let i=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(i.dataset=new this.datasetElementType)}buildOrUpdateElements(i){let o=this._cachedMeta,f=this.getDataset(),p=!1;this._dataCheck();let m=o._stacked;o._stacked=ph(o.vScale,o),o.stack!==f.stack&&(p=!0,zo(o),o.stack=f.stack),this._resyncElements(i),(p||m!==o._stacked)&&mh(this,o._parsed)}configure(){let i=this.chart.config,o=i.datasetScopeKeys(this._type),f=i.getOptionScopes(this.getDataset(),o,!0);this.options=i.createResolver(f,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(i,o){let{_cachedMeta:f,_data:p}=this,{iScale:m,_stacked:b}=f,y=m.axis,_=i===0&&o===p.length?!0:f._sorted,k=i>0&&f._parsed[i-1],T,D,R;if(this._parsing===!1)f._parsed=p,f._sorted=!0,R=p;else{s(p[i])?R=this.parseArrayData(f,p,i,o):r(p[i])?R=this.parseObjectData(f,p,i,o):R=this.parsePrimitiveData(f,p,i,o);let F=()=>D[y]===null||k&&D[y]<k[y];for(T=0;T<o;++T)f._parsed[T+i]=D=R[T],_&&(F()&&(_=!1),k=D);f._sorted=_}b&&mh(this,R)}parsePrimitiveData(i,o,f,p){let{iScale:m,vScale:b}=i,y=m.axis,_=b.axis,k=m.getLabels(),T=m===b,D=new Array(p),R,F,B;for(R=0,F=p;R<F;++R)B=R+f,D[R]={[y]:T||m.parse(k[B],B),[_]:b.parse(o[B],B)};return D}parseArrayData(i,o,f,p){let{xScale:m,yScale:b}=i,y=new Array(p),_,k,T,D;for(_=0,k=p;_<k;++_)T=_+f,D=o[T],y[_]={x:m.parse(D[0],T),y:b.parse(D[1],T)};return y}parseObjectData(i,o,f,p){let{xScale:m,yScale:b}=i,{xAxisKey:y="x",yAxisKey:_="y"}=this._parsing,k=new Array(p),T,D,R,F;for(T=0,D=p;T<D;++T)R=T+f,F=o[R],k[T]={x:m.parse(I(F,y),R),y:b.parse(I(F,_),R)};return k}getParsed(i){return this._cachedMeta._parsed[i]}getDataElement(i){return this._cachedMeta.data[i]}applyStack(i,o,f){let p=this.chart,m=this._cachedMeta,b=o[i.axis],y={keys:hh(p,!0),values:o._stacks[i.axis]};return dh(y,b,m.index,{mode:f})}updateRangeFromParsed(i,o,f,p){let m=f[o.axis],b=m===null?NaN:m,y=p&&f._stacks[o.axis];p&&y&&(p.values=y,b=dh(p,m,this._cachedMeta.index)),i.min=Math.min(i.min,b),i.max=Math.max(i.max,b)}getMinMax(i,o){let f=this._cachedMeta,p=f._parsed,m=f._sorted&&i===f.iScale,b=p.length,y=this._getOtherScale(i),_=r0(o,f,this.chart),k={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:T,max:D}=n0(y),R,F;function B(){F=p[R];let V=F[y.axis];return!c(F[i.axis])||T>V||D<V}for(R=0;R<b&&!(!B()&&(this.updateRangeFromParsed(k,i,F,_),m));++R);if(m){for(R=b-1;R>=0;--R)if(!B()){this.updateRangeFromParsed(k,i,F,_);break}}return k}getAllParsedValues(i){let o=this._cachedMeta._parsed,f=[],p,m,b;for(p=0,m=o.length;p<m;++p)b=o[p][i.axis],c(b)&&f.push(b);return f}getMaxOverflow(){return!1}getLabelAndValue(i){let o=this._cachedMeta,f=o.iScale,p=o.vScale,m=this.getParsed(i);return{label:f?""+f.getLabelForValue(m[f.axis]):"",value:p?""+p.getLabelForValue(m[p.axis]):""}}_update(i){let o=this._cachedMeta;this.update(i||"default"),o._clip=jb(u(this.options.clip,Jb(o.xScale,o.yScale,this.getMaxOverflow())))}update(i){}draw(){let i=this._ctx,o=this.chart,f=this._cachedMeta,p=f.data||[],m=o.chartArea,b=[],y=this._drawStart||0,_=this._drawCount||p.length-y,k=this.options.drawActiveElementsOnTop,T;for(f.dataset&&f.dataset.draw(i,m,y,_),T=y;T<y+_;++T){let D=p[T];D.hidden||(D.active&&k?b.push(D):D.draw(i,m))}for(T=0;T<b.length;++T)b[T].draw(i,m)}getStyle(i,o){let f=o?"active":"default";return i===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(f):this.resolveDataElementOptions(i||0,f)}getContext(i,o,f){let p=this.getDataset(),m;if(i>=0&&i<this._cachedMeta.data.length){let b=this._cachedMeta.data[i];m=b.$context||(b.$context=o0(this.getContext(),i,b)),m.parsed=this.getParsed(i),m.raw=p.data[i],m.index=m.dataIndex=i}else m=this.$context||(this.$context=s0(this.chart.getContext(),this.index)),m.dataset=p,m.index=m.datasetIndex=this.index;return m.active=!!o,m.mode=f,m}resolveDatasetElementOptions(i){return this._resolveElementOptions(this.datasetElementType.id,i)}resolveDataElementOptions(i,o){return this._resolveElementOptions(this.dataElementType.id,o,i)}_resolveElementOptions(i,o="default",f){let p=o==="active",m=this._cachedDataOpts,b=i+"-"+o,y=m[b],_=this.enableOptionSharing&&G(f);if(y)return bh(y,_);let k=this.chart.config,T=k.datasetElementScopeKeys(this._type,i),D=p?[`${i}Hover`,"hover",i,""]:[i,""],R=k.getOptionScopes(this.getDataset(),T),F=Object.keys(Rt.elements[i]),B=()=>this.getContext(f,p),V=k.resolveNamedOptions(R,F,B,D);return V.$shared&&(V.$shared=_,m[b]=Object.freeze(bh(V,_))),V}_resolveAnimations(i,o,f){let p=this.chart,m=this._cachedDataOpts,b=`animation-${o}`,y=m[b];if(y)return y;let _;if(p.options.animation!==!1){let T=this.chart.config,D=T.datasetAnimationScopeKeys(this._type,o),R=T.getOptionScopes(this.getDataset(),D);_=T.createResolver(R,this.getContext(i,f,o))}let k=new Kl(p,_&&_.animations);return _&&_._cacheable&&(m[b]=Object.freeze(k)),k}getSharedOptions(i){if(i.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},i))}includeOptions(i,o){return!o||Zl(i)||this.chart._animationsDisabled}_getSharedOptions(i,o){let f=this.resolveDataElementOptions(i,o),p=this._sharedOptions,m=this.getSharedOptions(f),b=this.includeOptions(o,m)||m!==p;return this.updateSharedOptions(m,o,f),{sharedOptions:m,includeOptions:b}}updateElement(i,o,f,p){Zl(p)?Object.assign(i,f):this._resolveAnimations(o,p).update(i,f)}updateSharedOptions(i,o,f){i&&!Zl(o)&&this._resolveAnimations(void 0,o).update(i,f)}_setStyle(i,o,f,p){i.active=p;let m=this.getStyle(o,p);this._resolveAnimations(o,f,p).update(i,{options:!p&&this.getSharedOptions(m)||m})}removeHoverStyle(i,o,f){this._setStyle(i,f,"active",!1)}setHoverStyle(i,o,f){this._setStyle(i,f,"active",!0)}_removeDatasetHoverStyle(){let i=this._cachedMeta.dataset;i&&this._setStyle(i,void 0,"active",!1)}_setDatasetHoverStyle(){let i=this._cachedMeta.dataset;i&&this._setStyle(i,void 0,"active",!0)}_resyncElements(i){let o=this._data,f=this._cachedMeta.data;for(let[y,_,k]of this._syncList)this[y](_,k);this._syncList=[];let p=f.length,m=o.length,b=Math.min(m,p);b&&this.parse(0,b),m>p?this._insertElements(p,m-p,i):m<p&&this._removeElements(m,p-m)}_insertElements(i,o,f=!0){let p=this._cachedMeta,m=p.data,b=i+o,y,_=k=>{for(k.length+=o,y=k.length-1;y>=b;y--)k[y]=k[y-o]};for(_(m),y=i;y<b;++y)m[y]=new this.dataElementType;this._parsing&&_(p._parsed),this.parse(i,o),f&&this.updateElements(m,i,o,"reset")}updateElements(i,o,f,p){}_removeElements(i,o){let f=this._cachedMeta;if(this._parsing){let p=f._parsed.splice(i,o);f._stacked&&zo(f,p)}f.data.splice(i,o)}_sync(i){if(this._parsing)this._syncList.push(i);else{let[o,f,p]=i;this[o](f,p)}this.chart._dataChanges.push([this.index,...i])}_onDataPush(){let i=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-i,i])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(i,o){o&&this._sync(["_removeElements",i,o]);let f=arguments.length-2;f&&this._sync(["_insertElements",i,f])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}fn.defaults={},fn.prototype.datasetElementType=null,fn.prototype.dataElementType=null;class hn{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(i){let{x:o,y:f}=this.getProps(["x","y"],i);return{x:o,y:f}}hasValue(){return Lt(this.x)&&Lt(this.y)}getProps(i,o){let f=this.$animations;if(!o||!f)return this;let p={};return i.forEach(m=>{p[m]=f[m]&&f[m].active()?f[m]._to:this[m]}),p}}hn.defaults={},hn.defaultRoutes=void 0;let vh={values(l){return s(l)?l:""+l},numeric(l,i,o){if(l===0)return"0";let f=this.chart.options.locale,p,m=l;if(o.length>1){let k=Math.max(Math.abs(o[0].value),Math.abs(o[o.length-1].value));(k<1e-4||k>1e15)&&(p="scientific"),m=a0(l,o)}let b=wt(Math.abs(m)),y=Math.max(Math.min(-1*Math.floor(b),20),0),_={notation:p,minimumFractionDigits:y,maximumFractionDigits:y};return Object.assign(_,this.options.ticks.format),Hs(l,f,_)},logarithmic(l,i,o){if(l===0)return"0";let f=l/Math.pow(10,Math.floor(wt(l)));return f===1||f===2||f===5?vh.numeric.call(this,l,i,o):""}};function a0(l,i){let o=i.length>3?i[2].value-i[1].value:i[1].value-i[0].value;return Math.abs(o)>=1&&l!==Math.floor(l)&&(o=l-Math.floor(l)),o}var No={formatters:vh};Rt.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(l,i)=>i.lineWidth,tickColor:(l,i)=>i.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:No.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),Rt.route("scale.ticks","color","","color"),Rt.route("scale.grid","color","","borderColor"),Rt.route("scale.grid","borderColor","","borderColor"),Rt.route("scale.title","color","","color"),Rt.describe("scale",{_fallback:!1,_scriptable:l=>!l.startsWith("before")&&!l.startsWith("after")&&l!=="callback"&&l!=="parser",_indexable:l=>l!=="borderDash"&&l!=="tickBorderDash"}),Rt.describe("scales",{_fallback:"scale"}),Rt.describe("scale.ticks",{_scriptable:l=>l!=="backdropPadding"&&l!=="callback",_indexable:l=>l!=="backdropPadding"});function l0(l,i){let o=l.options.ticks,f=o.maxTicksLimit||c0(l),p=o.major.enabled?f0(i):[],m=p.length,b=p[0],y=p[m-1],_=[];if(m>f)return h0(i,_,p,m/f),_;let k=u0(p,i,f);if(m>0){let T,D,R=m>1?Math.round((y-b)/(m-1)):null;for(qr(i,_,k,e(R)?0:b-R,b),T=0,D=m-1;T<D;T++)qr(i,_,k,p[T],p[T+1]);return qr(i,_,k,y,e(R)?i.length:y+R),_}return qr(i,_,k),_}function c0(l){let i=l.options.offset,o=l._tickSize(),f=l._length/o+(i?0:1),p=l._maxLength/o;return Math.floor(Math.min(f,p))}function u0(l,i,o){let f=d0(l),p=i.length/o;if(!f)return Math.max(p,1);let m=Xt(f);for(let b=0,y=m.length-1;b<y;b++){let _=m[b];if(_>p)return _}return Math.max(p,1)}function f0(l){let i=[],o,f;for(o=0,f=l.length;o<f;o++)l[o].major&&i.push(o);return i}function h0(l,i,o,f){let p=0,m=o[0],b;for(f=Math.ceil(f),b=0;b<l.length;b++)b===m&&(i.push(l[b]),p++,m=o[p*f])}function qr(l,i,o,f,p){let m=u(f,0),b=Math.min(u(p,l.length),l.length),y=0,_,k,T;for(o=Math.ceil(o),p&&(_=p-f,o=_/Math.floor(_/o)),T=m;T<0;)y++,T=Math.round(m+y*o);for(k=Math.max(m,0);k<b;k++)k===T&&(i.push(l[k]),y++,T=Math.round(m+y*o))}function d0(l){let i=l.length,o,f;if(i<2)return!1;for(f=l[0],o=1;o<i;++o)if(l[o]-l[o-1]!==f)return!1;return f}let p0=l=>l==="left"?"right":l==="right"?"left":l,yh=(l,i,o)=>i==="top"||i==="left"?l[i]+o:l[i]-o;function xh(l,i){let o=[],f=l.length/i,p=l.length,m=0;for(;m<p;m+=f)o.push(l[Math.floor(m)]);return o}function g0(l,i,o){let f=l.ticks.length,p=Math.min(i,f-1),m=l._startPixel,b=l._endPixel,y=1e-6,_=l.getPixelForTick(p),k;if(!(o&&(f===1?k=Math.max(_-m,b-_):i===0?k=(l.getPixelForTick(1)-_)/2:k=(_-l.getPixelForTick(p-1))/2,_+=p<i?k:-k,_<m-y||_>b+y)))return _}function m0(l,i){v(l,o=>{let f=o.gc,p=f.length/2,m;if(p>i){for(m=0;m<p;++m)delete o.data[f[m]];f.splice(0,p)}})}function Vo(l){return l.drawTicks?l.tickLength:0}function _h(l,i){if(!l.display)return 0;let o=we(l.font,i),f=ze(l.padding);return(s(l.text)?l.text.length:1)*o.lineHeight+f.height}function b0(l,i){return Kn(l,{scale:i,type:"scale"})}function v0(l,i,o){return Kn(l,{tick:o,index:i,type:"tick"})}function y0(l,i,o){let f=di(l);return(o&&i!=="right"||!o&&i==="right")&&(f=p0(f)),f}function x0(l,i,o,f){let{top:p,left:m,bottom:b,right:y,chart:_}=l,{chartArea:k,scales:T}=_,D=0,R,F,B,V=b-p,W=y-m;if(l.isHorizontal()){if(F=ve(f,m,y),r(o)){let q=Object.keys(o)[0],Q=o[q];B=T[q].getPixelForValue(Q)+V-i}else o==="center"?B=(k.bottom+k.top)/2+V-i:B=yh(l,o,i);R=y-m}else{if(r(o)){let q=Object.keys(o)[0],Q=o[q];F=T[q].getPixelForValue(Q)-W+i}else o==="center"?F=(k.left+k.right)/2-W+i:F=yh(l,o,i);B=ve(f,b,p),D=o==="left"?-ot:ot}return{titleX:F,titleY:B,maxWidth:R,rotation:D}}class Ci extends hn{constructor(i){super(),this.id=i.id,this.type=i.type,this.options=void 0,this.ctx=i.ctx,this.chart=i.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(i){this.options=i.setContext(this.getContext()),this.axis=i.axis,this._userMin=this.parse(i.min),this._userMax=this.parse(i.max),this._suggestedMin=this.parse(i.suggestedMin),this._suggestedMax=this.parse(i.suggestedMax)}parse(i,o){return i}getUserBounds(){let{_userMin:i,_userMax:o,_suggestedMin:f,_suggestedMax:p}=this;return i=h(i,Number.POSITIVE_INFINITY),o=h(o,Number.NEGATIVE_INFINITY),f=h(f,Number.POSITIVE_INFINITY),p=h(p,Number.NEGATIVE_INFINITY),{min:h(i,f),max:h(o,p),minDefined:c(i),maxDefined:c(o)}}getMinMax(i){let{min:o,max:f,minDefined:p,maxDefined:m}=this.getUserBounds(),b;if(p&&m)return{min:o,max:f};let y=this.getMatchingVisibleMetas();for(let _=0,k=y.length;_<k;++_)b=y[_].controller.getMinMax(this,i),p||(o=Math.min(o,b.min)),m||(f=Math.max(f,b.max));return o=m&&o>f?f:o,f=p&&o>f?o:f,{min:h(o,h(f,o)),max:h(f,h(o,f))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let i=this.chart.data;return this.options.labels||(this.isHorizontal()?i.xLabels:i.yLabels)||i.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){g(this.options.beforeUpdate,[this])}update(i,o,f){let{beginAtZero:p,grace:m,ticks:b}=this.options,y=b.sampleSize;this.beforeUpdate(),this.maxWidth=i,this.maxHeight=o,this._margins=f=Object.assign({left:0,right:0,top:0,bottom:0},f),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+f.left+f.right:this.height+f.top+f.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Wf(this,m,p),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let _=y<this.ticks.length;this._convertTicksToLabels(_?xh(this.ticks,y):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),b.display&&(b.autoSkip||b.source==="auto")&&(this.ticks=l0(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),_&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let i=this.options.reverse,o,f;this.isHorizontal()?(o=this.left,f=this.right):(o=this.top,f=this.bottom,i=!i),this._startPixel=o,this._endPixel=f,this._reversePixels=i,this._length=f-o,this._alignToPixels=this.options.alignToPixels}afterUpdate(){g(this.options.afterUpdate,[this])}beforeSetDimensions(){g(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){g(this.options.afterSetDimensions,[this])}_callHooks(i){this.chart.notifyPlugins(i,this.getContext()),g(this.options[i],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){g(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(i){let o=this.options.ticks,f,p,m;for(f=0,p=i.length;f<p;f++)m=i[f],m.label=g(o.callback,[m.value,f,i],this)}afterTickToLabelConversion(){g(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){g(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let i=this.options,o=i.ticks,f=this.ticks.length,p=o.minRotation||0,m=o.maxRotation,b=p,y,_,k;if(!this._isVisible()||!o.display||p>=m||f<=1||!this.isHorizontal()){this.labelRotation=p;return}let T=this._getLabelSizes(),D=T.widest.width,R=T.highest.height,F=te(this.chart.width-D,0,this.maxWidth);y=i.offset?this.maxWidth/f:F/(f-1),D+6>y&&(y=F/(f-(i.offset?.5:1)),_=this.maxHeight-Vo(i.grid)-o.padding-_h(i.title,this.chart.options.font),k=Math.sqrt(D*D+R*R),b=ce(Math.min(Math.asin(te((T.highest.height+6)/y,-1,1)),Math.asin(te(_/k,-1,1))-Math.asin(te(R/k,-1,1)))),b=Math.max(p,Math.min(m,b))),this.labelRotation=b}afterCalculateLabelRotation(){g(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){g(this.options.beforeFit,[this])}fit(){let i={width:0,height:0},{chart:o,options:{ticks:f,title:p,grid:m}}=this,b=this._isVisible(),y=this.isHorizontal();if(b){let _=_h(p,o.options.font);if(y?(i.width=this.maxWidth,i.height=Vo(m)+_):(i.height=this.maxHeight,i.width=Vo(m)+_),f.display&&this.ticks.length){let{first:k,last:T,widest:D,highest:R}=this._getLabelSizes(),F=f.padding*2,B=Mt(this.labelRotation),V=Math.cos(B),W=Math.sin(B);if(y){let q=f.mirror?0:W*D.width+V*R.height;i.height=Math.min(this.maxHeight,i.height+q+F)}else{let q=f.mirror?0:V*D.width+W*R.height;i.width=Math.min(this.maxWidth,i.width+q+F)}this._calculatePadding(k,T,W,V)}}this._handleMargins(),y?(this.width=this._length=o.width-this._margins.left-this._margins.right,this.height=i.height):(this.width=i.width,this.height=this._length=o.height-this._margins.top-this._margins.bottom)}_calculatePadding(i,o,f,p){let{ticks:{align:m,padding:b},position:y}=this.options,_=this.labelRotation!==0,k=y!=="top"&&this.axis==="x";if(this.isHorizontal()){let T=this.getPixelForTick(0)-this.left,D=this.right-this.getPixelForTick(this.ticks.length-1),R=0,F=0;_?k?(R=p*i.width,F=f*o.height):(R=f*i.height,F=p*o.width):m==="start"?F=o.width:m==="end"?R=i.width:m!=="inner"&&(R=i.width/2,F=o.width/2),this.paddingLeft=Math.max((R-T+b)*this.width/(this.width-T),0),this.paddingRight=Math.max((F-D+b)*this.width/(this.width-D),0)}else{let T=o.height/2,D=i.height/2;m==="start"?(T=0,D=i.height):m==="end"&&(T=o.height,D=0),this.paddingTop=T+b,this.paddingBottom=D+b}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){g(this.options.afterFit,[this])}isHorizontal(){let{axis:i,position:o}=this.options;return o==="top"||o==="bottom"||i==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(i){this.beforeTickToLabelConversion(),this.generateTickLabels(i);let o,f;for(o=0,f=i.length;o<f;o++)e(i[o].label)&&(i.splice(o,1),f--,o--);this.afterTickToLabelConversion()}_getLabelSizes(){let i=this._labelSizes;if(!i){let o=this.options.ticks.sampleSize,f=this.ticks;o<f.length&&(f=xh(f,o)),this._labelSizes=i=this._computeLabelSizes(f,f.length)}return i}_computeLabelSizes(i,o){let{ctx:f,_longestTextCache:p}=this,m=[],b=[],y=0,_=0,k,T,D,R,F,B,V,W,q,Q,it;for(k=0;k<o;++k){if(R=i[k].label,F=this._resolveTickFontOptions(k),f.font=B=F.string,V=p[B]=p[B]||{data:{},gc:[]},W=F.lineHeight,q=Q=0,!e(R)&&!s(R))q=Eo(f,V.data,V.gc,q,R),Q=W;else if(s(R))for(T=0,D=R.length;T<D;++T)it=R[T],!e(it)&&!s(it)&&(q=Eo(f,V.data,V.gc,q,it),Q+=W);m.push(q),b.push(Q),y=Math.max(q,y),_=Math.max(Q,_)}m0(p,o);let nt=m.indexOf(y),j=b.indexOf(_),ft=ht=>({width:m[ht]||0,height:b[ht]||0});return{first:ft(0),last:ft(o-1),widest:ft(nt),highest:ft(j),widths:m,heights:b}}getLabelForValue(i){return i}getPixelForValue(i,o){return NaN}getValueForPixel(i){}getPixelForTick(i){let o=this.ticks;return i<0||i>o.length-1?null:this.getPixelForValue(o[i].value)}getPixelForDecimal(i){this._reversePixels&&(i=1-i);let o=this._startPixel+i*this._length;return Un(this._alignToPixels?_i(this.chart,o,0):o)}getDecimalForPixel(i){let o=(i-this._startPixel)/this._length;return this._reversePixels?1-o:o}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:i,max:o}=this;return i<0&&o<0?o:i>0&&o>0?i:0}getContext(i){let o=this.ticks||[];if(i>=0&&i<o.length){let f=o[i];return f.$context||(f.$context=v0(this.getContext(),i,f))}return this.$context||(this.$context=b0(this.chart.getContext(),this))}_tickSize(){let i=this.options.ticks,o=Mt(this.labelRotation),f=Math.abs(Math.cos(o)),p=Math.abs(Math.sin(o)),m=this._getLabelSizes(),b=i.autoSkipPadding||0,y=m?m.widest.width+b:0,_=m?m.highest.height+b:0;return this.isHorizontal()?_*f>y*p?y/f:_/p:_*p<y*f?_/f:y/p}_isVisible(){let i=this.options.display;return i!=="auto"?!!i:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(i){let o=this.axis,f=this.chart,p=this.options,{grid:m,position:b}=p,y=m.offset,_=this.isHorizontal(),T=this.ticks.length+(y?1:0),D=Vo(m),R=[],F=m.setContext(this.getContext()),B=F.drawBorder?F.borderWidth:0,V=B/2,W=function(Dt){return _i(f,Dt,B)},q,Q,it,nt,j,ft,ht,Pt,xt,$t,Ut,Bt;if(b==="top")q=W(this.bottom),ft=this.bottom-D,Pt=q-V,$t=W(i.top)+V,Bt=i.bottom;else if(b==="bottom")q=W(this.top),$t=i.top,Bt=W(i.bottom)-V,ft=q+V,Pt=this.top+D;else if(b==="left")q=W(this.right),j=this.right-D,ht=q-V,xt=W(i.left)+V,Ut=i.right;else if(b==="right")q=W(this.left),xt=i.left,Ut=W(i.right)-V,j=q+V,ht=this.left+D;else if(o==="x"){if(b==="center")q=W((i.top+i.bottom)/2+.5);else if(r(b)){let Dt=Object.keys(b)[0],Pe=b[Dt];q=W(this.chart.scales[Dt].getPixelForValue(Pe))}$t=i.top,Bt=i.bottom,ft=q+V,Pt=ft+D}else if(o==="y"){if(b==="center")q=W((i.left+i.right)/2);else if(r(b)){let Dt=Object.keys(b)[0],Pe=b[Dt];q=W(this.chart.scales[Dt].getPixelForValue(Pe))}j=q-V,ht=j-D,xt=i.left,Ut=i.right}let ke=u(p.ticks.maxTicksLimit,T),Ze=Math.max(1,Math.ceil(T/ke));for(Q=0;Q<T;Q+=Ze){let Dt=m.setContext(this.getContext(Q)),Pe=Dt.lineWidth,xe=Dt.color,ns=Dt.borderDash||[],bc=Dt.borderDashOffset,Us=Dt.tickWidth,fa=Dt.tickColor,qs=Dt.tickBorderDash||[],Uo=Dt.tickBorderDashOffset;it=g0(this,Q,y),it!==void 0&&(nt=_i(f,it,Pe),_?j=ht=xt=Ut=nt:ft=Pt=$t=Bt=nt,R.push({tx1:j,ty1:ft,tx2:ht,ty2:Pt,x1:xt,y1:$t,x2:Ut,y2:Bt,width:Pe,color:xe,borderDash:ns,borderDashOffset:bc,tickWidth:Us,tickColor:fa,tickBorderDash:qs,tickBorderDashOffset:Uo}))}return this._ticksLength=T,this._borderValue=q,R}_computeLabelItems(i){let o=this.axis,f=this.options,{position:p,ticks:m}=f,b=this.isHorizontal(),y=this.ticks,{align:_,crossAlign:k,padding:T,mirror:D}=m,R=Vo(f.grid),F=R+T,B=D?-T:F,V=-Mt(this.labelRotation),W=[],q,Q,it,nt,j,ft,ht,Pt,xt,$t,Ut,Bt,ke="middle";if(p==="top")ft=this.bottom-B,ht=this._getXAxisLabelAlignment();else if(p==="bottom")ft=this.top+B,ht=this._getXAxisLabelAlignment();else if(p==="left"){let Dt=this._getYAxisLabelAlignment(R);ht=Dt.textAlign,j=Dt.x}else if(p==="right"){let Dt=this._getYAxisLabelAlignment(R);ht=Dt.textAlign,j=Dt.x}else if(o==="x"){if(p==="center")ft=(i.top+i.bottom)/2+F;else if(r(p)){let Dt=Object.keys(p)[0],Pe=p[Dt];ft=this.chart.scales[Dt].getPixelForValue(Pe)+F}ht=this._getXAxisLabelAlignment()}else if(o==="y"){if(p==="center")j=(i.left+i.right)/2-F;else if(r(p)){let Dt=Object.keys(p)[0],Pe=p[Dt];j=this.chart.scales[Dt].getPixelForValue(Pe)}ht=this._getYAxisLabelAlignment(R).textAlign}o==="y"&&(_==="start"?ke="top":_==="end"&&(ke="bottom"));let Ze=this._getLabelSizes();for(q=0,Q=y.length;q<Q;++q){it=y[q],nt=it.label;let Dt=m.setContext(this.getContext(q));Pt=this.getPixelForTick(q)+m.labelOffset,xt=this._resolveTickFontOptions(q),$t=xt.lineHeight,Ut=s(nt)?nt.length:1;let Pe=Ut/2,xe=Dt.color,ns=Dt.textStrokeColor,bc=Dt.textStrokeWidth,Us=ht;b?(j=Pt,ht==="inner"&&(q===Q-1?Us=this.options.reverse?"left":"right":q===0?Us=this.options.reverse?"right":"left":Us="center"),p==="top"?k==="near"||V!==0?Bt=-Ut*$t+$t/2:k==="center"?Bt=-Ze.highest.height/2-Pe*$t+$t:Bt=-Ze.highest.height+$t/2:k==="near"||V!==0?Bt=$t/2:k==="center"?Bt=Ze.highest.height/2-Pe*$t:Bt=Ze.highest.height-Ut*$t,D&&(Bt*=-1)):(ft=Pt,Bt=(1-Ut)*$t/2);let fa;if(Dt.showLabelBackdrop){let qs=ze(Dt.backdropPadding),Uo=Ze.heights[q],vc=Ze.widths[q],yc=ft+Bt-qs.top,xc=j-qs.left;switch(ke){case"middle":yc-=Uo/2;break;case"bottom":yc-=Uo;break}switch(ht){case"center":xc-=vc/2;break;case"right":xc-=vc;break}fa={left:xc,top:yc,width:vc+qs.width,height:Uo+qs.height,color:Dt.backdropColor}}W.push({rotation:V,label:nt,font:xt,color:xe,strokeColor:ns,strokeWidth:bc,textOffset:Bt,textAlign:Us,textBaseline:ke,translation:[j,ft],backdrop:fa})}return W}_getXAxisLabelAlignment(){let{position:i,ticks:o}=this.options;if(-Mt(this.labelRotation))return i==="top"?"left":"right";let p="center";return o.align==="start"?p="left":o.align==="end"?p="right":o.align==="inner"&&(p="inner"),p}_getYAxisLabelAlignment(i){let{position:o,ticks:{crossAlign:f,mirror:p,padding:m}}=this.options,b=this._getLabelSizes(),y=i+m,_=b.widest.width,k,T;return o==="left"?p?(T=this.right+m,f==="near"?k="left":f==="center"?(k="center",T+=_/2):(k="right",T+=_)):(T=this.right-y,f==="near"?k="right":f==="center"?(k="center",T-=_/2):(k="left",T=this.left)):o==="right"?p?(T=this.left+m,f==="near"?k="right":f==="center"?(k="center",T-=_/2):(k="left",T-=_)):(T=this.left+y,f==="near"?k="left":f==="center"?(k="center",T+=_/2):(k="right",T=this.right)):k="right",{textAlign:k,x:T}}_computeLabelArea(){if(this.options.ticks.mirror)return;let i=this.chart,o=this.options.position;if(o==="left"||o==="right")return{top:0,left:this.left,bottom:i.height,right:this.right};if(o==="top"||o==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:i.width}}drawBackground(){let{ctx:i,options:{backgroundColor:o},left:f,top:p,width:m,height:b}=this;o&&(i.save(),i.fillStyle=o,i.fillRect(f,p,m,b),i.restore())}getLineWidthForValue(i){let o=this.options.grid;if(!this._isVisible()||!o.display)return 0;let p=this.ticks.findIndex(m=>m.value===i);return p>=0?o.setContext(this.getContext(p)).lineWidth:0}drawGrid(i){let o=this.options.grid,f=this.ctx,p=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(i)),m,b,y=(_,k,T)=>{!T.width||!T.color||(f.save(),f.lineWidth=T.width,f.strokeStyle=T.color,f.setLineDash(T.borderDash||[]),f.lineDashOffset=T.borderDashOffset,f.beginPath(),f.moveTo(_.x,_.y),f.lineTo(k.x,k.y),f.stroke(),f.restore())};if(o.display)for(m=0,b=p.length;m<b;++m){let _=p[m];o.drawOnChartArea&&y({x:_.x1,y:_.y1},{x:_.x2,y:_.y2},_),o.drawTicks&&y({x:_.tx1,y:_.ty1},{x:_.tx2,y:_.ty2},{color:_.tickColor,width:_.tickWidth,borderDash:_.tickBorderDash,borderDashOffset:_.tickBorderDashOffset})}}drawBorder(){let{chart:i,ctx:o,options:{grid:f}}=this,p=f.setContext(this.getContext()),m=f.drawBorder?p.borderWidth:0;if(!m)return;let b=f.setContext(this.getContext(0)).lineWidth,y=this._borderValue,_,k,T,D;this.isHorizontal()?(_=_i(i,this.left,m)-m/2,k=_i(i,this.right,b)+b/2,T=D=y):(T=_i(i,this.top,m)-m/2,D=_i(i,this.bottom,b)+b/2,_=k=y),o.save(),o.lineWidth=p.borderWidth,o.strokeStyle=p.borderColor,o.beginPath(),o.moveTo(_,T),o.lineTo(k,D),o.stroke(),o.restore()}drawLabels(i){if(!this.options.ticks.display)return;let f=this.ctx,p=this._computeLabelArea();p&&Do(f,p);let m=this._labelItems||(this._labelItems=this._computeLabelItems(i)),b,y;for(b=0,y=m.length;b<y;++b){let _=m[b],k=_.font,T=_.label;_.backdrop&&(f.fillStyle=_.backdrop.color,f.fillRect(_.backdrop.left,_.backdrop.top,_.backdrop.width,_.backdrop.height));let D=_.textOffset;wi(f,T,0,D,k,_)}p&&So(f)}drawTitle(){let{ctx:i,options:{position:o,title:f,reverse:p}}=this;if(!f.display)return;let m=we(f.font),b=ze(f.padding),y=f.align,_=m.lineHeight/2;o==="bottom"||o==="center"||r(o)?(_+=b.bottom,s(f.text)&&(_+=m.lineHeight*(f.text.length-1))):_+=b.top;let{titleX:k,titleY:T,maxWidth:D,rotation:R}=x0(this,_,o,y);wi(i,f.text,0,0,m,{color:f.color,maxWidth:D,rotation:R,textAlign:y0(y,o,p),textBaseline:"middle",translation:[k,T]})}draw(i){this._isVisible()&&(this.drawBackground(),this.drawGrid(i),this.drawBorder(),this.drawTitle(),this.drawLabels(i))}_layers(){let i=this.options,o=i.ticks&&i.ticks.z||0,f=u(i.grid&&i.grid.z,-1);return!this._isVisible()||this.draw!==Ci.prototype.draw?[{z:o,draw:p=>{this.draw(p)}}]:[{z:f,draw:p=>{this.drawBackground(),this.drawGrid(p),this.drawTitle()}},{z:f+1,draw:()=>{this.drawBorder()}},{z:o,draw:p=>{this.drawLabels(p)}}]}getMatchingVisibleMetas(i){let o=this.chart.getSortedVisibleDatasetMetas(),f=this.axis+"AxisID",p=[],m,b;for(m=0,b=o.length;m<b;++m){let y=o[m];y[f]===this.id&&(!i||y.type===i)&&p.push(y)}return p}_resolveTickFontOptions(i){let o=this.options.ticks.setContext(this.getContext(i));return we(o.font)}_maxDigits(){let i=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/i}}class Xr{constructor(i,o,f){this.type=i,this.scope=o,this.override=f,this.items=Object.create(null)}isForType(i){return Object.prototype.isPrototypeOf.call(this.type.prototype,i.prototype)}register(i){let o=Object.getPrototypeOf(i),f;k0(o)&&(f=this.register(o));let p=this.items,m=i.id,b=this.scope+"."+m;if(!m)throw new Error("class does not have id: "+i);return m in p||(p[m]=i,_0(i,b,f),this.override&&Rt.override(i.id,i.overrides)),b}get(i){return this.items[i]}unregister(i){let o=this.items,f=i.id,p=this.scope;f in o&&delete o[f],p&&f in Rt[p]&&(delete Rt[p][f],this.override&&delete Gt[f])}}function _0(l,i,o){let f=O(Object.create(null),[o?Rt.get(o):{},Rt.get(i),l.defaults]);Rt.set(i,f),l.defaultRoutes&&w0(i,l.defaultRoutes),l.descriptors&&Rt.describe(i,l.descriptors)}function w0(l,i){Object.keys(i).forEach(o=>{let f=o.split("."),p=f.pop(),m=[l].concat(f).join("."),b=i[o].split("."),y=b.pop(),_=b.join(".");Rt.route(m,p,_,y)})}function k0(l){return"id"in l&&"defaults"in l}class P0{constructor(){this.controllers=new Xr(fn,"datasets",!0),this.elements=new Xr(hn,"elements"),this.plugins=new Xr(Object,"plugins"),this.scales=new Xr(Ci,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...i){this._each("register",i)}remove(...i){this._each("unregister",i)}addControllers(...i){this._each("register",i,this.controllers)}addElements(...i){this._each("register",i,this.elements)}addPlugins(...i){this._each("register",i,this.plugins)}addScales(...i){this._each("register",i,this.scales)}getController(i){return this._get(i,this.controllers,"controller")}getElement(i){return this._get(i,this.elements,"element")}getPlugin(i){return this._get(i,this.plugins,"plugin")}getScale(i){return this._get(i,this.scales,"scale")}removeControllers(...i){this._each("unregister",i,this.controllers)}removeElements(...i){this._each("unregister",i,this.elements)}removePlugins(...i){this._each("unregister",i,this.plugins)}removeScales(...i){this._each("unregister",i,this.scales)}_each(i,o,f){[...o].forEach(p=>{let m=f||this._getRegistryForType(p);f||m.isForType(p)||m===this.plugins&&p.id?this._exec(i,m,p):v(p,b=>{let y=f||this._getRegistryForType(b);this._exec(i,y,b)})})}_exec(i,o,f){let p=$(i);g(f["before"+p],[],f),o[i](f),g(f["after"+p],[],f)}_getRegistryForType(i){for(let o=0;o<this._typedRegistries.length;o++){let f=this._typedRegistries[o];if(f.isForType(i))return f}return this.plugins}_get(i,o,f){let p=o.get(i);if(p===void 0)throw new Error('"'+i+'" is not a registered '+f+".");return p}}var _n=new P0;class C0{constructor(){this._init=[]}notify(i,o,f,p){o==="beforeInit"&&(this._init=this._createDescriptors(i,!0),this._notify(this._init,i,"install"));let m=p?this._descriptors(i).filter(p):this._descriptors(i),b=this._notify(m,i,o,f);return o==="afterDestroy"&&(this._notify(m,i,"stop"),this._notify(this._init,i,"uninstall")),b}_notify(i,o,f,p){p=p||{};for(let m of i){let b=m.plugin,y=b[f],_=[o,p,m.options];if(g(y,_,b)===!1&&p.cancelable)return!1}return!0}invalidate(){e(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(i){if(this._cache)return this._cache;let o=this._cache=this._createDescriptors(i);return this._notifyStateChanges(i),o}_createDescriptors(i,o){let f=i&&i.config,p=u(f.options&&f.options.plugins,{}),m=M0(f);return p===!1&&!o?[]:T0(i,m,p,o)}_notifyStateChanges(i){let o=this._oldCache||[],f=this._cache,p=(m,b)=>m.filter(y=>!b.some(_=>y.plugin.id===_.plugin.id));this._notify(p(o,f),i,"stop"),this._notify(p(f,o),i,"start")}}function M0(l){let i={},o=[],f=Object.keys(_n.plugins.items);for(let m=0;m<f.length;m++)o.push(_n.getPlugin(f[m]));let p=l.plugins||[];for(let m=0;m<p.length;m++){let b=p[m];o.indexOf(b)===-1&&(o.push(b),i[b.id]=!0)}return{plugins:o,localIds:i}}function O0(l,i){return!i&&l===!1?null:l===!0?{}:l}function T0(l,{plugins:i,localIds:o},f,p){let m=[],b=l.getContext();for(let y of i){let _=y.id,k=O0(f[_],p);k!==null&&m.push({plugin:y,options:A0(l.config,{plugin:y,local:o[_]},k,b)})}return m}function A0(l,{plugin:i,local:o},f,p){let m=l.pluginScopeKeys(i),b=l.getOptionScopes(f,m);return o&&i.defaults&&b.push(i.defaults),l.createResolver(b,p,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Jl(l,i){let o=Rt.datasets[l]||{};return((i.datasets||{})[l]||{}).indexAxis||i.indexAxis||o.indexAxis||"x"}function E0(l,i){let o=l;return l==="_index_"?o=i:l==="_value_"&&(o=i==="x"?"y":"x"),o}function D0(l,i){return l===i?"_index_":"_value_"}function S0(l){if(l==="top"||l==="bottom")return"x";if(l==="left"||l==="right")return"y"}function jl(l,i){return l==="x"||l==="y"?l:i.axis||S0(i.position)||l.charAt(0).toLowerCase()}function L0(l,i){let o=Gt[l.type]||{scales:{}},f=i.scales||{},p=Jl(l.type,i),m=Object.create(null),b=Object.create(null);return Object.keys(f).forEach(y=>{let _=f[y];if(!r(_))return console.error(`Invalid scale configuration for scale: ${y}`);if(_._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${y}`);let k=jl(y,_),T=D0(k,p),D=o.scales||{};m[k]=m[k]||y,b[y]=M(Object.create(null),[{axis:k},_,D[k],D[T]])}),l.data.datasets.forEach(y=>{let _=y.type||l.type,k=y.indexAxis||Jl(_,i),D=(Gt[_]||{}).scales||{};Object.keys(D).forEach(R=>{let F=E0(R,k),B=y[F+"AxisID"]||m[F]||F;b[B]=b[B]||Object.create(null),M(b[B],[{axis:F},f[B],D[R]])})}),Object.keys(b).forEach(y=>{let _=b[y];M(_,[Rt.scales[_.type],Rt.scale])}),b}function wh(l){let i=l.options||(l.options={});i.plugins=u(i.plugins,{}),i.scales=L0(l,i)}function kh(l){return l=l||{},l.datasets=l.datasets||[],l.labels=l.labels||[],l}function R0(l){return l=l||{},l.data=kh(l.data),wh(l),l}let Ph=new Map,Ch=new Set;function Gr(l,i){let o=Ph.get(l);return o||(o=i(),Ph.set(l,o),Ch.add(o)),o}let Ho=(l,i,o)=>{let f=I(i,o);f!==void 0&&l.add(f)};class I0{constructor(i){this._config=R0(i),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(i){this._config.type=i}get data(){return this._config.data}set data(i){this._config.data=kh(i)}get options(){return this._config.options}set options(i){this._config.options=i}get plugins(){return this._config.plugins}update(){let i=this._config;this.clearCache(),wh(i)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(i){return Gr(i,()=>[[`datasets.${i}`,""]])}datasetAnimationScopeKeys(i,o){return Gr(`${i}.transition.${o}`,()=>[[`datasets.${i}.transitions.${o}`,`transitions.${o}`],[`datasets.${i}`,""]])}datasetElementScopeKeys(i,o){return Gr(`${i}-${o}`,()=>[[`datasets.${i}.elements.${o}`,`datasets.${i}`,`elements.${o}`,""]])}pluginScopeKeys(i){let o=i.id,f=this.type;return Gr(`${f}-plugin-${o}`,()=>[[`plugins.${o}`,...i.additionalOptionScopes||[]]])}_cachedScopes(i,o){let f=this._scopeCache,p=f.get(i);return(!p||o)&&(p=new Map,f.set(i,p)),p}getOptionScopes(i,o,f){let{options:p,type:m}=this,b=this._cachedScopes(i,f),y=b.get(o);if(y)return y;let _=new Set;o.forEach(T=>{i&&(_.add(i),T.forEach(D=>Ho(_,i,D))),T.forEach(D=>Ho(_,p,D)),T.forEach(D=>Ho(_,Gt[m]||{},D)),T.forEach(D=>Ho(_,Rt,D)),T.forEach(D=>Ho(_,ie,D))});let k=Array.from(_);return k.length===0&&k.push(Object.create(null)),Ch.has(o)&&b.set(o,k),k}chartOptionScopes(){let{options:i,type:o}=this;return[i,Gt[o]||{},Rt.datasets[o]||{},{type:o},Rt,ie]}resolveNamedOptions(i,o,f,p=[""]){let m={$shared:!0},{resolver:b,subPrefixes:y}=Mh(this._resolverCache,i,p),_=b;if(B0(b,o)){m.$shared=!1,f=tt(f)?f():f;let k=this.createResolver(i,f,y);_=ji(b,f,k)}for(let k of o)m[k]=_[k];return m}createResolver(i,o,f=[""],p){let{resolver:m}=Mh(this._resolverCache,i,f);return r(o)?ji(m,o,void 0,p):m}}function Mh(l,i,o){let f=l.get(i);f||(f=new Map,l.set(i,f));let p=o.join(),m=f.get(p);return m||(m={resolver:Nr(i,o),subPrefixes:o.filter(y=>!y.toLowerCase().includes("hover"))},f.set(p,m)),m}let F0=l=>r(l)&&Object.getOwnPropertyNames(l).reduce((i,o)=>i||tt(l[o]),!1);function B0(l,i){let{isScriptable:o,isIndexable:f}=Fl(l);for(let p of i){let m=o(p),b=f(p),y=(b||m)&&l[p];if(m&&(tt(y)||F0(y))||b&&s(y))return!0}return!1}var z0="3.9.1";let N0=["top","bottom","left","right","chartArea"];function Oh(l,i){return l==="top"||l==="bottom"||N0.indexOf(l)===-1&&i==="x"}function Th(l,i){return function(o,f){return o[l]===f[l]?o[i]-f[i]:o[l]-f[l]}}function Ah(l){let i=l.chart,o=i.options.animation;i.notifyPlugins("afterRender"),g(o&&o.onComplete,[l],i)}function V0(l){let i=l.chart,o=i.options.animation;g(o&&o.onProgress,[l],i)}function Eh(l){return Ji()&&typeof l=="string"?l=document.getElementById(l):l&&l.length&&(l=l[0]),l&&l.canvas&&(l=l.canvas),l}let Kr={},Dh=l=>{let i=Eh(l);return Object.values(Kr).filter(o=>o.canvas===i).pop()};function H0(l,i,o){let f=Object.keys(l);for(let p of f){let m=+p;if(m>=i){let b=l[p];delete l[p],(o>0||m>i)&&(l[m+o]=b)}}}function W0(l,i,o,f){return!o||l.type==="mouseout"?null:f?i:l}class pe{constructor(i,o){let f=this.config=new I0(o),p=Eh(i),m=Dh(p);if(m)throw new Error("Canvas is already in use. Chart with ID '"+m.id+"' must be destroyed before the canvas with ID '"+m.canvas.id+"' can be reused.");let b=f.createResolver(f.chartOptionScopes(),this.getContext());this.platform=new(f.platform||ah(p)),this.platform.updateConfig(f);let y=this.platform.acquireContext(p,b.aspectRatio),_=y&&y.canvas,k=_&&_.height,T=_&&_.width;if(this.id=t(),this.ctx=y,this.canvas=_,this.width=T,this.height=k,this._options=b,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new C0,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Xi(D=>this.update(D),b.resizeDelay||0),this._dataChanges=[],Kr[this.id]=this,!y||!_){console.error("Failed to create chart: can't acquire context from the given item");return}Ot.listen(this,"complete",Ah),Ot.listen(this,"progress",V0),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:i,maintainAspectRatio:o},width:f,height:p,_aspectRatio:m}=this;return e(i)?o&&m?m:p?f/p:null:i}get data(){return this.config.data}set data(i){this.config.data=i}get options(){return this._options}set options(i){this.config.options=i}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Sl(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Rl(this.canvas,this.ctx),this}stop(){return Ot.stop(this),this}resize(i,o){Ot.running(this)?this._resizeBeforeDraw={width:i,height:o}:this._resize(i,o)}_resize(i,o){let f=this.options,p=this.canvas,m=f.maintainAspectRatio&&this.aspectRatio,b=this.platform.getMaximumSize(p,i,o,m),y=f.devicePixelRatio||this.platform.getDevicePixelRatio(),_=this.width?"resize":"attach";this.width=b.width,this.height=b.height,this._aspectRatio=this.aspectRatio,Sl(this,y,!0)&&(this.notifyPlugins("resize",{size:b}),g(f.onResize,[this,b],this),this.attached&&this._doResize(_)&&this.render())}ensureScalesHaveIDs(){let o=this.options.scales||{};v(o,(f,p)=>{f.id=p})}buildOrUpdateScales(){let i=this.options,o=i.scales,f=this.scales,p=Object.keys(f).reduce((b,y)=>(b[y]=!1,b),{}),m=[];o&&(m=m.concat(Object.keys(o).map(b=>{let y=o[b],_=jl(b,y),k=_==="r",T=_==="x";return{options:y,dposition:k?"chartArea":T?"bottom":"left",dtype:k?"radialLinear":T?"category":"linear"}}))),v(m,b=>{let y=b.options,_=y.id,k=jl(_,y),T=u(y.type,b.dtype);(y.position===void 0||Oh(y.position,k)!==Oh(b.dposition))&&(y.position=b.dposition),p[_]=!0;let D=null;if(_ in f&&f[_].type===T)D=f[_];else{let R=_n.getScale(T);D=new R({id:_,type:T,ctx:this.ctx,chart:this}),f[D.id]=D}D.init(y,i)}),v(p,(b,y)=>{b||delete f[y]}),v(f,b=>{Ne.configure(this,b,b.options),Ne.addBox(this,b)})}_updateMetasets(){let i=this._metasets,o=this.data.datasets.length,f=i.length;if(i.sort((p,m)=>p.index-m.index),f>o){for(let p=o;p<f;++p)this._destroyDatasetMeta(p);i.splice(o,f-o)}this._sortedMetasets=i.slice(0).sort(Th("order","index"))}_removeUnreferencedMetasets(){let{_metasets:i,data:{datasets:o}}=this;i.length>o.length&&delete this._stacks,i.forEach((f,p)=>{o.filter(m=>m===f._dataset).length===0&&this._destroyDatasetMeta(p)})}buildOrUpdateControllers(){let i=[],o=this.data.datasets,f,p;for(this._removeUnreferencedMetasets(),f=0,p=o.length;f<p;f++){let m=o[f],b=this.getDatasetMeta(f),y=m.type||this.config.type;if(b.type&&b.type!==y&&(this._destroyDatasetMeta(f),b=this.getDatasetMeta(f)),b.type=y,b.indexAxis=m.indexAxis||Jl(y,this.options),b.order=m.order||0,b.index=f,b.label=""+m.label,b.visible=this.isDatasetVisible(f),b.controller)b.controller.updateIndex(f),b.controller.linkScales();else{let _=_n.getController(y),{datasetElementType:k,dataElementType:T}=Rt.datasets[y];Object.assign(_.prototype,{dataElementType:_n.getElement(T),datasetElementType:k&&_n.getElement(k)}),b.controller=new _(this,f),i.push(b.controller)}}return this._updateMetasets(),i}_resetElements(){v(this.data.datasets,(i,o)=>{this.getDatasetMeta(o).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(i){let o=this.config;o.update();let f=this._options=o.createResolver(o.chartOptionScopes(),this.getContext()),p=this._animationsDisabled=!f.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:i,cancelable:!0})===!1)return;let m=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let b=0;for(let k=0,T=this.data.datasets.length;k<T;k++){let{controller:D}=this.getDatasetMeta(k),R=!p&&m.indexOf(D)===-1;D.buildOrUpdateElements(R),b=Math.max(+D.getMaxOverflow(),b)}b=this._minPadding=f.layout.autoPadding?b:0,this._updateLayout(b),p||v(m,k=>{k.reset()}),this._updateDatasets(i),this.notifyPlugins("afterUpdate",{mode:i}),this._layers.sort(Th("z","_idx"));let{_active:y,_lastEvent:_}=this;_?this._eventHandler(_,!0):y.length&&this._updateHoverStyles(y,y,!0),this.render()}_updateScales(){v(this.scales,i=>{Ne.removeBox(this,i)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let i=this.options,o=new Set(Object.keys(this._listeners)),f=new Set(i.events);(!et(o,f)||!!this._responsiveListeners!==i.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:i}=this,o=this._getUniformDataChanges()||[];for(let{method:f,start:p,count:m}of o){let b=f==="_removeElements"?-m:m;H0(i,p,b)}}_getUniformDataChanges(){let i=this._dataChanges;if(!i||!i.length)return;this._dataChanges=[];let o=this.data.datasets.length,f=m=>new Set(i.filter(b=>b[0]===m).map((b,y)=>y+","+b.splice(1).join(","))),p=f(0);for(let m=1;m<o;m++)if(!et(p,f(m)))return;return Array.from(p).map(m=>m.split(",")).map(m=>({method:m[1],start:+m[2],count:+m[3]}))}_updateLayout(i){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ne.update(this,this.width,this.height,i);let o=this.chartArea,f=o.width<=0||o.height<=0;this._layers=[],v(this.boxes,p=>{f&&p.position==="chartArea"||(p.configure&&p.configure(),this._layers.push(...p._layers()))},this),this._layers.forEach((p,m)=>{p._idx=m}),this.notifyPlugins("afterLayout")}_updateDatasets(i){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:i,cancelable:!0})!==!1){for(let o=0,f=this.data.datasets.length;o<f;++o)this.getDatasetMeta(o).controller.configure();for(let o=0,f=this.data.datasets.length;o<f;++o)this._updateDataset(o,tt(i)?i({datasetIndex:o}):i);this.notifyPlugins("afterDatasetsUpdate",{mode:i})}}_updateDataset(i,o){let f=this.getDatasetMeta(i),p={meta:f,index:i,mode:o,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",p)!==!1&&(f.controller._update(o),p.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",p))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ot.has(this)?this.attached&&!Ot.running(this)&&Ot.start(this):(this.draw(),Ah({chart:this})))}draw(){let i;if(this._resizeBeforeDraw){let{width:f,height:p}=this._resizeBeforeDraw;this._resize(f,p),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let o=this._layers;for(i=0;i<o.length&&o[i].z<=0;++i)o[i].draw(this.chartArea);for(this._drawDatasets();i<o.length;++i)o[i].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(i){let o=this._sortedMetasets,f=[],p,m;for(p=0,m=o.length;p<m;++p){let b=o[p];(!i||b.visible)&&f.push(b)}return f}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let i=this.getSortedVisibleDatasetMetas();for(let o=i.length-1;o>=0;--o)this._drawDataset(i[o]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(i){let o=this.ctx,f=i._clip,p=!f.disabled,m=this.chartArea,b={meta:i,index:i.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",b)!==!1&&(p&&Do(o,{left:f.left===!1?0:m.left-f.left,right:f.right===!1?this.width:m.right+f.right,top:f.top===!1?0:m.top-f.top,bottom:f.bottom===!1?this.height:m.bottom+f.bottom}),i.controller.draw(),p&&So(o),b.cancelable=!1,this.notifyPlugins("afterDatasetDraw",b))}isPointInArea(i){return Bs(i,this.chartArea,this._minPadding)}getElementsAtEventForMode(i,o,f,p){let m=Kf.modes[o];return typeof m=="function"?m(this,i,f,p):[]}getDatasetMeta(i){let o=this.data.datasets[i],f=this._metasets,p=f.filter(m=>m&&m._dataset===o).pop();return p||(p={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:o&&o.order||0,index:i,_dataset:o,_parsed:[],_sorted:!1},f.push(p)),p}getContext(){return this.$context||(this.$context=Kn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(i){let o=this.data.datasets[i];if(!o)return!1;let f=this.getDatasetMeta(i);return typeof f.hidden=="boolean"?!f.hidden:!o.hidden}setDatasetVisibility(i,o){let f=this.getDatasetMeta(i);f.hidden=!o}toggleDataVisibility(i){this._hiddenIndices[i]=!this._hiddenIndices[i]}getDataVisibility(i){return!this._hiddenIndices[i]}_updateVisibility(i,o,f){let p=f?"show":"hide",m=this.getDatasetMeta(i),b=m.controller._resolveAnimations(void 0,p);G(o)?(m.data[o].hidden=!f,this.update()):(this.setDatasetVisibility(i,f),b.update(m,{visible:f}),this.update(y=>y.datasetIndex===i?p:void 0))}hide(i,o){this._updateVisibility(i,o,!1)}show(i,o){this._updateVisibility(i,o,!0)}_destroyDatasetMeta(i){let o=this._metasets[i];o&&o.controller&&o.controller._destroy(),delete this._metasets[i]}_stop(){let i,o;for(this.stop(),Ot.remove(this),i=0,o=this.data.datasets.length;i<o;++i)this._destroyDatasetMeta(i)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:i,ctx:o}=this;this._stop(),this.config.clearCache(),i&&(this.unbindEvents(),Rl(i,o),this.platform.releaseContext(o),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete Kr[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...i){return this.canvas.toDataURL(...i)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let i=this._listeners,o=this.platform,f=(m,b)=>{o.addEventListener(this,m,b),i[m]=b},p=(m,b,y)=>{m.offsetX=b,m.offsetY=y,this._eventHandler(m)};v(this.options.events,m=>f(m,p))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let i=this._responsiveListeners,o=this.platform,f=(_,k)=>{o.addEventListener(this,_,k),i[_]=k},p=(_,k)=>{i[_]&&(o.removeEventListener(this,_,k),delete i[_])},m=(_,k)=>{this.canvas&&this.resize(_,k)},b,y=()=>{p("attach",y),this.attached=!0,this.resize(),f("resize",m),f("detach",b)};b=()=>{this.attached=!1,p("resize",m),this._stop(),this._resize(0,0),f("attach",y)},o.isAttached(this.canvas)?y():b()}unbindEvents(){v(this._listeners,(i,o)=>{this.platform.removeEventListener(this,o,i)}),this._listeners={},v(this._responsiveListeners,(i,o)=>{this.platform.removeEventListener(this,o,i)}),this._responsiveListeners=void 0}updateHoverStyle(i,o,f){let p=f?"set":"remove",m,b,y,_;for(o==="dataset"&&(m=this.getDatasetMeta(i[0].datasetIndex),m.controller["_"+p+"DatasetHoverStyle"]()),y=0,_=i.length;y<_;++y){b=i[y];let k=b&&this.getDatasetMeta(b.datasetIndex).controller;k&&k[p+"HoverStyle"](b.element,b.datasetIndex,b.index)}}getActiveElements(){return this._active||[]}setActiveElements(i){let o=this._active||[],f=i.map(({datasetIndex:m,index:b})=>{let y=this.getDatasetMeta(m);if(!y)throw new Error("No dataset found at index "+m);return{datasetIndex:m,element:y.data[b],index:b}});!x(f,o)&&(this._active=f,this._lastEvent=null,this._updateHoverStyles(f,o))}notifyPlugins(i,o,f){return this._plugins.notify(this,i,o,f)}_updateHoverStyles(i,o,f){let p=this.options.hover,m=(_,k)=>_.filter(T=>!k.some(D=>T.datasetIndex===D.datasetIndex&&T.index===D.index)),b=m(o,i),y=f?i:m(i,o);b.length&&this.updateHoverStyle(b,p.mode,!1),y.length&&p.mode&&this.updateHoverStyle(y,p.mode,!0)}_eventHandler(i,o){let f={event:i,replay:o,cancelable:!0,inChartArea:this.isPointInArea(i)},p=b=>(b.options.events||this.options.events).includes(i.native.type);if(this.notifyPlugins("beforeEvent",f,p)===!1)return;let m=this._handleEvent(i,o,f.inChartArea);return f.cancelable=!1,this.notifyPlugins("afterEvent",f,p),(m||f.changed)&&this.render(),this}_handleEvent(i,o,f){let{_active:p=[],options:m}=this,b=o,y=this._getActiveElements(i,p,f,b),_=lt(i),k=W0(i,this._lastEvent,f,_);f&&(this._lastEvent=null,g(m.onHover,[i,y,this],this),_&&g(m.onClick,[i,y,this],this));let T=!x(y,p);return(T||o)&&(this._active=y,this._updateHoverStyles(y,p,o)),this._lastEvent=k,T}_getActiveElements(i,o,f,p){if(i.type==="mouseout")return[];if(!f)return o;let m=this.options.hover;return this.getElementsAtEventForMode(i,m.mode,m,p)}}let Sh=()=>v(pe.instances,l=>l._plugins.invalidate()),Mi=!0;Object.defineProperties(pe,{defaults:{enumerable:Mi,value:Rt},instances:{enumerable:Mi,value:Kr},overrides:{enumerable:Mi,value:Gt},registry:{enumerable:Mi,value:_n},version:{enumerable:Mi,value:z0},getChart:{enumerable:Mi,value:Dh},register:{enumerable:Mi,value:(...l)=>{_n.add(...l),Sh()}},unregister:{enumerable:Mi,value:(...l)=>{_n.remove(...l),Sh()}}});function es(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class tc{constructor(i){this.options=i||{}}init(i){}formats(){return es()}parse(i,o){return es()}format(i,o){return es()}add(i,o,f){return es()}diff(i,o,f){return es()}startOf(i,o,f){return es()}endOf(i,o){return es()}}tc.override=function(l){Object.assign(tc.prototype,l)};var Lh={_date:tc};function $0(l,i){if(!l._cache.$bar){let o=l.getMatchingVisibleMetas(i),f=[];for(let p=0,m=o.length;p<m;p++)f=f.concat(o[p].controller.getAllParsedValues(l));l._cache.$bar=Rn(f.sort((p,m)=>p-m))}return l._cache.$bar}function Y0(l){let i=l.iScale,o=$0(i,l.type),f=i._length,p,m,b,y,_=()=>{b===32767||b===-32768||(G(y)&&(f=Math.min(f,Math.abs(b-y)||f)),y=b)};for(p=0,m=o.length;p<m;++p)b=i.getPixelForValue(o[p]),_();for(y=void 0,p=0,m=i.ticks.length;p<m;++p)b=i.getPixelForTick(p),_();return f}function U0(l,i,o,f){let p=o.barThickness,m,b;return e(p)?(m=i.min*o.categoryPercentage,b=o.barPercentage):(m=p*f,b=1),{chunk:m/f,ratio:b,start:i.pixels[l]-m/2}}function q0(l,i,o,f){let p=i.pixels,m=p[l],b=l>0?p[l-1]:null,y=l<p.length-1?p[l+1]:null,_=o.categoryPercentage;b===null&&(b=m-(y===null?i.end-i.start:y-m)),y===null&&(y=m+m-b);let k=m-(m-Math.min(b,y))/2*_;return{chunk:Math.abs(y-b)/2*_/f,ratio:o.barPercentage,start:k}}function X0(l,i,o,f){let p=o.parse(l[0],f),m=o.parse(l[1],f),b=Math.min(p,m),y=Math.max(p,m),_=b,k=y;Math.abs(b)>Math.abs(y)&&(_=y,k=b),i[o.axis]=k,i._custom={barStart:_,barEnd:k,start:p,end:m,min:b,max:y}}function Rh(l,i,o,f){return s(l)?X0(l,i,o,f):i[o.axis]=o.parse(l,f),i}function Ih(l,i,o,f){let p=l.iScale,m=l.vScale,b=p.getLabels(),y=p===m,_=[],k,T,D,R;for(k=o,T=o+f;k<T;++k)R=i[k],D={},D[p.axis]=y||p.parse(b[k],k),_.push(Rh(R,D,m,k));return _}function ec(l){return l&&l.barStart!==void 0&&l.barEnd!==void 0}function G0(l,i,o){return l!==0?Tt(l):(i.isHorizontal()?1:-1)*(i.min>=o?1:-1)}function K0(l){let i,o,f,p,m;return l.horizontal?(i=l.base>l.x,o="left",f="right"):(i=l.base<l.y,o="bottom",f="top"),i?(p="end",m="start"):(p="start",m="end"),{start:o,end:f,reverse:i,top:p,bottom:m}}function Q0(l,i,o,f){let p=i.borderSkipped,m={};if(!p){l.borderSkipped=m;return}if(p===!0){l.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:b,end:y,reverse:_,top:k,bottom:T}=K0(l);p==="middle"&&o&&(l.enableBorderRadius=!0,(o._top||0)===f?p=k:(o._bottom||0)===f?p=T:(m[Fh(T,b,y,_)]=!0,p=k)),m[Fh(p,b,y,_)]=!0,l.borderSkipped=m}function Fh(l,i,o,f){return f?(l=Z0(l,i,o),l=Bh(l,o,i)):l=Bh(l,i,o),l}function Z0(l,i,o){return l===i?o:l===o?i:l}function Bh(l,i,o){return l==="start"?i:l==="end"?o:l}function J0(l,{inflateAmount:i},o){l.inflateAmount=i==="auto"?o===1?.33:0:i}class Qr extends fn{parsePrimitiveData(i,o,f,p){return Ih(i,o,f,p)}parseArrayData(i,o,f,p){return Ih(i,o,f,p)}parseObjectData(i,o,f,p){let{iScale:m,vScale:b}=i,{xAxisKey:y="x",yAxisKey:_="y"}=this._parsing,k=m.axis==="x"?y:_,T=b.axis==="x"?y:_,D=[],R,F,B,V;for(R=f,F=f+p;R<F;++R)V=o[R],B={},B[m.axis]=m.parse(I(V,k),R),D.push(Rh(I(V,T),B,b,R));return D}updateRangeFromParsed(i,o,f,p){super.updateRangeFromParsed(i,o,f,p);let m=f._custom;m&&o===this._cachedMeta.vScale&&(i.min=Math.min(i.min,m.min),i.max=Math.max(i.max,m.max))}getMaxOverflow(){return 0}getLabelAndValue(i){let o=this._cachedMeta,{iScale:f,vScale:p}=o,m=this.getParsed(i),b=m._custom,y=ec(b)?"["+b.start+", "+b.end+"]":""+p.getLabelForValue(m[p.axis]);return{label:""+f.getLabelForValue(m[f.axis]),value:y}}initialize(){this.enableOptionSharing=!0,super.initialize();let i=this._cachedMeta;i.stack=this.getDataset().stack}update(i){let o=this._cachedMeta;this.updateElements(o.data,0,o.data.length,i)}updateElements(i,o,f,p){let m=p==="reset",{index:b,_cachedMeta:{vScale:y}}=this,_=y.getBasePixel(),k=y.isHorizontal(),T=this._getRuler(),{sharedOptions:D,includeOptions:R}=this._getSharedOptions(o,p);for(let F=o;F<o+f;F++){let B=this.getParsed(F),V=m||e(B[y.axis])?{base:_,head:_}:this._calculateBarValuePixels(F),W=this._calculateBarIndexPixels(F,T),q=(B._stacks||{})[y.axis],Q={horizontal:k,base:V.base,enableBorderRadius:!q||ec(B._custom)||b===q._top||b===q._bottom,x:k?V.head:W.center,y:k?W.center:V.head,height:k?W.size:Math.abs(V.size),width:k?Math.abs(V.size):W.size};R&&(Q.options=D||this.resolveDataElementOptions(F,i[F].active?"active":p));let it=Q.options||i[F].options;Q0(Q,it,q,b),J0(Q,it,T.ratio),this.updateElement(i[F],F,Q,p)}}_getStacks(i,o){let{iScale:f}=this._cachedMeta,p=f.getMatchingVisibleMetas(this._type).filter(_=>_.controller.options.grouped),m=f.options.stacked,b=[],y=_=>{let k=_.controller.getParsed(o),T=k&&k[_.vScale.axis];if(e(T)||isNaN(T))return!0};for(let _ of p)if(!(o!==void 0&&y(_))&&((m===!1||b.indexOf(_.stack)===-1||m===void 0&&_.stack===void 0)&&b.push(_.stack),_.index===i))break;return b.length||b.push(void 0),b}_getStackCount(i){return this._getStacks(void 0,i).length}_getStackIndex(i,o,f){let p=this._getStacks(i,f),m=o!==void 0?p.indexOf(o):-1;return m===-1?p.length-1:m}_getRuler(){let i=this.options,o=this._cachedMeta,f=o.iScale,p=[],m,b;for(m=0,b=o.data.length;m<b;++m)p.push(f.getPixelForValue(this.getParsed(m)[f.axis],m));let y=i.barThickness;return{min:y||Y0(o),pixels:p,start:f._startPixel,end:f._endPixel,stackCount:this._getStackCount(),scale:f,grouped:i.grouped,ratio:y?1:i.categoryPercentage*i.barPercentage}}_calculateBarValuePixels(i){let{_cachedMeta:{vScale:o,_stacked:f},options:{base:p,minBarLength:m}}=this,b=p||0,y=this.getParsed(i),_=y._custom,k=ec(_),T=y[o.axis],D=0,R=f?this.applyStack(o,y,f):T,F,B;R!==T&&(D=R-T,R=T),k&&(T=_.barStart,R=_.barEnd-_.barStart,T!==0&&Tt(T)!==Tt(_.barEnd)&&(D=0),D+=T);let V=!e(p)&&!k?p:D,W=o.getPixelForValue(V);if(this.chart.getDataVisibility(i)?F=o.getPixelForValue(D+R):F=W,B=F-W,Math.abs(B)<m){B=G0(B,o,b)*m,T===b&&(W-=B/2);let q=o.getPixelForDecimal(0),Q=o.getPixelForDecimal(1),it=Math.min(q,Q),nt=Math.max(q,Q);W=Math.max(Math.min(W,nt),it),F=W+B}if(W===o.getPixelForValue(b)){let q=Tt(B)*o.getLineWidthForValue(b)/2;W+=q,B-=q}return{size:B,base:W,head:F,center:F+B/2}}_calculateBarIndexPixels(i,o){let f=o.scale,p=this.options,m=p.skipNull,b=u(p.maxBarThickness,1/0),y,_;if(o.grouped){let k=m?this._getStackCount(i):o.stackCount,T=p.barThickness==="flex"?q0(i,o,p,k):U0(i,o,p,k),D=this._getStackIndex(this.index,this._cachedMeta.stack,m?i:void 0);y=T.start+T.chunk*D+T.chunk/2,_=Math.min(b,T.chunk*T.ratio)}else y=f.getPixelForValue(this.getParsed(i)[f.axis],i),_=Math.min(b,o.min*o.ratio);return{base:y-_/2,head:y+_/2,center:y,size:_}}draw(){let i=this._cachedMeta,o=i.vScale,f=i.data,p=f.length,m=0;for(;m<p;++m)this.getParsed(m)[o.axis]!==null&&f[m].draw(this._ctx)}}Qr.id="bar",Qr.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},Qr.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class Zr extends fn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(i,o,f,p){let m=super.parsePrimitiveData(i,o,f,p);for(let b=0;b<m.length;b++)m[b]._custom=this.resolveDataElementOptions(b+f).radius;return m}parseArrayData(i,o,f,p){let m=super.parseArrayData(i,o,f,p);for(let b=0;b<m.length;b++){let y=o[f+b];m[b]._custom=u(y[2],this.resolveDataElementOptions(b+f).radius)}return m}parseObjectData(i,o,f,p){let m=super.parseObjectData(i,o,f,p);for(let b=0;b<m.length;b++){let y=o[f+b];m[b]._custom=u(y&&y.r&&+y.r,this.resolveDataElementOptions(b+f).radius)}return m}getMaxOverflow(){let i=this._cachedMeta.data,o=0;for(let f=i.length-1;f>=0;--f)o=Math.max(o,i[f].size(this.resolveDataElementOptions(f))/2);return o>0&&o}getLabelAndValue(i){let o=this._cachedMeta,{xScale:f,yScale:p}=o,m=this.getParsed(i),b=f.getLabelForValue(m.x),y=p.getLabelForValue(m.y),_=m._custom;return{label:o.label,value:"("+b+", "+y+(_?", "+_:"")+")"}}update(i){let o=this._cachedMeta.data;this.updateElements(o,0,o.length,i)}updateElements(i,o,f,p){let m=p==="reset",{iScale:b,vScale:y}=this._cachedMeta,{sharedOptions:_,includeOptions:k}=this._getSharedOptions(o,p),T=b.axis,D=y.axis;for(let R=o;R<o+f;R++){let F=i[R],B=!m&&this.getParsed(R),V={},W=V[T]=m?b.getPixelForDecimal(.5):b.getPixelForValue(B[T]),q=V[D]=m?y.getBasePixel():y.getPixelForValue(B[D]);V.skip=isNaN(W)||isNaN(q),k&&(V.options=_||this.resolveDataElementOptions(R,F.active?"active":p),m&&(V.options.radius=0)),this.updateElement(F,R,V,p)}}resolveDataElementOptions(i,o){let f=this.getParsed(i),p=super.resolveDataElementOptions(i,o);p.$shared&&(p=Object.assign({},p,{$shared:!1}));let m=p.radius;return o!=="active"&&(p.radius=0),p.radius+=u(f&&f._custom,m),p}}Zr.id="bubble",Zr.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},Zr.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function j0(l,i,o){let f=1,p=1,m=0,b=0;if(i<rt){let y=l,_=y+i,k=Math.cos(y),T=Math.sin(y),D=Math.cos(_),R=Math.sin(_),F=(it,nt,j)=>en(it,y,_,!0)?1:Math.max(nt,nt*o,j,j*o),B=(it,nt,j)=>en(it,y,_,!0)?-1:Math.min(nt,nt*o,j,j*o),V=F(0,k,D),W=F(ot,T,R),q=B(ct,k,D),Q=B(ct+ot,T,R);f=(V-q)/2,p=(W-Q)/2,m=-(V+q)/2,b=-(W+Q)/2}return{ratioX:f,ratioY:p,offsetX:m,offsetY:b}}class $s extends fn{constructor(i,o){super(i,o),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(i,o){let f=this.getDataset().data,p=this._cachedMeta;if(this._parsing===!1)p._parsed=f;else{let m=_=>+f[_];if(r(f[i])){let{key:_="value"}=this._parsing;m=k=>+I(f[k],_)}let b,y;for(b=i,y=i+o;b<y;++b)p._parsed[b]=m(b)}}_getRotation(){return Mt(this.options.rotation-90)}_getCircumference(){return Mt(this.options.circumference)}_getRotationExtents(){let i=rt,o=-rt;for(let f=0;f<this.chart.data.datasets.length;++f)if(this.chart.isDatasetVisible(f)){let p=this.chart.getDatasetMeta(f).controller,m=p._getRotation(),b=p._getCircumference();i=Math.min(i,m),o=Math.max(o,m+b)}return{rotation:i,circumference:o-i}}update(i){let o=this.chart,{chartArea:f}=o,p=this._cachedMeta,m=p.data,b=this.getMaxBorderWidth()+this.getMaxOffset(m)+this.options.spacing,y=Math.max((Math.min(f.width,f.height)-b)/2,0),_=Math.min(a(this.options.cutout,y),1),k=this._getRingWeight(this.index),{circumference:T,rotation:D}=this._getRotationExtents(),{ratioX:R,ratioY:F,offsetX:B,offsetY:V}=j0(D,T,_),W=(f.width-b)/R,q=(f.height-b)/F,Q=Math.max(Math.min(W,q)/2,0),it=d(this.options.radius,Q),nt=Math.max(it*_,0),j=(it-nt)/this._getVisibleDatasetWeightTotal();this.offsetX=B*it,this.offsetY=V*it,p.total=this.calculateTotal(),this.outerRadius=it-j*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-j*k,0),this.updateElements(m,0,m.length,i)}_circumference(i,o){let f=this.options,p=this._cachedMeta,m=this._getCircumference();return o&&f.animation.animateRotate||!this.chart.getDataVisibility(i)||p._parsed[i]===null||p.data[i].hidden?0:this.calculateCircumference(p._parsed[i]*m/rt)}updateElements(i,o,f,p){let m=p==="reset",b=this.chart,y=b.chartArea,k=b.options.animation,T=(y.left+y.right)/2,D=(y.top+y.bottom)/2,R=m&&k.animateScale,F=R?0:this.innerRadius,B=R?0:this.outerRadius,{sharedOptions:V,includeOptions:W}=this._getSharedOptions(o,p),q=this._getRotation(),Q;for(Q=0;Q<o;++Q)q+=this._circumference(Q,m);for(Q=o;Q<o+f;++Q){let it=this._circumference(Q,m),nt=i[Q],j={x:T+this.offsetX,y:D+this.offsetY,startAngle:q,endAngle:q+it,circumference:it,outerRadius:B,innerRadius:F};W&&(j.options=V||this.resolveDataElementOptions(Q,nt.active?"active":p)),q+=it,this.updateElement(nt,Q,j,p)}}calculateTotal(){let i=this._cachedMeta,o=i.data,f=0,p;for(p=0;p<o.length;p++){let m=i._parsed[p];m!==null&&!isNaN(m)&&this.chart.getDataVisibility(p)&&!o[p].hidden&&(f+=Math.abs(m))}return f}calculateCircumference(i){let o=this._cachedMeta.total;return o>0&&!isNaN(i)?rt*(Math.abs(i)/o):0}getLabelAndValue(i){let o=this._cachedMeta,f=this.chart,p=f.data.labels||[],m=Hs(o._parsed[i],f.options.locale);return{label:p[i]||"",value:m}}getMaxBorderWidth(i){let o=0,f=this.chart,p,m,b,y,_;if(!i){for(p=0,m=f.data.datasets.length;p<m;++p)if(f.isDatasetVisible(p)){b=f.getDatasetMeta(p),i=b.data,y=b.controller;break}}if(!i)return 0;for(p=0,m=i.length;p<m;++p)_=y.resolveDataElementOptions(p),_.borderAlign!=="inner"&&(o=Math.max(o,_.borderWidth||0,_.hoverBorderWidth||0));return o}getMaxOffset(i){let o=0;for(let f=0,p=i.length;f<p;++f){let m=this.resolveDataElementOptions(f);o=Math.max(o,m.offset||0,m.hoverOffset||0)}return o}_getRingWeightOffset(i){let o=0;for(let f=0;f<i;++f)this.chart.isDatasetVisible(f)&&(o+=this._getRingWeight(f));return o}_getRingWeight(i){return Math.max(u(this.chart.data.datasets[i].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}$s.id="doughnut",$s.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},$s.descriptors={_scriptable:l=>l!=="spacing",_indexable:l=>l!=="spacing"},$s.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(l){let i=l.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:o}}=l.legend.options;return i.labels.map((f,p)=>{let b=l.getDatasetMeta(0).controller.getStyle(p);return{text:f,fillStyle:b.backgroundColor,strokeStyle:b.borderColor,lineWidth:b.borderWidth,pointStyle:o,hidden:!l.getDataVisibility(p),index:p}})}return[]}},onClick(l,i,o){o.chart.toggleDataVisibility(i.index),o.chart.update()}},tooltip:{callbacks:{title(){return""},label(l){let i=l.label,o=": "+l.formattedValue;return s(i)?(i=i.slice(),i[0]+=o):i+=o,i}}}}};class Jr extends fn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(i){let o=this._cachedMeta,{dataset:f,data:p=[],_dataset:m}=o,b=this.chart._animationsDisabled,{start:y,count:_}=ut(o,p,b);this._drawStart=y,this._drawCount=_,_t(o)&&(y=0,_=p.length),f._chart=this.chart,f._datasetIndex=this.index,f._decimated=!!m._decimated,f.points=p;let k=this.resolveDatasetElementOptions(i);this.options.showLine||(k.borderWidth=0),k.segment=this.options.segment,this.updateElement(f,void 0,{animated:!b,options:k},i),this.updateElements(p,y,_,i)}updateElements(i,o,f,p){let m=p==="reset",{iScale:b,vScale:y,_stacked:_,_dataset:k}=this._cachedMeta,{sharedOptions:T,includeOptions:D}=this._getSharedOptions(o,p),R=b.axis,F=y.axis,{spanGaps:B,segment:V}=this.options,W=Lt(B)?B:Number.POSITIVE_INFINITY,q=this.chart._animationsDisabled||m||p==="none",Q=o>0&&this.getParsed(o-1);for(let it=o;it<o+f;++it){let nt=i[it],j=this.getParsed(it),ft=q?nt:{},ht=e(j[F]),Pt=ft[R]=b.getPixelForValue(j[R],it),xt=ft[F]=m||ht?y.getBasePixel():y.getPixelForValue(_?this.applyStack(y,j,_):j[F],it);ft.skip=isNaN(Pt)||isNaN(xt)||ht,ft.stop=it>0&&Math.abs(j[R]-Q[R])>W,V&&(ft.parsed=j,ft.raw=k.data[it]),D&&(ft.options=T||this.resolveDataElementOptions(it,nt.active?"active":p)),q||this.updateElement(nt,it,ft,p),Q=j}}getMaxOverflow(){let i=this._cachedMeta,o=i.dataset,f=o.options&&o.options.borderWidth||0,p=i.data||[];if(!p.length)return f;let m=p[0].size(this.resolveDataElementOptions(0)),b=p[p.length-1].size(this.resolveDataElementOptions(p.length-1));return Math.max(f,m,b)/2}draw(){let i=this._cachedMeta;i.dataset.updateControlPoints(this.chart.chartArea,i.iScale.axis),super.draw()}}Jr.id="line",Jr.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},Jr.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class jr extends fn{constructor(i,o){super(i,o),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(i){let o=this._cachedMeta,f=this.chart,p=f.data.labels||[],m=Hs(o._parsed[i].r,f.options.locale);return{label:p[i]||"",value:m}}parseObjectData(i,o,f,p){return Nl.bind(this)(i,o,f,p)}update(i){let o=this._cachedMeta.data;this._updateRadius(),this.updateElements(o,0,o.length,i)}getMinMax(){let i=this._cachedMeta,o={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return i.data.forEach((f,p)=>{let m=this.getParsed(p).r;!isNaN(m)&&this.chart.getDataVisibility(p)&&(m<o.min&&(o.min=m),m>o.max&&(o.max=m))}),o}_updateRadius(){let i=this.chart,o=i.chartArea,f=i.options,p=Math.min(o.right-o.left,o.bottom-o.top),m=Math.max(p/2,0),b=Math.max(f.cutoutPercentage?m/100*f.cutoutPercentage:1,0),y=(m-b)/i.getVisibleDatasetCount();this.outerRadius=m-y*this.index,this.innerRadius=this.outerRadius-y}updateElements(i,o,f,p){let m=p==="reset",b=this.chart,_=b.options.animation,k=this._cachedMeta.rScale,T=k.xCenter,D=k.yCenter,R=k.getIndexAngle(0)-.5*ct,F=R,B,V=360/this.countVisibleElements();for(B=0;B<o;++B)F+=this._computeAngle(B,p,V);for(B=o;B<o+f;B++){let W=i[B],q=F,Q=F+this._computeAngle(B,p,V),it=b.getDataVisibility(B)?k.getDistanceFromCenterForValue(this.getParsed(B).r):0;F=Q,m&&(_.animateScale&&(it=0),_.animateRotate&&(q=Q=R));let nt={x:T,y:D,innerRadius:0,outerRadius:it,startAngle:q,endAngle:Q,options:this.resolveDataElementOptions(B,W.active?"active":p)};this.updateElement(W,B,nt,p)}}countVisibleElements(){let i=this._cachedMeta,o=0;return i.data.forEach((f,p)=>{!isNaN(this.getParsed(p).r)&&this.chart.getDataVisibility(p)&&o++}),o}_computeAngle(i,o,f){return this.chart.getDataVisibility(i)?Mt(this.resolveDataElementOptions(i,o).angle||f):0}}jr.id="polarArea",jr.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},jr.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(l){let i=l.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:o}}=l.legend.options;return i.labels.map((f,p)=>{let b=l.getDatasetMeta(0).controller.getStyle(p);return{text:f,fillStyle:b.backgroundColor,strokeStyle:b.borderColor,lineWidth:b.borderWidth,pointStyle:o,hidden:!l.getDataVisibility(p),index:p}})}return[]}},onClick(l,i,o){o.chart.toggleDataVisibility(i.index),o.chart.update()}},tooltip:{callbacks:{title(){return""},label(l){return l.chart.data.labels[l.dataIndex]+": "+l.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class nc extends $s{}nc.id="pie",nc.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class ta extends fn{getLabelAndValue(i){let o=this._cachedMeta.vScale,f=this.getParsed(i);return{label:o.getLabels()[i],value:""+o.getLabelForValue(f[o.axis])}}parseObjectData(i,o,f,p){return Nl.bind(this)(i,o,f,p)}update(i){let o=this._cachedMeta,f=o.dataset,p=o.data||[],m=o.iScale.getLabels();if(f.points=p,i!=="resize"){let b=this.resolveDatasetElementOptions(i);this.options.showLine||(b.borderWidth=0);let y={_loop:!0,_fullLoop:m.length===p.length,options:b};this.updateElement(f,void 0,y,i)}this.updateElements(p,0,p.length,i)}updateElements(i,o,f,p){let m=this._cachedMeta.rScale,b=p==="reset";for(let y=o;y<o+f;y++){let _=i[y],k=this.resolveDataElementOptions(y,_.active?"active":p),T=m.getPointPositionForValue(y,this.getParsed(y).r),D=b?m.xCenter:T.x,R=b?m.yCenter:T.y,F={x:D,y:R,angle:T.angle,skip:isNaN(D)||isNaN(R),options:k};this.updateElement(_,y,F,p)}}}ta.id="radar",ta.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},ta.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class ea extends fn{update(i){let o=this._cachedMeta,{data:f=[]}=o,p=this.chart._animationsDisabled,{start:m,count:b}=ut(o,f,p);if(this._drawStart=m,this._drawCount=b,_t(o)&&(m=0,b=f.length),this.options.showLine){let{dataset:y,_dataset:_}=o;y._chart=this.chart,y._datasetIndex=this.index,y._decimated=!!_._decimated,y.points=f;let k=this.resolveDatasetElementOptions(i);k.segment=this.options.segment,this.updateElement(y,void 0,{animated:!p,options:k},i)}this.updateElements(f,m,b,i)}addElements(){let{showLine:i}=this.options;!this.datasetElementType&&i&&(this.datasetElementType=_n.getElement("line")),super.addElements()}updateElements(i,o,f,p){let m=p==="reset",{iScale:b,vScale:y,_stacked:_,_dataset:k}=this._cachedMeta,T=this.resolveDataElementOptions(o,p),D=this.getSharedOptions(T),R=this.includeOptions(p,D),F=b.axis,B=y.axis,{spanGaps:V,segment:W}=this.options,q=Lt(V)?V:Number.POSITIVE_INFINITY,Q=this.chart._animationsDisabled||m||p==="none",it=o>0&&this.getParsed(o-1);for(let nt=o;nt<o+f;++nt){let j=i[nt],ft=this.getParsed(nt),ht=Q?j:{},Pt=e(ft[B]),xt=ht[F]=b.getPixelForValue(ft[F],nt),$t=ht[B]=m||Pt?y.getBasePixel():y.getPixelForValue(_?this.applyStack(y,ft,_):ft[B],nt);ht.skip=isNaN(xt)||isNaN($t)||Pt,ht.stop=nt>0&&Math.abs(ft[F]-it[F])>q,W&&(ht.parsed=ft,ht.raw=k.data[nt]),R&&(ht.options=D||this.resolveDataElementOptions(nt,j.active?"active":p)),Q||this.updateElement(j,nt,ht,p),it=ft}this.updateSharedOptions(D,p,T)}getMaxOverflow(){let i=this._cachedMeta,o=i.data||[];if(!this.options.showLine){let y=0;for(let _=o.length-1;_>=0;--_)y=Math.max(y,o[_].size(this.resolveDataElementOptions(_))/2);return y>0&&y}let f=i.dataset,p=f.options&&f.options.borderWidth||0;if(!o.length)return p;let m=o[0].size(this.resolveDataElementOptions(0)),b=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(p,m,b)/2}}ea.id="scatter",ea.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},ea.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(l){return"("+l.label+", "+l.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var zh=Object.freeze({__proto__:null,BarController:Qr,BubbleController:Zr,DoughnutController:$s,LineController:Jr,PolarAreaController:jr,PieController:nc,RadarController:ta,ScatterController:ea});function Nh(l,i,o){let{startAngle:f,pixelMargin:p,x:m,y:b,outerRadius:y,innerRadius:_}=i,k=p/y;l.beginPath(),l.arc(m,b,y,f-k,o+k),_>p?(k=p/_,l.arc(m,b,_,o+k,f-k,!0)):l.arc(m,b,p,o+ot,f-ot),l.closePath(),l.clip()}function tv(l){return Wr(l,["outerStart","outerEnd","innerStart","innerEnd"])}function ev(l,i,o,f){let p=tv(l.options.borderRadius),m=(o-i)/2,b=Math.min(m,f*i/2),y=_=>{let k=(o-Math.min(m,_))*f/2;return te(_,0,Math.min(m,k))};return{outerStart:y(p.outerStart),outerEnd:y(p.outerEnd),innerStart:te(p.innerStart,0,b),innerEnd:te(p.innerEnd,0,b)}}function Ys(l,i,o,f){return{x:o+l*Math.cos(i),y:f+l*Math.sin(i)}}function ic(l,i,o,f,p,m){let{x:b,y,startAngle:_,pixelMargin:k,innerRadius:T}=i,D=Math.max(i.outerRadius+f+o-k,0),R=T>0?T+f+o+k:0,F=0,B=p-_;if(f){let Dt=T>0?T-f:0,Pe=D>0?D-f:0,xe=(Dt+Pe)/2,ns=xe!==0?B*xe/(xe+f):B;F=(B-ns)/2}let V=Math.max(.001,B*D-o/ct)/D,W=(B-V)/2,q=_+W+F,Q=p-W-F,{outerStart:it,outerEnd:nt,innerStart:j,innerEnd:ft}=ev(i,R,D,Q-q),ht=D-it,Pt=D-nt,xt=q+it/ht,$t=Q-nt/Pt,Ut=R+j,Bt=R+ft,ke=q+j/Ut,Ze=Q-ft/Bt;if(l.beginPath(),m){if(l.arc(b,y,D,xt,$t),nt>0){let xe=Ys(Pt,$t,b,y);l.arc(xe.x,xe.y,nt,$t,Q+ot)}let Dt=Ys(Bt,Q,b,y);if(l.lineTo(Dt.x,Dt.y),ft>0){let xe=Ys(Bt,Ze,b,y);l.arc(xe.x,xe.y,ft,Q+ot,Ze+Math.PI)}if(l.arc(b,y,R,Q-ft/R,q+j/R,!0),j>0){let xe=Ys(Ut,ke,b,y);l.arc(xe.x,xe.y,j,ke+Math.PI,q-ot)}let Pe=Ys(ht,q,b,y);if(l.lineTo(Pe.x,Pe.y),it>0){let xe=Ys(ht,xt,b,y);l.arc(xe.x,xe.y,it,q-ot,xt)}}else{l.moveTo(b,y);let Dt=Math.cos(xt)*D+b,Pe=Math.sin(xt)*D+y;l.lineTo(Dt,Pe);let xe=Math.cos($t)*D+b,ns=Math.sin($t)*D+y;l.lineTo(xe,ns)}l.closePath()}function nv(l,i,o,f,p){let{fullCircles:m,startAngle:b,circumference:y}=i,_=i.endAngle;if(m){ic(l,i,o,f,b+rt,p);for(let k=0;k<m;++k)l.fill();isNaN(y)||(_=b+y%rt,y%rt===0&&(_+=rt))}return ic(l,i,o,f,_,p),l.fill(),_}function iv(l,i,o){let{x:f,y:p,startAngle:m,pixelMargin:b,fullCircles:y}=i,_=Math.max(i.outerRadius-b,0),k=i.innerRadius+b,T;for(o&&Nh(l,i,m+rt),l.beginPath(),l.arc(f,p,k,m+rt,m,!0),T=0;T<y;++T)l.stroke();for(l.beginPath(),l.arc(f,p,_,m,m+rt),T=0;T<y;++T)l.stroke()}function sv(l,i,o,f,p,m){let{options:b}=i,{borderWidth:y,borderJoinStyle:_}=b,k=b.borderAlign==="inner";y&&(k?(l.lineWidth=y*2,l.lineJoin=_||"round"):(l.lineWidth=y,l.lineJoin=_||"bevel"),i.fullCircles&&iv(l,i,k),k&&Nh(l,i,p),ic(l,i,o,f,p,m),l.stroke())}class na extends hn{constructor(i){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,i&&Object.assign(this,i)}inRange(i,o,f){let p=this.getProps(["x","y"],f),{angle:m,distance:b}=Fe(p,{x:i,y:o}),{startAngle:y,endAngle:_,innerRadius:k,outerRadius:T,circumference:D}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],f),R=this.options.spacing/2,B=u(D,_-y)>=rt||en(m,y,_),V=Be(b,k+R,T+R);return B&&V}getCenterPoint(i){let{x:o,y:f,startAngle:p,endAngle:m,innerRadius:b,outerRadius:y}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],i),{offset:_,spacing:k}=this.options,T=(p+m)/2,D=(b+y+k+_)/2;return{x:o+Math.cos(T)*D,y:f+Math.sin(T)*D}}tooltipPosition(i){return this.getCenterPoint(i)}draw(i){let{options:o,circumference:f}=this,p=(o.offset||0)/2,m=(o.spacing||0)/2,b=o.circular;if(this.pixelMargin=o.borderAlign==="inner"?.33:0,this.fullCircles=f>rt?Math.floor(f/rt):0,f===0||this.innerRadius<0||this.outerRadius<0)return;i.save();let y=0;if(p){y=p/2;let k=(this.startAngle+this.endAngle)/2;i.translate(Math.cos(k)*y,Math.sin(k)*y),this.circumference>=ct&&(y=p)}i.fillStyle=o.backgroundColor,i.strokeStyle=o.borderColor;let _=nv(i,this,y,m,b);sv(i,this,y,m,_,b),i.restore()}}na.id="arc",na.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0},na.defaultRoutes={backgroundColor:"backgroundColor"};function Vh(l,i,o=i){l.lineCap=u(o.borderCapStyle,i.borderCapStyle),l.setLineDash(u(o.borderDash,i.borderDash)),l.lineDashOffset=u(o.borderDashOffset,i.borderDashOffset),l.lineJoin=u(o.borderJoinStyle,i.borderJoinStyle),l.lineWidth=u(o.borderWidth,i.borderWidth),l.strokeStyle=u(o.borderColor,i.borderColor)}function ov(l,i,o){l.lineTo(o.x,o.y)}function rv(l){return l.stepped?Cf:l.tension||l.cubicInterpolationMode==="monotone"?Mf:ov}function Hh(l,i,o={}){let f=l.length,{start:p=0,end:m=f-1}=o,{start:b,end:y}=i,_=Math.max(p,b),k=Math.min(m,y),T=p<b&&m<b||p>y&&m>y;return{count:f,start:_,loop:i.loop,ilen:k<_&&!T?f+k-_:k-_}}function av(l,i,o,f){let{points:p,options:m}=i,{count:b,start:y,loop:_,ilen:k}=Hh(p,o,f),T=rv(m),{move:D=!0,reverse:R}=f||{},F,B,V;for(F=0;F<=k;++F)B=p[(y+(R?k-F:F))%b],!B.skip&&(D?(l.moveTo(B.x,B.y),D=!1):T(l,V,B,R,m.stepped),V=B);return _&&(B=p[(y+(R?k:0))%b],T(l,V,B,R,m.stepped)),!!_}function lv(l,i,o,f){let p=i.points,{count:m,start:b,ilen:y}=Hh(p,o,f),{move:_=!0,reverse:k}=f||{},T=0,D=0,R,F,B,V,W,q,Q=nt=>(b+(k?y-nt:nt))%m,it=()=>{V!==W&&(l.lineTo(T,W),l.lineTo(T,V),l.lineTo(T,q))};for(_&&(F=p[Q(0)],l.moveTo(F.x,F.y)),R=0;R<=y;++R){if(F=p[Q(R)],F.skip)continue;let nt=F.x,j=F.y,ft=nt|0;ft===B?(j<V?V=j:j>W&&(W=j),T=(D*T+nt)/++D):(it(),l.lineTo(nt,j),B=ft,D=0,V=W=j),q=j}it()}function sc(l){let i=l.options,o=i.borderDash&&i.borderDash.length;return!l._decimated&&!l._loop&&!i.tension&&i.cubicInterpolationMode!=="monotone"&&!i.stepped&&!o?lv:av}function cv(l){return l.stepped?zf:l.tension||l.cubicInterpolationMode==="monotone"?Nf:ki}function uv(l,i,o,f){let p=i._path;p||(p=i._path=new Path2D,i.path(p,o,f)&&p.closePath()),Vh(l,i.options),l.stroke(p)}function fv(l,i,o,f){let{segments:p,options:m}=i,b=sc(i);for(let y of p)Vh(l,m,y.style),l.beginPath(),b(l,i,y,{start:o,end:o+f-1})&&l.closePath(),l.stroke()}let hv=typeof Path2D=="function";function dv(l,i,o,f){hv&&!i.options.segment?uv(l,i,o,f):fv(l,i,o,f)}class Oi extends hn{constructor(i){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,i&&Object.assign(this,i)}updateControlPoints(i,o){let f=this.options;if((f.tension||f.cubicInterpolationMode==="monotone")&&!f.stepped&&!this._pointsUpdated){let p=f.spanGaps?this._loop:this._fullLoop;If(this._points,f,i,p,o),this._pointsUpdated=!0}}set points(i){this._points=i,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Uf(this,this.options.segment))}first(){let i=this.segments,o=this.points;return i.length&&o[i[0].start]}last(){let i=this.segments,o=this.points,f=i.length;return f&&o[i[f-1].end]}interpolate(i,o){let f=this.options,p=i[o],m=this.points,b=Yl(this,{property:o,start:p,end:p});if(!b.length)return;let y=[],_=cv(f),k,T;for(k=0,T=b.length;k<T;++k){let{start:D,end:R}=b[k],F=m[D],B=m[R];if(F===B){y.push(F);continue}let V=Math.abs((p-F[o])/(B[o]-F[o])),W=_(F,B,V,f.stepped);W[o]=i[o],y.push(W)}return y.length===1?y[0]:y}pathSegment(i,o,f){return sc(this)(i,this,o,f)}path(i,o,f){let p=this.segments,m=sc(this),b=this._loop;o=o||0,f=f||this.points.length-o;for(let y of p)b&=m(i,this,y,{start:o,end:o+f-1});return!!b}draw(i,o,f,p){let m=this.options||{};(this.points||[]).length&&m.borderWidth&&(i.save(),dv(i,this,f,p),i.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Oi.id="line",Oi.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},Oi.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},Oi.descriptors={_scriptable:!0,_indexable:l=>l!=="borderDash"&&l!=="fill"};function Wh(l,i,o,f){let p=l.options,{[o]:m}=l.getProps([o],f);return Math.abs(i-m)<p.radius+p.hitRadius}class ia extends hn{constructor(i){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,i&&Object.assign(this,i)}inRange(i,o,f){let p=this.options,{x:m,y:b}=this.getProps(["x","y"],f);return Math.pow(i-m,2)+Math.pow(o-b,2)<Math.pow(p.hitRadius+p.radius,2)}inXRange(i,o){return Wh(this,i,"x",o)}inYRange(i,o){return Wh(this,i,"y",o)}getCenterPoint(i){let{x:o,y:f}=this.getProps(["x","y"],i);return{x:o,y:f}}size(i){i=i||this.options||{};let o=i.radius||0;o=Math.max(o,o&&i.hoverRadius||0);let f=o&&i.borderWidth||0;return(o+f)*2}draw(i,o){let f=this.options;this.skip||f.radius<.1||!Bs(this,o,this.size(f)/2)||(i.strokeStyle=f.borderColor,i.lineWidth=f.borderWidth,i.fillStyle=f.backgroundColor,zr(i,f,this.x,this.y))}getRange(){let i=this.options||{};return i.radius+i.hitRadius}}ia.id="point",ia.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},ia.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function $h(l,i){let{x:o,y:f,base:p,width:m,height:b}=l.getProps(["x","y","base","width","height"],i),y,_,k,T,D;return l.horizontal?(D=b/2,y=Math.min(o,p),_=Math.max(o,p),k=f-D,T=f+D):(D=m/2,y=o-D,_=o+D,k=Math.min(f,p),T=Math.max(f,p)),{left:y,top:k,right:_,bottom:T}}function Ti(l,i,o,f){return l?0:te(i,o,f)}function pv(l,i,o){let f=l.options.borderWidth,p=l.borderSkipped,m=Vl(f);return{t:Ti(p.top,m.top,0,o),r:Ti(p.right,m.right,0,i),b:Ti(p.bottom,m.bottom,0,o),l:Ti(p.left,m.left,0,i)}}function gv(l,i,o){let{enableBorderRadius:f}=l.getProps(["enableBorderRadius"]),p=l.options.borderRadius,m=Pi(p),b=Math.min(i,o),y=l.borderSkipped,_=f||r(p);return{topLeft:Ti(!_||y.top||y.left,m.topLeft,0,b),topRight:Ti(!_||y.top||y.right,m.topRight,0,b),bottomLeft:Ti(!_||y.bottom||y.left,m.bottomLeft,0,b),bottomRight:Ti(!_||y.bottom||y.right,m.bottomRight,0,b)}}function mv(l){let i=$h(l),o=i.right-i.left,f=i.bottom-i.top,p=pv(l,o/2,f/2),m=gv(l,o/2,f/2);return{outer:{x:i.left,y:i.top,w:o,h:f,radius:m},inner:{x:i.left+p.l,y:i.top+p.t,w:o-p.l-p.r,h:f-p.t-p.b,radius:{topLeft:Math.max(0,m.topLeft-Math.max(p.t,p.l)),topRight:Math.max(0,m.topRight-Math.max(p.t,p.r)),bottomLeft:Math.max(0,m.bottomLeft-Math.max(p.b,p.l)),bottomRight:Math.max(0,m.bottomRight-Math.max(p.b,p.r))}}}}function oc(l,i,o,f){let p=i===null,m=o===null,y=l&&!(p&&m)&&$h(l,f);return y&&(p||Be(i,y.left,y.right))&&(m||Be(o,y.top,y.bottom))}function bv(l){return l.topLeft||l.topRight||l.bottomLeft||l.bottomRight}function vv(l,i){l.rect(i.x,i.y,i.w,i.h)}function rc(l,i,o={}){let f=l.x!==o.x?-i:0,p=l.y!==o.y?-i:0,m=(l.x+l.w!==o.x+o.w?i:0)-f,b=(l.y+l.h!==o.y+o.h?i:0)-p;return{x:l.x+f,y:l.y+p,w:l.w+m,h:l.h+b,radius:l.radius}}class sa extends hn{constructor(i){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,i&&Object.assign(this,i)}draw(i){let{inflateAmount:o,options:{borderColor:f,backgroundColor:p}}=this,{inner:m,outer:b}=mv(this),y=bv(b.radius)?zs:vv;i.save(),(b.w!==m.w||b.h!==m.h)&&(i.beginPath(),y(i,rc(b,o,m)),i.clip(),y(i,rc(m,-o,b)),i.fillStyle=f,i.fill("evenodd")),i.beginPath(),y(i,rc(m,o)),i.fillStyle=p,i.fill(),i.restore()}inRange(i,o,f){return oc(this,i,o,f)}inXRange(i,o){return oc(this,i,null,o)}inYRange(i,o){return oc(this,null,i,o)}getCenterPoint(i){let{x:o,y:f,base:p,horizontal:m}=this.getProps(["x","y","base","horizontal"],i);return{x:m?(o+p)/2:o,y:m?f:(f+p)/2}}getRange(i){return i==="x"?this.width/2:this.height/2}}sa.id="bar",sa.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},sa.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var ac=Object.freeze({__proto__:null,ArcElement:na,LineElement:Oi,PointElement:ia,BarElement:sa});function yv(l,i,o,f,p){let m=p.samples||f;if(m>=o)return l.slice(i,i+o);let b=[],y=(o-2)/(m-2),_=0,k=i+o-1,T=i,D,R,F,B,V;for(b[_++]=l[T],D=0;D<m-2;D++){let W=0,q=0,Q,it=Math.floor((D+1)*y)+1+i,nt=Math.min(Math.floor((D+2)*y)+1,o)+i,j=nt-it;for(Q=it;Q<nt;Q++)W+=l[Q].x,q+=l[Q].y;W/=j,q/=j;let ft=Math.floor(D*y)+1+i,ht=Math.min(Math.floor((D+1)*y)+1,o)+i,{x:Pt,y:xt}=l[T];for(F=B=-1,Q=ft;Q<ht;Q++)B=.5*Math.abs((Pt-W)*(l[Q].y-xt)-(Pt-l[Q].x)*(q-xt)),B>F&&(F=B,R=l[Q],V=Q);b[_++]=R,T=V}return b[_++]=l[k],b}function xv(l,i,o,f){let p=0,m=0,b,y,_,k,T,D,R,F,B,V,W=[],q=i+o-1,Q=l[i].x,nt=l[q].x-Q;for(b=i;b<i+o;++b){y=l[b],_=(y.x-Q)/nt*f,k=y.y;let j=_|0;if(j===T)k<B?(B=k,D=b):k>V&&(V=k,R=b),p=(m*p+y.x)/++m;else{let ft=b-1;if(!e(D)&&!e(R)){let ht=Math.min(D,R),Pt=Math.max(D,R);ht!==F&&ht!==ft&&W.push({...l[ht],x:p}),Pt!==F&&Pt!==ft&&W.push({...l[Pt],x:p})}b>0&&ft!==F&&W.push(l[ft]),W.push(y),T=j,m=0,B=V=k,D=R=F=b}}return W}function Yh(l){if(l._decimated){let i=l._data;delete l._decimated,delete l._data,Object.defineProperty(l,"data",{value:i})}}function Uh(l){l.data.datasets.forEach(i=>{Yh(i)})}function _v(l,i){let o=i.length,f=0,p,{iScale:m}=l,{min:b,max:y,minDefined:_,maxDefined:k}=m.getUserBounds();return _&&(f=te(be(i,m.axis,b).lo,0,o-1)),k?p=te(be(i,m.axis,y).hi+1,f,o)-f:p=o-f,{start:f,count:p}}var wv={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(l,i,o)=>{if(!o.enabled){Uh(l);return}let f=l.width;l.data.datasets.forEach((p,m)=>{let{_data:b,indexAxis:y}=p,_=l.getDatasetMeta(m),k=b||p.data;if(Ws([y,l.options.indexAxis])==="y"||!_.controller.supportsDecimation)return;let T=l.scales[_.xAxisID];if(T.type!=="linear"&&T.type!=="time"||l.options.parsing)return;let{start:D,count:R}=_v(_,k),F=o.threshold||4*f;if(R<=F){Yh(p);return}e(b)&&(p._data=k,delete p.data,Object.defineProperty(p,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(V){this._data=V}}));let B;switch(o.algorithm){case"lttb":B=yv(k,D,R,f,o);break;case"min-max":B=xv(k,D,R,f);break;default:throw new Error(`Unsupported decimation algorithm '${o.algorithm}'`)}p._decimated=B})},destroy(l){Uh(l)}};function kv(l,i,o){let f=l.segments,p=l.points,m=i.points,b=[];for(let y of f){let{start:_,end:k}=y;k=cc(_,k,p);let T=lc(o,p[_],p[k],y.loop);if(!i.segments){b.push({source:y,target:T,start:p[_],end:p[k]});continue}let D=Yl(i,T);for(let R of D){let F=lc(o,m[R.start],m[R.end],R.loop),B=$l(y,p,F);for(let V of B)b.push({source:V,target:R,start:{[o]:qh(T,F,"start",Math.max)},end:{[o]:qh(T,F,"end",Math.min)}})}}return b}function lc(l,i,o,f){if(f)return;let p=i[l],m=o[l];return l==="angle"&&(p=me(p),m=me(m)),{property:l,start:p,end:m}}function Pv(l,i){let{x:o=null,y:f=null}=l||{},p=i.points,m=[];return i.segments.forEach(({start:b,end:y})=>{y=cc(b,y,p);let _=p[b],k=p[y];f!==null?(m.push({x:_.x,y:f}),m.push({x:k.x,y:f})):o!==null&&(m.push({x:o,y:_.y}),m.push({x:o,y:k.y}))}),m}function cc(l,i,o){for(;i>l;i--){let f=o[i];if(!isNaN(f.x)&&!isNaN(f.y))break}return i}function qh(l,i,o,f){return l&&i?f(l[o],i[o]):l?l[o]:i?i[o]:0}function Xh(l,i){let o=[],f=!1;return s(l)?(f=!0,o=l):o=Pv(l,i),o.length?new Oi({points:o,options:{tension:0},_loop:f,_fullLoop:f}):null}function Gh(l){return l&&l.fill!==!1}function Cv(l,i,o){let p=l[i].fill,m=[i],b;if(!o)return p;for(;p!==!1&&m.indexOf(p)===-1;){if(!c(p))return p;if(b=l[p],!b)return!1;if(b.visible)return p;m.push(p),p=b.fill}return!1}function Mv(l,i,o){let f=Ev(l);if(r(f))return isNaN(f.value)?!1:f;let p=parseFloat(f);return c(p)&&Math.floor(p)===p?Ov(f[0],i,p,o):["origin","start","end","stack","shape"].indexOf(f)>=0&&f}function Ov(l,i,o,f){return(l==="-"||l==="+")&&(o=i+o),o===i||o<0||o>=f?!1:o}function Tv(l,i){let o=null;return l==="start"?o=i.bottom:l==="end"?o=i.top:r(l)?o=i.getPixelForValue(l.value):i.getBasePixel&&(o=i.getBasePixel()),o}function Av(l,i,o){let f;return l==="start"?f=o:l==="end"?f=i.options.reverse?i.min:i.max:r(l)?f=l.value:f=i.getBaseValue(),f}function Ev(l){let i=l.options,o=i.fill,f=u(o&&o.target,o);return f===void 0&&(f=!!i.backgroundColor),f===!1||f===null?!1:f===!0?"origin":f}function Dv(l){let{scale:i,index:o,line:f}=l,p=[],m=f.segments,b=f.points,y=Sv(i,o);y.push(Xh({x:null,y:i.bottom},f));for(let _=0;_<m.length;_++){let k=m[_];for(let T=k.start;T<=k.end;T++)Lv(p,b[T],y)}return new Oi({points:p,options:{}})}function Sv(l,i){let o=[],f=l.getMatchingVisibleMetas("line");for(let p=0;p<f.length;p++){let m=f[p];if(m.index===i)break;m.hidden||o.unshift(m.dataset)}return o}function Lv(l,i,o){let f=[];for(let p=0;p<o.length;p++){let m=o[p],{first:b,last:y,point:_}=Rv(m,i,"x");if(!(!_||b&&y)){if(b)f.unshift(_);else if(l.push(_),!y)break}}l.push(...f)}function Rv(l,i,o){let f=l.interpolate(i,o);if(!f)return{};let p=f[o],m=l.segments,b=l.points,y=!1,_=!1;for(let k=0;k<m.length;k++){let T=m[k],D=b[T.start][o],R=b[T.end][o];if(Be(p,D,R)){y=p===D,_=p===R;break}}return{first:y,last:_,point:f}}class Kh{constructor(i){this.x=i.x,this.y=i.y,this.radius=i.radius}pathSegment(i,o,f){let{x:p,y:m,radius:b}=this;return o=o||{start:0,end:rt},i.arc(p,m,b,o.end,o.start,!0),!f.bounds}interpolate(i){let{x:o,y:f,radius:p}=this,m=i.angle;return{x:o+Math.cos(m)*p,y:f+Math.sin(m)*p,angle:m}}}function Iv(l){let{chart:i,fill:o,line:f}=l;if(c(o))return Fv(i,o);if(o==="stack")return Dv(l);if(o==="shape")return!0;let p=Bv(l);return p instanceof Kh?p:Xh(p,f)}function Fv(l,i){let o=l.getDatasetMeta(i);return o&&l.isDatasetVisible(i)?o.dataset:null}function Bv(l){return(l.scale||{}).getPointPositionForValue?Nv(l):zv(l)}function zv(l){let{scale:i={},fill:o}=l,f=Tv(o,i);if(c(f)){let p=i.isHorizontal();return{x:p?f:null,y:p?null:f}}return null}function Nv(l){let{scale:i,fill:o}=l,f=i.options,p=i.getLabels().length,m=f.reverse?i.max:i.min,b=Av(o,i,m),y=[];if(f.grid.circular){let _=i.getPointPositionForValue(0,m);return new Kh({x:_.x,y:_.y,radius:i.getDistanceFromCenterForValue(b)})}for(let _=0;_<p;++_)y.push(i.getPointPositionForValue(_,b));return y}function uc(l,i,o){let f=Iv(i),{line:p,scale:m,axis:b}=i,y=p.options,_=y.fill,k=y.backgroundColor,{above:T=k,below:D=k}=_||{};f&&p.points.length&&(Do(l,o),Vv(l,{line:p,target:f,above:T,below:D,area:o,scale:m,axis:b}),So(l))}function Vv(l,i){let{line:o,target:f,above:p,below:m,area:b,scale:y}=i,_=o._loop?"angle":i.axis;l.save(),_==="x"&&m!==p&&(Qh(l,f,b.top),Zh(l,{line:o,target:f,color:p,scale:y,property:_}),l.restore(),l.save(),Qh(l,f,b.bottom)),Zh(l,{line:o,target:f,color:m,scale:y,property:_}),l.restore()}function Qh(l,i,o){let{segments:f,points:p}=i,m=!0,b=!1;l.beginPath();for(let y of f){let{start:_,end:k}=y,T=p[_],D=p[cc(_,k,p)];m?(l.moveTo(T.x,T.y),m=!1):(l.lineTo(T.x,o),l.lineTo(T.x,T.y)),b=!!i.pathSegment(l,y,{move:b}),b?l.closePath():l.lineTo(D.x,o)}l.lineTo(i.first().x,o),l.closePath(),l.clip()}function Zh(l,i){let{line:o,target:f,property:p,color:m,scale:b}=i,y=kv(o,f,p);for(let{source:_,target:k,start:T,end:D}of y){let{style:{backgroundColor:R=m}={}}=_,F=f!==!0;l.save(),l.fillStyle=R,Hv(l,b,F&&lc(p,T,D)),l.beginPath();let B=!!o.pathSegment(l,_),V;if(F){B?l.closePath():Jh(l,f,D,p);let W=!!f.pathSegment(l,k,{move:B,reverse:!0});V=B&&W,V||Jh(l,f,T,p)}l.closePath(),l.fill(V?"evenodd":"nonzero"),l.restore()}}function Hv(l,i,o){let{top:f,bottom:p}=i.chart.chartArea,{property:m,start:b,end:y}=o||{};m==="x"&&(l.beginPath(),l.rect(b,f,y-b,p-f),l.clip())}function Jh(l,i,o,f){let p=i.interpolate(o,f);p&&l.lineTo(p.x,p.y)}var Wv={id:"filler",afterDatasetsUpdate(l,i,o){let f=(l.data.datasets||[]).length,p=[],m,b,y,_;for(b=0;b<f;++b)m=l.getDatasetMeta(b),y=m.dataset,_=null,y&&y.options&&y instanceof Oi&&(_={visible:l.isDatasetVisible(b),index:b,fill:Mv(y,b,f),chart:l,axis:m.controller.options.indexAxis,scale:m.vScale,line:y}),m.$filler=_,p.push(_);for(b=0;b<f;++b)_=p[b],!(!_||_.fill===!1)&&(_.fill=Cv(p,b,o.propagate))},beforeDraw(l,i,o){let f=o.drawTime==="beforeDraw",p=l.getSortedVisibleDatasetMetas(),m=l.chartArea;for(let b=p.length-1;b>=0;--b){let y=p[b].$filler;y&&(y.line.updateControlPoints(m,y.axis),f&&y.fill&&uc(l.ctx,y,m))}},beforeDatasetsDraw(l,i,o){if(o.drawTime!=="beforeDatasetsDraw")return;let f=l.getSortedVisibleDatasetMetas();for(let p=f.length-1;p>=0;--p){let m=f[p].$filler;Gh(m)&&uc(l.ctx,m,l.chartArea)}},beforeDatasetDraw(l,i,o){let f=i.meta.$filler;!Gh(f)||o.drawTime!=="beforeDatasetDraw"||uc(l.ctx,f,l.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};let jh=(l,i)=>{let{boxHeight:o=i,boxWidth:f=i}=l;return l.usePointStyle&&(o=Math.min(o,i),f=l.pointStyleWidth||Math.min(f,i)),{boxWidth:f,boxHeight:o,itemHeight:Math.max(i,o)}},$v=(l,i)=>l!==null&&i!==null&&l.datasetIndex===i.datasetIndex&&l.index===i.index;class td extends hn{constructor(i){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=i.chart,this.options=i.options,this.ctx=i.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(i,o,f){this.maxWidth=i,this.maxHeight=o,this._margins=f,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let i=this.options.labels||{},o=g(i.generateLabels,[this.chart],this)||[];i.filter&&(o=o.filter(f=>i.filter(f,this.chart.data))),i.sort&&(o=o.sort((f,p)=>i.sort(f,p,this.chart.data))),this.options.reverse&&o.reverse(),this.legendItems=o}fit(){let{options:i,ctx:o}=this;if(!i.display){this.width=this.height=0;return}let f=i.labels,p=we(f.font),m=p.size,b=this._computeTitleHeight(),{boxWidth:y,itemHeight:_}=jh(f,m),k,T;o.font=p.string,this.isHorizontal()?(k=this.maxWidth,T=this._fitRows(b,m,y,_)+10):(T=this.maxHeight,k=this._fitCols(b,m,y,_)+10),this.width=Math.min(k,i.maxWidth||this.maxWidth),this.height=Math.min(T,i.maxHeight||this.maxHeight)}_fitRows(i,o,f,p){let{ctx:m,maxWidth:b,options:{labels:{padding:y}}}=this,_=this.legendHitBoxes=[],k=this.lineWidths=[0],T=p+y,D=i;m.textAlign="left",m.textBaseline="middle";let R=-1,F=-T;return this.legendItems.forEach((B,V)=>{let W=f+o/2+m.measureText(B.text).width;(V===0||k[k.length-1]+W+2*y>b)&&(D+=T,k[k.length-(V>0?0:1)]=0,F+=T,R++),_[V]={left:0,top:F,row:R,width:W,height:p},k[k.length-1]+=W+y}),D}_fitCols(i,o,f,p){let{ctx:m,maxHeight:b,options:{labels:{padding:y}}}=this,_=this.legendHitBoxes=[],k=this.columnSizes=[],T=b-i,D=y,R=0,F=0,B=0,V=0;return this.legendItems.forEach((W,q)=>{let Q=f+o/2+m.measureText(W.text).width;q>0&&F+p+2*y>T&&(D+=R+y,k.push({width:R,height:F}),B+=R+y,V++,R=F=0),_[q]={left:B,top:F,col:V,width:Q,height:p},R=Math.max(R,Q),F+=p+y}),D+=R,k.push({width:R,height:F}),D}adjustHitBoxes(){if(!this.options.display)return;let i=this._computeTitleHeight(),{legendHitBoxes:o,options:{align:f,labels:{padding:p},rtl:m}}=this,b=ts(m,this.left,this.width);if(this.isHorizontal()){let y=0,_=ve(f,this.left+p,this.right-this.lineWidths[y]);for(let k of o)y!==k.row&&(y=k.row,_=ve(f,this.left+p,this.right-this.lineWidths[y])),k.top+=this.top+i+p,k.left=b.leftForLtr(b.x(_),k.width),_+=k.width+p}else{let y=0,_=ve(f,this.top+i+p,this.bottom-this.columnSizes[y].height);for(let k of o)k.col!==y&&(y=k.col,_=ve(f,this.top+i+p,this.bottom-this.columnSizes[y].height)),k.top=_,k.left+=this.left+p,k.left=b.leftForLtr(b.x(k.left),k.width),_+=k.height+p}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let i=this.ctx;Do(i,this),this._draw(),So(i)}}_draw(){let{options:i,columnSizes:o,lineWidths:f,ctx:p}=this,{align:m,labels:b}=i,y=Rt.color,_=ts(i.rtl,this.left,this.width),k=we(b.font),{color:T,padding:D}=b,R=k.size,F=R/2,B;this.drawTitle(),p.textAlign=_.textAlign("left"),p.textBaseline="middle",p.lineWidth=.5,p.font=k.string;let{boxWidth:V,boxHeight:W,itemHeight:q}=jh(b,R),Q=function(ht,Pt,xt){if(isNaN(V)||V<=0||isNaN(W)||W<0)return;p.save();let $t=u(xt.lineWidth,1);if(p.fillStyle=u(xt.fillStyle,y),p.lineCap=u(xt.lineCap,"butt"),p.lineDashOffset=u(xt.lineDashOffset,0),p.lineJoin=u(xt.lineJoin,"miter"),p.lineWidth=$t,p.strokeStyle=u(xt.strokeStyle,y),p.setLineDash(u(xt.lineDash,[])),b.usePointStyle){let Ut={radius:W*Math.SQRT2/2,pointStyle:xt.pointStyle,rotation:xt.rotation,borderWidth:$t},Bt=_.xPlus(ht,V/2),ke=Pt+F;Il(p,Ut,Bt,ke,b.pointStyleWidth&&V)}else{let Ut=Pt+Math.max((R-W)/2,0),Bt=_.leftForLtr(ht,V),ke=Pi(xt.borderRadius);p.beginPath(),Object.values(ke).some(Ze=>Ze!==0)?zs(p,{x:Bt,y:Ut,w:V,h:W,radius:ke}):p.rect(Bt,Ut,V,W),p.fill(),$t!==0&&p.stroke()}p.restore()},it=function(ht,Pt,xt){wi(p,xt.text,ht,Pt+q/2,k,{strikethrough:xt.hidden,textAlign:_.textAlign(xt.textAlign)})},nt=this.isHorizontal(),j=this._computeTitleHeight();nt?B={x:ve(m,this.left+D,this.right-f[0]),y:this.top+D+j,line:0}:B={x:this.left+D,y:ve(m,this.top+j+D,this.bottom-o[0].height),line:0},Hl(this.ctx,i.textDirection);let ft=q+D;this.legendItems.forEach((ht,Pt)=>{p.strokeStyle=ht.fontColor||T,p.fillStyle=ht.fontColor||T;let xt=p.measureText(ht.text).width,$t=_.textAlign(ht.textAlign||(ht.textAlign=b.textAlign)),Ut=V+F+xt,Bt=B.x,ke=B.y;_.setWidth(this.width),nt?Pt>0&&Bt+Ut+D>this.right&&(ke=B.y+=ft,B.line++,Bt=B.x=ve(m,this.left+D,this.right-f[B.line])):Pt>0&&ke+ft>this.bottom&&(Bt=B.x=Bt+o[B.line].width+D,B.line++,ke=B.y=ve(m,this.top+j+D,this.bottom-o[B.line].height));let Ze=_.x(Bt);Q(Ze,ke,ht),Bt=K($t,Bt+V+F,nt?Bt+Ut:this.right,i.rtl),it(_.x(Bt),ke,ht),nt?B.x+=Ut+D:B.y+=ft}),Wl(this.ctx,i.textDirection)}drawTitle(){let i=this.options,o=i.title,f=we(o.font),p=ze(o.padding);if(!o.display)return;let m=ts(i.rtl,this.left,this.width),b=this.ctx,y=o.position,_=f.size/2,k=p.top+_,T,D=this.left,R=this.width;if(this.isHorizontal())R=Math.max(...this.lineWidths),T=this.top+k,D=ve(i.align,D,this.right-R);else{let B=this.columnSizes.reduce((V,W)=>Math.max(V,W.height),0);T=k+ve(i.align,this.top,this.bottom-B-i.labels.padding-this._computeTitleHeight())}let F=ve(y,D,D+R);b.textAlign=m.textAlign(di(y)),b.textBaseline="middle",b.strokeStyle=o.color,b.fillStyle=o.color,b.font=f.string,wi(b,o.text,F,T,f)}_computeTitleHeight(){let i=this.options.title,o=we(i.font),f=ze(i.padding);return i.display?o.lineHeight+f.height:0}_getLegendItemAt(i,o){let f,p,m;if(Be(i,this.left,this.right)&&Be(o,this.top,this.bottom)){for(m=this.legendHitBoxes,f=0;f<m.length;++f)if(p=m[f],Be(i,p.left,p.left+p.width)&&Be(o,p.top,p.top+p.height))return this.legendItems[f]}return null}handleEvent(i){let o=this.options;if(!Yv(i.type,o))return;let f=this._getLegendItemAt(i.x,i.y);if(i.type==="mousemove"||i.type==="mouseout"){let p=this._hoveredItem,m=$v(p,f);p&&!m&&g(o.onLeave,[i,p,this],this),this._hoveredItem=f,f&&!m&&g(o.onHover,[i,f,this],this)}else f&&g(o.onClick,[i,f,this],this)}}function Yv(l,i){return!!((l==="mousemove"||l==="mouseout")&&(i.onHover||i.onLeave)||i.onClick&&(l==="click"||l==="mouseup"))}var Uv={id:"legend",_element:td,start(l,i,o){let f=l.legend=new td({ctx:l.ctx,options:o,chart:l});Ne.configure(l,f,o),Ne.addBox(l,f)},stop(l){Ne.removeBox(l,l.legend),delete l.legend},beforeUpdate(l,i,o){let f=l.legend;Ne.configure(l,f,o),f.options=o},afterUpdate(l){let i=l.legend;i.buildLabels(),i.adjustHitBoxes()},afterEvent(l,i){i.replay||l.legend.handleEvent(i.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(l,i,o){let f=i.datasetIndex,p=o.chart;p.isDatasetVisible(f)?(p.hide(f),i.hidden=!0):(p.show(f),i.hidden=!1)},onHover:null,onLeave:null,labels:{color:l=>l.chart.options.color,boxWidth:40,padding:10,generateLabels(l){let i=l.data.datasets,{labels:{usePointStyle:o,pointStyle:f,textAlign:p,color:m}}=l.legend.options;return l._getSortedDatasetMetas().map(b=>{let y=b.controller.getStyle(o?0:void 0),_=ze(y.borderWidth);return{text:i[b.index].label,fillStyle:y.backgroundColor,fontColor:m,hidden:!b.visible,lineCap:y.borderCapStyle,lineDash:y.borderDash,lineDashOffset:y.borderDashOffset,lineJoin:y.borderJoinStyle,lineWidth:(_.width+_.height)/4,strokeStyle:y.borderColor,pointStyle:f||y.pointStyle,rotation:y.rotation,textAlign:p||y.textAlign,borderRadius:0,datasetIndex:b.index}},this)}},title:{color:l=>l.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:l=>!l.startsWith("on"),labels:{_scriptable:l=>!["generateLabels","filter","sort"].includes(l)}}};class fc extends hn{constructor(i){super(),this.chart=i.chart,this.options=i.options,this.ctx=i.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(i,o){let f=this.options;if(this.left=0,this.top=0,!f.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=i,this.height=this.bottom=o;let p=s(f.text)?f.text.length:1;this._padding=ze(f.padding);let m=p*we(f.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=m:this.width=m}isHorizontal(){let i=this.options.position;return i==="top"||i==="bottom"}_drawArgs(i){let{top:o,left:f,bottom:p,right:m,options:b}=this,y=b.align,_=0,k,T,D;return this.isHorizontal()?(T=ve(y,f,m),D=o+i,k=m-f):(b.position==="left"?(T=f+i,D=ve(y,p,o),_=ct*-.5):(T=m-i,D=ve(y,o,p),_=ct*.5),k=p-o),{titleX:T,titleY:D,maxWidth:k,rotation:_}}draw(){let i=this.ctx,o=this.options;if(!o.display)return;let f=we(o.font),m=f.lineHeight/2+this._padding.top,{titleX:b,titleY:y,maxWidth:_,rotation:k}=this._drawArgs(m);wi(i,o.text,0,0,f,{color:o.color,maxWidth:_,rotation:k,textAlign:di(o.align),textBaseline:"middle",translation:[b,y]})}}function qv(l,i){let o=new fc({ctx:l.ctx,options:i,chart:l});Ne.configure(l,o,i),Ne.addBox(l,o),l.titleBlock=o}var Xv={id:"title",_element:fc,start(l,i,o){qv(l,o)},stop(l){let i=l.titleBlock;Ne.removeBox(l,i),delete l.titleBlock},beforeUpdate(l,i,o){let f=l.titleBlock;Ne.configure(l,f,o),f.options=o},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};let oa=new WeakMap;var Gv={id:"subtitle",start(l,i,o){let f=new fc({ctx:l.ctx,options:o,chart:l});Ne.configure(l,f,o),Ne.addBox(l,f),oa.set(l,f)},stop(l){Ne.removeBox(l,oa.get(l)),oa.delete(l)},beforeUpdate(l,i,o){let f=oa.get(l);Ne.configure(l,f,o),f.options=o},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};let Wo={average(l){if(!l.length)return!1;let i,o,f=0,p=0,m=0;for(i=0,o=l.length;i<o;++i){let b=l[i].element;if(b&&b.hasValue()){let y=b.tooltipPosition();f+=y.x,p+=y.y,++m}}return{x:f/m,y:p/m}},nearest(l,i){if(!l.length)return!1;let o=i.x,f=i.y,p=Number.POSITIVE_INFINITY,m,b,y;for(m=0,b=l.length;m<b;++m){let _=l[m].element;if(_&&_.hasValue()){let k=_.getCenterPoint(),T=We(i,k);T<p&&(p=T,y=_)}}if(y){let _=y.tooltipPosition();o=_.x,f=_.y}return{x:o,y:f}}};function Fn(l,i){return i&&(s(i)?Array.prototype.push.apply(l,i):l.push(i)),l}function Qn(l){return(typeof l=="string"||l instanceof String)&&l.indexOf(`
`)>-1?l.split(`
`):l}function Kv(l,i){let{element:o,datasetIndex:f,index:p}=i,m=l.getDatasetMeta(f).controller,{label:b,value:y}=m.getLabelAndValue(p);return{chart:l,label:b,parsed:m.getParsed(p),raw:l.data.datasets[f].data[p],formattedValue:y,dataset:m.getDataset(),dataIndex:p,datasetIndex:f,element:o}}function ed(l,i){let o=l.chart.ctx,{body:f,footer:p,title:m}=l,{boxWidth:b,boxHeight:y}=i,_=we(i.bodyFont),k=we(i.titleFont),T=we(i.footerFont),D=m.length,R=p.length,F=f.length,B=ze(i.padding),V=B.height,W=0,q=f.reduce((nt,j)=>nt+j.before.length+j.lines.length+j.after.length,0);if(q+=l.beforeBody.length+l.afterBody.length,D&&(V+=D*k.lineHeight+(D-1)*i.titleSpacing+i.titleMarginBottom),q){let nt=i.displayColors?Math.max(y,_.lineHeight):_.lineHeight;V+=F*nt+(q-F)*_.lineHeight+(q-1)*i.bodySpacing}R&&(V+=i.footerMarginTop+R*T.lineHeight+(R-1)*i.footerSpacing);let Q=0,it=function(nt){W=Math.max(W,o.measureText(nt).width+Q)};return o.save(),o.font=k.string,v(l.title,it),o.font=_.string,v(l.beforeBody.concat(l.afterBody),it),Q=i.displayColors?b+2+i.boxPadding:0,v(f,nt=>{v(nt.before,it),v(nt.lines,it),v(nt.after,it)}),Q=0,o.font=T.string,v(l.footer,it),o.restore(),W+=B.width,{width:W,height:V}}function Qv(l,i){let{y:o,height:f}=i;return o<f/2?"top":o>l.height-f/2?"bottom":"center"}function Zv(l,i,o,f){let{x:p,width:m}=f,b=o.caretSize+o.caretPadding;if(l==="left"&&p+m+b>i.width||l==="right"&&p-m-b<0)return!0}function Jv(l,i,o,f){let{x:p,width:m}=o,{width:b,chartArea:{left:y,right:_}}=l,k="center";return f==="center"?k=p<=(y+_)/2?"left":"right":p<=m/2?k="left":p>=b-m/2&&(k="right"),Zv(k,l,i,o)&&(k="center"),k}function nd(l,i,o){let f=o.yAlign||i.yAlign||Qv(l,o);return{xAlign:o.xAlign||i.xAlign||Jv(l,i,o,f),yAlign:f}}function jv(l,i){let{x:o,width:f}=l;return i==="right"?o-=f:i==="center"&&(o-=f/2),o}function ty(l,i,o){let{y:f,height:p}=l;return i==="top"?f+=o:i==="bottom"?f-=p+o:f-=p/2,f}function id(l,i,o,f){let{caretSize:p,caretPadding:m,cornerRadius:b}=l,{xAlign:y,yAlign:_}=o,k=p+m,{topLeft:T,topRight:D,bottomLeft:R,bottomRight:F}=Pi(b),B=jv(i,y),V=ty(i,_,k);return _==="center"?y==="left"?B+=k:y==="right"&&(B-=k):y==="left"?B-=Math.max(T,R)+p:y==="right"&&(B+=Math.max(D,F)+p),{x:te(B,0,f.width-i.width),y:te(V,0,f.height-i.height)}}function ra(l,i,o){let f=ze(o.padding);return i==="center"?l.x+l.width/2:i==="right"?l.x+l.width-f.right:l.x+f.left}function sd(l){return Fn([],Qn(l))}function ey(l,i,o){return Kn(l,{tooltip:i,tooltipItems:o,type:"tooltip"})}function od(l,i){let o=i&&i.dataset&&i.dataset.tooltip&&i.dataset.tooltip.callbacks;return o?l.override(o):l}class hc extends hn{constructor(i){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=i.chart||i._chart,this._chart=this.chart,this.options=i.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(i){this.options=i,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let i=this._cachedAnimations;if(i)return i;let o=this.chart,f=this.options.setContext(this.getContext()),p=f.enabled&&o.options.animation&&f.animations,m=new Kl(this.chart,p);return p._cacheable&&(this._cachedAnimations=Object.freeze(m)),m}getContext(){return this.$context||(this.$context=ey(this.chart.getContext(),this,this._tooltipItems))}getTitle(i,o){let{callbacks:f}=o,p=f.beforeTitle.apply(this,[i]),m=f.title.apply(this,[i]),b=f.afterTitle.apply(this,[i]),y=[];return y=Fn(y,Qn(p)),y=Fn(y,Qn(m)),y=Fn(y,Qn(b)),y}getBeforeBody(i,o){return sd(o.callbacks.beforeBody.apply(this,[i]))}getBody(i,o){let{callbacks:f}=o,p=[];return v(i,m=>{let b={before:[],lines:[],after:[]},y=od(f,m);Fn(b.before,Qn(y.beforeLabel.call(this,m))),Fn(b.lines,y.label.call(this,m)),Fn(b.after,Qn(y.afterLabel.call(this,m))),p.push(b)}),p}getAfterBody(i,o){return sd(o.callbacks.afterBody.apply(this,[i]))}getFooter(i,o){let{callbacks:f}=o,p=f.beforeFooter.apply(this,[i]),m=f.footer.apply(this,[i]),b=f.afterFooter.apply(this,[i]),y=[];return y=Fn(y,Qn(p)),y=Fn(y,Qn(m)),y=Fn(y,Qn(b)),y}_createItems(i){let o=this._active,f=this.chart.data,p=[],m=[],b=[],y=[],_,k;for(_=0,k=o.length;_<k;++_)y.push(Kv(this.chart,o[_]));return i.filter&&(y=y.filter((T,D,R)=>i.filter(T,D,R,f))),i.itemSort&&(y=y.sort((T,D)=>i.itemSort(T,D,f))),v(y,T=>{let D=od(i.callbacks,T);p.push(D.labelColor.call(this,T)),m.push(D.labelPointStyle.call(this,T)),b.push(D.labelTextColor.call(this,T))}),this.labelColors=p,this.labelPointStyles=m,this.labelTextColors=b,this.dataPoints=y,y}update(i,o){let f=this.options.setContext(this.getContext()),p=this._active,m,b=[];if(!p.length)this.opacity!==0&&(m={opacity:0});else{let y=Wo[f.position].call(this,p,this._eventPosition);b=this._createItems(f),this.title=this.getTitle(b,f),this.beforeBody=this.getBeforeBody(b,f),this.body=this.getBody(b,f),this.afterBody=this.getAfterBody(b,f),this.footer=this.getFooter(b,f);let _=this._size=ed(this,f),k=Object.assign({},y,_),T=nd(this.chart,f,k),D=id(f,k,T,this.chart);this.xAlign=T.xAlign,this.yAlign=T.yAlign,m={opacity:1,x:D.x,y:D.y,width:_.width,height:_.height,caretX:y.x,caretY:y.y}}this._tooltipItems=b,this.$context=void 0,m&&this._resolveAnimations().update(this,m),i&&f.external&&f.external.call(this,{chart:this.chart,tooltip:this,replay:o})}drawCaret(i,o,f,p){let m=this.getCaretPosition(i,f,p);o.lineTo(m.x1,m.y1),o.lineTo(m.x2,m.y2),o.lineTo(m.x3,m.y3)}getCaretPosition(i,o,f){let{xAlign:p,yAlign:m}=this,{caretSize:b,cornerRadius:y}=f,{topLeft:_,topRight:k,bottomLeft:T,bottomRight:D}=Pi(y),{x:R,y:F}=i,{width:B,height:V}=o,W,q,Q,it,nt,j;return m==="center"?(nt=F+V/2,p==="left"?(W=R,q=W-b,it=nt+b,j=nt-b):(W=R+B,q=W+b,it=nt-b,j=nt+b),Q=W):(p==="left"?q=R+Math.max(_,T)+b:p==="right"?q=R+B-Math.max(k,D)-b:q=this.caretX,m==="top"?(it=F,nt=it-b,W=q-b,Q=q+b):(it=F+V,nt=it+b,W=q+b,Q=q-b),j=it),{x1:W,x2:q,x3:Q,y1:it,y2:nt,y3:j}}drawTitle(i,o,f){let p=this.title,m=p.length,b,y,_;if(m){let k=ts(f.rtl,this.x,this.width);for(i.x=ra(this,f.titleAlign,f),o.textAlign=k.textAlign(f.titleAlign),o.textBaseline="middle",b=we(f.titleFont),y=f.titleSpacing,o.fillStyle=f.titleColor,o.font=b.string,_=0;_<m;++_)o.fillText(p[_],k.x(i.x),i.y+b.lineHeight/2),i.y+=b.lineHeight+y,_+1===m&&(i.y+=f.titleMarginBottom-y)}}_drawColorBox(i,o,f,p,m){let b=this.labelColors[f],y=this.labelPointStyles[f],{boxHeight:_,boxWidth:k,boxPadding:T}=m,D=we(m.bodyFont),R=ra(this,"left",m),F=p.x(R),B=_<D.lineHeight?(D.lineHeight-_)/2:0,V=o.y+B;if(m.usePointStyle){let W={radius:Math.min(k,_)/2,pointStyle:y.pointStyle,rotation:y.rotation,borderWidth:1},q=p.leftForLtr(F,k)+k/2,Q=V+_/2;i.strokeStyle=m.multiKeyBackground,i.fillStyle=m.multiKeyBackground,zr(i,W,q,Q),i.strokeStyle=b.borderColor,i.fillStyle=b.backgroundColor,zr(i,W,q,Q)}else{i.lineWidth=r(b.borderWidth)?Math.max(...Object.values(b.borderWidth)):b.borderWidth||1,i.strokeStyle=b.borderColor,i.setLineDash(b.borderDash||[]),i.lineDashOffset=b.borderDashOffset||0;let W=p.leftForLtr(F,k-T),q=p.leftForLtr(p.xPlus(F,1),k-T-2),Q=Pi(b.borderRadius);Object.values(Q).some(it=>it!==0)?(i.beginPath(),i.fillStyle=m.multiKeyBackground,zs(i,{x:W,y:V,w:k,h:_,radius:Q}),i.fill(),i.stroke(),i.fillStyle=b.backgroundColor,i.beginPath(),zs(i,{x:q,y:V+1,w:k-2,h:_-2,radius:Q}),i.fill()):(i.fillStyle=m.multiKeyBackground,i.fillRect(W,V,k,_),i.strokeRect(W,V,k,_),i.fillStyle=b.backgroundColor,i.fillRect(q,V+1,k-2,_-2))}i.fillStyle=this.labelTextColors[f]}drawBody(i,o,f){let{body:p}=this,{bodySpacing:m,bodyAlign:b,displayColors:y,boxHeight:_,boxWidth:k,boxPadding:T}=f,D=we(f.bodyFont),R=D.lineHeight,F=0,B=ts(f.rtl,this.x,this.width),V=function(Pt){o.fillText(Pt,B.x(i.x+F),i.y+R/2),i.y+=R+m},W=B.textAlign(b),q,Q,it,nt,j,ft,ht;for(o.textAlign=b,o.textBaseline="middle",o.font=D.string,i.x=ra(this,W,f),o.fillStyle=f.bodyColor,v(this.beforeBody,V),F=y&&W!=="right"?b==="center"?k/2+T:k+2+T:0,nt=0,ft=p.length;nt<ft;++nt){for(q=p[nt],Q=this.labelTextColors[nt],o.fillStyle=Q,v(q.before,V),it=q.lines,y&&it.length&&(this._drawColorBox(o,i,nt,B,f),R=Math.max(D.lineHeight,_)),j=0,ht=it.length;j<ht;++j)V(it[j]),R=D.lineHeight;v(q.after,V)}F=0,R=D.lineHeight,v(this.afterBody,V),i.y-=m}drawFooter(i,o,f){let p=this.footer,m=p.length,b,y;if(m){let _=ts(f.rtl,this.x,this.width);for(i.x=ra(this,f.footerAlign,f),i.y+=f.footerMarginTop,o.textAlign=_.textAlign(f.footerAlign),o.textBaseline="middle",b=we(f.footerFont),o.fillStyle=f.footerColor,o.font=b.string,y=0;y<m;++y)o.fillText(p[y],_.x(i.x),i.y+b.lineHeight/2),i.y+=b.lineHeight+f.footerSpacing}}drawBackground(i,o,f,p){let{xAlign:m,yAlign:b}=this,{x:y,y:_}=i,{width:k,height:T}=f,{topLeft:D,topRight:R,bottomLeft:F,bottomRight:B}=Pi(p.cornerRadius);o.fillStyle=p.backgroundColor,o.strokeStyle=p.borderColor,o.lineWidth=p.borderWidth,o.beginPath(),o.moveTo(y+D,_),b==="top"&&this.drawCaret(i,o,f,p),o.lineTo(y+k-R,_),o.quadraticCurveTo(y+k,_,y+k,_+R),b==="center"&&m==="right"&&this.drawCaret(i,o,f,p),o.lineTo(y+k,_+T-B),o.quadraticCurveTo(y+k,_+T,y+k-B,_+T),b==="bottom"&&this.drawCaret(i,o,f,p),o.lineTo(y+F,_+T),o.quadraticCurveTo(y,_+T,y,_+T-F),b==="center"&&m==="left"&&this.drawCaret(i,o,f,p),o.lineTo(y,_+D),o.quadraticCurveTo(y,_,y+D,_),o.closePath(),o.fill(),p.borderWidth>0&&o.stroke()}_updateAnimationTarget(i){let o=this.chart,f=this.$animations,p=f&&f.x,m=f&&f.y;if(p||m){let b=Wo[i.position].call(this,this._active,this._eventPosition);if(!b)return;let y=this._size=ed(this,i),_=Object.assign({},b,this._size),k=nd(o,i,_),T=id(i,_,k,o);(p._to!==T.x||m._to!==T.y)&&(this.xAlign=k.xAlign,this.yAlign=k.yAlign,this.width=y.width,this.height=y.height,this.caretX=b.x,this.caretY=b.y,this._resolveAnimations().update(this,T))}}_willRender(){return!!this.opacity}draw(i){let o=this.options.setContext(this.getContext()),f=this.opacity;if(!f)return;this._updateAnimationTarget(o);let p={width:this.width,height:this.height},m={x:this.x,y:this.y};f=Math.abs(f)<.001?0:f;let b=ze(o.padding),y=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;o.enabled&&y&&(i.save(),i.globalAlpha=f,this.drawBackground(m,i,p,o),Hl(i,o.textDirection),m.y+=b.top,this.drawTitle(m,i,o),this.drawBody(m,i,o),this.drawFooter(m,i,o),Wl(i,o.textDirection),i.restore())}getActiveElements(){return this._active||[]}setActiveElements(i,o){let f=this._active,p=i.map(({datasetIndex:y,index:_})=>{let k=this.chart.getDatasetMeta(y);if(!k)throw new Error("Cannot find a dataset at index "+y);return{datasetIndex:y,element:k.data[_],index:_}}),m=!x(f,p),b=this._positionChanged(p,o);(m||b)&&(this._active=p,this._eventPosition=o,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(i,o,f=!0){if(o&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let p=this.options,m=this._active||[],b=this._getActiveElements(i,m,o,f),y=this._positionChanged(b,i),_=o||!x(b,m)||y;return _&&(this._active=b,(p.enabled||p.external)&&(this._eventPosition={x:i.x,y:i.y},this.update(!0,o))),_}_getActiveElements(i,o,f,p){let m=this.options;if(i.type==="mouseout")return[];if(!p)return o;let b=this.chart.getElementsAtEventForMode(i,m.mode,m,f);return m.reverse&&b.reverse(),b}_positionChanged(i,o){let{caretX:f,caretY:p,options:m}=this,b=Wo[m.position].call(this,i,o);return b!==!1&&(f!==b.x||p!==b.y)}}hc.positioners=Wo;var ny={id:"tooltip",_element:hc,positioners:Wo,afterInit(l,i,o){o&&(l.tooltip=new hc({chart:l,options:o}))},beforeUpdate(l,i,o){l.tooltip&&l.tooltip.initialize(o)},reset(l,i,o){l.tooltip&&l.tooltip.initialize(o)},afterDraw(l){let i=l.tooltip;if(i&&i._willRender()){let o={tooltip:i};if(l.notifyPlugins("beforeTooltipDraw",o)===!1)return;i.draw(l.ctx),l.notifyPlugins("afterTooltipDraw",o)}},afterEvent(l,i){if(l.tooltip){let o=i.replay;l.tooltip.handleEvent(i.event,o,i.inChartArea)&&(i.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(l,i)=>i.bodyFont.size,boxWidth:(l,i)=>i.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:n,title(l){if(l.length>0){let i=l[0],o=i.chart.data.labels,f=o?o.length:0;if(this&&this.options&&this.options.mode==="dataset")return i.dataset.label||"";if(i.label)return i.label;if(f>0&&i.dataIndex<f)return o[i.dataIndex]}return""},afterTitle:n,beforeBody:n,beforeLabel:n,label(l){if(this&&this.options&&this.options.mode==="dataset")return l.label+": "+l.formattedValue||l.formattedValue;let i=l.dataset.label||"";i&&(i+=": ");let o=l.formattedValue;return e(o)||(i+=o),i},labelColor(l){let o=l.chart.getDatasetMeta(l.datasetIndex).controller.getStyle(l.dataIndex);return{borderColor:o.borderColor,backgroundColor:o.backgroundColor,borderWidth:o.borderWidth,borderDash:o.borderDash,borderDashOffset:o.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(l){let o=l.chart.getDatasetMeta(l.datasetIndex).controller.getStyle(l.dataIndex);return{pointStyle:o.pointStyle,rotation:o.rotation}},afterLabel:n,afterBody:n,beforeFooter:n,footer:n,afterFooter:n}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:l=>l!=="filter"&&l!=="itemSort"&&l!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},rd=Object.freeze({__proto__:null,Decimation:wv,Filler:Wv,Legend:Uv,SubTitle:Gv,Title:Xv,Tooltip:ny});let iy=(l,i,o,f)=>(typeof i=="string"?(o=l.push(i)-1,f.unshift({index:o,label:i})):isNaN(i)&&(o=null),o);function sy(l,i,o,f){let p=l.indexOf(i);if(p===-1)return iy(l,i,o,f);let m=l.lastIndexOf(i);return p!==m?o:p}let oy=(l,i)=>l===null?null:te(Math.round(l),0,i);class aa extends Ci{constructor(i){super(i),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(i){let o=this._addedLabels;if(o.length){let f=this.getLabels();for(let{index:p,label:m}of o)f[p]===m&&f.splice(p,1);this._addedLabels=[]}super.init(i)}parse(i,o){if(e(i))return null;let f=this.getLabels();return o=isFinite(o)&&f[o]===i?o:sy(f,i,u(o,i),this._addedLabels),oy(o,f.length-1)}determineDataLimits(){let{minDefined:i,maxDefined:o}=this.getUserBounds(),{min:f,max:p}=this.getMinMax(!0);this.options.bounds==="ticks"&&(i||(f=0),o||(p=this.getLabels().length-1)),this.min=f,this.max=p}buildTicks(){let i=this.min,o=this.max,f=this.options.offset,p=[],m=this.getLabels();m=i===0&&o===m.length-1?m:m.slice(i,o+1),this._valueRange=Math.max(m.length-(f?0:1),1),this._startValue=this.min-(f?.5:0);for(let b=i;b<=o;b++)p.push({value:b});return p}getLabelForValue(i){let o=this.getLabels();return i>=0&&i<o.length?o[i]:i}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(i){return typeof i!="number"&&(i=this.parse(i)),i===null?NaN:this.getPixelForDecimal((i-this._startValue)/this._valueRange)}getPixelForTick(i){let o=this.ticks;return i<0||i>o.length-1?null:this.getPixelForValue(o[i].value)}getValueForPixel(i){return Math.round(this._startValue+this.getDecimalForPixel(i)*this._valueRange)}getBasePixel(){return this.bottom}}aa.id="category",aa.defaults={ticks:{callback:aa.prototype.getLabelForValue}};function ry(l,i){let o=[],{bounds:p,step:m,min:b,max:y,precision:_,count:k,maxTicks:T,maxDigits:D,includeBounds:R}=l,F=m||1,B=T-1,{min:V,max:W}=i,q=!e(b),Q=!e(y),it=!e(k),nt=(W-V)/(D+1),j=Zt((W-V)/B/F)*F,ft,ht,Pt,xt;if(j<1e-14&&!q&&!Q)return[{value:V},{value:W}];xt=Math.ceil(W/j)-Math.floor(V/j),xt>B&&(j=Zt(xt*j/B/F)*F),e(_)||(ft=Math.pow(10,_),j=Math.ceil(j*ft)/ft),p==="ticks"?(ht=Math.floor(V/j)*j,Pt=Math.ceil(W/j)*j):(ht=V,Pt=W),q&&Q&&m&&Te((y-b)/m,j/1e3)?(xt=Math.round(Math.min((y-b)/j,T)),j=(y-b)/xt,ht=b,Pt=y):it?(ht=q?b:ht,Pt=Q?y:Pt,xt=k-1,j=(Pt-ht)/xt):(xt=(Pt-ht)/j,Ht(xt,Math.round(xt),j/1e3)?xt=Math.round(xt):xt=Math.ceil(xt));let $t=Math.max(Ge(j),Ge(ht));ft=Math.pow(10,e(_)?$t:_),ht=Math.round(ht*ft)/ft,Pt=Math.round(Pt*ft)/ft;let Ut=0;for(q&&(R&&ht!==b?(o.push({value:b}),ht<b&&Ut++,Ht(Math.round((ht+Ut*j)*ft)/ft,b,ad(b,nt,l))&&Ut++):ht<b&&Ut++);Ut<xt;++Ut)o.push({value:Math.round((ht+Ut*j)*ft)/ft});return Q&&R&&Pt!==y?o.length&&Ht(o[o.length-1].value,y,ad(y,nt,l))?o[o.length-1].value=y:o.push({value:y}):(!Q||Pt===y)&&o.push({value:Pt}),o}function ad(l,i,{horizontal:o,minRotation:f}){let p=Mt(f),m=(o?Math.sin(p):Math.cos(p))||.001,b=.75*i*(""+l).length;return Math.min(i/m,b)}class la extends Ci{constructor(i){super(i),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(i,o){return e(i)||(typeof i=="number"||i instanceof Number)&&!isFinite(+i)?null:+i}handleTickRangeOptions(){let{beginAtZero:i}=this.options,{minDefined:o,maxDefined:f}=this.getUserBounds(),{min:p,max:m}=this,b=_=>p=o?p:_,y=_=>m=f?m:_;if(i){let _=Tt(p),k=Tt(m);_<0&&k<0?y(0):_>0&&k>0&&b(0)}if(p===m){let _=1;(m>=Number.MAX_SAFE_INTEGER||p<=Number.MIN_SAFE_INTEGER)&&(_=Math.abs(m*.05)),y(m+_),i||b(p-_)}this.min=p,this.max=m}getTickLimit(){let i=this.options.ticks,{maxTicksLimit:o,stepSize:f}=i,p;return f?(p=Math.ceil(this.max/f)-Math.floor(this.min/f)+1,p>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${f} would result generating up to ${p} ticks. Limiting to 1000.`),p=1e3)):(p=this.computeTickLimit(),o=o||11),o&&(p=Math.min(o,p)),p}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let i=this.options,o=i.ticks,f=this.getTickLimit();f=Math.max(2,f);let p={maxTicks:f,bounds:i.bounds,min:i.min,max:i.max,precision:o.precision,step:o.stepSize,count:o.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:o.minRotation||0,includeBounds:o.includeBounds!==!1},m=this._range||this,b=ry(p,m);return i.bounds==="ticks"&&jt(b,this,"value"),i.reverse?(b.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),b}configure(){let i=this.ticks,o=this.min,f=this.max;if(super.configure(),this.options.offset&&i.length){let p=(f-o)/Math.max(i.length-1,1)/2;o-=p,f+=p}this._startValue=o,this._endValue=f,this._valueRange=f-o}getLabelForValue(i){return Hs(i,this.chart.options.locale,this.options.ticks.format)}}class dc extends la{determineDataLimits(){let{min:i,max:o}=this.getMinMax(!0);this.min=c(i)?i:0,this.max=c(o)?o:1,this.handleTickRangeOptions()}computeTickLimit(){let i=this.isHorizontal(),o=i?this.width:this.height,f=Mt(this.options.ticks.minRotation),p=(i?Math.sin(f):Math.cos(f))||.001,m=this._resolveTickFontOptions(0);return Math.ceil(o/Math.min(40,m.lineHeight/p))}getPixelForValue(i){return i===null?NaN:this.getPixelForDecimal((i-this._startValue)/this._valueRange)}getValueForPixel(i){return this._startValue+this.getDecimalForPixel(i)*this._valueRange}}dc.id="linear",dc.defaults={ticks:{callback:No.formatters.numeric}};function ld(l){return l/Math.pow(10,Math.floor(wt(l)))===1}function ay(l,i){let o=Math.floor(wt(i.max)),f=Math.ceil(i.max/Math.pow(10,o)),p=[],m=h(l.min,Math.pow(10,Math.floor(wt(i.min)))),b=Math.floor(wt(m)),y=Math.floor(m/Math.pow(10,b)),_=b<0?Math.pow(10,Math.abs(b)):1;do p.push({value:m,major:ld(m)}),++y,y===10&&(y=1,++b,_=b>=0?1:_),m=Math.round(y*Math.pow(10,b)*_)/_;while(b<o||b===o&&y<f);let k=h(l.max,m);return p.push({value:k,major:ld(m)}),p}class pc extends Ci{constructor(i){super(i),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(i,o){let f=la.prototype.parse.apply(this,[i,o]);if(f===0){this._zero=!0;return}return c(f)&&f>0?f:null}determineDataLimits(){let{min:i,max:o}=this.getMinMax(!0);this.min=c(i)?Math.max(0,i):null,this.max=c(o)?Math.max(0,o):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:i,maxDefined:o}=this.getUserBounds(),f=this.min,p=this.max,m=_=>f=i?f:_,b=_=>p=o?p:_,y=(_,k)=>Math.pow(10,Math.floor(wt(_))+k);f===p&&(f<=0?(m(1),b(10)):(m(y(f,-1)),b(y(p,1)))),f<=0&&m(y(p,-1)),p<=0&&b(y(f,1)),this._zero&&this.min!==this._suggestedMin&&f===y(this.min,0)&&m(y(f,-1)),this.min=f,this.max=p}buildTicks(){let i=this.options,o={min:this._userMin,max:this._userMax},f=ay(o,this);return i.bounds==="ticks"&&jt(f,this,"value"),i.reverse?(f.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),f}getLabelForValue(i){return i===void 0?"0":Hs(i,this.chart.options.locale,this.options.ticks.format)}configure(){let i=this.min;super.configure(),this._startValue=wt(i),this._valueRange=wt(this.max)-wt(i)}getPixelForValue(i){return(i===void 0||i===0)&&(i=this.min),i===null||isNaN(i)?NaN:this.getPixelForDecimal(i===this.min?0:(wt(i)-this._startValue)/this._valueRange)}getValueForPixel(i){let o=this.getDecimalForPixel(i);return Math.pow(10,this._startValue+o*this._valueRange)}}pc.id="logarithmic",pc.defaults={ticks:{callback:No.formatters.logarithmic,major:{enabled:!0}}};function gc(l){let i=l.ticks;if(i.display&&l.display){let o=ze(i.backdropPadding);return u(i.font&&i.font.size,Rt.font.size)+o.height}return 0}function ly(l,i,o){return o=s(o)?o:[o],{w:Pf(l,i.string,o),h:o.length*i.lineHeight}}function cd(l,i,o,f,p){return l===f||l===p?{start:i-o/2,end:i+o/2}:l<f||l>p?{start:i-o,end:i}:{start:i,end:i+o}}function cy(l){let i={l:l.left+l._padding.left,r:l.right-l._padding.right,t:l.top+l._padding.top,b:l.bottom-l._padding.bottom},o=Object.assign({},i),f=[],p=[],m=l._pointLabels.length,b=l.options.pointLabels,y=b.centerPointLabels?ct/m:0;for(let _=0;_<m;_++){let k=b.setContext(l.getPointLabelContext(_));p[_]=k.padding;let T=l.getPointPosition(_,l.drawingArea+p[_],y),D=we(k.font),R=ly(l.ctx,D,l._pointLabels[_]);f[_]=R;let F=me(l.getIndexAngle(_)+y),B=Math.round(ce(F)),V=cd(B,T.x,R.w,0,180),W=cd(B,T.y,R.h,90,270);uy(o,i,F,V,W)}l.setCenterPoint(i.l-o.l,o.r-i.r,i.t-o.t,o.b-i.b),l._pointLabelItems=fy(l,f,p)}function uy(l,i,o,f,p){let m=Math.abs(Math.sin(o)),b=Math.abs(Math.cos(o)),y=0,_=0;f.start<i.l?(y=(i.l-f.start)/m,l.l=Math.min(l.l,i.l-y)):f.end>i.r&&(y=(f.end-i.r)/m,l.r=Math.max(l.r,i.r+y)),p.start<i.t?(_=(i.t-p.start)/b,l.t=Math.min(l.t,i.t-_)):p.end>i.b&&(_=(p.end-i.b)/b,l.b=Math.max(l.b,i.b+_))}function fy(l,i,o){let f=[],p=l._pointLabels.length,m=l.options,b=gc(m)/2,y=l.drawingArea,_=m.pointLabels.centerPointLabels?ct/p:0;for(let k=0;k<p;k++){let T=l.getPointPosition(k,y+b+o[k],_),D=Math.round(ce(me(T.angle+ot))),R=i[k],F=py(T.y,R.h,D),B=hy(D),V=dy(T.x,R.w,B);f.push({x:T.x,y:F,textAlign:B,left:V,top:F,right:V+R.w,bottom:F+R.h})}return f}function hy(l){return l===0||l===180?"center":l<180?"left":"right"}function dy(l,i,o){return o==="right"?l-=i:o==="center"&&(l-=i/2),l}function py(l,i,o){return o===90||o===270?l-=i/2:(o>270||o<90)&&(l-=i),l}function gy(l,i){let{ctx:o,options:{pointLabels:f}}=l;for(let p=i-1;p>=0;p--){let m=f.setContext(l.getPointLabelContext(p)),b=we(m.font),{x:y,y:_,textAlign:k,left:T,top:D,right:R,bottom:F}=l._pointLabelItems[p],{backdropColor:B}=m;if(!e(B)){let V=Pi(m.borderRadius),W=ze(m.backdropPadding);o.fillStyle=B;let q=T-W.left,Q=D-W.top,it=R-T+W.width,nt=F-D+W.height;Object.values(V).some(j=>j!==0)?(o.beginPath(),zs(o,{x:q,y:Q,w:it,h:nt,radius:V}),o.fill()):o.fillRect(q,Q,it,nt)}wi(o,l._pointLabels[p],y,_+b.lineHeight/2,b,{color:m.color,textAlign:k,textBaseline:"middle"})}}function ud(l,i,o,f){let{ctx:p}=l;if(o)p.arc(l.xCenter,l.yCenter,i,0,rt);else{let m=l.getPointPosition(0,i);p.moveTo(m.x,m.y);for(let b=1;b<f;b++)m=l.getPointPosition(b,i),p.lineTo(m.x,m.y)}}function my(l,i,o,f){let p=l.ctx,m=i.circular,{color:b,lineWidth:y}=i;!m&&!f||!b||!y||o<0||(p.save(),p.strokeStyle=b,p.lineWidth=y,p.setLineDash(i.borderDash),p.lineDashOffset=i.borderDashOffset,p.beginPath(),ud(l,o,m,f),p.closePath(),p.stroke(),p.restore())}function by(l,i,o){return Kn(l,{label:o,index:i,type:"pointLabel"})}class $o extends la{constructor(i){super(i),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let i=this._padding=ze(gc(this.options)/2),o=this.width=this.maxWidth-i.width,f=this.height=this.maxHeight-i.height;this.xCenter=Math.floor(this.left+o/2+i.left),this.yCenter=Math.floor(this.top+f/2+i.top),this.drawingArea=Math.floor(Math.min(o,f)/2)}determineDataLimits(){let{min:i,max:o}=this.getMinMax(!1);this.min=c(i)&&!isNaN(i)?i:0,this.max=c(o)&&!isNaN(o)?o:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/gc(this.options))}generateTickLabels(i){la.prototype.generateTickLabels.call(this,i),this._pointLabels=this.getLabels().map((o,f)=>{let p=g(this.options.pointLabels.callback,[o,f],this);return p||p===0?p:""}).filter((o,f)=>this.chart.getDataVisibility(f))}fit(){let i=this.options;i.display&&i.pointLabels.display?cy(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(i,o,f,p){this.xCenter+=Math.floor((i-o)/2),this.yCenter+=Math.floor((f-p)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(i,o,f,p))}getIndexAngle(i){let o=rt/(this._pointLabels.length||1),f=this.options.startAngle||0;return me(i*o+Mt(f))}getDistanceFromCenterForValue(i){if(e(i))return NaN;let o=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-i)*o:(i-this.min)*o}getValueForDistanceFromCenter(i){if(e(i))return NaN;let o=i/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-o:this.min+o}getPointLabelContext(i){let o=this._pointLabels||[];if(i>=0&&i<o.length){let f=o[i];return by(this.getContext(),i,f)}}getPointPosition(i,o,f=0){let p=this.getIndexAngle(i)-ot+f;return{x:Math.cos(p)*o+this.xCenter,y:Math.sin(p)*o+this.yCenter,angle:p}}getPointPositionForValue(i,o){return this.getPointPosition(i,this.getDistanceFromCenterForValue(o))}getBasePosition(i){return this.getPointPositionForValue(i||0,this.getBaseValue())}getPointLabelPosition(i){let{left:o,top:f,right:p,bottom:m}=this._pointLabelItems[i];return{left:o,top:f,right:p,bottom:m}}drawBackground(){let{backgroundColor:i,grid:{circular:o}}=this.options;if(i){let f=this.ctx;f.save(),f.beginPath(),ud(this,this.getDistanceFromCenterForValue(this._endValue),o,this._pointLabels.length),f.closePath(),f.fillStyle=i,f.fill(),f.restore()}}drawGrid(){let i=this.ctx,o=this.options,{angleLines:f,grid:p}=o,m=this._pointLabels.length,b,y,_;if(o.pointLabels.display&&gy(this,m),p.display&&this.ticks.forEach((k,T)=>{if(T!==0){y=this.getDistanceFromCenterForValue(k.value);let D=p.setContext(this.getContext(T-1));my(this,D,y,m)}}),f.display){for(i.save(),b=m-1;b>=0;b--){let k=f.setContext(this.getPointLabelContext(b)),{color:T,lineWidth:D}=k;!D||!T||(i.lineWidth=D,i.strokeStyle=T,i.setLineDash(k.borderDash),i.lineDashOffset=k.borderDashOffset,y=this.getDistanceFromCenterForValue(o.ticks.reverse?this.min:this.max),_=this.getPointPosition(b,y),i.beginPath(),i.moveTo(this.xCenter,this.yCenter),i.lineTo(_.x,_.y),i.stroke())}i.restore()}}drawBorder(){}drawLabels(){let i=this.ctx,o=this.options,f=o.ticks;if(!f.display)return;let p=this.getIndexAngle(0),m,b;i.save(),i.translate(this.xCenter,this.yCenter),i.rotate(p),i.textAlign="center",i.textBaseline="middle",this.ticks.forEach((y,_)=>{if(_===0&&!o.reverse)return;let k=f.setContext(this.getContext(_)),T=we(k.font);if(m=this.getDistanceFromCenterForValue(this.ticks[_].value),k.showLabelBackdrop){i.font=T.string,b=i.measureText(y.label).width,i.fillStyle=k.backdropColor;let D=ze(k.backdropPadding);i.fillRect(-b/2-D.left,-m-T.size/2-D.top,b+D.width,T.size+D.height)}wi(i,y.label,0,-m,T,{color:k.color})}),i.restore()}drawTitle(){}}$o.id="radialLinear",$o.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:No.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(l){return l},padding:5,centerPointLabels:!1}},$o.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},$o.descriptors={angleLines:{_fallback:"grid"}};let ca={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},nn=Object.keys(ca);function vy(l,i){return l-i}function fd(l,i){if(e(i))return null;let o=l._adapter,{parser:f,round:p,isoWeekday:m}=l._parseOpts,b=i;return typeof f=="function"&&(b=f(b)),c(b)||(b=typeof f=="string"?o.parse(b,f):o.parse(b)),b===null?null:(p&&(b=p==="week"&&(Lt(m)||m===!0)?o.startOf(b,"isoWeek",m):o.startOf(b,p)),+b)}function hd(l,i,o,f){let p=nn.length;for(let m=nn.indexOf(l);m<p-1;++m){let b=ca[nn[m]],y=b.steps?b.steps:Number.MAX_SAFE_INTEGER;if(b.common&&Math.ceil((o-i)/(y*b.size))<=f)return nn[m]}return nn[p-1]}function yy(l,i,o,f,p){for(let m=nn.length-1;m>=nn.indexOf(o);m--){let b=nn[m];if(ca[b].common&&l._adapter.diff(p,f,b)>=i-1)return b}return nn[o?nn.indexOf(o):0]}function xy(l){for(let i=nn.indexOf(l)+1,o=nn.length;i<o;++i)if(ca[nn[i]].common)return nn[i]}function dd(l,i,o){if(!o)l[i]=!0;else if(o.length){let{lo:f,hi:p}=$e(o,i),m=o[f]>=i?o[f]:o[p];l[m]=!0}}function _y(l,i,o,f){let p=l._adapter,m=+p.startOf(i[0].value,f),b=i[i.length-1].value,y,_;for(y=m;y<=b;y=+p.add(y,1,f))_=o[y],_>=0&&(i[_].major=!0);return i}function pd(l,i,o){let f=[],p={},m=i.length,b,y;for(b=0;b<m;++b)y=i[b],p[y]=b,f.push({value:y,major:!1});return m===0||!o?f:_y(l,f,p,o)}class Yo extends Ci{constructor(i){super(i),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(i,o){let f=i.time||(i.time={}),p=this._adapter=new Lh._date(i.adapters.date);p.init(o),M(f.displayFormats,p.formats()),this._parseOpts={parser:f.parser,round:f.round,isoWeekday:f.isoWeekday},super.init(i),this._normalized=o.normalized}parse(i,o){return i===void 0?null:fd(this,i)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let i=this.options,o=this._adapter,f=i.time.unit||"day",{min:p,max:m,minDefined:b,maxDefined:y}=this.getUserBounds();function _(k){!b&&!isNaN(k.min)&&(p=Math.min(p,k.min)),!y&&!isNaN(k.max)&&(m=Math.max(m,k.max))}(!b||!y)&&(_(this._getLabelBounds()),(i.bounds!=="ticks"||i.ticks.source!=="labels")&&_(this.getMinMax(!1))),p=c(p)&&!isNaN(p)?p:+o.startOf(Date.now(),f),m=c(m)&&!isNaN(m)?m:+o.endOf(Date.now(),f)+1,this.min=Math.min(p,m-1),this.max=Math.max(p+1,m)}_getLabelBounds(){let i=this.getLabelTimestamps(),o=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY;return i.length&&(o=i[0],f=i[i.length-1]),{min:o,max:f}}buildTicks(){let i=this.options,o=i.time,f=i.ticks,p=f.source==="labels"?this.getLabelTimestamps():this._generate();i.bounds==="ticks"&&p.length&&(this.min=this._userMin||p[0],this.max=this._userMax||p[p.length-1]);let m=this.min,b=this.max,y=ln(p,m,b);return this._unit=o.unit||(f.autoSkip?hd(o.minUnit,this.min,this.max,this._getLabelCapacity(m)):yy(this,y.length,o.minUnit,this.min,this.max)),this._majorUnit=!f.major.enabled||this._unit==="year"?void 0:xy(this._unit),this.initOffsets(p),i.reverse&&y.reverse(),pd(this,y,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(i=>+i.value))}initOffsets(i){let o=0,f=0,p,m;this.options.offset&&i.length&&(p=this.getDecimalForValue(i[0]),i.length===1?o=1-p:o=(this.getDecimalForValue(i[1])-p)/2,m=this.getDecimalForValue(i[i.length-1]),i.length===1?f=m:f=(m-this.getDecimalForValue(i[i.length-2]))/2);let b=i.length<3?.5:.25;o=te(o,0,b),f=te(f,0,b),this._offsets={start:o,end:f,factor:1/(o+1+f)}}_generate(){let i=this._adapter,o=this.min,f=this.max,p=this.options,m=p.time,b=m.unit||hd(m.minUnit,o,f,this._getLabelCapacity(o)),y=u(m.stepSize,1),_=b==="week"?m.isoWeekday:!1,k=Lt(_)||_===!0,T={},D=o,R,F;if(k&&(D=+i.startOf(D,"isoWeek",_)),D=+i.startOf(D,k?"day":b),i.diff(f,o,b)>1e5*y)throw new Error(o+" and "+f+" are too far apart with stepSize of "+y+" "+b);let B=p.ticks.source==="data"&&this.getDataTimestamps();for(R=D,F=0;R<f;R=+i.add(R,y,b),F++)dd(T,R,B);return(R===f||p.bounds==="ticks"||F===1)&&dd(T,R,B),Object.keys(T).sort((V,W)=>V-W).map(V=>+V)}getLabelForValue(i){let o=this._adapter,f=this.options.time;return f.tooltipFormat?o.format(i,f.tooltipFormat):o.format(i,f.displayFormats.datetime)}_tickFormatFunction(i,o,f,p){let m=this.options,b=m.time.displayFormats,y=this._unit,_=this._majorUnit,k=y&&b[y],T=_&&b[_],D=f[o],R=_&&T&&D&&D.major,F=this._adapter.format(i,p||(R?T:k)),B=m.ticks.callback;return B?g(B,[F,o,f],this):F}generateTickLabels(i){let o,f,p;for(o=0,f=i.length;o<f;++o)p=i[o],p.label=this._tickFormatFunction(p.value,o,i)}getDecimalForValue(i){return i===null?NaN:(i-this.min)/(this.max-this.min)}getPixelForValue(i){let o=this._offsets,f=this.getDecimalForValue(i);return this.getPixelForDecimal((o.start+f)*o.factor)}getValueForPixel(i){let o=this._offsets,f=this.getDecimalForPixel(i)/o.factor-o.end;return this.min+f*(this.max-this.min)}_getLabelSize(i){let o=this.options.ticks,f=this.ctx.measureText(i).width,p=Mt(this.isHorizontal()?o.maxRotation:o.minRotation),m=Math.cos(p),b=Math.sin(p),y=this._resolveTickFontOptions(0).size;return{w:f*m+y*b,h:f*b+y*m}}_getLabelCapacity(i){let o=this.options.time,f=o.displayFormats,p=f[o.unit]||f.millisecond,m=this._tickFormatFunction(i,0,pd(this,[i],this._majorUnit),p),b=this._getLabelSize(m),y=Math.floor(this.isHorizontal()?this.width/b.w:this.height/b.h)-1;return y>0?y:1}getDataTimestamps(){let i=this._cache.data||[],o,f;if(i.length)return i;let p=this.getMatchingVisibleMetas();if(this._normalized&&p.length)return this._cache.data=p[0].controller.getAllParsedValues(this);for(o=0,f=p.length;o<f;++o)i=i.concat(p[o].controller.getAllParsedValues(this));return this._cache.data=this.normalize(i)}getLabelTimestamps(){let i=this._cache.labels||[],o,f;if(i.length)return i;let p=this.getLabels();for(o=0,f=p.length;o<f;++o)i.push(fd(this,p[o]));return this._cache.labels=this._normalized?i:this.normalize(i)}normalize(i){return Rn(i.sort(vy))}}Yo.id="time",Yo.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function ua(l,i,o){let f=0,p=l.length-1,m,b,y,_;o?(i>=l[f].pos&&i<=l[p].pos&&({lo:f,hi:p}=be(l,"pos",i)),{pos:m,time:y}=l[f],{pos:b,time:_}=l[p]):(i>=l[f].time&&i<=l[p].time&&({lo:f,hi:p}=be(l,"time",i)),{time:m,pos:y}=l[f],{time:b,pos:_}=l[p]);let k=b-m;return k?y+(_-y)*(i-m)/k:y}class mc extends Yo{constructor(i){super(i),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let i=this._getTimestampsForTable(),o=this._table=this.buildLookupTable(i);this._minPos=ua(o,this.min),this._tableRange=ua(o,this.max)-this._minPos,super.initOffsets(i)}buildLookupTable(i){let{min:o,max:f}=this,p=[],m=[],b,y,_,k,T;for(b=0,y=i.length;b<y;++b)k=i[b],k>=o&&k<=f&&p.push(k);if(p.length<2)return[{time:o,pos:0},{time:f,pos:1}];for(b=0,y=p.length;b<y;++b)T=p[b+1],_=p[b-1],k=p[b],Math.round((T+_)/2)!==k&&m.push({time:k,pos:b/(y-1)});return m}_getTimestampsForTable(){let i=this._cache.all||[];if(i.length)return i;let o=this.getDataTimestamps(),f=this.getLabelTimestamps();return o.length&&f.length?i=this.normalize(o.concat(f)):i=o.length?o:f,i=this._cache.all=i,i}getDecimalForValue(i){return(ua(this._table,i)-this._minPos)/this._tableRange}getValueForPixel(i){let o=this._offsets,f=this.getDecimalForPixel(i)/o.factor-o.end;return ua(this._table,f*this._tableRange+this._minPos,!0)}}mc.id="timeseries",mc.defaults=Yo.defaults;var gd=Object.freeze({__proto__:null,CategoryScale:aa,LinearScale:dc,LogarithmicScale:pc,RadialLinearScale:$o,TimeScale:Yo,TimeSeriesScale:mc});return pe.register(zh,gd,ac,rd),pe.helpers={...kb},pe._adapters=Lh,pe.Animation=uh,pe.Animations=Kl,pe.animator=Ot,pe.controllers=_n.controllers.items,pe.DatasetController=fn,pe.Element=hn,pe.elements=ac,pe.Interaction=Kf,pe.layouts=Ne,pe.platforms=lh,pe.Scale=Ci,pe.Ticks=No,Object.assign(pe,zh,gd,ac,rd,lh),pe.Chart=pe,typeof window<"u"&&(window.Chart=pe),pe})});var _g=ha((Au,Eu)=>{(function(n,t){typeof Au=="object"&&typeof Eu<"u"?Eu.exports=t(xg()):typeof define=="function"&&define.amd?define(["chart.js"],t):(n=typeof globalThis<"u"?globalThis:n||self).index=t(n.Chart)})(Au,function(n){"use strict";var t={value:()=>{}};function e(){for(var L,z=0,Y=arguments.length,U={};z<Y;++z){if(!(L=arguments[z]+"")||L in U||/[\s.]/.test(L))throw new Error("illegal type: "+L);U[L]=[]}return new s(U)}function s(L){this._=L}function r(L,z){return L.trim().split(/^|\s+/).map(function(Y){var U="",X=Y.indexOf(".");if(X>=0&&(U=Y.slice(X+1),Y=Y.slice(0,X)),Y&&!z.hasOwnProperty(Y))throw new Error("unknown type: "+Y);return{type:Y,name:U}})}function c(L,z){for(var Y,U=0,X=L.length;U<X;++U)if((Y=L[U]).name===z)return Y.value}function h(L,z,Y){for(var U=0,X=L.length;U<X;++U)if(L[U].name===z){L[U]=t,L=L.slice(0,U).concat(L.slice(U+1));break}return Y!=null&&L.push({name:z,value:Y}),L}s.prototype=e.prototype={constructor:s,on:function(L,z){var Y,U=this._,X=r(L+"",U),Z=-1,J=X.length;if(!(arguments.length<2)){if(z!=null&&typeof z!="function")throw new Error("invalid callback: "+z);for(;++Z<J;)if(Y=(L=X[Z]).type)U[Y]=h(U[Y],L.name,z);else if(z==null)for(Y in U)U[Y]=h(U[Y],L.name,null);return this}for(;++Z<J;)if((Y=(L=X[Z]).type)&&(Y=c(U[Y],L.name)))return Y},copy:function(){var L={},z=this._;for(var Y in z)L[Y]=z[Y].slice();return new s(L)},call:function(L,z){if((Y=arguments.length-2)>0)for(var Y,U,X=new Array(Y),Z=0;Z<Y;++Z)X[Z]=arguments[Z+2];if(!this._.hasOwnProperty(L))throw new Error("unknown type: "+L);for(Z=0,Y=(U=this._[L]).length;Z<Y;++Z)U[Z].value.apply(z,X)},apply:function(L,z,Y){if(!this._.hasOwnProperty(L))throw new Error("unknown type: "+L);for(var U=this._[L],X=0,Z=U.length;X<Z;++X)U[X].value.apply(z,Y)}};var u="http://www.w3.org/1999/xhtml",a={svg:"http://www.w3.org/2000/svg",xhtml:u,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function d(L){var z=L+="",Y=z.indexOf(":");return Y>=0&&(z=L.slice(0,Y))!=="xmlns"&&(L=L.slice(Y+1)),a.hasOwnProperty(z)?{space:a[z],local:L}:L}function g(L){return function(){var z=this.ownerDocument,Y=this.namespaceURI;return Y===u&&z.documentElement.namespaceURI===u?z.createElement(L):z.createElementNS(Y,L)}}function v(L){return function(){return this.ownerDocument.createElementNS(L.space,L.local)}}function x(L){var z=d(L);return(z.local?v:g)(z)}function w(){}function P(L){return L==null?w:function(){return this.querySelector(L)}}function C(L){return L==null?[]:Array.isArray(L)?L:Array.from(L)}function O(){return[]}function M(L){return function(z){return z.matches(L)}}var A=Array.prototype.find;function S(){return this.firstElementChild}var E=Array.prototype.filter;function I(){return Array.from(this.children)}function N(L){return new Array(L.length)}function H(L,z){this.ownerDocument=L.ownerDocument,this.namespaceURI=L.namespaceURI,this._next=null,this._parent=L,this.__data__=z}function $(L){return function(){return L}}function G(L,z,Y,U,X,Z){for(var J,st=0,mt=z.length,gt=Z.length;st<gt;++st)(J=z[st])?(J.__data__=Z[st],U[st]=J):Y[st]=new H(L,Z[st]);for(;st<mt;++st)(J=z[st])&&(X[st]=J)}function tt(L,z,Y,U,X,Z,J){var st,mt,gt,yt=new Map,Wt=z.length,St=Z.length,Ke=new Array(Wt);for(st=0;st<Wt;++st)(mt=z[st])&&(Ke[st]=gt=J.call(mt,mt.__data__,st,z)+"",yt.has(gt)?X[st]=mt:yt.set(gt,mt));for(st=0;st<St;++st)gt=J.call(L,Z[st],st,Z)+"",(mt=yt.get(gt))?(U[st]=mt,mt.__data__=Z[st],yt.delete(gt)):Y[st]=new H(L,Z[st]);for(st=0;st<Wt;++st)(mt=z[st])&&yt.get(Ke[st])===mt&&(X[st]=mt)}function et(L){return L.__data__}function lt(L){return typeof L=="object"&&"length"in L?L:Array.from(L)}function ct(L,z){return L<z?-1:L>z?1:L>=z?0:NaN}function rt(L){return function(){this.removeAttribute(L)}}function dt(L){return function(){this.removeAttributeNS(L.space,L.local)}}function bt(L,z){return function(){this.setAttribute(L,z)}}function at(L,z){return function(){this.setAttributeNS(L.space,L.local,z)}}function ot(L,z){return function(){var Y=z.apply(this,arguments);Y==null?this.removeAttribute(L):this.setAttribute(L,Y)}}function kt(L,z){return function(){var Y=z.apply(this,arguments);Y==null?this.removeAttributeNS(L.space,L.local):this.setAttributeNS(L.space,L.local,Y)}}function Et(L){return L.ownerDocument&&L.ownerDocument.defaultView||L.document&&L||L.defaultView}function wt(L){return function(){this.style.removeProperty(L)}}function Tt(L,z,Y){return function(){this.style.setProperty(L,z,Y)}}function Zt(L,z,Y){return function(){var U=z.apply(this,arguments);U==null?this.style.removeProperty(L):this.style.setProperty(L,U,Y)}}function Xt(L,z){return L.style.getPropertyValue(z)||Et(L).getComputedStyle(L,null).getPropertyValue(z)}function Lt(L){return function(){delete this[L]}}function Ht(L,z){return function(){this[L]=z}}function Te(L,z){return function(){var Y=z.apply(this,arguments);Y==null?delete this[L]:this[L]=Y}}function jt(L){return L.trim().split(/^|\s+/)}function Mt(L){return L.classList||new ce(L)}function ce(L){this._node=L,this._names=jt(L.getAttribute("class")||"")}function Ge(L,z){for(var Y=Mt(L),U=-1,X=z.length;++U<X;)Y.add(z[U])}function Fe(L,z){for(var Y=Mt(L),U=-1,X=z.length;++U<X;)Y.remove(z[U])}function We(L){return function(){Ge(this,L)}}function Yn(L){return function(){Fe(this,L)}}function me(L,z){return function(){(z.apply(this,arguments)?Ge:Fe)(this,L)}}function en(){this.textContent=""}function te(L){return function(){this.textContent=L}}function Un(L){return function(){var z=L.apply(this,arguments);this.textContent=z??""}}function Be(){this.innerHTML=""}function $e(L){return function(){this.innerHTML=L}}function be(L){return function(){var z=L.apply(this,arguments);this.innerHTML=z??""}}function Dn(){this.nextSibling&&this.parentNode.appendChild(this)}function ln(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Sn(){return null}function qn(){var L=this.parentNode;L&&L.removeChild(this)}function Ln(){var L=this.cloneNode(!1),z=this.parentNode;return z?z.insertBefore(L,this.nextSibling):L}function Rn(){var L=this.cloneNode(!0),z=this.parentNode;return z?z.insertBefore(L,this.nextSibling):L}function hi(L){return L.trim().split(/^|\s+/).map(function(z){var Y="",U=z.indexOf(".");return U>=0&&(Y=z.slice(U+1),z=z.slice(0,U)),{type:z,name:Y}})}function Ui(L){return function(){var z=this.__on;if(z){for(var Y,U=0,X=-1,Z=z.length;U<Z;++U)Y=z[U],L.type&&Y.type!==L.type||Y.name!==L.name?z[++X]=Y:this.removeEventListener(Y.type,Y.listener,Y.options);++X?z.length=X:delete this.__on}}}function qi(L,z,Y){return function(){var U,X=this.__on,Z=function(mt){return function(gt){mt.call(this,gt,this.__data__)}}(z);if(X){for(var J=0,st=X.length;J<st;++J)if((U=X[J]).type===L.type&&U.name===L.name)return this.removeEventListener(U.type,U.listener,U.options),this.addEventListener(U.type,U.listener=Z,U.options=Y),void(U.value=z)}this.addEventListener(L.type,Z,Y),U={type:L.type,name:L.name,value:z,listener:Z,options:Y},X?X.push(U):this.__on=[U]}}function Xi(L,z,Y){var U=Et(L),X=U.CustomEvent;typeof X=="function"?X=new X(z,Y):(X=U.document.createEvent("Event"),Y?(X.initEvent(z,Y.bubbles,Y.cancelable),X.detail=Y.detail):X.initEvent(z,!1,!1)),L.dispatchEvent(X)}function di(L,z){return function(){return Xi(this,L,z)}}function ve(L,z){return function(){return Xi(this,L,z.apply(this,arguments))}}H.prototype={constructor:H,appendChild:function(L){return this._parent.insertBefore(L,this._next)},insertBefore:function(L,z){return this._parent.insertBefore(L,z)},querySelector:function(L){return this._parent.querySelector(L)},querySelectorAll:function(L){return this._parent.querySelectorAll(L)}},ce.prototype={add:function(L){this._names.indexOf(L)<0&&(this._names.push(L),this._node.setAttribute("class",this._names.join(" ")))},remove:function(L){var z=this._names.indexOf(L);z>=0&&(this._names.splice(z,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(L){return this._names.indexOf(L)>=0}};var K=[null];function ut(L,z){this._groups=L,this._parents=z}function _t(L){return typeof L=="string"?new ut([[document.querySelector(L)]],[document.documentElement]):new ut([[L]],K)}function Vt(L,z){if(L=function(Z){let J;for(;J=Z.sourceEvent;)Z=J;return Z}(L),z===void 0&&(z=L.currentTarget),z){var Y=z.ownerSVGElement||z;if(Y.createSVGPoint){var U=Y.createSVGPoint();return U.x=L.clientX,U.y=L.clientY,[(U=U.matrixTransform(z.getScreenCTM().inverse())).x,U.y]}if(z.getBoundingClientRect){var X=z.getBoundingClientRect();return[L.clientX-X.left-z.clientLeft,L.clientY-X.top-z.clientTop]}}return[L.pageX,L.pageY]}ut.prototype={constructor:ut,select:function(L){typeof L!="function"&&(L=P(L));for(var z=this._groups,Y=z.length,U=new Array(Y),X=0;X<Y;++X)for(var Z,J,st=z[X],mt=st.length,gt=U[X]=new Array(mt),yt=0;yt<mt;++yt)(Z=st[yt])&&(J=L.call(Z,Z.__data__,yt,st))&&("__data__"in Z&&(J.__data__=Z.__data__),gt[yt]=J);return new ut(U,this._parents)},selectAll:function(L){L=typeof L=="function"?function(yt){return function(){return C(yt.apply(this,arguments))}}(L):function(yt){return yt==null?O:function(){return this.querySelectorAll(yt)}}(L);for(var z=this._groups,Y=z.length,U=[],X=[],Z=0;Z<Y;++Z)for(var J,st=z[Z],mt=st.length,gt=0;gt<mt;++gt)(J=st[gt])&&(U.push(L.call(J,J.__data__,gt,st)),X.push(J));return new ut(U,X)},selectChild:function(L){return this.select(L==null?S:function(z){return function(){return A.call(this.children,z)}}(typeof L=="function"?L:M(L)))},selectChildren:function(L){return this.selectAll(L==null?I:function(z){return function(){return E.call(this.children,z)}}(typeof L=="function"?L:M(L)))},filter:function(L){typeof L!="function"&&(L=function(yt){return function(){return this.matches(yt)}}(L));for(var z=this._groups,Y=z.length,U=new Array(Y),X=0;X<Y;++X)for(var Z,J=z[X],st=J.length,mt=U[X]=[],gt=0;gt<st;++gt)(Z=J[gt])&&L.call(Z,Z.__data__,gt,J)&&mt.push(Z);return new ut(U,this._parents)},data:function(L,z){if(!arguments.length)return Array.from(this,et);var Y=z?tt:G,U=this._parents,X=this._groups;typeof L!="function"&&(L=$(L));for(var Z=X.length,J=new Array(Z),st=new Array(Z),mt=new Array(Z),gt=0;gt<Z;++gt){var yt=U[gt],Wt=X[gt],St=Wt.length,Ke=lt(L.call(yt,yt&&yt.__data__,gt,U)),de=Ke.length,Qi=st[gt]=new Array(de),Zi=J[gt]=new Array(de),To=mt[gt]=new Array(St);Y(yt,Wt,Qi,Zi,To,Ke,z);for(var Gn,bi,pt=0,Ft=0;pt<de;++pt)if(Gn=Qi[pt]){for(pt>=Ft&&(Ft=pt+1);!(bi=Zi[Ft])&&++Ft<de;);Gn._next=bi||null}}return(J=new ut(J,U))._enter=st,J._exit=mt,J},enter:function(){return new ut(this._enter||this._groups.map(N),this._parents)},exit:function(){return new ut(this._exit||this._groups.map(N),this._parents)},join:function(L,z,Y){var U=this.enter(),X=this,Z=this.exit();return typeof L=="function"?(U=L(U))&&(U=U.selection()):U=U.append(L+""),z!=null&&(X=z(X))&&(X=X.selection()),Y==null?Z.remove():Y(Z),U&&X?U.merge(X).order():X},merge:function(L){for(var z=L.selection?L.selection():L,Y=this._groups,U=z._groups,X=Y.length,Z=U.length,J=Math.min(X,Z),st=new Array(X),mt=0;mt<J;++mt)for(var gt,yt=Y[mt],Wt=U[mt],St=yt.length,Ke=st[mt]=new Array(St),de=0;de<St;++de)(gt=yt[de]||Wt[de])&&(Ke[de]=gt);for(;mt<X;++mt)st[mt]=Y[mt];return new ut(st,this._parents)},selection:function(){return this},order:function(){for(var L=this._groups,z=-1,Y=L.length;++z<Y;)for(var U,X=L[z],Z=X.length-1,J=X[Z];--Z>=0;)(U=X[Z])&&(J&&4^U.compareDocumentPosition(J)&&J.parentNode.insertBefore(U,J),J=U);return this},sort:function(L){function z(Wt,St){return Wt&&St?L(Wt.__data__,St.__data__):!Wt-!St}L||(L=ct);for(var Y=this._groups,U=Y.length,X=new Array(U),Z=0;Z<U;++Z){for(var J,st=Y[Z],mt=st.length,gt=X[Z]=new Array(mt),yt=0;yt<mt;++yt)(J=st[yt])&&(gt[yt]=J);gt.sort(z)}return new ut(X,this._parents).order()},call:function(){var L=arguments[0];return arguments[0]=this,L.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var L=this._groups,z=0,Y=L.length;z<Y;++z)for(var U=L[z],X=0,Z=U.length;X<Z;++X){var J=U[X];if(J)return J}return null},size:function(){let L=0;for(let z of this)++L;return L},empty:function(){return!this.node()},each:function(L){for(var z=this._groups,Y=0,U=z.length;Y<U;++Y)for(var X,Z=z[Y],J=0,st=Z.length;J<st;++J)(X=Z[J])&&L.call(X,X.__data__,J,Z);return this},attr:function(L,z){var Y=d(L);if(arguments.length<2){var U=this.node();return Y.local?U.getAttributeNS(Y.space,Y.local):U.getAttribute(Y)}return this.each((z==null?Y.local?dt:rt:typeof z=="function"?Y.local?kt:ot:Y.local?at:bt)(Y,z))},style:function(L,z,Y){return arguments.length>1?this.each((z==null?wt:typeof z=="function"?Zt:Tt)(L,z,Y??"")):Xt(this.node(),L)},property:function(L,z){return arguments.length>1?this.each((z==null?Lt:typeof z=="function"?Te:Ht)(L,z)):this.node()[L]},classed:function(L,z){var Y=jt(L+"");if(arguments.length<2){for(var U=Mt(this.node()),X=-1,Z=Y.length;++X<Z;)if(!U.contains(Y[X]))return!1;return!0}return this.each((typeof z=="function"?me:z?We:Yn)(Y,z))},text:function(L){return arguments.length?this.each(L==null?en:(typeof L=="function"?Un:te)(L)):this.node().textContent},html:function(L){return arguments.length?this.each(L==null?Be:(typeof L=="function"?be:$e)(L)):this.node().innerHTML},raise:function(){return this.each(Dn)},lower:function(){return this.each(ln)},append:function(L){var z=typeof L=="function"?L:x(L);return this.select(function(){return this.appendChild(z.apply(this,arguments))})},insert:function(L,z){var Y=typeof L=="function"?L:x(L),U=z==null?Sn:typeof z=="function"?z:P(z);return this.select(function(){return this.insertBefore(Y.apply(this,arguments),U.apply(this,arguments)||null)})},remove:function(){return this.each(qn)},clone:function(L){return this.select(L?Rn:Ln)},datum:function(L){return arguments.length?this.property("__data__",L):this.node().__data__},on:function(L,z,Y){var U,X,Z=hi(L+""),J=Z.length;if(!(arguments.length<2)){for(st=z?qi:Ui,U=0;U<J;++U)this.each(st(Z[U],z,Y));return this}var st=this.node().__on;if(st){for(var mt,gt=0,yt=st.length;gt<yt;++gt)for(U=0,mt=st[gt];U<J;++U)if((X=Z[U]).type===mt.type&&X.name===mt.name)return mt.value}},dispatch:function(L,z){return this.each((typeof z=="function"?ve:di)(L,z))},[Symbol.iterator]:function*(){for(var L=this._groups,z=0,Y=L.length;z<Y;++z)for(var U,X=L[z],Z=0,J=X.length;Z<J;++Z)(U=X[Z])&&(yield U)}};let Ot={passive:!1},ee={capture:!0,passive:!1};function oe(L){L.stopImmediatePropagation()}function Ae(L){L.preventDefault(),L.stopImmediatePropagation()}var Ye=L=>()=>L;function ye(L,{sourceEvent:z,subject:Y,target:U,identifier:X,active:Z,x:J,y:st,dx:mt,dy:gt,dispatch:yt}){Object.defineProperties(this,{type:{value:L,enumerable:!0,configurable:!0},sourceEvent:{value:z,enumerable:!0,configurable:!0},subject:{value:Y,enumerable:!0,configurable:!0},target:{value:U,enumerable:!0,configurable:!0},identifier:{value:X,enumerable:!0,configurable:!0},active:{value:Z,enumerable:!0,configurable:!0},x:{value:J,enumerable:!0,configurable:!0},y:{value:st,enumerable:!0,configurable:!0},dx:{value:mt,enumerable:!0,configurable:!0},dy:{value:gt,enumerable:!0,configurable:!0},_:{value:yt}})}function pi(L){return!L.ctrlKey&&!L.button}function Ee(){return this.parentNode}function cn(L,z){return z??{x:L.x,y:L.y}}function Po(){return navigator.maxTouchPoints||"ontouchstart"in this}function Gi(){var L,z,Y,U,X=pi,Z=Ee,J=cn,st=Po,mt={},gt=e("start","drag","end"),yt=0,Wt=0;function St(pt){pt.on("mousedown.drag",Ke).filter(st).on("touchstart.drag",Zi).on("touchmove.drag",To,Ot).on("touchend.drag touchcancel.drag",Gn).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function Ke(pt,Ft){if(!U&&X.call(this,pt,Ft)){var Jt=bi(this,Z.call(this,pt,Ft),pt,Ft,"mouse");Jt&&(_t(pt.view).on("mousemove.drag",de,ee).on("mouseup.drag",Qi,ee),function(Gt){var ie=Gt.document.documentElement,yn=_t(Gt).on("dragstart.drag",Ae,ee);"onselectstart"in ie?yn.on("selectstart.drag",Ae,ee):(ie.__noselect=ie.style.MozUserSelect,ie.style.MozUserSelect="none")}(pt.view),oe(pt),Y=!1,L=pt.clientX,z=pt.clientY,Jt("start",pt))}}function de(pt){if(Ae(pt),!Y){var Ft=pt.clientX-L,Jt=pt.clientY-z;Y=Ft*Ft+Jt*Jt>Wt}mt.mouse("drag",pt)}function Qi(pt){_t(pt.view).on("mousemove.drag mouseup.drag",null),function(Ft,Jt){var Gt=Ft.document.documentElement,ie=_t(Ft).on("dragstart.drag",null);Jt&&(ie.on("click.drag",Ae,ee),setTimeout(function(){ie.on("click.drag",null)},0)),"onselectstart"in Gt?ie.on("selectstart.drag",null):(Gt.style.MozUserSelect=Gt.__noselect,delete Gt.__noselect)}(pt.view,Y),Ae(pt),mt.mouse("end",pt)}function Zi(pt,Ft){if(X.call(this,pt,Ft)){var Jt,Gt,ie=pt.changedTouches,yn=Z.call(this,pt,Ft),vi=ie.length;for(Jt=0;Jt<vi;++Jt)(Gt=bi(this,yn,pt,Ft,ie[Jt].identifier,ie[Jt]))&&(oe(pt),Gt("start",pt,ie[Jt]))}}function To(pt){var Ft,Jt,Gt=pt.changedTouches,ie=Gt.length;for(Ft=0;Ft<ie;++Ft)(Jt=mt[Gt[Ft].identifier])&&(Ae(pt),Jt("drag",pt,Gt[Ft]))}function Gn(pt){var Ft,Jt,Gt=pt.changedTouches,ie=Gt.length;for(U&&clearTimeout(U),U=setTimeout(function(){U=null},500),Ft=0;Ft<ie;++Ft)(Jt=mt[Gt[Ft].identifier])&&(oe(pt),Jt("end",pt,Gt[Ft]))}function bi(pt,Ft,Jt,Gt,ie,yn){var vi,Fr,Rt,Ji=gt.copy(),Qe=Vt(yn||Jt,Ft);if((Rt=J.call(pt,new ye("beforestart",{sourceEvent:Jt,target:St,identifier:ie,active:yt,x:Qe[0],y:Qe[1],dx:0,dy:0,dispatch:Ji}),Gt))!=null)return vi=Rt.x-Qe[0]||0,Fr=Rt.y-Qe[1]||0,function Fs(yi,Ao,El){var xn,Br=Qe;switch(yi){case"start":mt[ie]=Fs,xn=yt++;break;case"end":delete mt[ie],--yt;case"drag":Qe=Vt(El||Ao,Ft),xn=yt}Ji.call(yi,pt,new ye(yi,{sourceEvent:Ao,subject:Rt,target:St,identifier:ie,active:xn,x:Qe[0]+vi,y:Qe[1]+Fr,dx:Qe[0]-Br[0],dy:Qe[1]-Br[1],dispatch:Ji}),Gt)}}return St.filter=function(pt){return arguments.length?(X=typeof pt=="function"?pt:Ye(!!pt),St):X},St.container=function(pt){return arguments.length?(Z=typeof pt=="function"?pt:Ye(pt),St):Z},St.subject=function(pt){return arguments.length?(J=typeof pt=="function"?pt:Ye(pt),St):J},St.touchable=function(pt){return arguments.length?(st=typeof pt=="function"?pt:Ye(!!pt),St):st},St.on=function(){var pt=gt.on.apply(gt,arguments);return pt===gt?St:pt},St.clickDistance=function(pt){return arguments.length?(Wt=(pt=+pt)*pt,St):Math.sqrt(Wt)},St}let ae,vn,un,In,Rs,Rr,Co,Ir,gi,Xn,Is;ye.prototype.on=function(){var L=this._.on.apply(this._,arguments);return L===this._?this:L};let Ki=!1;function mi(L,z){return isNaN(z)?L:Math.round(L*Math.pow(10,z))/Math.pow(10,z)}function Mo(L,z,Y,U,X){let Z,J,st=z.data.datasets[Y].data[U];if(L.touches?(Z=z.scales[un].getValueForPixel(L.touches[0].clientX-z.canvas.getBoundingClientRect().left),J=z.scales[vn].getValueForPixel(L.touches[0].clientY-z.canvas.getBoundingClientRect().top)):(Z=z.scales[un].getValueForPixel(L.clientX-z.canvas.getBoundingClientRect().left),J=z.scales[vn].getValueForPixel(L.clientY-z.canvas.getBoundingClientRect().top)),Z=mi(Z,z.config.options.plugins.dragData.round),J=mi(J,z.config.options.plugins.dragData.round),Z=Z>z.scales[un].max?z.scales[un].max:Z,Z=Z<z.scales[un].min?z.scales[un].min:Z,J=J>z.scales[vn].max?z.scales[vn].max:J,J=J<z.scales[vn].min?z.scales[vn].min:J,Co){let mt;return mt=z.config.options.indexAxis==="y"?Z:J,Math.abs(mt-st[0])<=Math.abs(mt-st[1])?[mt,st[1]]:[st[0],mt]}return st.x!==void 0&&z.config.options.plugins.dragData.dragX&&(st.x=Z),st.y!==void 0?(z.config.options.plugins.dragData.dragY!==!1&&(st.y=J),st):z.config.options.indexAxis==="y"?Z:J}let Al=(L,z,Y,U)=>{if(ae){gi=ae.datasetIndex,Xn=ae.index,Ki=!0;let X=z.data.datasets[gi].data[Xn];Rs==="radar"||Rs==="polarArea"?X=function(Z,J){let st,mt,gt;Z.touches?(st=Z.touches[0].clientX-J.canvas.getBoundingClientRect().left,mt=Z.touches[0].clientY-J.canvas.getBoundingClientRect().top):(st=Z.clientX-J.canvas.getBoundingClientRect().left,mt=Z.clientY-J.canvas.getBoundingClientRect().top);let yt=J.scales[In],Wt=Math.sqrt(Math.pow(st-yt.xCenter,2)+Math.pow(mt-yt.yCenter,2)),St=yt.drawingArea/(yt.max-yt.min);return gt=yt.options.ticks.reverse?yt.max-Wt/St:yt.min+Wt/St,gt=mi(gt,J.config.options.plugins.dragData.round),gt=gt>J.scales[In].max?J.scales[In].max:gt,gt=gt<J.scales[In].min?J.scales[In].min:gt,gt}(L,z):Rr?X=mi(Mo(L,z,gi,Xn)-Ir,Y.round):X=Mo(L,z,gi,Xn),(!U||typeof U=="function"&&U(L,gi,Xn,X)!==!1)&&(z.data.datasets[gi].data[Xn]=X,z.update("none"))}},Oo={id:"dragdata",afterInit:function(L){if(L.config.options.plugins&&L.config.options.plugins.dragData){let z=L.config.options.plugins.dragData;_t(L.canvas).call(Gi().container(L.canvas).on("start",Y=>((U,X,Z)=>{if(ae=X.getElementsAtEventForMode(U,"nearest",{intersect:!0},!1)[0],Rs=X.config.type,ae){let J=ae.datasetIndex,st=ae.index;Is=function(Wt){try{return Wt()}catch{return""}}(()=>X.config.options.plugins.tooltip.animation);let mt=X.data.datasets[J],gt=X.getDatasetMeta(J),yt=mt.data[st];if(un=gt.xAxisID,vn=gt.yAxisID,In=gt.rAxisID,mt.dragData===!1||X.config.options.scales[un]&&X.config.options.scales[un].dragData===!1||X.config.options.scales[vn]&&X.config.options.scales[vn].dragData===!1||X.config.options.scales[In]&&X.config.options.scales[In].rAxisID===!1||mt.data[ae.index].dragData===!1)return void(ae=null);if(Rs==="bar"){Rr=X.config.options.scales[un].stacked;let Wt=X.data.datasets[0].data[0];Co=Wt!==null&&Array.isArray(Wt)&&Wt.length==2,Ir=Mo(U,X,J,st)-yt}(X.config.options.plugins.dragData.showTooltip===void 0||X.config.options.plugins.dragData.showTooltip)&&(X.config.options.plugins.tooltip||(X.config.options.plugins.tooltip={}),X.config.options.plugins.tooltip.animation=!1),typeof Z=="function"&&ae&&Z(U,J,st,yt)===!1&&(ae=null)}})(Y.sourceEvent,L,z.onDragStart)).on("drag",Y=>Al(Y.sourceEvent,L,z,z.onDrag)).on("end",Y=>((U,X,Z)=>{if(Xn=void 0,Ki=!1,X.config.options.plugins.tooltip&&(X.config.options.plugins.tooltip.animation=Is,X.update("none")),typeof Z=="function"&&ae){let J=ae.datasetIndex,st=ae.index,mt=function(gt,yt,Wt){let St=gt.config.options.plugins.dragData;if(!St.magnet)return gt.data.datasets[yt].data[Wt];{let Ke=St.magnet;if(Ke.to&&typeof Ke.to=="function"){let de=gt.data.datasets[yt].data[Wt];return de=Ke.to(de),gt.data.datasets[yt].data[Wt]=de,gt.update("none"),de}}}(X,J,st);return Z(U,J,st,mt)}})(Y.sourceEvent,L,z.onDragEnd)))}},beforeEvent:function(L){if(Ki)return L.tooltip&&L.tooltip.update(),!1}};return n.Chart.register(Oo),Oo})});var yd=wc(bd(),1);var da=Math.random;var vd=function n(t){function e(s,r){var c,h;return s=s==null?0:+s,r=r==null?1:+r,function(){var u;if(c!=null)u=c,c=null;else do c=t()*2-1,u=t()*2-1,h=c*c+u*u;while(!h||h>1);return s+r*u*Math.sqrt(-2*Math.log(h)/h)}}return e.source=n,e}(da);var Pc=function n(t){var e=vd.source(t);function s(){var r=e.apply(this,arguments);return function(){return Math.exp(r())}}return s.source=n,s}(da);var{jStat:Zn}=yd.default;var Ue=.75,Cc=[1,.792066463842733,.874210156798502,1.18137140182542,1.34015913877838,1.34285045635385,1.2999063889539,.779663000234028,1.26608939854903,1.36637023168734,1.44523753802949,1.4740229347063,1.27205710273812,1.22960059286996],Ay=Cc.length,pa=[{name:"TT",guestsAverage:120,guestsCV:.28,wastePerGuestAverage:59.07/Ue,wastePerGuestCV:.403,dinerPerGuestProbability:Ue},{name:"CHT",guestsAverage:165,guestsCV:.433,wastePerGuestAverage:45.78/Ue,wastePerGuestCV:.4089,dinerPerGuestProbability:Ue},{name:"QHRS",guestsAverage:150,guestsCV:.5,wastePerGuestAverage:16.08/Ue,wastePerGuestCV:.4,dinerPerGuestProbability:Ue},{name:"CHUb",guestsAverage:100,guestsCV:.36,wastePerGuestAverage:54.81/Ue,wastePerGuestCV:.3,dinerPerGuestProbability:Ue},{name:"QAHS",guestsAverage:130,guestsCV:.5,wastePerGuestAverage:31.76/Ue,wastePerGuestCV:.4,dinerPerGuestProbability:Ue},{name:"CCHT",guestsAverage:100,guestsCV:.49,wastePerGuestAverage:54.67/Ue,wastePerGuestCV:.48,dinerPerGuestProbability:Ue},{name:"CHCT",guestsAverage:350,guestsCV:.4,wastePerGuestAverage:23.05/Ue,wastePerGuestCV:.8515,dinerPerGuestProbability:Ue},{name:"CHCOA",guestsAverage:250,guestsCV:.7,wastePerGuestAverage:46.8/Ue,wastePerGuestCV:.1,dinerPerGuestProbability:Ue}];var Xs=[{name:"Control",trueEffectMean:0,trueEffectCV:0,index:0},{name:"Simple Message",trueEffectMean:-.2,trueEffectCV:.1,index:1},{name:"Social Norms Message",trueEffectMean:-.15,trueEffectCV:.01,index:2},{name:"Weak Message",trueEffectMean:-.02,trueEffectCV:.1,index:3}];for(let n=0;n<Xs.length;n++)Xs[n].index=n;function xd(n,t,e,s){return e[Math.floor(Zn.uniform.sample(0,e.length))]}function Ey(n,t){let e=[];for(let s=0;s<n.length;s+=t){let r=n.slice(s,s+t).map(c=>[c,e.length]);e.push(r)}return e}function Dy(n){for(let t=n.length-1;t>0;t--){let e=Math.floor(Math.random()*(t+1));[n[t],n[e]]=[n[e],n[t]]}return n}function _d(n,t){let e=Dy(n.hotelList),s=Ey(e,Math.ceil(e.length/t)).flat();n.hotelGroups=new Map(s)}function Sy(n,t,e,s){if(t<s.experimentDurationInDays/2)return e[0];s.hotelGroups===null&&_d(s,e.length);let r=s.hotelGroups.get(n);return console.log("group is "+String(r)),e[r]}function Ly(n,t,e,s){let r=s.experimentDurationInDays/e.length;return e[Math.floor(t/r)]}function Ry(n,t,e,s){s.hotelGroups===null&&_d(s,e.length);let r=s.experimentDurationInDays/e.length,c=Math.floor(t/r);return c>0&&(c=c+s.hotelGroups.get(n),c>=e.length&&(c=1)),e[c]}var ga=[{prettyName:"Random Assignment",assignmentStrategy:xd,description:"Each day, each hotel randomly picks an experiment"},{prettyName:"Sequential Assignment",assignmentStrategy:Ly,description:"All hotels use the same experiment/message for a fixed period of time and then move to the next experiment"},{prettyName:"Diff in Diff Assignment",assignmentStrategy:Sy,description:"All hotels start in the control group; after half of the total experiment time passes, some hotels are assigned to experimental groups until time runs out"},{prettyName:"Staggered Sequential Assignment",assignmentStrategy:Ry,description:"Hotels are split in groups, then alternate experiment/messages for a fixed period of time before moving to the next experiment. They all share the same control period time however"}];function Mc(n=Ay,t=pa,e=xd,s=Xs,r=null,c=0){let h=[],u=n*7,a={experimentDurationInDays:u,hotelList:t,hotelIndices:{},hotelGroups:null};for(let d=0;d<t.length;d++)a.hotelIndices[t[d].name]=d;for(let d=0;d<u;d++)for(let g of t){let v=e(g,d,s,a);Zn.uniform.sample(0,1)>c&&h.push(Ny(g,d,"BREAKFAST",v,r===null?1:r[Math.floor(d/7)]))}return h}function Iy(n,t,e,s){let r=ba(t,n);var c=[],h=[];for(let a of n){let d=Array(t.length+1).fill(0);d[t.length]=a.guests,d[0]=1,d[a.stimulus.index]=1,c.push(d),h.push(a.totalFoodWasteObserved)}let u=Zn.models.ols(h,c);return{averages:r,effects:u.coef,p_values:u.t.p,observations:n}}function Fy(n,t,e,s){let r=ba(t,n);var c=[],h=[];for(let a of n){let d=Array(t.length+1+(e.length-1)).fill(0);d[t.length]=a.guests,d[0]=1,d[a.stimulus.index]=1;let g=s[a.hotel.name];g>0&&(d[t.length+g]=1),c.push(d),h.push(a.totalFoodWasteObserved)}let u=Zn.models.ols(h,c);return{averages:r,effects:u.coef,p_values:u.t.p,observations:n}}function By(n,t,e,s){let r=ba(t,n);var c=[],h=[];for(let a of n){let d=Array(t.length).fill(0);d[0]=1,d[a.stimulus.index]=1,c.push(d),h.push(a.totalFoodWasteObserved)}let u=Zn.models.ols(h,c);return{averages:r,effects:u.coef,p_values:u.t.p,observations:n}}function zy(n,t,e,s){let r=ba(t,n),c=n.reduce((g,v)=>v.date>g?v.date:g,0),h=Math.floor(c/7);var u=[],a=[];for(let g of n){let v=Array(t.length+1+(e.length-1)).fill(0);v[0]=1,v[g.stimulus.index]=1,v[t.length]=g.guests;let x=s[g.hotel.name];x>0&&(v[t.length+x]=1);for(let w=1;w<=h;w++)w===Math.floor(g.date/7)?v.push(1):v.push(0);console.log("rowX: "+v),u.push(v),a.push(g.totalFoodWasteObserved)}let d=Zn.models.ols(a,u);return{averages:r,effects:d.coef,p_values:d.t.p,observations:n}}var ma=[{prettyName:"Linear Regression",analysisMethod:Iy,description:"Ordinary least squares controlling for number of guests"},{prettyName:"Linear Regression + Hotel Controls",analysisMethod:Fy,description:"Ordinary least squares controlling for number of guests and each hotel is a random intercept"},{prettyName:"T-test",analysisMethod:By,description:"Pure hypothesis test on averages"},{prettyName:"Diff-in-diff regression",analysisMethod:zy,description:"Tries to control for both hotel specific issues as well as time dependencies via dummy variables"}];function ba(n,t){let e={};for(let r of n)e[r.name]=[];for(let r of t)e[r.stimulus.name].push(r.totalFoodWasteObserved);let s={};for(let r of n){let c=e[r.name];s[r.name]=c.reduce((h,u)=>h+u,0)/c.length}return s}function Ny(n,t,e,s,r=1){let c=Math.max(0,Math.floor(Zn.normal.sample(n.guestsAverage*r,n.guestsAverage*r*n.guestsCV))),h=0;for(let C=0;C<c;C++)Zn.uniform.sample(0,1)<n.dinerPerGuestProbability&&(h+=1);console.assert(h>=0);let u;s.trueEffectCV==0?u=1+s.trueEffectMean:u=Math.max(0,1+Zn.normal(s.trueEffectMean,s.trueEffectCV*s.trueEffectMean).sample());let a=h*n.wastePerGuestAverage*u,g=(n.wastePerGuestCV*a)**2,v=Math.log(a**2/Math.sqrt(a**2+g)),x=Math.sqrt(Math.log(1+g/a**2)),w=Pc(v,x);console.log(`mu is ${v} and sigma is ${x}`);let P=n.wastePerGuestCV>0?w():a;return console.assert(a>=0),{date:t,guests:c,hotel:n,meal:e,stimulus:s,totalFoodWasteObserved:isNaN(P)?0:P}}var Xm=wc(wd(),1);function Xo(n){return n+.5|0}var Ai=(n,t,e)=>Math.max(Math.min(n,e),t);function qo(n){return Ai(Xo(n*2.55),0,255)}function Ei(n){return Ai(Xo(n*255),0,255)}function Jn(n){return Ai(Xo(n/2.55)/100,0,1)}function kd(n){return Ai(Xo(n*100),0,100)}var dn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ac=[..."0123456789ABCDEF"],Vy=n=>Ac[n&15],Hy=n=>Ac[(n&240)>>4]+Ac[n&15],va=n=>(n&240)>>4===(n&15),Wy=n=>va(n.r)&&va(n.g)&&va(n.b)&&va(n.a);function $y(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&dn[n[1]]*17,g:255&dn[n[2]]*17,b:255&dn[n[3]]*17,a:t===5?dn[n[4]]*17:255}:(t===7||t===9)&&(e={r:dn[n[1]]<<4|dn[n[2]],g:dn[n[3]]<<4|dn[n[4]],b:dn[n[5]]<<4|dn[n[6]],a:t===9?dn[n[7]]<<4|dn[n[8]]:255})),e}var Yy=(n,t)=>n<255?t(n):"";function Uy(n){var t=Wy(n)?Vy:Hy;return n?"#"+t(n.r)+t(n.g)+t(n.b)+Yy(n.a,t):void 0}var qy=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Od(n,t,e){let s=t*Math.min(e,1-e),r=(c,h=(c+n/30)%12)=>e-s*Math.max(Math.min(h-3,9-h,1),-1);return[r(0),r(8),r(4)]}function Xy(n,t,e){let s=(r,c=(r+n/60)%6)=>e-e*t*Math.max(Math.min(c,4-c,1),0);return[s(5),s(3),s(1)]}function Gy(n,t,e){let s=Od(n,1,.5),r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)s[r]*=1-t-e,s[r]+=t;return s}function Ky(n,t,e,s,r){return n===r?(t-e)/s+(t<e?6:0):t===r?(e-n)/s+2:(n-t)/s+4}function Ec(n){let e=n.r/255,s=n.g/255,r=n.b/255,c=Math.max(e,s,r),h=Math.min(e,s,r),u=(c+h)/2,a,d,g;return c!==h&&(g=c-h,d=u>.5?g/(2-c-h):g/(c+h),a=Ky(e,s,r,g,c),a=a*60+.5),[a|0,d||0,u]}function Dc(n,t,e,s){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,s)).map(Ei)}function Sc(n,t,e){return Dc(Od,n,t,e)}function Qy(n,t,e){return Dc(Gy,n,t,e)}function Zy(n,t,e){return Dc(Xy,n,t,e)}function Td(n){return(n%360+360)%360}function Jy(n){let t=qy.exec(n),e=255,s;if(!t)return;t[5]!==s&&(e=t[6]?qo(+t[5]):Ei(+t[5]));let r=Td(+t[2]),c=+t[3]/100,h=+t[4]/100;return t[1]==="hwb"?s=Qy(r,c,h):t[1]==="hsv"?s=Zy(r,c,h):s=Sc(r,c,h),{r:s[0],g:s[1],b:s[2],a:e}}function jy(n,t){var e=Ec(n);e[0]=Td(e[0]+t),e=Sc(e),n.r=e[0],n.g=e[1],n.b=e[2]}function tx(n){if(!n)return;let t=Ec(n),e=t[0],s=kd(t[1]),r=kd(t[2]);return n.a<255?`hsla(${e}, ${s}%, ${r}%, ${Jn(n.a)})`:`hsl(${e}, ${s}%, ${r}%)`}var Pd={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Cd={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function ex(){let n={},t=Object.keys(Cd),e=Object.keys(Pd),s,r,c,h,u;for(s=0;s<t.length;s++){for(h=u=t[s],r=0;r<e.length;r++)c=e[r],u=u.replace(c,Pd[c]);c=parseInt(Cd[h],16),n[u]=[c>>16&255,c>>8&255,c&255]}return n}var ya;function nx(n){ya||(ya=ex(),ya.transparent=[0,0,0,0]);let t=ya[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}var ix=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function sx(n){let t=ix.exec(n),e=255,s,r,c;if(t){if(t[7]!==s){let h=+t[7];e=t[8]?qo(h):Ai(h*255,0,255)}return s=+t[1],r=+t[3],c=+t[5],s=255&(t[2]?qo(s):Ai(s,0,255)),r=255&(t[4]?qo(r):Ai(r,0,255)),c=255&(t[6]?qo(c):Ai(c,0,255)),{r:s,g:r,b:c,a:e}}}function ox(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Jn(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}var Tc=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Gs=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function rx(n,t,e){let s=Gs(Jn(n.r)),r=Gs(Jn(n.g)),c=Gs(Jn(n.b));return{r:Ei(Tc(s+e*(Gs(Jn(t.r))-s))),g:Ei(Tc(r+e*(Gs(Jn(t.g))-r))),b:Ei(Tc(c+e*(Gs(Jn(t.b))-c))),a:n.a+e*(t.a-n.a)}}function xa(n,t,e){if(n){let s=Ec(n);s[t]=Math.max(0,Math.min(s[t]+s[t]*e,t===0?360:1)),s=Sc(s),n.r=s[0],n.g=s[1],n.b=s[2]}}function Ad(n,t){return n&&Object.assign(t||{},n)}function Md(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Ei(n[3]))):(t=Ad(n,{r:0,g:0,b:0,a:1}),t.a=Ei(t.a)),t}function ax(n){return n.charAt(0)==="r"?sx(n):Jy(n)}var Di=class{constructor(t){if(t instanceof Di)return t;let e=typeof t,s;e==="object"?s=Md(t):e==="string"&&(s=$y(t)||nx(t)||ax(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=Ad(this._rgb);return t&&(t.a=Jn(t.a)),t}set rgb(t){this._rgb=Md(t)}rgbString(){return this._valid?ox(this._rgb):void 0}hexString(){return this._valid?Uy(this._rgb):void 0}hslString(){return this._valid?tx(this._rgb):void 0}mix(t,e){if(t){let s=this.rgb,r=t.rgb,c,h=e===c?.5:e,u=2*h-1,a=s.a-r.a,d=((u*a===-1?u:(u+a)/(1+u*a))+1)/2;c=1-d,s.r=255&d*s.r+c*r.r+.5,s.g=255&d*s.g+c*r.g+.5,s.b=255&d*s.b+c*r.b+.5,s.a=h*s.a+(1-h)*r.a,this.rgb=s}return this}interpolate(t,e){return t&&(this._rgb=rx(this._rgb,t._rgb,e)),this}clone(){return new Di(this.rgb)}alpha(t){return this._rgb.a=Ei(t),this}clearer(t){let e=this._rgb;return e.a*=1-t,this}greyscale(){let t=this._rgb,e=Xo(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){let e=this._rgb;return e.a*=1+t,this}negate(){let t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return xa(this._rgb,2,t),this}darken(t){return xa(this._rgb,2,-t),this}saturate(t){return xa(this._rgb,1,t),this}desaturate(t){return xa(this._rgb,1,-t),this}rotate(t){return jy(this._rgb,t),this}};function kn(){}var Ic=(()=>{let n=0;return()=>n++})();function Nt(n){return n===null||typeof n>"u"}function zt(n){if(Array.isArray&&Array.isArray(n))return!0;let t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function At(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ne(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function je(n,t){return ne(n)?n:t}function Ct(n,t){return typeof n>"u"?t:n}var Fc=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,Ma=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Yt(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function qt(n,t,e,s){let r,c,h;if(zt(n))if(c=n.length,s)for(r=c-1;r>=0;r--)t.call(e,n[r],r);else for(r=0;r<c;r++)t.call(e,n[r],r);else if(At(n))for(h=Object.keys(n),c=h.length,r=0;r<c;r++)t.call(e,n[h[r]],h[r])}function Js(n,t){let e,s,r,c;if(!n||!t||n.length!==t.length)return!1;for(e=0,s=n.length;e<s;++e)if(r=n[e],c=t[e],r.datasetIndex!==c.datasetIndex||r.index!==c.index)return!1;return!0}function Ko(n){if(zt(n))return n.map(Ko);if(At(n)){let t=Object.create(null),e=Object.keys(n),s=e.length,r=0;for(;r<s;++r)t[e[r]]=Ko(n[e[r]]);return t}return n}function Nd(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Vd(n,t,e,s){if(!Nd(n))return;let r=t[n],c=e[n];At(r)&&At(c)?os(r,c,s):t[n]=Ko(c)}function os(n,t,e){let s=zt(t)?t:[t],r=s.length;if(!At(n))return n;e=e||{};let c=e.merger||Vd,h;for(let u=0;u<r;++u){if(h=s[u],!At(h))continue;let a=Object.keys(h);for(let d=0,g=a.length;d<g;++d)c(a[d],n,h,e)}return n}function as(n,t){return os(n,t,{merger:Hd})}function Hd(n,t,e){if(!Nd(n))return;let s=t[n],r=e[n];At(s)&&At(r)?as(s,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Ko(r))}var Ed={"":n=>n,x:n=>n.x,y:n=>n.y};function Wd(n){let t=n.split("."),e=[],s="";for(let r of t)s+=r,s.endsWith("\\")?s=s.slice(0,-1)+".":(e.push(s),s="");return e}function lx(n){let t=Wd(n);return e=>{for(let s of t){if(s==="")break;e=e&&e[s]}return e}}function zn(n,t){return(Ed[t]||(Ed[t]=lx(t)))(n)}function Zo(n){return n.charAt(0).toUpperCase()+n.slice(1)}var le=n=>typeof n<"u",Ve=n=>typeof n=="function",Oa=(n,t)=>{if(n.size!==t.size)return!1;for(let e of n)if(!t.has(e))return!1;return!0};function Bc(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}var It=Math.PI,Qt=2*It,$d=Qt+It,Qo=Number.POSITIVE_INFINITY,Jo=It/180,Kt=It/2,sn=It/4,Ks=It*2/3,Bn=Math.log10,pn=Math.sign;function ls(n,t,e){return Math.abs(n-t)<e}function Ta(n){let t=Math.round(n);n=ls(n,t,n/1e3)?t:n;let e=Math.pow(10,Math.floor(Bn(n))),s=n/e;return(s<=1?1:s<=2?2:s<=5?5:10)*e}function zc(n){let t=[],e=Math.sqrt(n),s;for(s=1;s<e;s++)n%s===0&&(t.push(s),t.push(n/s));return e===(e|0)&&t.push(e),t.sort((r,c)=>r-c).pop(),t}function Pn(n){return!isNaN(parseFloat(n))&&isFinite(n)}function Nc(n,t){let e=Math.round(n);return e-t<=n&&e+t>=n}function Aa(n,t,e){let s,r,c;for(s=0,r=n.length;s<r;s++)c=n[s][e],isNaN(c)||(t.min=Math.min(t.min,c),t.max=Math.max(t.max,c))}function ue(n){return n*(It/180)}function cs(n){return n*(180/It)}function Ea(n){if(!ne(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function Da(n,t){let e=t.x-n.x,s=t.y-n.y,r=Math.sqrt(e*e+s*s),c=Math.atan2(s,e);return c<-.5*It&&(c+=Qt),{angle:c,distance:r}}function ti(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Yd(n,t){return(n-t+$d)%Qt-It}function Je(n){return(n%Qt+Qt)%Qt}function us(n,t,e,s){let r=Je(n),c=Je(t),h=Je(e),u=Je(c-r),a=Je(h-r),d=Je(r-c),g=Je(r-h);return r===c||r===h||s&&c===h||u>a&&d<g}function Ce(n,t,e){return Math.max(t,Math.min(e,n))}function Vc(n){return Ce(n,-32768,32767)}function Cn(n,t,e,s=1e-6){return n>=Math.min(t,e)-s&&n<=Math.max(t,e)+s}function jo(n,t,e){e=e||(h=>n[h]<t);let s=n.length-1,r=0,c;for(;s-r>1;)c=r+s>>1,e(c)?r=c:s=c;return{lo:r,hi:s}}var wn=(n,t,e,s)=>jo(n,e,s?r=>{let c=n[r][t];return c<e||c===e&&n[r+1][t]===e}:r=>n[r][t]<e),Hc=(n,t,e)=>jo(n,e,s=>n[s][t]>=e);function Wc(n,t,e){let s=0,r=n.length;for(;s<r&&n[s]<t;)s++;for(;r>s&&n[r-1]>e;)r--;return s>0||r<n.length?n.slice(s,r):n}var Ud=["push","pop","shift","splice","unshift"];function $c(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Ud.forEach(e=>{let s="_onData"+Zo(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...c){let h=r.apply(this,c);return n._chartjs.listeners.forEach(u=>{typeof u[s]=="function"&&u[s](...c)}),h}})})}function Sa(n,t){let e=n._chartjs;if(!e)return;let s=e.listeners,r=s.indexOf(t);r!==-1&&s.splice(r,1),!(s.length>0)&&(Ud.forEach(c=>{delete n[c]}),delete n._chartjs)}function La(n){let t=new Set,e,s;for(e=0,s=n.length;e<s;++e)t.add(n[e]);return t.size===s?n:Array.from(t)}var Ra=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function Ia(n,t){let e=[],s=!1;return function(...r){e=r,s||(s=!0,Ra.call(window,()=>{s=!1,n.apply(t,e)}))}}function Yc(n,t){let e;return function(...s){return t?(clearTimeout(e),e=setTimeout(n,t,s)):n.apply(this,s),t}}var tr=n=>n==="start"?"left":n==="end"?"right":"center",Le=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,Uc=(n,t,e,s)=>n===(s?"left":"right")?e:n==="center"?(t+e)/2:t;function Fa(n,t,e){let s=t.length,r=0,c=s;if(n._sorted){let{iScale:h,_parsed:u}=n,a=h.axis,{min:d,max:g,minDefined:v,maxDefined:x}=h.getUserBounds();v&&(r=Ce(Math.min(wn(u,h.axis,d).lo,e?s:wn(t,a,h.getPixelForValue(d)).lo),0,s-1)),x?c=Ce(Math.max(wn(u,h.axis,g,!0).hi+1,e?0:wn(t,a,h.getPixelForValue(g),!0).hi+1),r,s)-r:c=s-r}return{start:r,count:c}}function Ba(n){let{xScale:t,yScale:e,_scaleRanges:s}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!s)return n._scaleRanges=r,!0;let c=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==e.min||s.ymax!==e.max;return Object.assign(s,r),c}var _a=n=>n===0||n===1,Dd=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Qt/e)),Sd=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Qt/e)+1,is={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Kt)+1,easeOutSine:n=>Math.sin(n*Kt),easeInOutSine:n=>-.5*(Math.cos(It*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>_a(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>_a(n)?n:Dd(n,.075,.3),easeOutElastic:n=>_a(n)?n:Sd(n,.075,.3),easeInOutElastic(n){return _a(n)?n:n<.5?.5*Dd(n*2,.1125,.45):.5+.5*Sd(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-is.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?is.easeInBounce(n*2)*.5:is.easeOutBounce(n*2-1)*.5+.5};function qc(n){if(n&&typeof n=="object"){let t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function za(n){return qc(n)?n:new Di(n)}function Pa(n){return qc(n)?n:new Di(n).saturate(.5).darken(.1).hexString()}var cx=["x","y","borderWidth","radius","tension"],ux=["color","borderColor","backgroundColor"];function fx(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:ux},numbers:{type:"number",properties:cx}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function hx(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var Ld=new Map;function dx(n,t){t=t||{};let e=n+JSON.stringify(t),s=Ld.get(e);return s||(s=new Intl.NumberFormat(n,t),Ld.set(e,s)),s}function fs(n,t,e){return dx(t,e).format(n)}var qd={values(n){return zt(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";let s=this.chart.options.locale,r,c=n;if(e.length>1){let d=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),c=px(n,e)}let h=Bn(Math.abs(c)),u=Math.max(Math.min(-1*Math.floor(h),20),0),a={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(a,this.options.ticks.format),fs(n,s,a)},logarithmic(n,t,e){if(n===0)return"0";let s=e[t].significand||n/Math.pow(10,Math.floor(Bn(n)));return[1,2,3,5,10,15].includes(s)||t>.8*e.length?qd.numeric.call(this,n,t,e):""}};function px(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var js={formatters:qd};function gx(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:js.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}var Li=Object.create(null),Na=Object.create(null);function Go(n,t){if(!t)return n;let e=t.split(".");for(let s=0,r=e.length;s<r;++s){let c=e[s];n=n[c]||(n[c]=Object.create(null))}return n}function Lc(n,t,e){return typeof t=="string"?os(Go(n,t),e):os(Go(n,""),t)}var Rc=class{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,r)=>Pa(r.backgroundColor),this.hoverBorderColor=(s,r)=>Pa(r.borderColor),this.hoverColor=(s,r)=>Pa(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Lc(this,t,e)}get(t){return Go(this,t)}describe(t,e){return Lc(Na,t,e)}override(t,e){return Lc(Li,t,e)}route(t,e,s,r){let c=Go(this,t),h=Go(this,s),u="_"+e;Object.defineProperties(c,{[u]:{value:c[e],writable:!0},[e]:{enumerable:!0,get(){let a=this[u],d=h[r];return At(a)?Object.assign({},d,a):Ct(a,d)},set(a){this[u]=a}}})}apply(t){t.forEach(e=>e(this))}},re=new Rc({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[fx,hx,gx]);function Xd(n){return!n||Nt(n.size)||Nt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Qs(n,t,e,s,r){let c=t[r];return c||(c=t[r]=n.measureText(r).width,e.push(r)),c>s&&(s=c),s}function Xc(n,t,e,s){s=s||{};let r=s.data=s.data||{},c=s.garbageCollect=s.garbageCollect||[];s.font!==t&&(r=s.data={},c=s.garbageCollect=[],s.font=t),n.save(),n.font=t;let h=0,u=e.length,a,d,g,v,x;for(a=0;a<u;a++)if(v=e[a],v!=null&&zt(v)!==!0)h=Qs(n,r,c,h,v);else if(zt(v))for(d=0,g=v.length;d<g;d++)x=v[d],x!=null&&!zt(x)&&(h=Qs(n,r,c,h,x));n.restore();let w=c.length/2;if(w>e.length){for(a=0;a<w;a++)delete r[c[a]];c.splice(0,w)}return h}function ei(n,t,e){let s=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*s)/s+r}function Va(n,t){t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore()}function er(n,t,e,s){Ha(n,t,e,s,null)}function Ha(n,t,e,s,r){let c,h,u,a,d,g,v,x,w=t.pointStyle,P=t.rotation,C=t.radius,O=(P||0)*Jo;if(w&&typeof w=="object"&&(c=w.toString(),c==="[object HTMLImageElement]"||c==="[object HTMLCanvasElement]")){n.save(),n.translate(e,s),n.rotate(O),n.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),n.restore();return}if(!(isNaN(C)||C<=0)){switch(n.beginPath(),w){default:r?n.ellipse(e,s,r/2,C,0,0,Qt):n.arc(e,s,C,0,Qt),n.closePath();break;case"triangle":g=r?r/2:C,n.moveTo(e+Math.sin(O)*g,s-Math.cos(O)*C),O+=Ks,n.lineTo(e+Math.sin(O)*g,s-Math.cos(O)*C),O+=Ks,n.lineTo(e+Math.sin(O)*g,s-Math.cos(O)*C),n.closePath();break;case"rectRounded":d=C*.516,a=C-d,h=Math.cos(O+sn)*a,v=Math.cos(O+sn)*(r?r/2-d:a),u=Math.sin(O+sn)*a,x=Math.sin(O+sn)*(r?r/2-d:a),n.arc(e-v,s-u,d,O-It,O-Kt),n.arc(e+x,s-h,d,O-Kt,O),n.arc(e+v,s+u,d,O,O+Kt),n.arc(e-x,s+h,d,O+Kt,O+It),n.closePath();break;case"rect":if(!P){a=Math.SQRT1_2*C,g=r?r/2:a,n.rect(e-g,s-a,2*g,2*a);break}O+=sn;case"rectRot":v=Math.cos(O)*(r?r/2:C),h=Math.cos(O)*C,u=Math.sin(O)*C,x=Math.sin(O)*(r?r/2:C),n.moveTo(e-v,s-u),n.lineTo(e+x,s-h),n.lineTo(e+v,s+u),n.lineTo(e-x,s+h),n.closePath();break;case"crossRot":O+=sn;case"cross":v=Math.cos(O)*(r?r/2:C),h=Math.cos(O)*C,u=Math.sin(O)*C,x=Math.sin(O)*(r?r/2:C),n.moveTo(e-v,s-u),n.lineTo(e+v,s+u),n.moveTo(e+x,s-h),n.lineTo(e-x,s+h);break;case"star":v=Math.cos(O)*(r?r/2:C),h=Math.cos(O)*C,u=Math.sin(O)*C,x=Math.sin(O)*(r?r/2:C),n.moveTo(e-v,s-u),n.lineTo(e+v,s+u),n.moveTo(e+x,s-h),n.lineTo(e-x,s+h),O+=sn,v=Math.cos(O)*(r?r/2:C),h=Math.cos(O)*C,u=Math.sin(O)*C,x=Math.sin(O)*(r?r/2:C),n.moveTo(e-v,s-u),n.lineTo(e+v,s+u),n.moveTo(e+x,s-h),n.lineTo(e-x,s+h);break;case"line":h=r?r/2:Math.cos(O)*C,u=Math.sin(O)*C,n.moveTo(e-h,s-u),n.lineTo(e+h,s+u);break;case"dash":n.moveTo(e,s),n.lineTo(e+Math.cos(O)*(r?r/2:C),s+Math.sin(O)*C);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function rs(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Ri(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Ii(n){n.restore()}function Gc(n,t,e,s,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){let c=(t.x+e.x)/2;n.lineTo(c,t.y),n.lineTo(c,e.y)}else r==="after"!=!!s?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function Kc(n,t,e,s){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?e.cp2x:e.cp1x,s?e.cp2y:e.cp1y,e.x,e.y)}function ni(n,t,e,s,r,c={}){let h=zt(t)?t:[t],u=c.strokeWidth>0&&c.strokeColor!=="",a,d;for(n.save(),n.font=r.string,mx(n,c),a=0;a<h.length;++a)d=h[a],c.backdrop&&vx(n,c.backdrop),u&&(c.strokeColor&&(n.strokeStyle=c.strokeColor),Nt(c.strokeWidth)||(n.lineWidth=c.strokeWidth),n.strokeText(d,e,s,c.maxWidth)),n.fillText(d,e,s,c.maxWidth),bx(n,e,s,d,c),s+=r.lineHeight;n.restore()}function mx(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Nt(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function bx(n,t,e,s,r){if(r.strikethrough||r.underline){let c=n.measureText(s),h=t-c.actualBoundingBoxLeft,u=t+c.actualBoundingBoxRight,a=e-c.actualBoundingBoxAscent,d=e+c.actualBoundingBoxDescent,g=r.strikethrough?(a+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(h,g),n.lineTo(u,g),n.stroke()}}function vx(n,t){let e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function ii(n,t){let{x:e,y:s,w:r,h:c,radius:h}=t;n.arc(e+h.topLeft,s+h.topLeft,h.topLeft,-Kt,It,!0),n.lineTo(e,s+c-h.bottomLeft),n.arc(e+h.bottomLeft,s+c-h.bottomLeft,h.bottomLeft,It,Kt,!0),n.lineTo(e+r-h.bottomRight,s+c),n.arc(e+r-h.bottomRight,s+c-h.bottomRight,h.bottomRight,Kt,0,!0),n.lineTo(e+r,s+h.topRight),n.arc(e+r-h.topRight,s+h.topRight,h.topRight,0,-Kt,!0),n.lineTo(e+h.topLeft,s)}var yx=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,xx=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Gd(n,t){let e=(""+n).match(yx);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}var _x=n=>+n||0;function nr(n,t){let e={},s=At(t),r=s?Object.keys(t):t,c=At(n)?s?h=>Ct(n[h],n[t[h]]):h=>n[h]:()=>n;for(let h of r)e[h]=_x(c(h));return e}function Wa(n){return nr(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Mn(n){return nr(n,["topLeft","topRight","bottomLeft","bottomRight"])}function fe(n){let t=Wa(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function se(n,t){n=n||{},t=t||re.font;let e=Ct(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let s=Ct(n.style,t.style);s&&!(""+s).match(xx)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);let r={family:Ct(n.family,t.family),lineHeight:Gd(Ct(n.lineHeight,t.lineHeight),e),size:e,style:s,weight:Ct(n.weight,t.weight),string:""};return r.string=Xd(r),r}function hs(n,t,e,s){let r=!0,c,h,u;for(c=0,h=n.length;c<h;++c)if(u=n[c],u!==void 0&&(t!==void 0&&typeof u=="function"&&(u=u(t),r=!1),e!==void 0&&zt(u)&&(u=u[e%u.length],r=!1),u!==void 0))return s&&!r&&(s.cacheable=!1),u}function Qc(n,t,e){let{min:s,max:r}=n,c=Ma(t,(r-s)/2),h=(u,a)=>e&&u===0?0:u+a;return{min:h(s,-Math.abs(c)),max:h(r,c)}}function Nn(n,t){return Object.assign(Object.create(n),t)}function ir(n,t=[""],e=n,s,r=()=>n[0]){le(s)||(s=Zd("_fallback",n));let c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:e,_fallback:s,_getTarget:r,override:h=>ir([h,...n],t,e,s)};return new Proxy(c,{deleteProperty(h,u){return delete h[u],delete h._keys,delete n[0][u],!0},get(h,u){return Kd(h,u,()=>Ax(u,t,n,h))},getOwnPropertyDescriptor(h,u){return Reflect.getOwnPropertyDescriptor(h._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,u){return Id(h).includes(u)},ownKeys(h){return Id(h)},set(h,u,a){let d=h._storage||(h._storage=r());return h[u]=d[u]=a,delete h._keys,!0}})}function Si(n,t,e,s){let r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:$a(n,s),setContext:c=>Si(n,c,e,s),override:c=>Si(n.override(c),t,e,s)};return new Proxy(r,{deleteProperty(c,h){return delete c[h],delete n[h],!0},get(c,h,u){return Kd(c,h,()=>kx(c,h,u))},getOwnPropertyDescriptor(c,h){return c._descriptors.allKeys?Reflect.has(n,h)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,h)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(c,h){return Reflect.has(n,h)},ownKeys(){return Reflect.ownKeys(n)},set(c,h,u){return n[h]=u,delete c[h],!0}})}function $a(n,t={scriptable:!0,indexable:!0}){let{_scriptable:e=t.scriptable,_indexable:s=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:s,isScriptable:Ve(e)?e:()=>e,isIndexable:Ve(s)?s:()=>s}}var wx=(n,t)=>n?n+Zo(t):t,Zc=(n,t)=>At(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Kd(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t))return n[t];let s=e();return n[t]=s,s}function kx(n,t,e){let{_proxy:s,_context:r,_subProxy:c,_descriptors:h}=n,u=s[t];return Ve(u)&&h.isScriptable(t)&&(u=Px(t,u,n,e)),zt(u)&&u.length&&(u=Cx(t,u,n,h.isIndexable)),Zc(t,u)&&(u=Si(u,r,c&&c[t],h)),u}function Px(n,t,e,s){let{_proxy:r,_context:c,_subProxy:h,_stack:u}=e;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);return u.add(n),t=t(c,h||s),u.delete(n),Zc(n,t)&&(t=Jc(r._scopes,r,n,t)),t}function Cx(n,t,e,s){let{_proxy:r,_context:c,_subProxy:h,_descriptors:u}=e;if(le(c.index)&&s(n))t=t[c.index%t.length];else if(At(t[0])){let a=t,d=r._scopes.filter(g=>g!==a);t=[];for(let g of a){let v=Jc(d,r,n,g);t.push(Si(v,c,h&&h[n],u))}}return t}function Qd(n,t,e){return Ve(n)?n(t,e):n}var Mx=(n,t)=>n===!0?t:typeof n=="string"?zn(t,n):void 0;function Ox(n,t,e,s,r){for(let c of t){let h=Mx(e,c);if(h){n.add(h);let u=Qd(h._fallback,e,r);if(le(u)&&u!==e&&u!==s)return u}else if(h===!1&&le(s)&&e!==s)return null}return!1}function Jc(n,t,e,s){let r=t._rootScopes,c=Qd(t._fallback,e,s),h=[...n,...r],u=new Set;u.add(s);let a=Rd(u,h,e,c||e,s);return a===null||le(c)&&c!==e&&(a=Rd(u,h,c,a,s),a===null)?!1:ir(Array.from(u),[""],r,c,()=>Tx(t,e,s))}function Rd(n,t,e,s,r){for(;e;)e=Ox(n,t,e,s,r);return e}function Tx(n,t,e){let s=n._getTarget();t in s||(s[t]={});let r=s[t];return zt(r)&&At(e)?e:r||{}}function Ax(n,t,e,s){let r;for(let c of t)if(r=Zd(wx(c,n),e),le(r))return Zc(n,r)?Jc(e,s,n,r):r}function Zd(n,t){for(let e of t){if(!e)continue;let s=e[n];if(le(s))return s}}function Id(n){let t=n._keys;return t||(t=n._keys=Ex(n._scopes)),t}function Ex(n){let t=new Set;for(let e of n)for(let s of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(s);return Array.from(t)}function Ya(n,t,e,s){let{iScale:r}=n,{key:c="r"}=this._parsing,h=new Array(s),u,a,d,g;for(u=0,a=s;u<a;++u)d=u+e,g=t[d],h[u]={r:r.parse(zn(g,c),d)};return h}var Dx=Number.EPSILON||1e-14,Zs=(n,t)=>t<n.length&&!n[t].skip&&n[t],Jd=n=>n==="x"?"y":"x";function jd(n,t,e,s){let r=n.skip?t:n,c=t,h=e.skip?t:e,u=ti(c,r),a=ti(h,c),d=u/(u+a),g=a/(u+a);d=isNaN(d)?0:d,g=isNaN(g)?0:g;let v=s*d,x=s*g;return{previous:{x:c.x-v*(h.x-r.x),y:c.y-v*(h.y-r.y)},next:{x:c.x+x*(h.x-r.x),y:c.y+x*(h.y-r.y)}}}function Sx(n,t,e){let s=n.length,r,c,h,u,a,d=Zs(n,0);for(let g=0;g<s-1;++g)if(a=d,d=Zs(n,g+1),!(!a||!d)){if(ls(t[g],0,Dx)){e[g]=e[g+1]=0;continue}r=e[g]/t[g],c=e[g+1]/t[g],u=Math.pow(r,2)+Math.pow(c,2),!(u<=9)&&(h=3/Math.sqrt(u),e[g]=r*h*t[g],e[g+1]=c*h*t[g])}}function Lx(n,t,e="x"){let s=Jd(e),r=n.length,c,h,u,a=Zs(n,0);for(let d=0;d<r;++d){if(h=u,u=a,a=Zs(n,d+1),!u)continue;let g=u[e],v=u[s];h&&(c=(g-h[e])/3,u[`cp1${e}`]=g-c,u[`cp1${s}`]=v-c*t[d]),a&&(c=(a[e]-g)/3,u[`cp2${e}`]=g+c,u[`cp2${s}`]=v+c*t[d])}}function tp(n,t="x"){let e=Jd(t),s=n.length,r=Array(s).fill(0),c=Array(s),h,u,a,d=Zs(n,0);for(h=0;h<s;++h)if(u=a,a=d,d=Zs(n,h+1),!!a){if(d){let g=d[t]-a[t];r[h]=g!==0?(d[e]-a[e])/g:0}c[h]=u?d?pn(r[h-1])!==pn(r[h])?0:(r[h-1]+r[h])/2:r[h-1]:r[h]}Sx(n,r,c),Lx(n,c,t)}function wa(n,t,e){return Math.max(Math.min(n,e),t)}function Rx(n,t){let e,s,r,c,h,u=rs(n[0],t);for(e=0,s=n.length;e<s;++e)h=c,c=u,u=e<s-1&&rs(n[e+1],t),c&&(r=n[e],h&&(r.cp1x=wa(r.cp1x,t.left,t.right),r.cp1y=wa(r.cp1y,t.top,t.bottom)),u&&(r.cp2x=wa(r.cp2x,t.left,t.right),r.cp2y=wa(r.cp2y,t.top,t.bottom)))}function jc(n,t,e,s,r){let c,h,u,a;if(t.spanGaps&&(n=n.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")tp(n,r);else{let d=s?n[n.length-1]:n[0];for(c=0,h=n.length;c<h;++c)u=n[c],a=jd(d,u,n[Math.min(c+1,h-(s?0:1))%h],t.tension),u.cp1x=a.previous.x,u.cp1y=a.previous.y,u.cp2x=a.next.x,u.cp2y=a.next.y,d=u}t.capBezierPoints&&Rx(n,e)}function Ua(){return typeof window<"u"&&typeof document<"u"}function sr(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Ca(n,t,e){let s;return typeof n=="string"?(s=parseInt(n,10),n.indexOf("%")!==-1&&(s=s/100*t.parentNode[e])):s=n,s}var qa=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function ep(n,t){return qa(n).getPropertyValue(t)}var Ix=["top","right","bottom","left"];function ss(n,t,e){let s={};e=e?"-"+e:"";for(let r=0;r<4;r++){let c=Ix[r];s[c]=parseFloat(n[t+"-"+c+e])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}var Fx=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function Bx(n,t){let e=n.touches,s=e&&e.length?e[0]:n,{offsetX:r,offsetY:c}=s,h=!1,u,a;if(Fx(r,c,n.target))u=r,a=c;else{let d=t.getBoundingClientRect();u=s.clientX-d.left,a=s.clientY-d.top,h=!0}return{x:u,y:a,box:h}}function si(n,t){if("native"in n)return n;let{canvas:e,currentDevicePixelRatio:s}=t,r=qa(e),c=r.boxSizing==="border-box",h=ss(r,"padding"),u=ss(r,"border","width"),{x:a,y:d,box:g}=Bx(n,e),v=h.left+(g&&u.left),x=h.top+(g&&u.top),{width:w,height:P}=t;return c&&(w-=h.width+u.width,P-=h.height+u.height),{x:Math.round((a-v)/w*e.width/s),y:Math.round((d-x)/P*e.height/s)}}function zx(n,t,e){let s,r;if(t===void 0||e===void 0){let c=sr(n);if(!c)t=n.clientWidth,e=n.clientHeight;else{let h=c.getBoundingClientRect(),u=qa(c),a=ss(u,"border","width"),d=ss(u,"padding");t=h.width-d.width-a.width,e=h.height-d.height-a.height,s=Ca(u.maxWidth,c,"clientWidth"),r=Ca(u.maxHeight,c,"clientHeight")}}return{width:t,height:e,maxWidth:s||Qo,maxHeight:r||Qo}}var ka=n=>Math.round(n*10)/10;function tu(n,t,e,s){let r=qa(n),c=ss(r,"margin"),h=Ca(r.maxWidth,n,"clientWidth")||Qo,u=Ca(r.maxHeight,n,"clientHeight")||Qo,a=zx(n,t,e),{width:d,height:g}=a;if(r.boxSizing==="content-box"){let x=ss(r,"border","width"),w=ss(r,"padding");d-=w.width+x.width,g-=w.height+x.height}return d=Math.max(0,d-c.width),g=Math.max(0,s?d/s:g-c.height),d=ka(Math.min(d,h,a.maxWidth)),g=ka(Math.min(g,u,a.maxHeight)),d&&!g&&(g=ka(d/2)),(t!==void 0||e!==void 0)&&s&&a.height&&g>a.height&&(g=a.height,d=ka(Math.floor(g*s))),{width:d,height:g}}function Xa(n,t,e){let s=t||1,r=Math.floor(n.height*s),c=Math.floor(n.width*s);n.height=Math.floor(n.height),n.width=Math.floor(n.width);let h=n.canvas;return h.style&&(e||!h.style.height&&!h.style.width)&&(h.style.height=`${n.height}px`,h.style.width=`${n.width}px`),n.currentDevicePixelRatio!==s||h.height!==r||h.width!==c?(n.currentDevicePixelRatio=s,h.height=r,h.width=c,n.ctx.setTransform(s,0,0,s,0,0),!0):!1}var eu=function(){let n=!1;try{let t={get passive(){return n=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return n}();function Ga(n,t){let e=ep(n,t),s=e&&e.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function jn(n,t,e,s){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function nu(n,t,e,s){return{x:n.x+e*(t.x-n.x),y:s==="middle"?e<.5?n.y:t.y:s==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function iu(n,t,e,s){let r={x:n.cp2x,y:n.cp2y},c={x:t.cp1x,y:t.cp1y},h=jn(n,r,e),u=jn(r,c,e),a=jn(c,t,e),d=jn(h,u,e),g=jn(u,a,e);return jn(d,g,e)}var Nx=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,s){return e-s},leftForLtr(e,s){return e-s}}},Vx=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Fi(n,t,e){return n?Nx(t,e):Vx()}function Ka(n,t){let e,s;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,s=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=s)}function Qa(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function np(n){return n==="angle"?{between:us,compare:Yd,normalize:Je}:{between:Cn,compare:(t,e)=>t-e,normalize:t=>t}}function Fd({start:n,end:t,count:e,loop:s,style:r}){return{start:n%e,end:t%e,loop:s&&(t-n+1)%e===0,style:r}}function Hx(n,t,e){let{property:s,start:r,end:c}=e,{between:h,normalize:u}=np(s),a=t.length,{start:d,end:g,loop:v}=n,x,w;if(v){for(d+=a,g+=a,x=0,w=a;x<w&&h(u(t[d%a][s]),r,c);++x)d--,g--;d%=a,g%=a}return g<d&&(g+=a),{start:d,end:g,loop:v,style:n.style}}function Za(n,t,e){if(!e)return[n];let{property:s,start:r,end:c}=e,h=t.length,{compare:u,between:a,normalize:d}=np(s),{start:g,end:v,loop:x,style:w}=Hx(n,t,e),P=[],C=!1,O=null,M,A,S,E=()=>a(r,S,M)&&u(r,S)!==0,I=()=>u(c,M)===0||a(c,S,M),N=()=>C||E(),H=()=>!C||I();for(let $=g,G=g;$<=v;++$)A=t[$%h],!A.skip&&(M=d(A[s]),M!==S&&(C=a(M,r,c),O===null&&N()&&(O=u(M,r)===0?$:G),O!==null&&H()&&(P.push(Fd({start:O,end:$,loop:x,count:h,style:w})),O=null),G=$,S=M));return O!==null&&P.push(Fd({start:O,end:v,loop:x,count:h,style:w})),P}function Ja(n,t){let e=[],s=n.segments;for(let r=0;r<s.length;r++){let c=Za(s[r],n.points,t);c.length&&e.push(...c)}return e}function Wx(n,t,e,s){let r=0,c=t-1;if(e&&!s)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(c+=r);c>r&&n[c%t].skip;)c--;return c%=t,{start:r,end:c}}function $x(n,t,e,s){let r=n.length,c=[],h=t,u=n[t],a;for(a=t+1;a<=e;++a){let d=n[a%r];d.skip||d.stop?u.skip||(s=!1,c.push({start:t%r,end:(a-1)%r,loop:s}),t=h=d.stop?a:null):(h=a,u.skip&&(t=a)),u=d}return h!==null&&c.push({start:t%r,end:h%r,loop:s}),c}function su(n,t){let e=n.points,s=n.options.spanGaps,r=e.length;if(!r)return[];let c=!!n._loop,{start:h,end:u}=Wx(e,r,c,s);if(s===!0)return Bd(n,[{start:h,end:u,loop:c}],e,t);let a=u<h?u+r:u,d=!!n._fullLoop&&h===0&&u===r-1;return Bd(n,$x(e,h,a,d),e,t)}function Bd(n,t,e,s){return!s||!s.setContext||!e?t:Yx(n,t,e,s)}function Yx(n,t,e,s){let r=n._chart.getContext(),c=zd(n.options),{_datasetIndex:h,options:{spanGaps:u}}=n,a=e.length,d=[],g=c,v=t[0].start,x=v;function w(P,C,O,M){let A=u?-1:1;if(P!==C){for(P+=a;e[P%a].skip;)P-=A;for(;e[C%a].skip;)C+=A;P%a!==C%a&&(d.push({start:P%a,end:C%a,loop:O,style:M}),g=M,v=C%a)}}for(let P of t){v=u?v:P.start;let C=e[v%a],O;for(x=v+1;x<=P.end;x++){let M=e[x%a];O=zd(s.setContext(Nn(r,{type:"segment",p0:C,p1:M,p0DataIndex:(x-1)%a,p1DataIndex:x%a,datasetIndex:h}))),Ux(O,g)&&w(v,x-1,P.loop,g),C=M,g=O}v<x-1&&w(v,x-1,P.loop,g)}return d}function zd(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Ux(n,t){return t&&JSON.stringify(n)!==JSON.stringify(t)}var pu=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,s,r){let c=e.listeners[r],h=e.duration;c.forEach(u=>u({chart:t,initial:e.initial,numSteps:h,currentStep:Math.min(s-e.start,h)}))}_refresh(){this._request||(this._running=!0,this._request=Ra.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((s,r)=>{if(!s.running||!s.items.length)return;let c=s.items,h=c.length-1,u=!1,a;for(;h>=0;--h)a=c[h],a._active?(a._total>s.duration&&(s.duration=a._total),a.tick(t),u=!0):(c[h]=c[c.length-1],c.pop());u&&(r.draw(),this._notify(r,s,t,"progress")),c.length||(s.running=!1,this._notify(r,s,t,"complete"),s.initial=!1),e+=c.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){let e=this._charts,s=e.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,s)),s}listen(t,e,s){this._getAnims(t).listeners[e].push(s)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){let e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((s,r)=>Math.max(s,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;let e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){let e=this._charts.get(t);if(!e||!e.items.length)return;let s=e.items,r=s.length-1;for(;r>=0;--r)s[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}},oi=new pu,ip="transparent",qx={boolean(n,t,e){return e>.5?t:n},color(n,t,e){let s=za(n||ip),r=s.valid&&za(t||ip);return r&&r.valid?r.mix(s,e).hexString():t},number(n,t,e){return n+(t-n)*e}},gu=class{constructor(t,e,s,r){let c=e[s];r=hs([t.to,r,c,t.from]);let h=hs([t.from,c,r]);this._active=!0,this._fn=t.fn||qx[t.type||typeof h],this._easing=is[t.easing]||is.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=s,this._from=h,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,s){if(this._active){this._notify(!1);let r=this._target[this._prop],c=s-this._start,h=this._duration-c;this._start=s,this._duration=Math.floor(Math.max(h,t.duration)),this._total+=c,this._loop=!!t.loop,this._to=hs([t.to,e,r,t.from]),this._from=hs([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){let e=t-this._start,s=this._duration,r=this._prop,c=this._from,h=this._loop,u=this._to,a;if(this._active=c!==u&&(h||e<s),!this._active){this._target[r]=u,this._notify(!0);return}if(e<0){this._target[r]=c;return}a=e/s%2,a=h&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[r]=this._fn(c,u,a)}wait(){let t=this._promises||(this._promises=[]);return new Promise((e,s)=>{t.push({res:e,rej:s})})}_notify(t){let e=t?"res":"rej",s=this._promises||[];for(let r=0;r<s.length;r++)s[r][e]()}},uo=class{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!At(t))return;let e=Object.keys(re.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{let c=t[r];if(!At(c))return;let h={};for(let u of e)h[u]=c[u];(zt(c.properties)&&c.properties||[r]).forEach(u=>{(u===r||!s.has(u))&&s.set(u,h)})})}_animateOptions(t,e){let s=e.options,r=Gx(t,s);if(!r)return[];let c=this._createAnimations(r,s);return s.$shared&&Xx(t.options.$animations,s).then(()=>{t.options=s},()=>{}),c}_createAnimations(t,e){let s=this._properties,r=[],c=t.$animations||(t.$animations={}),h=Object.keys(e),u=Date.now(),a;for(a=h.length-1;a>=0;--a){let d=h[a];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(t,e));continue}let g=e[d],v=c[d],x=s.get(d);if(v)if(x&&v.active()){v.update(x,g,u);continue}else v.cancel();if(!x||!x.duration){t[d]=g;continue}c[d]=v=new gu(x,t,d,g),r.push(v)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}let s=this._createAnimations(t,e);if(s.length)return oi.add(this._chart,s),!0}};function Xx(n,t){let e=[],s=Object.keys(t);for(let r=0;r<s.length;r++){let c=n[s[r]];c&&c.active()&&e.push(c.wait())}return Promise.all(e)}function Gx(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function sp(n,t){let e=n&&n.options||{},s=e.reverse,r=e.min===void 0?t:0,c=e.max===void 0?t:0;return{start:s?c:r,end:s?r:c}}function Kx(n,t,e){if(e===!1)return!1;let s=sp(n,e),r=sp(t,e);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}function Qx(n){let t,e,s,r;return At(n)?(t=n.top,e=n.right,s=n.bottom,r=n.left):t=e=s=r=n,{top:t,right:e,bottom:s,left:r,disabled:n===!1}}function tg(n,t){let e=[],s=n._getSortedDatasetMetas(t),r,c;for(r=0,c=s.length;r<c;++r)e.push(s[r].index);return e}function op(n,t,e,s={}){let r=n.keys,c=s.mode==="single",h,u,a,d;if(t!==null){for(h=0,u=r.length;h<u;++h){if(a=+r[h],a===e){if(s.all)continue;break}d=n.values[a],ne(d)&&(c||t===0||pn(t)===pn(d))&&(t+=d)}return t}}function Zx(n){let t=Object.keys(n),e=new Array(t.length),s,r,c;for(s=0,r=t.length;s<r;++s)c=t[s],e[s]={x:c,y:n[c]};return e}function rp(n,t){let e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function Jx(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function jx(n){let{min:t,max:e,minDefined:s,maxDefined:r}=n.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function t_(n,t,e){let s=n[t]||(n[t]={});return s[e]||(s[e]={})}function ap(n,t,e,s){for(let r of t.getMatchingVisibleMetas(s).reverse()){let c=n[r.index];if(e&&c>0||!e&&c<0)return r.index}return null}function lp(n,t){let{chart:e,_cachedMeta:s}=n,r=e._stacks||(e._stacks={}),{iScale:c,vScale:h,index:u}=s,a=c.axis,d=h.axis,g=Jx(c,h,s),v=t.length,x;for(let w=0;w<v;++w){let P=t[w],{[a]:C,[d]:O}=P,M=P._stacks||(P._stacks={});x=M[d]=t_(r,g,C),x[u]=O,x._top=ap(x,h,!0,s.type),x._bottom=ap(x,h,!1,s.type);let A=x._visualValues||(x._visualValues={});A[u]=O}}function ou(n,t){let e=n.scales;return Object.keys(e).filter(s=>e[s].axis===t).shift()}function e_(n,t){return Nn(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function n_(n,t,e){return Nn(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function or(n,t){let e=n.controller.index,s=n.vScale&&n.vScale.axis;if(s){t=t||n._parsed;for(let r of t){let c=r._stacks;if(!c||c[s]===void 0||c[s][e]===void 0)return;delete c[s][e],c[s]._visualValues!==void 0&&c[s]._visualValues[e]!==void 0&&delete c[s]._visualValues[e]}}}var ru=n=>n==="reset"||n==="none",cp=(n,t)=>t?n:Object.assign({},n),i_=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:tg(e,!0),values:null},an=class{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=rp(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&or(this._cachedMeta),this.index=t}linkScales(){let t=this.chart,e=this._cachedMeta,s=this.getDataset(),r=(v,x,w,P)=>v==="x"?x:v==="r"?P:w,c=e.xAxisID=Ct(s.xAxisID,ou(t,"x")),h=e.yAxisID=Ct(s.yAxisID,ou(t,"y")),u=e.rAxisID=Ct(s.rAxisID,ou(t,"r")),a=e.indexAxis,d=e.iAxisID=r(a,c,h,u),g=e.vAxisID=r(a,h,c,u);e.xScale=this.getScaleForId(c),e.yScale=this.getScaleForId(h),e.rScale=this.getScaleForId(u),e.iScale=this.getScaleForId(d),e.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){let e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){let t=this._cachedMeta;this._data&&Sa(this._data,this),t._stacked&&or(t)}_dataCheck(){let t=this.getDataset(),e=t.data||(t.data=[]),s=this._data;if(At(e))this._data=Zx(e);else if(s!==e){if(s){Sa(s,this);let r=this._cachedMeta;or(r),r._parsed=[]}e&&Object.isExtensible(e)&&$c(e,this),this._syncList=[],this._data=e}}addElements(){let t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){let e=this._cachedMeta,s=this.getDataset(),r=!1;this._dataCheck();let c=e._stacked;e._stacked=rp(e.vScale,e),e.stack!==s.stack&&(r=!0,or(e),e.stack=s.stack),this._resyncElements(t),(r||c!==e._stacked)&&lp(this,e._parsed)}configure(){let t=this.chart.config,e=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){let{_cachedMeta:s,_data:r}=this,{iScale:c,_stacked:h}=s,u=c.axis,a=t===0&&e===r.length?!0:s._sorted,d=t>0&&s._parsed[t-1],g,v,x;if(this._parsing===!1)s._parsed=r,s._sorted=!0,x=r;else{zt(r[t])?x=this.parseArrayData(s,r,t,e):At(r[t])?x=this.parseObjectData(s,r,t,e):x=this.parsePrimitiveData(s,r,t,e);let w=()=>v[u]===null||d&&v[u]<d[u];for(g=0;g<e;++g)s._parsed[g+t]=v=x[g],a&&(w()&&(a=!1),d=v);s._sorted=a}h&&lp(this,x)}parsePrimitiveData(t,e,s,r){let{iScale:c,vScale:h}=t,u=c.axis,a=h.axis,d=c.getLabels(),g=c===h,v=new Array(r),x,w,P;for(x=0,w=r;x<w;++x)P=x+s,v[x]={[u]:g||c.parse(d[P],P),[a]:h.parse(e[P],P)};return v}parseArrayData(t,e,s,r){let{xScale:c,yScale:h}=t,u=new Array(r),a,d,g,v;for(a=0,d=r;a<d;++a)g=a+s,v=e[g],u[a]={x:c.parse(v[0],g),y:h.parse(v[1],g)};return u}parseObjectData(t,e,s,r){let{xScale:c,yScale:h}=t,{xAxisKey:u="x",yAxisKey:a="y"}=this._parsing,d=new Array(r),g,v,x,w;for(g=0,v=r;g<v;++g)x=g+s,w=e[x],d[g]={x:c.parse(zn(w,u),x),y:h.parse(zn(w,a),x)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,s){let r=this.chart,c=this._cachedMeta,h=e[t.axis],u={keys:tg(r,!0),values:e._stacks[t.axis]._visualValues};return op(u,h,c.index,{mode:s})}updateRangeFromParsed(t,e,s,r){let c=s[e.axis],h=c===null?NaN:c,u=r&&s._stacks[e.axis];r&&u&&(r.values=u,h=op(r,c,this._cachedMeta.index)),t.min=Math.min(t.min,h),t.max=Math.max(t.max,h)}getMinMax(t,e){let s=this._cachedMeta,r=s._parsed,c=s._sorted&&t===s.iScale,h=r.length,u=this._getOtherScale(t),a=i_(e,s,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:v}=jx(u),x,w;function P(){w=r[x];let C=w[u.axis];return!ne(w[t.axis])||g>C||v<C}for(x=0;x<h&&!(!P()&&(this.updateRangeFromParsed(d,t,w,a),c));++x);if(c){for(x=h-1;x>=0;--x)if(!P()){this.updateRangeFromParsed(d,t,w,a);break}}return d}getAllParsedValues(t){let e=this._cachedMeta._parsed,s=[],r,c,h;for(r=0,c=e.length;r<c;++r)h=e[r][t.axis],ne(h)&&s.push(h);return s}getMaxOverflow(){return!1}getLabelAndValue(t){let e=this._cachedMeta,s=e.iScale,r=e.vScale,c=this.getParsed(t);return{label:s?""+s.getLabelForValue(c[s.axis]):"",value:r?""+r.getLabelForValue(c[r.axis]):""}}_update(t){let e=this._cachedMeta;this.update(t||"default"),e._clip=Qx(Ct(this.options.clip,Kx(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){let t=this._ctx,e=this.chart,s=this._cachedMeta,r=s.data||[],c=e.chartArea,h=[],u=this._drawStart||0,a=this._drawCount||r.length-u,d=this.options.drawActiveElementsOnTop,g;for(s.dataset&&s.dataset.draw(t,c,u,a),g=u;g<u+a;++g){let v=r[g];v.hidden||(v.active&&d?h.push(v):v.draw(t,c))}for(g=0;g<h.length;++g)h[g].draw(t,c)}getStyle(t,e){let s=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,e,s){let r=this.getDataset(),c;if(t>=0&&t<this._cachedMeta.data.length){let h=this._cachedMeta.data[t];c=h.$context||(h.$context=n_(this.getContext(),t,h)),c.parsed=this.getParsed(t),c.raw=r.data[t],c.index=c.dataIndex=t}else c=this.$context||(this.$context=e_(this.chart.getContext(),this.index)),c.dataset=r,c.index=c.datasetIndex=this.index;return c.active=!!e,c.mode=s,c}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",s){let r=e==="active",c=this._cachedDataOpts,h=t+"-"+e,u=c[h],a=this.enableOptionSharing&&le(s);if(u)return cp(u,a);let d=this.chart.config,g=d.datasetElementScopeKeys(this._type,t),v=r?[`${t}Hover`,"hover",t,""]:[t,""],x=d.getOptionScopes(this.getDataset(),g),w=Object.keys(re.elements[t]),P=()=>this.getContext(s,r,e),C=d.resolveNamedOptions(x,w,P,v);return C.$shared&&(C.$shared=a,c[h]=Object.freeze(cp(C,a))),C}_resolveAnimations(t,e,s){let r=this.chart,c=this._cachedDataOpts,h=`animation-${e}`,u=c[h];if(u)return u;let a;if(r.options.animation!==!1){let g=this.chart.config,v=g.datasetAnimationScopeKeys(this._type,e),x=g.getOptionScopes(this.getDataset(),v);a=g.createResolver(x,this.getContext(t,s,e))}let d=new uo(r,a&&a.animations);return a&&a._cacheable&&(c[h]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||ru(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){let s=this.resolveDataElementOptions(t,e),r=this._sharedOptions,c=this.getSharedOptions(s),h=this.includeOptions(e,c)||c!==r;return this.updateSharedOptions(c,e,s),{sharedOptions:c,includeOptions:h}}updateElement(t,e,s,r){ru(r)?Object.assign(t,s):this._resolveAnimations(e,r).update(t,s)}updateSharedOptions(t,e,s){t&&!ru(e)&&this._resolveAnimations(void 0,e).update(t,s)}_setStyle(t,e,s,r){t.active=r;let c=this.getStyle(e,r);this._resolveAnimations(e,s,r).update(t,{options:!r&&this.getSharedOptions(c)||c})}removeHoverStyle(t,e,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,e,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){let e=this._data,s=this._cachedMeta.data;for(let[u,a,d]of this._syncList)this[u](a,d);this._syncList=[];let r=s.length,c=e.length,h=Math.min(c,r);h&&this.parse(0,h),c>r?this._insertElements(r,c-r,t):c<r&&this._removeElements(c,r-c)}_insertElements(t,e,s=!0){let r=this._cachedMeta,c=r.data,h=t+e,u,a=d=>{for(d.length+=e,u=d.length-1;u>=h;u--)d[u]=d[u-e]};for(a(c),u=t;u<h;++u)c[u]=new this.dataElementType;this._parsing&&a(r._parsed),this.parse(t,e),s&&this.updateElements(c,t,e,"reset")}updateElements(t,e,s,r){}_removeElements(t,e){let s=this._cachedMeta;if(this._parsing){let r=s._parsed.splice(t,e);s._stacked&&or(s,r)}s.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{let[e,s,r]=t;this[e](s,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){let t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);let s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}};vt(an,"defaults",{}),vt(an,"datasetElementType",null),vt(an,"dataElementType",null);function s_(n,t){if(!n._cache.$bar){let e=n.getMatchingVisibleMetas(t),s=[];for(let r=0,c=e.length;r<c;r++)s=s.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=La(s.sort((r,c)=>r-c))}return n._cache.$bar}function o_(n){let t=n.iScale,e=s_(t,n.type),s=t._length,r,c,h,u,a=()=>{h===32767||h===-32768||(le(u)&&(s=Math.min(s,Math.abs(h-u)||s)),u=h)};for(r=0,c=e.length;r<c;++r)h=t.getPixelForValue(e[r]),a();for(u=void 0,r=0,c=t.ticks.length;r<c;++r)h=t.getPixelForTick(r),a();return s}function r_(n,t,e,s){let r=e.barThickness,c,h;return Nt(r)?(c=t.min*e.categoryPercentage,h=e.barPercentage):(c=r*s,h=1),{chunk:c/s,ratio:h,start:t.pixels[n]-c/2}}function a_(n,t,e,s){let r=t.pixels,c=r[n],h=n>0?r[n-1]:null,u=n<r.length-1?r[n+1]:null,a=e.categoryPercentage;h===null&&(h=c-(u===null?t.end-t.start:u-c)),u===null&&(u=c+c-h);let d=c-(c-Math.min(h,u))/2*a;return{chunk:Math.abs(u-h)/2*a/s,ratio:e.barPercentage,start:d}}function l_(n,t,e,s){let r=e.parse(n[0],s),c=e.parse(n[1],s),h=Math.min(r,c),u=Math.max(r,c),a=h,d=u;Math.abs(h)>Math.abs(u)&&(a=u,d=h),t[e.axis]=d,t._custom={barStart:a,barEnd:d,start:r,end:c,min:h,max:u}}function eg(n,t,e,s){return zt(n)?l_(n,t,e,s):t[e.axis]=e.parse(n,s),t}function up(n,t,e,s){let r=n.iScale,c=n.vScale,h=r.getLabels(),u=r===c,a=[],d,g,v,x;for(d=e,g=e+s;d<g;++d)x=t[d],v={},v[r.axis]=u||r.parse(h[d],d),a.push(eg(x,v,c,d));return a}function au(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function c_(n,t,e){return n!==0?pn(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function u_(n){let t,e,s,r,c;return n.horizontal?(t=n.base>n.x,e="left",s="right"):(t=n.base<n.y,e="bottom",s="top"),t?(r="end",c="start"):(r="start",c="end"),{start:e,end:s,reverse:t,top:r,bottom:c}}function f_(n,t,e,s){let r=t.borderSkipped,c={};if(!r){n.borderSkipped=c;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:h,end:u,reverse:a,top:d,bottom:g}=u_(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===s?r=d:(e._bottom||0)===s?r=g:(c[fp(g,h,u,a)]=!0,r=d)),c[fp(r,h,u,a)]=!0,n.borderSkipped=c}function fp(n,t,e,s){return s?(n=h_(n,t,e),n=hp(n,e,t)):n=hp(n,t,e),n}function h_(n,t,e){return n===t?e:n===e?t:n}function hp(n,t,e){return n==="start"?t:n==="end"?e:n}function d_(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}var eo=class extends an{parsePrimitiveData(t,e,s,r){return up(t,e,s,r)}parseArrayData(t,e,s,r){return up(t,e,s,r)}parseObjectData(t,e,s,r){let{iScale:c,vScale:h}=t,{xAxisKey:u="x",yAxisKey:a="y"}=this._parsing,d=c.axis==="x"?u:a,g=h.axis==="x"?u:a,v=[],x,w,P,C;for(x=s,w=s+r;x<w;++x)C=e[x],P={},P[c.axis]=c.parse(zn(C,d),x),v.push(eg(zn(C,g),P,h,x));return v}updateRangeFromParsed(t,e,s,r){super.updateRangeFromParsed(t,e,s,r);let c=s._custom;c&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,c.min),t.max=Math.max(t.max,c.max))}getMaxOverflow(){return 0}getLabelAndValue(t){let e=this._cachedMeta,{iScale:s,vScale:r}=e,c=this.getParsed(t),h=c._custom,u=au(h)?"["+h.start+", "+h.end+"]":""+r.getLabelForValue(c[r.axis]);return{label:""+s.getLabelForValue(c[s.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();let t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){let e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,s,r){let c=r==="reset",{index:h,_cachedMeta:{vScale:u}}=this,a=u.getBasePixel(),d=u.isHorizontal(),g=this._getRuler(),{sharedOptions:v,includeOptions:x}=this._getSharedOptions(e,r);for(let w=e;w<e+s;w++){let P=this.getParsed(w),C=c||Nt(P[u.axis])?{base:a,head:a}:this._calculateBarValuePixels(w),O=this._calculateBarIndexPixels(w,g),M=(P._stacks||{})[u.axis],A={horizontal:d,base:C.base,enableBorderRadius:!M||au(P._custom)||h===M._top||h===M._bottom,x:d?C.head:O.center,y:d?O.center:C.head,height:d?O.size:Math.abs(C.size),width:d?Math.abs(C.size):O.size};x&&(A.options=v||this.resolveDataElementOptions(w,t[w].active?"active":r));let S=A.options||t[w].options;f_(A,S,M,h),d_(A,S,g.ratio),this.updateElement(t[w],w,A,r)}}_getStacks(t,e){let{iScale:s}=this._cachedMeta,r=s.getMatchingVisibleMetas(this._type).filter(a=>a.controller.options.grouped),c=s.options.stacked,h=[],u=a=>{let d=a.controller.getParsed(e),g=d&&d[a.vScale.axis];if(Nt(g)||isNaN(g))return!0};for(let a of r)if(!(e!==void 0&&u(a))&&((c===!1||h.indexOf(a.stack)===-1||c===void 0&&a.stack===void 0)&&h.push(a.stack),a.index===t))break;return h.length||h.push(void 0),h}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,s){let r=this._getStacks(t,s),c=e!==void 0?r.indexOf(e):-1;return c===-1?r.length-1:c}_getRuler(){let t=this.options,e=this._cachedMeta,s=e.iScale,r=[],c,h;for(c=0,h=e.data.length;c<h;++c)r.push(s.getPixelForValue(this.getParsed(c)[s.axis],c));let u=t.barThickness;return{min:u||o_(e),pixels:r,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){let{_cachedMeta:{vScale:e,_stacked:s,index:r},options:{base:c,minBarLength:h}}=this,u=c||0,a=this.getParsed(t),d=a._custom,g=au(d),v=a[e.axis],x=0,w=s?this.applyStack(e,a,s):v,P,C;w!==v&&(x=w-v,w=v),g&&(v=d.barStart,w=d.barEnd-d.barStart,v!==0&&pn(v)!==pn(d.barEnd)&&(x=0),x+=v);let O=!Nt(c)&&!g?c:x,M=e.getPixelForValue(O);if(this.chart.getDataVisibility(t)?P=e.getPixelForValue(x+w):P=M,C=P-M,Math.abs(C)<h){C=c_(C,e,u)*h,v===u&&(M-=C/2);let A=e.getPixelForDecimal(0),S=e.getPixelForDecimal(1),E=Math.min(A,S),I=Math.max(A,S);M=Math.max(Math.min(M,I),E),P=M+C,s&&!g&&(a._stacks[e.axis]._visualValues[r]=e.getValueForPixel(P)-e.getValueForPixel(M))}if(M===e.getPixelForValue(u)){let A=pn(C)*e.getLineWidthForValue(u)/2;M+=A,C-=A}return{size:C,base:M,head:P,center:P+C/2}}_calculateBarIndexPixels(t,e){let s=e.scale,r=this.options,c=r.skipNull,h=Ct(r.maxBarThickness,1/0),u,a;if(e.grouped){let d=c?this._getStackCount(t):e.stackCount,g=r.barThickness==="flex"?a_(t,e,r,d):r_(t,e,r,d),v=this._getStackIndex(this.index,this._cachedMeta.stack,c?t:void 0);u=g.start+g.chunk*v+g.chunk/2,a=Math.min(h,g.chunk*g.ratio)}else u=s.getPixelForValue(this.getParsed(t)[s.axis],t),a=Math.min(h,e.min*e.ratio);return{base:u-a/2,head:u+a/2,center:u,size:a}}draw(){let t=this._cachedMeta,e=t.vScale,s=t.data,r=s.length,c=0;for(;c<r;++c)this.getParsed(c)[e.axis]!==null&&s[c].draw(this._ctx)}};vt(eo,"id","bar"),vt(eo,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),vt(eo,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});var no=class extends an{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,s,r){let c=super.parsePrimitiveData(t,e,s,r);for(let h=0;h<c.length;h++)c[h]._custom=this.resolveDataElementOptions(h+s).radius;return c}parseArrayData(t,e,s,r){let c=super.parseArrayData(t,e,s,r);for(let h=0;h<c.length;h++){let u=e[s+h];c[h]._custom=Ct(u[2],this.resolveDataElementOptions(h+s).radius)}return c}parseObjectData(t,e,s,r){let c=super.parseObjectData(t,e,s,r);for(let h=0;h<c.length;h++){let u=e[s+h];c[h]._custom=Ct(u&&u.r&&+u.r,this.resolveDataElementOptions(h+s).radius)}return c}getMaxOverflow(){let t=this._cachedMeta.data,e=0;for(let s=t.length-1;s>=0;--s)e=Math.max(e,t[s].size(this.resolveDataElementOptions(s))/2);return e>0&&e}getLabelAndValue(t){let e=this._cachedMeta,s=this.chart.data.labels||[],{xScale:r,yScale:c}=e,h=this.getParsed(t),u=r.getLabelForValue(h.x),a=c.getLabelForValue(h.y),d=h._custom;return{label:s[t]||"",value:"("+u+", "+a+(d?", "+d:"")+")"}}update(t){let e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,s,r){let c=r==="reset",{iScale:h,vScale:u}=this._cachedMeta,{sharedOptions:a,includeOptions:d}=this._getSharedOptions(e,r),g=h.axis,v=u.axis;for(let x=e;x<e+s;x++){let w=t[x],P=!c&&this.getParsed(x),C={},O=C[g]=c?h.getPixelForDecimal(.5):h.getPixelForValue(P[g]),M=C[v]=c?u.getBasePixel():u.getPixelForValue(P[v]);C.skip=isNaN(O)||isNaN(M),d&&(C.options=a||this.resolveDataElementOptions(x,w.active?"active":r),c&&(C.options.radius=0)),this.updateElement(w,x,C,r)}}resolveDataElementOptions(t,e){let s=this.getParsed(t),r=super.resolveDataElementOptions(t,e);r.$shared&&(r=Object.assign({},r,{$shared:!1}));let c=r.radius;return e!=="active"&&(r.radius=0),r.radius+=Ct(s&&s._custom,c),r}};vt(no,"id","bubble"),vt(no,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),vt(no,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function p_(n,t,e){let s=1,r=1,c=0,h=0;if(t<Qt){let u=n,a=u+t,d=Math.cos(u),g=Math.sin(u),v=Math.cos(a),x=Math.sin(a),w=(S,E,I)=>us(S,u,a,!0)?1:Math.max(E,E*e,I,I*e),P=(S,E,I)=>us(S,u,a,!0)?-1:Math.min(E,E*e,I,I*e),C=w(0,d,v),O=w(Kt,g,x),M=P(It,d,v),A=P(It+Kt,g,x);s=(C-M)/2,r=(O-A)/2,c=-(C+M)/2,h=-(O+A)/2}return{ratioX:s,ratioY:r,offsetX:c,offsetY:h}}var ai=class extends an{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){let s=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=s;else{let c=a=>+s[a];if(At(s[t])){let{key:a="value"}=this._parsing;c=d=>+zn(s[d],a)}let h,u;for(h=t,u=t+e;h<u;++h)r._parsed[h]=c(h)}}_getRotation(){return ue(this.options.rotation-90)}_getCircumference(){return ue(this.options.circumference)}_getRotationExtents(){let t=Qt,e=-Qt;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){let r=this.chart.getDatasetMeta(s).controller,c=r._getRotation(),h=r._getCircumference();t=Math.min(t,c),e=Math.max(e,c+h)}return{rotation:t,circumference:e-t}}update(t){let e=this.chart,{chartArea:s}=e,r=this._cachedMeta,c=r.data,h=this.getMaxBorderWidth()+this.getMaxOffset(c)+this.options.spacing,u=Math.max((Math.min(s.width,s.height)-h)/2,0),a=Math.min(Fc(this.options.cutout,u),1),d=this._getRingWeight(this.index),{circumference:g,rotation:v}=this._getRotationExtents(),{ratioX:x,ratioY:w,offsetX:P,offsetY:C}=p_(v,g,a),O=(s.width-h)/x,M=(s.height-h)/w,A=Math.max(Math.min(O,M)/2,0),S=Ma(this.options.radius,A),E=Math.max(S*a,0),I=(S-E)/this._getVisibleDatasetWeightTotal();this.offsetX=P*S,this.offsetY=C*S,r.total=this.calculateTotal(),this.outerRadius=S-I*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-I*d,0),this.updateElements(c,0,c.length,t)}_circumference(t,e){let s=this.options,r=this._cachedMeta,c=this._getCircumference();return e&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*c/Qt)}updateElements(t,e,s,r){let c=r==="reset",h=this.chart,u=h.chartArea,d=h.options.animation,g=(u.left+u.right)/2,v=(u.top+u.bottom)/2,x=c&&d.animateScale,w=x?0:this.innerRadius,P=x?0:this.outerRadius,{sharedOptions:C,includeOptions:O}=this._getSharedOptions(e,r),M=this._getRotation(),A;for(A=0;A<e;++A)M+=this._circumference(A,c);for(A=e;A<e+s;++A){let S=this._circumference(A,c),E=t[A],I={x:g+this.offsetX,y:v+this.offsetY,startAngle:M,endAngle:M+S,circumference:S,outerRadius:P,innerRadius:w};O&&(I.options=C||this.resolveDataElementOptions(A,E.active?"active":r)),M+=S,this.updateElement(E,A,I,r)}}calculateTotal(){let t=this._cachedMeta,e=t.data,s=0,r;for(r=0;r<e.length;r++){let c=t._parsed[r];c!==null&&!isNaN(c)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(s+=Math.abs(c))}return s}calculateCircumference(t){let e=this._cachedMeta.total;return e>0&&!isNaN(t)?Qt*(Math.abs(t)/e):0}getLabelAndValue(t){let e=this._cachedMeta,s=this.chart,r=s.data.labels||[],c=fs(e._parsed[t],s.options.locale);return{label:r[t]||"",value:c}}getMaxBorderWidth(t){let e=0,s=this.chart,r,c,h,u,a;if(!t){for(r=0,c=s.data.datasets.length;r<c;++r)if(s.isDatasetVisible(r)){h=s.getDatasetMeta(r),t=h.data,u=h.controller;break}}if(!t)return 0;for(r=0,c=t.length;r<c;++r)a=u.resolveDataElementOptions(r),a.borderAlign!=="inner"&&(e=Math.max(e,a.borderWidth||0,a.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let s=0,r=t.length;s<r;++s){let c=this.resolveDataElementOptions(s);e=Math.max(e,c.offset||0,c.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let s=0;s<t;++s)this.chart.isDatasetVisible(s)&&(e+=this._getRingWeight(s));return e}_getRingWeight(t){return Math.max(Ct(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}};vt(ai,"id","doughnut"),vt(ai,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),vt(ai,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"}),vt(ai,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let e=t.data;if(e.labels.length&&e.datasets.length){let{labels:{pointStyle:s,color:r}}=t.legend.options;return e.labels.map((c,h)=>{let a=t.getDatasetMeta(0).controller.getStyle(h);return{text:c,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:r,lineWidth:a.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(h),index:h}})}return[]}},onClick(t,e,s){s.chart.toggleDataVisibility(e.index),s.chart.update()}}}});var io=class extends an{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){let e=this._cachedMeta,{dataset:s,data:r=[],_dataset:c}=e,h=this.chart._animationsDisabled,{start:u,count:a}=Fa(e,r,h);this._drawStart=u,this._drawCount=a,Ba(e)&&(u=0,a=r.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!c._decimated,s.points=r;let d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(s,void 0,{animated:!h,options:d},t),this.updateElements(r,u,a,t)}updateElements(t,e,s,r){let c=r==="reset",{iScale:h,vScale:u,_stacked:a,_dataset:d}=this._cachedMeta,{sharedOptions:g,includeOptions:v}=this._getSharedOptions(e,r),x=h.axis,w=u.axis,{spanGaps:P,segment:C}=this.options,O=Pn(P)?P:Number.POSITIVE_INFINITY,M=this.chart._animationsDisabled||c||r==="none",A=e+s,S=t.length,E=e>0&&this.getParsed(e-1);for(let I=0;I<S;++I){let N=t[I],H=M?N:{};if(I<e||I>=A){H.skip=!0;continue}let $=this.getParsed(I),G=Nt($[w]),tt=H[x]=h.getPixelForValue($[x],I),et=H[w]=c||G?u.getBasePixel():u.getPixelForValue(a?this.applyStack(u,$,a):$[w],I);H.skip=isNaN(tt)||isNaN(et)||G,H.stop=I>0&&Math.abs($[x]-E[x])>O,C&&(H.parsed=$,H.raw=d.data[I]),v&&(H.options=g||this.resolveDataElementOptions(I,N.active?"active":r)),M||this.updateElement(N,I,H,r),E=$}}getMaxOverflow(){let t=this._cachedMeta,e=t.dataset,s=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return s;let c=r[0].size(this.resolveDataElementOptions(0)),h=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,c,h)/2}draw(){let t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}};vt(io,"id","line"),vt(io,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),vt(io,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});var ms=class extends an{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){let e=this._cachedMeta,s=this.chart,r=s.data.labels||[],c=fs(e._parsed[t].r,s.options.locale);return{label:r[t]||"",value:c}}parseObjectData(t,e,s,r){return Ya.bind(this)(t,e,s,r)}update(t){let e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){let t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((s,r)=>{let c=this.getParsed(r).r;!isNaN(c)&&this.chart.getDataVisibility(r)&&(c<e.min&&(e.min=c),c>e.max&&(e.max=c))}),e}_updateRadius(){let t=this.chart,e=t.chartArea,s=t.options,r=Math.min(e.right-e.left,e.bottom-e.top),c=Math.max(r/2,0),h=Math.max(s.cutoutPercentage?c/100*s.cutoutPercentage:1,0),u=(c-h)/t.getVisibleDatasetCount();this.outerRadius=c-u*this.index,this.innerRadius=this.outerRadius-u}updateElements(t,e,s,r){let c=r==="reset",h=this.chart,a=h.options.animation,d=this._cachedMeta.rScale,g=d.xCenter,v=d.yCenter,x=d.getIndexAngle(0)-.5*It,w=x,P,C=360/this.countVisibleElements();for(P=0;P<e;++P)w+=this._computeAngle(P,r,C);for(P=e;P<e+s;P++){let O=t[P],M=w,A=w+this._computeAngle(P,r,C),S=h.getDataVisibility(P)?d.getDistanceFromCenterForValue(this.getParsed(P).r):0;w=A,c&&(a.animateScale&&(S=0),a.animateRotate&&(M=A=x));let E={x:g,y:v,innerRadius:0,outerRadius:S,startAngle:M,endAngle:A,options:this.resolveDataElementOptions(P,O.active?"active":r)};this.updateElement(O,P,E,r)}}countVisibleElements(){let t=this._cachedMeta,e=0;return t.data.forEach((s,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&e++}),e}_computeAngle(t,e,s){return this.chart.getDataVisibility(t)?ue(this.resolveDataElementOptions(t,e).angle||s):0}};vt(ms,"id","polarArea"),vt(ms,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),vt(ms,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let e=t.data;if(e.labels.length&&e.datasets.length){let{labels:{pointStyle:s,color:r}}=t.legend.options;return e.labels.map((c,h)=>{let a=t.getDatasetMeta(0).controller.getStyle(h);return{text:c,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:r,lineWidth:a.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(h),index:h}})}return[]}},onClick(t,e,s){s.chart.toggleDataVisibility(e.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});var ur=class extends ai{};vt(ur,"id","pie"),vt(ur,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});var so=class extends an{getLabelAndValue(t){let e=this._cachedMeta.vScale,s=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(s[e.axis])}}parseObjectData(t,e,s,r){return Ya.bind(this)(t,e,s,r)}update(t){let e=this._cachedMeta,s=e.dataset,r=e.data||[],c=e.iScale.getLabels();if(s.points=r,t!=="resize"){let h=this.resolveDatasetElementOptions(t);this.options.showLine||(h.borderWidth=0);let u={_loop:!0,_fullLoop:c.length===r.length,options:h};this.updateElement(s,void 0,u,t)}this.updateElements(r,0,r.length,t)}updateElements(t,e,s,r){let c=this._cachedMeta.rScale,h=r==="reset";for(let u=e;u<e+s;u++){let a=t[u],d=this.resolveDataElementOptions(u,a.active?"active":r),g=c.getPointPositionForValue(u,this.getParsed(u).r),v=h?c.xCenter:g.x,x=h?c.yCenter:g.y,w={x:v,y:x,angle:g.angle,skip:isNaN(v)||isNaN(x),options:d};this.updateElement(a,u,w,r)}}};vt(so,"id","radar"),vt(so,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),vt(so,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});var oo=class extends an{getLabelAndValue(t){let e=this._cachedMeta,s=this.chart.data.labels||[],{xScale:r,yScale:c}=e,h=this.getParsed(t),u=r.getLabelForValue(h.x),a=c.getLabelForValue(h.y);return{label:s[t]||"",value:"("+u+", "+a+")"}}update(t){let e=this._cachedMeta,{data:s=[]}=e,r=this.chart._animationsDisabled,{start:c,count:h}=Fa(e,s,r);if(this._drawStart=c,this._drawCount=h,Ba(e)&&(c=0,h=s.length),this.options.showLine){let{dataset:u,_dataset:a}=e;u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!a._decimated,u.points=s;let d=this.resolveDatasetElementOptions(t);d.segment=this.options.segment,this.updateElement(u,void 0,{animated:!r,options:d},t)}this.updateElements(s,c,h,t)}addElements(){let{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,s,r){let c=r==="reset",{iScale:h,vScale:u,_stacked:a,_dataset:d}=this._cachedMeta,g=this.resolveDataElementOptions(e,r),v=this.getSharedOptions(g),x=this.includeOptions(r,v),w=h.axis,P=u.axis,{spanGaps:C,segment:O}=this.options,M=Pn(C)?C:Number.POSITIVE_INFINITY,A=this.chart._animationsDisabled||c||r==="none",S=e>0&&this.getParsed(e-1);for(let E=e;E<e+s;++E){let I=t[E],N=this.getParsed(E),H=A?I:{},$=Nt(N[P]),G=H[w]=h.getPixelForValue(N[w],E),tt=H[P]=c||$?u.getBasePixel():u.getPixelForValue(a?this.applyStack(u,N,a):N[P],E);H.skip=isNaN(G)||isNaN(tt)||$,H.stop=E>0&&Math.abs(N[w]-S[w])>M,O&&(H.parsed=N,H.raw=d.data[E]),x&&(H.options=v||this.resolveDataElementOptions(E,I.active?"active":r)),A||this.updateElement(I,E,H,r),S=N}this.updateSharedOptions(v,r,g)}getMaxOverflow(){let t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let u=0;for(let a=e.length-1;a>=0;--a)u=Math.max(u,e[a].size(this.resolveDataElementOptions(a))/2);return u>0&&u}let s=t.dataset,r=s.options&&s.options.borderWidth||0;if(!e.length)return r;let c=e[0].size(this.resolveDataElementOptions(0)),h=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(r,c,h)/2}};vt(oo,"id","scatter"),vt(oo,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),vt(oo,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var g_=Object.freeze({__proto__:null,BarController:eo,BubbleController:no,DoughnutController:ai,LineController:io,PolarAreaController:ms,PieController:ur,RadarController:so,ScatterController:oo});function ds(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var vr=class{static override(t){Object.assign(vr.prototype,t)}constructor(t){this.options=t||{}}init(){}formats(){return ds()}parse(){return ds()}format(){return ds()}add(){return ds()}diff(){return ds()}startOf(){return ds()}endOf(){return ds()}},m_={_date:vr};function b_(n,t,e,s){let{controller:r,data:c,_sorted:h}=n,u=r._cachedMeta.iScale;if(u&&t===u.axis&&t!=="r"&&h&&c.length){let a=u._reversePixels?Hc:wn;if(s){if(r._sharedOptions){let d=c[0],g=typeof d.getRange=="function"&&d.getRange(t);if(g){let v=a(c,t,e-g),x=a(c,t,e+g);return{lo:v.lo,hi:x.hi}}}}else return a(c,t,e)}return{lo:0,hi:c.length-1}}function wr(n,t,e,s,r){let c=n.getSortedVisibleDatasetMetas(),h=e[t];for(let u=0,a=c.length;u<a;++u){let{index:d,data:g}=c[u],{lo:v,hi:x}=b_(c[u],t,h,r);for(let w=v;w<=x;++w){let P=g[w];P.skip||s(P,d,w)}}}function v_(n){let t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(s,r){let c=t?Math.abs(s.x-r.x):0,h=e?Math.abs(s.y-r.y):0;return Math.sqrt(Math.pow(c,2)+Math.pow(h,2))}}function lu(n,t,e,s,r){let c=[];return!r&&!n.isPointInArea(t)||wr(n,e,t,function(u,a,d){!r&&!rs(u,n.chartArea,0)||u.inRange(t.x,t.y,s)&&c.push({element:u,datasetIndex:a,index:d})},!0),c}function y_(n,t,e,s){let r=[];function c(h,u,a){let{startAngle:d,endAngle:g}=h.getProps(["startAngle","endAngle"],s),{angle:v}=Da(h,{x:t.x,y:t.y});us(v,d,g)&&r.push({element:h,datasetIndex:u,index:a})}return wr(n,e,t,c),r}function x_(n,t,e,s,r,c){let h=[],u=v_(e),a=Number.POSITIVE_INFINITY;function d(g,v,x){let w=g.inRange(t.x,t.y,r);if(s&&!w)return;let P=g.getCenterPoint(r);if(!(!!c||n.isPointInArea(P))&&!w)return;let O=u(t,P);O<a?(h=[{element:g,datasetIndex:v,index:x}],a=O):O===a&&h.push({element:g,datasetIndex:v,index:x})}return wr(n,e,t,d),h}function cu(n,t,e,s,r,c){return!c&&!n.isPointInArea(t)?[]:e==="r"&&!s?y_(n,t,e,r):x_(n,t,e,s,r,c)}function dp(n,t,e,s,r){let c=[],h=e==="x"?"inXRange":"inYRange",u=!1;return wr(n,e,t,(a,d,g)=>{a[h](t[e],r)&&(c.push({element:a,datasetIndex:d,index:g}),u=u||a.inRange(t.x,t.y,r))}),s&&!u?[]:c}var __={evaluateInteractionItems:wr,modes:{index(n,t,e,s){let r=si(t,n),c=e.axis||"x",h=e.includeInvisible||!1,u=e.intersect?lu(n,r,c,s,h):cu(n,r,c,!1,s,h),a=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{let g=u[0].index,v=d.data[g];v&&!v.skip&&a.push({element:v,datasetIndex:d.index,index:g})}),a):[]},dataset(n,t,e,s){let r=si(t,n),c=e.axis||"xy",h=e.includeInvisible||!1,u=e.intersect?lu(n,r,c,s,h):cu(n,r,c,!1,s,h);if(u.length>0){let a=u[0].datasetIndex,d=n.getDatasetMeta(a).data;u=[];for(let g=0;g<d.length;++g)u.push({element:d[g],datasetIndex:a,index:g})}return u},point(n,t,e,s){let r=si(t,n),c=e.axis||"xy",h=e.includeInvisible||!1;return lu(n,r,c,s,h)},nearest(n,t,e,s){let r=si(t,n),c=e.axis||"xy",h=e.includeInvisible||!1;return cu(n,r,c,e.intersect,s,h)},x(n,t,e,s){let r=si(t,n);return dp(n,r,"x",e.intersect,s)},y(n,t,e,s){let r=si(t,n);return dp(n,r,"y",e.intersect,s)}}},ng=["left","top","right","bottom"];function rr(n,t){return n.filter(e=>e.pos===t)}function pp(n,t){return n.filter(e=>ng.indexOf(e.pos)===-1&&e.box.axis===t)}function ar(n,t){return n.sort((e,s)=>{let r=t?s:e,c=t?e:s;return r.weight===c.weight?r.index-c.index:r.weight-c.weight})}function w_(n){let t=[],e,s,r,c,h,u;for(e=0,s=(n||[]).length;e<s;++e)r=n[e],{position:c,options:{stack:h,stackWeight:u=1}}=r,t.push({index:e,box:r,pos:c,horizontal:r.isHorizontal(),weight:r.weight,stack:h&&c+h,stackWeight:u});return t}function k_(n){let t={};for(let e of n){let{stack:s,pos:r,stackWeight:c}=e;if(!s||!ng.includes(r))continue;let h=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});h.count++,h.weight+=c}return t}function P_(n,t){let e=k_(n),{vBoxMaxWidth:s,hBoxMaxHeight:r}=t,c,h,u;for(c=0,h=n.length;c<h;++c){u=n[c];let{fullSize:a}=u.box,d=e[u.stack],g=d&&u.stackWeight/d.weight;u.horizontal?(u.width=g?g*s:a&&t.availableWidth,u.height=r):(u.width=s,u.height=g?g*r:a&&t.availableHeight)}return e}function C_(n){let t=w_(n),e=ar(t.filter(d=>d.box.fullSize),!0),s=ar(rr(t,"left"),!0),r=ar(rr(t,"right")),c=ar(rr(t,"top"),!0),h=ar(rr(t,"bottom")),u=pp(t,"x"),a=pp(t,"y");return{fullSize:e,leftAndTop:s.concat(c),rightAndBottom:r.concat(a).concat(h).concat(u),chartArea:rr(t,"chartArea"),vertical:s.concat(r).concat(a),horizontal:c.concat(h).concat(u)}}function gp(n,t,e,s){return Math.max(n[e],t[e])+Math.max(n[s],t[s])}function ig(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function M_(n,t,e,s){let{pos:r,box:c}=e,h=n.maxPadding;if(!At(r)){e.size&&(n[r]-=e.size);let v=s[e.stack]||{size:0,count:1};v.size=Math.max(v.size,e.horizontal?c.height:c.width),e.size=v.size/v.count,n[r]+=e.size}c.getPadding&&ig(h,c.getPadding());let u=Math.max(0,t.outerWidth-gp(h,n,"left","right")),a=Math.max(0,t.outerHeight-gp(h,n,"top","bottom")),d=u!==n.w,g=a!==n.h;return n.w=u,n.h=a,e.horizontal?{same:d,other:g}:{same:g,other:d}}function O_(n){let t=n.maxPadding;function e(s){let r=Math.max(t[s]-n[s],0);return n[s]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function T_(n,t){let e=t.maxPadding;function s(r){let c={left:0,top:0,right:0,bottom:0};return r.forEach(h=>{c[h]=Math.max(t[h],e[h])}),c}return s(n?["left","right"]:["top","bottom"])}function fr(n,t,e,s){let r=[],c,h,u,a,d,g;for(c=0,h=n.length,d=0;c<h;++c){u=n[c],a=u.box,a.update(u.width||t.w,u.height||t.h,T_(u.horizontal,t));let{same:v,other:x}=M_(t,e,u,s);d|=v&&r.length,g=g||x,a.fullSize||r.push(u)}return d&&fr(r,t,e,s)||g}function ja(n,t,e,s,r){n.top=e,n.left=t,n.right=t+s,n.bottom=e+r,n.width=s,n.height=r}function mp(n,t,e,s){let r=e.padding,{x:c,y:h}=t;for(let u of n){let a=u.box,d=s[u.stack]||{count:1,placed:0,weight:1},g=u.stackWeight/d.weight||1;if(u.horizontal){let v=t.w*g,x=d.size||a.height;le(d.start)&&(h=d.start),a.fullSize?ja(a,r.left,h,e.outerWidth-r.right-r.left,x):ja(a,t.left+d.placed,h,v,x),d.start=h,d.placed+=v,h=a.bottom}else{let v=t.h*g,x=d.size||a.width;le(d.start)&&(c=d.start),a.fullSize?ja(a,c,r.top,x,e.outerHeight-r.bottom-r.top):ja(a,c,t.top+d.placed,x,v),d.start=c,d.placed+=v,c=a.right}}t.x=c,t.y=h}var Xe={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){let e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,s){if(!n)return;let r=fe(n.options.layout.padding),c=Math.max(t-r.width,0),h=Math.max(e-r.height,0),u=C_(n.boxes),a=u.vertical,d=u.horizontal;qt(n.boxes,C=>{typeof C.beforeLayout=="function"&&C.beforeLayout()});let g=a.reduce((C,O)=>O.box.options&&O.box.options.display===!1?C:C+1,0)||1,v=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:c,availableHeight:h,vBoxMaxWidth:c/2/g,hBoxMaxHeight:h/2}),x=Object.assign({},r);ig(x,fe(s));let w=Object.assign({maxPadding:x,w:c,h,x:r.left,y:r.top},r),P=P_(a.concat(d),v);fr(u.fullSize,w,v,P),fr(a,w,v,P),fr(d,w,v,P)&&fr(a,w,v,P),O_(w),mp(u.leftAndTop,w,v,P),w.x+=w.w,w.y+=w.h,mp(u.rightAndBottom,w,v,P),n.chartArea={left:w.left,top:w.top,right:w.left+w.w,bottom:w.top+w.h,height:w.h,width:w.w},qt(u.chartArea,C=>{let O=C.box;Object.assign(O,n.chartArea),O.update(w.w,w.h,{left:0,top:0,right:0,bottom:0})})}},al=class{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,s){}removeEventListener(t,e,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,s,r){return e=Math.max(0,e||t.width),s=s||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):s)}}isAttached(t){return!0}updateConfig(t){}},mu=class extends al{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}},ol="$chartjs",A_={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},bp=n=>n===null||n==="";function E_(n,t){let e=n.style,s=n.getAttribute("height"),r=n.getAttribute("width");if(n[ol]={initial:{height:s,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",bp(r)){let c=Ga(n,"width");c!==void 0&&(n.width=c)}if(bp(s))if(n.style.height==="")n.height=n.width/(t||2);else{let c=Ga(n,"height");c!==void 0&&(n.height=c)}return n}var sg=eu?{passive:!0}:!1;function D_(n,t,e){n.addEventListener(t,e,sg)}function S_(n,t,e){n.canvas.removeEventListener(t,e,sg)}function L_(n,t){let e=A_[n.type]||n.type,{x:s,y:r}=si(n,t);return{type:e,chart:t,native:n,x:s!==void 0?s:null,y:r!==void 0?r:null}}function ll(n,t){for(let e of n)if(e===t||e.contains(t))return!0}function R_(n,t,e){let s=n.canvas,r=new MutationObserver(c=>{let h=!1;for(let u of c)h=h||ll(u.addedNodes,s),h=h&&!ll(u.removedNodes,s);h&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function I_(n,t,e){let s=n.canvas,r=new MutationObserver(c=>{let h=!1;for(let u of c)h=h||ll(u.removedNodes,s),h=h&&!ll(u.addedNodes,s);h&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}var yr=new Map,vp=0;function og(){let n=window.devicePixelRatio;n!==vp&&(vp=n,yr.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function F_(n,t){yr.size||window.addEventListener("resize",og),yr.set(n,t)}function B_(n){yr.delete(n),yr.size||window.removeEventListener("resize",og)}function z_(n,t,e){let s=n.canvas,r=s&&sr(s);if(!r)return;let c=Ia((u,a)=>{let d=r.clientWidth;e(u,a),d<r.clientWidth&&e()},window),h=new ResizeObserver(u=>{let a=u[0],d=a.contentRect.width,g=a.contentRect.height;d===0&&g===0||c(d,g)});return h.observe(r),F_(n,c),h}function uu(n,t,e){e&&e.disconnect(),t==="resize"&&B_(n)}function N_(n,t,e){let s=n.canvas,r=Ia(c=>{n.ctx!==null&&e(L_(c,n))},n);return D_(s,t,r),r}var bu=class extends al{acquireContext(t,e){let s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(E_(t,e),s):null}releaseContext(t){let e=t.canvas;if(!e[ol])return!1;let s=e[ol].initial;["height","width"].forEach(c=>{let h=s[c];Nt(h)?e.removeAttribute(c):e.setAttribute(c,h)});let r=s.style||{};return Object.keys(r).forEach(c=>{e.style[c]=r[c]}),e.width=e.width,delete e[ol],!0}addEventListener(t,e,s){this.removeEventListener(t,e);let r=t.$proxies||(t.$proxies={}),h={attach:R_,detach:I_,resize:z_}[e]||N_;r[e]=h(t,e,s)}removeEventListener(t,e){let s=t.$proxies||(t.$proxies={}),r=s[e];if(!r)return;({attach:uu,detach:uu,resize:uu}[e]||S_)(t,e,r),s[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,s,r){return tu(t,e,s,r)}isAttached(t){let e=sr(t);return!!(e&&e.isConnected)}};function V_(n){return!Ua()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?mu:bu}var Me=class{active=!1;tooltipPosition(t){let{x:e,y:s}=this.getProps(["x","y"],t);return{x:e,y:s}}hasValue(){return Pn(this.x)&&Pn(this.y)}getProps(t,e){let s=this.$animations;if(!e||!s)return this;let r={};return t.forEach(c=>{r[c]=s[c]&&s[c].active()?s[c]._to:this[c]}),r}};vt(Me,"defaults",{}),vt(Me,"defaultRoutes");function H_(n,t){let e=n.options.ticks,s=W_(n),r=Math.min(e.maxTicksLimit||s,s),c=e.major.enabled?Y_(t):[],h=c.length,u=c[0],a=c[h-1],d=[];if(h>r)return U_(t,d,c,h/r),d;let g=$_(c,t,r);if(h>0){let v,x,w=h>1?Math.round((a-u)/(h-1)):null;for(tl(t,d,g,Nt(w)?0:u-w,u),v=0,x=h-1;v<x;v++)tl(t,d,g,c[v],c[v+1]);return tl(t,d,g,a,Nt(w)?t.length:a+w),d}return tl(t,d,g),d}function W_(n){let t=n.options.offset,e=n._tickSize(),s=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(s,r))}function $_(n,t,e){let s=q_(n),r=t.length/e;if(!s)return Math.max(r,1);let c=zc(s);for(let h=0,u=c.length-1;h<u;h++){let a=c[h];if(a>r)return a}return Math.max(r,1)}function Y_(n){let t=[],e,s;for(e=0,s=n.length;e<s;e++)n[e].major&&t.push(e);return t}function U_(n,t,e,s){let r=0,c=e[0],h;for(s=Math.ceil(s),h=0;h<n.length;h++)h===c&&(t.push(n[h]),r++,c=e[r*s])}function tl(n,t,e,s,r){let c=Ct(s,0),h=Math.min(Ct(r,n.length),n.length),u=0,a,d,g;for(e=Math.ceil(e),r&&(a=r-s,e=a/Math.floor(a/e)),g=c;g<0;)u++,g=Math.round(c+u*e);for(d=Math.max(c,0);d<h;d++)d===g&&(t.push(n[d]),u++,g=Math.round(c+u*e))}function q_(n){let t=n.length,e,s;if(t<2)return!1;for(s=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==s)return!1;return s}var X_=n=>n==="left"?"right":n==="right"?"left":n,yp=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,xp=(n,t)=>Math.min(t||n,n);function _p(n,t){let e=[],s=n.length/t,r=n.length,c=0;for(;c<r;c+=s)e.push(n[Math.floor(c)]);return e}function G_(n,t,e){let s=n.ticks.length,r=Math.min(t,s-1),c=n._startPixel,h=n._endPixel,u=1e-6,a=n.getPixelForTick(r),d;if(!(e&&(s===1?d=Math.max(a-c,h-a):t===0?d=(n.getPixelForTick(1)-a)/2:d=(a-n.getPixelForTick(r-1))/2,a+=r<t?d:-d,a<c-u||a>h+u)))return a}function K_(n,t){qt(n,e=>{let s=e.gc,r=s.length/2,c;if(r>t){for(c=0;c<r;++c)delete e.data[s[c]];s.splice(0,r)}})}function lr(n){return n.drawTicks?n.tickLength:0}function wp(n,t){if(!n.display)return 0;let e=se(n.font,t),s=fe(n.padding);return(zt(n.text)?n.text.length:1)*e.lineHeight+s.height}function Q_(n,t){return Nn(n,{scale:t,type:"scale"})}function Z_(n,t,e){return Nn(n,{tick:e,index:t,type:"tick"})}function J_(n,t,e){let s=tr(n);return(e&&t!=="right"||!e&&t==="right")&&(s=X_(s)),s}function j_(n,t,e,s){let{top:r,left:c,bottom:h,right:u,chart:a}=n,{chartArea:d,scales:g}=a,v=0,x,w,P,C=h-r,O=u-c;if(n.isHorizontal()){if(w=Le(s,c,u),At(e)){let M=Object.keys(e)[0],A=e[M];P=g[M].getPixelForValue(A)+C-t}else e==="center"?P=(d.bottom+d.top)/2+C-t:P=yp(n,e,t);x=u-c}else{if(At(e)){let M=Object.keys(e)[0],A=e[M];w=g[M].getPixelForValue(A)-O+t}else e==="center"?w=(d.left+d.right)/2-O+t:w=yp(n,e,t);P=Le(s,h,r),v=e==="left"?-Kt:Kt}return{titleX:w,titleY:P,maxWidth:x,rotation:v}}var li=class extends Me{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:s,_suggestedMax:r}=this;return t=je(t,Number.POSITIVE_INFINITY),e=je(e,Number.NEGATIVE_INFINITY),s=je(s,Number.POSITIVE_INFINITY),r=je(r,Number.NEGATIVE_INFINITY),{min:je(t,s),max:je(e,r),minDefined:ne(t),maxDefined:ne(e)}}getMinMax(t){let{min:e,max:s,minDefined:r,maxDefined:c}=this.getUserBounds(),h;if(r&&c)return{min:e,max:s};let u=this.getMatchingVisibleMetas();for(let a=0,d=u.length;a<d;++a)h=u[a].controller.getMinMax(this,t),r||(e=Math.min(e,h.min)),c||(s=Math.max(s,h.max));return e=c&&e>s?s:e,s=r&&e>s?e:s,{min:je(e,je(s,e)),max:je(s,je(e,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Yt(this.options.beforeUpdate,[this])}update(t,e,s){let{beginAtZero:r,grace:c,ticks:h}=this.options,u=h.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Qc(this,c,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let a=u<this.ticks.length;this._convertTicksToLabels(a?_p(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),h.display&&(h.autoSkip||h.source==="auto")&&(this.ticks=H_(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,s;this.isHorizontal()?(e=this.left,s=this.right):(e=this.top,s=this.bottom,t=!t),this._startPixel=e,this._endPixel=s,this._reversePixels=t,this._length=s-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Yt(this.options.afterUpdate,[this])}beforeSetDimensions(){Yt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Yt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Yt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Yt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){let e=this.options.ticks,s,r,c;for(s=0,r=t.length;s<r;s++)c=t[s],c.label=Yt(e.callback,[c.value,s,t],this)}afterTickToLabelConversion(){Yt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Yt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let t=this.options,e=t.ticks,s=xp(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,c=e.maxRotation,h=r,u,a,d;if(!this._isVisible()||!e.display||r>=c||s<=1||!this.isHorizontal()){this.labelRotation=r;return}let g=this._getLabelSizes(),v=g.widest.width,x=g.highest.height,w=Ce(this.chart.width-v,0,this.maxWidth);u=t.offset?this.maxWidth/s:w/(s-1),v+6>u&&(u=w/(s-(t.offset?.5:1)),a=this.maxHeight-lr(t.grid)-e.padding-wp(t.title,this.chart.options.font),d=Math.sqrt(v*v+x*x),h=cs(Math.min(Math.asin(Ce((g.highest.height+6)/u,-1,1)),Math.asin(Ce(a/d,-1,1))-Math.asin(Ce(x/d,-1,1)))),h=Math.max(r,Math.min(c,h))),this.labelRotation=h}afterCalculateLabelRotation(){Yt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Yt(this.options.beforeFit,[this])}fit(){let t={width:0,height:0},{chart:e,options:{ticks:s,title:r,grid:c}}=this,h=this._isVisible(),u=this.isHorizontal();if(h){let a=wp(r,e.options.font);if(u?(t.width=this.maxWidth,t.height=lr(c)+a):(t.height=this.maxHeight,t.width=lr(c)+a),s.display&&this.ticks.length){let{first:d,last:g,widest:v,highest:x}=this._getLabelSizes(),w=s.padding*2,P=ue(this.labelRotation),C=Math.cos(P),O=Math.sin(P);if(u){let M=s.mirror?0:O*v.width+C*x.height;t.height=Math.min(this.maxHeight,t.height+M+w)}else{let M=s.mirror?0:C*v.width+O*x.height;t.width=Math.min(this.maxWidth,t.width+M+w)}this._calculatePadding(d,g,O,C)}}this._handleMargins(),u?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,s,r){let{ticks:{align:c,padding:h},position:u}=this.options,a=this.labelRotation!==0,d=u!=="top"&&this.axis==="x";if(this.isHorizontal()){let g=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1),x=0,w=0;a?d?(x=r*t.width,w=s*e.height):(x=s*t.height,w=r*e.width):c==="start"?w=e.width:c==="end"?x=t.width:c!=="inner"&&(x=t.width/2,w=e.width/2),this.paddingLeft=Math.max((x-g+h)*this.width/(this.width-g),0),this.paddingRight=Math.max((w-v+h)*this.width/(this.width-v),0)}else{let g=e.height/2,v=t.height/2;c==="start"?(g=0,v=t.height):c==="end"&&(g=e.height,v=0),this.paddingTop=g+h,this.paddingBottom=v+h}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Yt(this.options.afterFit,[this])}isHorizontal(){let{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,s;for(e=0,s=t.length;e<s;e++)Nt(t[e].label)&&(t.splice(e,1),s--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){let e=this.options.ticks.sampleSize,s=this.ticks;e<s.length&&(s=_p(s,e)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,s){let{ctx:r,_longestTextCache:c}=this,h=[],u=[],a=Math.floor(e/xp(e,s)),d=0,g=0,v,x,w,P,C,O,M,A,S,E,I;for(v=0;v<e;v+=a){if(P=t[v].label,C=this._resolveTickFontOptions(v),r.font=O=C.string,M=c[O]=c[O]||{data:{},gc:[]},A=C.lineHeight,S=E=0,!Nt(P)&&!zt(P))S=Qs(r,M.data,M.gc,S,P),E=A;else if(zt(P))for(x=0,w=P.length;x<w;++x)I=P[x],!Nt(I)&&!zt(I)&&(S=Qs(r,M.data,M.gc,S,I),E+=A);h.push(S),u.push(E),d=Math.max(S,d),g=Math.max(E,g)}K_(c,e);let N=h.indexOf(d),H=u.indexOf(g),$=G=>({width:h[G]||0,height:u[G]||0});return{first:$(0),last:$(e-1),widest:$(N),highest:$(H),widths:h,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);let e=this._startPixel+t*this._length;return Vc(this._alignToPixels?ei(this.chart,e,0):e)}getDecimalForPixel(t){let e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){let e=this.ticks||[];if(t>=0&&t<e.length){let s=e[t];return s.$context||(s.$context=Z_(this.getContext(),t,s))}return this.$context||(this.$context=Q_(this.chart.getContext(),this))}_tickSize(){let t=this.options.ticks,e=ue(this.labelRotation),s=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),c=this._getLabelSizes(),h=t.autoSkipPadding||0,u=c?c.widest.width+h:0,a=c?c.highest.height+h:0;return this.isHorizontal()?a*s>u*r?u/s:a/r:a*r<u*s?a/s:u/r}_isVisible(){let t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){let e=this.axis,s=this.chart,r=this.options,{grid:c,position:h,border:u}=r,a=c.offset,d=this.isHorizontal(),v=this.ticks.length+(a?1:0),x=lr(c),w=[],P=u.setContext(this.getContext()),C=P.display?P.width:0,O=C/2,M=function(bt){return ei(s,bt,C)},A,S,E,I,N,H,$,G,tt,et,lt,ct;if(h==="top")A=M(this.bottom),H=this.bottom-x,G=A-O,et=M(t.top)+O,ct=t.bottom;else if(h==="bottom")A=M(this.top),et=t.top,ct=M(t.bottom)-O,H=A+O,G=this.top+x;else if(h==="left")A=M(this.right),N=this.right-x,$=A-O,tt=M(t.left)+O,lt=t.right;else if(h==="right")A=M(this.left),tt=t.left,lt=M(t.right)-O,N=A+O,$=this.left+x;else if(e==="x"){if(h==="center")A=M((t.top+t.bottom)/2+.5);else if(At(h)){let bt=Object.keys(h)[0],at=h[bt];A=M(this.chart.scales[bt].getPixelForValue(at))}et=t.top,ct=t.bottom,H=A+O,G=H+x}else if(e==="y"){if(h==="center")A=M((t.left+t.right)/2);else if(At(h)){let bt=Object.keys(h)[0],at=h[bt];A=M(this.chart.scales[bt].getPixelForValue(at))}N=A-O,$=N-x,tt=t.left,lt=t.right}let rt=Ct(r.ticks.maxTicksLimit,v),dt=Math.max(1,Math.ceil(v/rt));for(S=0;S<v;S+=dt){let bt=this.getContext(S),at=c.setContext(bt),ot=u.setContext(bt),kt=at.lineWidth,Et=at.color,wt=ot.dash||[],Tt=ot.dashOffset,Zt=at.tickWidth,Xt=at.tickColor,Lt=at.tickBorderDash||[],Ht=at.tickBorderDashOffset;E=G_(this,S,a),E!==void 0&&(I=ei(s,E,kt),d?N=$=tt=lt=I:H=G=et=ct=I,w.push({tx1:N,ty1:H,tx2:$,ty2:G,x1:tt,y1:et,x2:lt,y2:ct,width:kt,color:Et,borderDash:wt,borderDashOffset:Tt,tickWidth:Zt,tickColor:Xt,tickBorderDash:Lt,tickBorderDashOffset:Ht}))}return this._ticksLength=v,this._borderValue=A,w}_computeLabelItems(t){let e=this.axis,s=this.options,{position:r,ticks:c}=s,h=this.isHorizontal(),u=this.ticks,{align:a,crossAlign:d,padding:g,mirror:v}=c,x=lr(s.grid),w=x+g,P=v?-g:w,C=-ue(this.labelRotation),O=[],M,A,S,E,I,N,H,$,G,tt,et,lt,ct="middle";if(r==="top")N=this.bottom-P,H=this._getXAxisLabelAlignment();else if(r==="bottom")N=this.top+P,H=this._getXAxisLabelAlignment();else if(r==="left"){let dt=this._getYAxisLabelAlignment(x);H=dt.textAlign,I=dt.x}else if(r==="right"){let dt=this._getYAxisLabelAlignment(x);H=dt.textAlign,I=dt.x}else if(e==="x"){if(r==="center")N=(t.top+t.bottom)/2+w;else if(At(r)){let dt=Object.keys(r)[0],bt=r[dt];N=this.chart.scales[dt].getPixelForValue(bt)+w}H=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")I=(t.left+t.right)/2-w;else if(At(r)){let dt=Object.keys(r)[0],bt=r[dt];I=this.chart.scales[dt].getPixelForValue(bt)}H=this._getYAxisLabelAlignment(x).textAlign}e==="y"&&(a==="start"?ct="top":a==="end"&&(ct="bottom"));let rt=this._getLabelSizes();for(M=0,A=u.length;M<A;++M){S=u[M],E=S.label;let dt=c.setContext(this.getContext(M));$=this.getPixelForTick(M)+c.labelOffset,G=this._resolveTickFontOptions(M),tt=G.lineHeight,et=zt(E)?E.length:1;let bt=et/2,at=dt.color,ot=dt.textStrokeColor,kt=dt.textStrokeWidth,Et=H;h?(I=$,H==="inner"&&(M===A-1?Et=this.options.reverse?"left":"right":M===0?Et=this.options.reverse?"right":"left":Et="center"),r==="top"?d==="near"||C!==0?lt=-et*tt+tt/2:d==="center"?lt=-rt.highest.height/2-bt*tt+tt:lt=-rt.highest.height+tt/2:d==="near"||C!==0?lt=tt/2:d==="center"?lt=rt.highest.height/2-bt*tt:lt=rt.highest.height-et*tt,v&&(lt*=-1),C!==0&&!dt.showLabelBackdrop&&(I+=tt/2*Math.sin(C))):(N=$,lt=(1-et)*tt/2);let wt;if(dt.showLabelBackdrop){let Tt=fe(dt.backdropPadding),Zt=rt.heights[M],Xt=rt.widths[M],Lt=lt-Tt.top,Ht=0-Tt.left;switch(ct){case"middle":Lt-=Zt/2;break;case"bottom":Lt-=Zt;break}switch(H){case"center":Ht-=Xt/2;break;case"right":Ht-=Xt;break}wt={left:Ht,top:Lt,width:Xt+Tt.width,height:Zt+Tt.height,color:dt.backdropColor}}O.push({label:E,font:G,textOffset:lt,options:{rotation:C,color:at,strokeColor:ot,strokeWidth:kt,textAlign:Et,textBaseline:ct,translation:[I,N],backdrop:wt}})}return O}_getXAxisLabelAlignment(){let{position:t,ticks:e}=this.options;if(-ue(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){let{position:e,ticks:{crossAlign:s,mirror:r,padding:c}}=this.options,h=this._getLabelSizes(),u=t+c,a=h.widest.width,d,g;return e==="left"?r?(g=this.right+c,s==="near"?d="left":s==="center"?(d="center",g+=a/2):(d="right",g+=a)):(g=this.right-u,s==="near"?d="right":s==="center"?(d="center",g-=a/2):(d="left",g=this.left)):e==="right"?r?(g=this.left+c,s==="near"?d="right":s==="center"?(d="center",g-=a/2):(d="left",g-=a)):(g=this.left+u,s==="near"?d="left":s==="center"?(d="center",g+=a/2):(d="right",g=this.right)):d="right",{textAlign:d,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;let t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){let{ctx:t,options:{backgroundColor:e},left:s,top:r,width:c,height:h}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(s,r,c,h),t.restore())}getLineWidthForValue(t){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let r=this.ticks.findIndex(c=>c.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){let e=this.options.grid,s=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),c,h,u=(a,d,g)=>{!g.width||!g.color||(s.save(),s.lineWidth=g.width,s.strokeStyle=g.color,s.setLineDash(g.borderDash||[]),s.lineDashOffset=g.borderDashOffset,s.beginPath(),s.moveTo(a.x,a.y),s.lineTo(d.x,d.y),s.stroke(),s.restore())};if(e.display)for(c=0,h=r.length;c<h;++c){let a=r[c];e.drawOnChartArea&&u({x:a.x1,y:a.y1},{x:a.x2,y:a.y2},a),e.drawTicks&&u({x:a.tx1,y:a.ty1},{x:a.tx2,y:a.ty2},{color:a.tickColor,width:a.tickWidth,borderDash:a.tickBorderDash,borderDashOffset:a.tickBorderDashOffset})}}drawBorder(){let{chart:t,ctx:e,options:{border:s,grid:r}}=this,c=s.setContext(this.getContext()),h=s.display?c.width:0;if(!h)return;let u=r.setContext(this.getContext(0)).lineWidth,a=this._borderValue,d,g,v,x;this.isHorizontal()?(d=ei(t,this.left,h)-h/2,g=ei(t,this.right,u)+u/2,v=x=a):(v=ei(t,this.top,h)-h/2,x=ei(t,this.bottom,u)+u/2,d=g=a),e.save(),e.lineWidth=c.width,e.strokeStyle=c.color,e.beginPath(),e.moveTo(d,v),e.lineTo(g,x),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;let s=this.ctx,r=this._computeLabelArea();r&&Ri(s,r);let c=this.getLabelItems(t);for(let h of c){let u=h.options,a=h.font,d=h.label,g=h.textOffset;ni(s,d,0,g,a,u)}r&&Ii(s)}drawTitle(){let{ctx:t,options:{position:e,title:s,reverse:r}}=this;if(!s.display)return;let c=se(s.font),h=fe(s.padding),u=s.align,a=c.lineHeight/2;e==="bottom"||e==="center"||At(e)?(a+=h.bottom,zt(s.text)&&(a+=c.lineHeight*(s.text.length-1))):a+=h.top;let{titleX:d,titleY:g,maxWidth:v,rotation:x}=j_(this,a,e,u);ni(t,s.text,0,0,c,{color:s.color,maxWidth:v,rotation:x,textAlign:J_(u,e,r),textBaseline:"middle",translation:[d,g]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){let t=this.options,e=t.ticks&&t.ticks.z||0,s=Ct(t.grid&&t.grid.z,-1),r=Ct(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==li.prototype.draw?[{z:e,draw:c=>{this.draw(c)}}]:[{z:s,draw:c=>{this.drawBackground(),this.drawGrid(c),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:c=>{this.drawLabels(c)}}]}getMatchingVisibleMetas(t){let e=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",r=[],c,h;for(c=0,h=e.length;c<h;++c){let u=e[c];u[s]===this.id&&(!t||u.type===t)&&r.push(u)}return r}_resolveTickFontOptions(t){let e=this.options.ticks.setContext(this.getContext(t));return se(e.font)}_maxDigits(){let t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}},co=class{constructor(t,e,s){this.type=t,this.scope=e,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){let e=Object.getPrototypeOf(t),s;nw(e)&&(s=this.register(e));let r=this.items,c=t.id,h=this.scope+"."+c;if(!c)throw new Error("class does not have id: "+t);return c in r||(r[c]=t,tw(t,h,s),this.override&&re.override(t.id,t.overrides)),h}get(t){return this.items[t]}unregister(t){let e=this.items,s=t.id,r=this.scope;s in e&&delete e[s],r&&s in re[r]&&(delete re[r][s],this.override&&delete Li[s])}};function tw(n,t,e){let s=os(Object.create(null),[e?re.get(e):{},re.get(t),n.defaults]);re.set(t,s),n.defaultRoutes&&ew(t,n.defaultRoutes),n.descriptors&&re.describe(t,n.descriptors)}function ew(n,t){Object.keys(t).forEach(e=>{let s=e.split("."),r=s.pop(),c=[n].concat(s).join("."),h=t[e].split("."),u=h.pop(),a=h.join(".");re.route(c,r,a,u)})}function nw(n){return"id"in n&&"defaults"in n}var vu=class{constructor(){this.controllers=new co(an,"datasets",!0),this.elements=new co(Me,"elements"),this.plugins=new co(Object,"plugins"),this.scales=new co(li,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,s){[...e].forEach(r=>{let c=s||this._getRegistryForType(r);s||c.isForType(r)||c===this.plugins&&r.id?this._exec(t,c,r):qt(r,h=>{let u=s||this._getRegistryForType(h);this._exec(t,u,h)})})}_exec(t,e,s){let r=Zo(t);Yt(s["before"+r],[],s),e[t](s),Yt(s["after"+r],[],s)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){let s=this._typedRegistries[e];if(s.isForType(t))return s}return this.plugins}_get(t,e,s){let r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return r}},Hn=new vu,yu=class{constructor(){this._init=[]}notify(t,e,s,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));let c=r?this._descriptors(t).filter(r):this._descriptors(t),h=this._notify(c,t,e,s);return e==="afterDestroy"&&(this._notify(c,t,"stop"),this._notify(this._init,t,"uninstall")),h}_notify(t,e,s,r){r=r||{};for(let c of t){let h=c.plugin,u=h[s],a=[e,r,c.options];if(Yt(u,a,h)===!1&&r.cancelable)return!1}return!0}invalidate(){Nt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){let s=t&&t.config,r=Ct(s.options&&s.options.plugins,{}),c=iw(s);return r===!1&&!e?[]:ow(t,c,r,e)}_notifyStateChanges(t){let e=this._oldCache||[],s=this._cache,r=(c,h)=>c.filter(u=>!h.some(a=>u.plugin.id===a.plugin.id));this._notify(r(e,s),t,"stop"),this._notify(r(s,e),t,"start")}};function iw(n){let t={},e=[],s=Object.keys(Hn.plugins.items);for(let c=0;c<s.length;c++)e.push(Hn.getPlugin(s[c]));let r=n.plugins||[];for(let c=0;c<r.length;c++){let h=r[c];e.indexOf(h)===-1&&(e.push(h),t[h.id]=!0)}return{plugins:e,localIds:t}}function sw(n,t){return!t&&n===!1?null:n===!0?{}:n}function ow(n,{plugins:t,localIds:e},s,r){let c=[],h=n.getContext();for(let u of t){let a=u.id,d=sw(s[a],r);d!==null&&c.push({plugin:u,options:rw(n.config,{plugin:u,local:e[a]},d,h)})}return c}function rw(n,{plugin:t,local:e},s,r){let c=n.pluginScopeKeys(t),h=n.getOptionScopes(s,c);return e&&t.defaults&&h.push(t.defaults),n.createResolver(h,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function xu(n,t){let e=re.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function aw(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function lw(n,t){return n===t?"_index_":"_value_"}function cw(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function cl(n,t){if(n==="x"||n==="y"||n==="r"||(n=t.axis||cw(t.position)||n.length>1&&cl(n[0].toLowerCase(),t),n))return n;throw new Error(`Cannot determine type of '${name}' axis. Please provide 'axis' or 'position' option.`)}function uw(n,t){let e=Li[n.type]||{scales:{}},s=t.scales||{},r=xu(n.type,t),c=Object.create(null);return Object.keys(s).forEach(h=>{let u=s[h];if(!At(u))return console.error(`Invalid scale configuration for scale: ${h}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${h}`);let a=cl(h,u),d=lw(a,r),g=e.scales||{};c[h]=as(Object.create(null),[{axis:a},u,g[a],g[d]])}),n.data.datasets.forEach(h=>{let u=h.type||n.type,a=h.indexAxis||xu(u,t),g=(Li[u]||{}).scales||{};Object.keys(g).forEach(v=>{let x=aw(v,a),w=h[x+"AxisID"]||x;c[w]=c[w]||Object.create(null),as(c[w],[{axis:x},s[w],g[v]])})}),Object.keys(c).forEach(h=>{let u=c[h];as(u,[re.scales[u.type],re.scale])}),c}function rg(n){let t=n.options||(n.options={});t.plugins=Ct(t.plugins,{}),t.scales=uw(n,t)}function ag(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function fw(n){return n=n||{},n.data=ag(n.data),rg(n),n}var kp=new Map,lg=new Set;function el(n,t){let e=kp.get(n);return e||(e=t(),kp.set(n,e),lg.add(e)),e}var cr=(n,t,e)=>{let s=zn(t,e);s!==void 0&&n.add(s)},_u=class{constructor(t){this._config=fw(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=ag(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){let t=this._config;this.clearCache(),rg(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return el(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return el(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return el(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){let e=t.id,s=this.type;return el(`${s}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){let s=this._scopeCache,r=s.get(t);return(!r||e)&&(r=new Map,s.set(t,r)),r}getOptionScopes(t,e,s){let{options:r,type:c}=this,h=this._cachedScopes(t,s),u=h.get(e);if(u)return u;let a=new Set;e.forEach(g=>{t&&(a.add(t),g.forEach(v=>cr(a,t,v))),g.forEach(v=>cr(a,r,v)),g.forEach(v=>cr(a,Li[c]||{},v)),g.forEach(v=>cr(a,re,v)),g.forEach(v=>cr(a,Na,v))});let d=Array.from(a);return d.length===0&&d.push(Object.create(null)),lg.has(e)&&h.set(e,d),d}chartOptionScopes(){let{options:t,type:e}=this;return[t,Li[e]||{},re.datasets[e]||{},{type:e},re,Na]}resolveNamedOptions(t,e,s,r=[""]){let c={$shared:!0},{resolver:h,subPrefixes:u}=Pp(this._resolverCache,t,r),a=h;if(dw(h,e)){c.$shared=!1,s=Ve(s)?s():s;let d=this.createResolver(t,s,u);a=Si(h,s,d)}for(let d of e)c[d]=a[d];return c}createResolver(t,e,s=[""],r){let{resolver:c}=Pp(this._resolverCache,t,s);return At(e)?Si(c,e,void 0,r):c}};function Pp(n,t,e){let s=n.get(t);s||(s=new Map,n.set(t,s));let r=e.join(),c=s.get(r);return c||(c={resolver:ir(t,e),subPrefixes:e.filter(u=>!u.toLowerCase().includes("hover"))},s.set(r,c)),c}var hw=n=>At(n)&&Object.getOwnPropertyNames(n).reduce((t,e)=>t||Ve(n[e]),!1);function dw(n,t){let{isScriptable:e,isIndexable:s}=$a(n);for(let r of t){let c=e(r),h=s(r),u=(h||c)&&n[r];if(c&&(Ve(u)||hw(u))||h&&zt(u))return!0}return!1}var pw="4.2.1",gw=["top","bottom","left","right","chartArea"];function Cp(n,t){return n==="top"||n==="bottom"||gw.indexOf(n)===-1&&t==="x"}function Mp(n,t){return function(e,s){return e[n]===s[n]?e[t]-s[t]:e[n]-s[n]}}function Op(n){let t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Yt(e&&e.onComplete,[n],t)}function mw(n){let t=n.chart,e=t.options.animation;Yt(e&&e.onProgress,[n],t)}function cg(n){return Ua()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}var rl={},Tp=n=>{let t=cg(n);return Object.values(rl).filter(e=>e.canvas===t).pop()};function bw(n,t,e){let s=Object.keys(n);for(let r of s){let c=+r;if(c>=t){let h=n[r];delete n[r],(e>0||c>t)&&(n[c+e]=h)}}}function vw(n,t,e,s){return!e||n.type==="mouseout"?null:s?t:n}function yw(n){let{xScale:t,yScale:e}=n;if(t&&e)return{left:t.left,right:t.right,top:e.top,bottom:e.bottom}}var qe=class{static register(...t){Hn.add(...t),Ap()}static unregister(...t){Hn.remove(...t),Ap()}constructor(t,e){let s=this.config=new _u(e),r=cg(t),c=Tp(r);if(c)throw new Error("Canvas is already in use. Chart with ID '"+c.id+"' must be destroyed before the canvas with ID '"+c.canvas.id+"' can be reused.");let h=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||V_(r)),this.platform.updateConfig(s);let u=this.platform.acquireContext(r,h.aspectRatio),a=u&&u.canvas,d=a&&a.height,g=a&&a.width;if(this.id=Ic(),this.ctx=u,this.canvas=a,this.width=g,this.height=d,this._options=h,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new yu,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Yc(v=>this.update(v),h.resizeDelay||0),this._dataChanges=[],rl[this.id]=this,!u||!a){console.error("Failed to create chart: can't acquire context from the given item");return}oi.listen(this,"complete",Op),oi.listen(this,"progress",mw),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:t,maintainAspectRatio:e},width:s,height:r,_aspectRatio:c}=this;return Nt(t)?e&&c?c:r?s/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Hn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Xa(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Va(this.canvas,this.ctx),this}stop(){return oi.stop(this),this}resize(t,e){oi.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){let s=this.options,r=this.canvas,c=s.maintainAspectRatio&&this.aspectRatio,h=this.platform.getMaximumSize(r,t,e,c),u=s.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=h.width,this.height=h.height,this._aspectRatio=this.aspectRatio,Xa(this,u,!0)&&(this.notifyPlugins("resize",{size:h}),Yt(s.onResize,[this,h],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){let e=this.options.scales||{};qt(e,(s,r)=>{s.id=r})}buildOrUpdateScales(){let t=this.options,e=t.scales,s=this.scales,r=Object.keys(s).reduce((h,u)=>(h[u]=!1,h),{}),c=[];e&&(c=c.concat(Object.keys(e).map(h=>{let u=e[h],a=cl(h,u),d=a==="r",g=a==="x";return{options:u,dposition:d?"chartArea":g?"bottom":"left",dtype:d?"radialLinear":g?"category":"linear"}}))),qt(c,h=>{let u=h.options,a=u.id,d=cl(a,u),g=Ct(u.type,h.dtype);(u.position===void 0||Cp(u.position,d)!==Cp(h.dposition))&&(u.position=h.dposition),r[a]=!0;let v=null;if(a in s&&s[a].type===g)v=s[a];else{let x=Hn.getScale(g);v=new x({id:a,type:g,ctx:this.ctx,chart:this}),s[v.id]=v}v.init(u,t)}),qt(r,(h,u)=>{h||delete s[u]}),qt(s,h=>{Xe.configure(this,h,h.options),Xe.addBox(this,h)})}_updateMetasets(){let t=this._metasets,e=this.data.datasets.length,s=t.length;if(t.sort((r,c)=>r.index-c.index),s>e){for(let r=e;r<s;++r)this._destroyDatasetMeta(r);t.splice(e,s-e)}this._sortedMetasets=t.slice(0).sort(Mp("order","index"))}_removeUnreferencedMetasets(){let{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((s,r)=>{e.filter(c=>c===s._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){let t=[],e=this.data.datasets,s,r;for(this._removeUnreferencedMetasets(),s=0,r=e.length;s<r;s++){let c=e[s],h=this.getDatasetMeta(s),u=c.type||this.config.type;if(h.type&&h.type!==u&&(this._destroyDatasetMeta(s),h=this.getDatasetMeta(s)),h.type=u,h.indexAxis=c.indexAxis||xu(u,this.options),h.order=c.order||0,h.index=s,h.label=""+c.label,h.visible=this.isDatasetVisible(s),h.controller)h.controller.updateIndex(s),h.controller.linkScales();else{let a=Hn.getController(u),{datasetElementType:d,dataElementType:g}=re.datasets[u];Object.assign(a,{dataElementType:Hn.getElement(g),datasetElementType:d&&Hn.getElement(d)}),h.controller=new a(this,s),t.push(h.controller)}}return this._updateMetasets(),t}_resetElements(){qt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){let e=this.config;e.update();let s=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;let c=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let h=0;for(let d=0,g=this.data.datasets.length;d<g;d++){let{controller:v}=this.getDatasetMeta(d),x=!r&&c.indexOf(v)===-1;v.buildOrUpdateElements(x),h=Math.max(+v.getMaxOverflow(),h)}h=this._minPadding=s.layout.autoPadding?h:0,this._updateLayout(h),r||qt(c,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Mp("z","_idx"));let{_active:u,_lastEvent:a}=this;a?this._eventHandler(a,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){qt(this.scales,t=>{Xe.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let t=this.options,e=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!Oa(e,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(let{method:s,start:r,count:c}of e){let h=s==="_removeElements"?-c:c;bw(t,r,h)}}_getUniformDataChanges(){let t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];let e=this.data.datasets.length,s=c=>new Set(t.filter(h=>h[0]===c).map((h,u)=>u+","+h.splice(1).join(","))),r=s(0);for(let c=1;c<e;c++)if(!Oa(r,s(c)))return;return Array.from(r).map(c=>c.split(",")).map(c=>({method:c[1],start:+c[2],count:+c[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Xe.update(this,this.width,this.height,t);let e=this.chartArea,s=e.width<=0||e.height<=0;this._layers=[],qt(this.boxes,r=>{s&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,c)=>{r._idx=c}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,s=this.data.datasets.length;e<s;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,s=this.data.datasets.length;e<s;++e)this._updateDataset(e,Ve(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){let s=this.getDatasetMeta(t),r={meta:s,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(s.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(oi.has(this)?this.attached&&!oi.running(this)&&oi.start(this):(this.draw(),Op({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){let{width:s,height:r}=this._resizeBeforeDraw;this._resize(s,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){let e=this._sortedMetasets,s=[],r,c;for(r=0,c=e.length;r<c;++r){let h=e[r];(!t||h.visible)&&s.push(h)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){let e=this.ctx,s=t._clip,r=!s.disabled,c=yw(t)||this.chartArea,h={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",h)!==!1&&(r&&Ri(e,{left:s.left===!1?0:c.left-s.left,right:s.right===!1?this.width:c.right+s.right,top:s.top===!1?0:c.top-s.top,bottom:s.bottom===!1?this.height:c.bottom+s.bottom}),t.controller.draw(),r&&Ii(e),h.cancelable=!1,this.notifyPlugins("afterDatasetDraw",h))}isPointInArea(t){return rs(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,s,r){let c=__.modes[e];return typeof c=="function"?c(this,t,s,r):[]}getDatasetMeta(t){let e=this.data.datasets[t],s=this._metasets,r=s.filter(c=>c&&c._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=Nn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){let e=this.data.datasets[t];if(!e)return!1;let s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!e.hidden}setDatasetVisibility(t,e){let s=this.getDatasetMeta(t);s.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,s){let r=s?"show":"hide",c=this.getDatasetMeta(t),h=c.controller._resolveAnimations(void 0,r);le(e)?(c.data[e].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),h.update(c,{visible:s}),this.update(u=>u.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){let e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),oi.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Va(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete rl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let t=this._listeners,e=this.platform,s=(c,h)=>{e.addEventListener(this,c,h),t[c]=h},r=(c,h,u)=>{c.offsetX=h,c.offsetY=u,this._eventHandler(c)};qt(this.options.events,c=>s(c,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let t=this._responsiveListeners,e=this.platform,s=(a,d)=>{e.addEventListener(this,a,d),t[a]=d},r=(a,d)=>{t[a]&&(e.removeEventListener(this,a,d),delete t[a])},c=(a,d)=>{this.canvas&&this.resize(a,d)},h,u=()=>{r("attach",u),this.attached=!0,this.resize(),s("resize",c),s("detach",h)};h=()=>{this.attached=!1,r("resize",c),this._stop(),this._resize(0,0),s("attach",u)},e.isAttached(this.canvas)?u():h()}unbindEvents(){qt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},qt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,s){let r=s?"set":"remove",c,h,u,a;for(e==="dataset"&&(c=this.getDatasetMeta(t[0].datasetIndex),c.controller["_"+r+"DatasetHoverStyle"]()),u=0,a=t.length;u<a;++u){h=t[u];let d=h&&this.getDatasetMeta(h.datasetIndex).controller;d&&d[r+"HoverStyle"](h.element,h.datasetIndex,h.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){let e=this._active||[],s=t.map(({datasetIndex:c,index:h})=>{let u=this.getDatasetMeta(c);if(!u)throw new Error("No dataset found at index "+c);return{datasetIndex:c,element:u.data[h],index:h}});!Js(s,e)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,e))}notifyPlugins(t,e,s){return this._plugins.notify(this,t,e,s)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,s){let r=this.options.hover,c=(a,d)=>a.filter(g=>!d.some(v=>g.datasetIndex===v.datasetIndex&&g.index===v.index)),h=c(e,t),u=s?t:c(t,e);h.length&&this.updateHoverStyle(h,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(t,e){let s={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=h=>(h.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,r)===!1)return;let c=this._handleEvent(t,e,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(c||s.changed)&&this.render(),this}_handleEvent(t,e,s){let{_active:r=[],options:c}=this,h=e,u=this._getActiveElements(t,r,s,h),a=Bc(t),d=vw(t,this._lastEvent,s,a);s&&(this._lastEvent=null,Yt(c.onHover,[t,u,this],this),a&&Yt(c.onClick,[t,u,this],this));let g=!Js(u,r);return(g||e)&&(this._active=u,this._updateHoverStyles(u,r,e)),this._lastEvent=d,g}_getActiveElements(t,e,s,r){if(t.type==="mouseout")return[];if(!s)return e;let c=this.options.hover;return this.getElementsAtEventForMode(t,c.mode,c,r)}};vt(qe,"defaults",re),vt(qe,"instances",rl),vt(qe,"overrides",Li),vt(qe,"registry",Hn),vt(qe,"version",pw),vt(qe,"getChart",Tp);function Ap(){return qt(qe.instances,n=>n._plugins.invalidate())}function xw(n,t,e){let{startAngle:s,pixelMargin:r,x:c,y:h,outerRadius:u,innerRadius:a}=t,d=r/u;n.beginPath(),n.arc(c,h,u,s-d,e+d),a>r?(d=r/a,n.arc(c,h,a,e+d,s-d,!0)):n.arc(c,h,r,e+Kt,s-Kt),n.closePath(),n.clip()}function _w(n){return nr(n,["outerStart","outerEnd","innerStart","innerEnd"])}function ww(n,t,e,s){let r=_w(n.options.borderRadius),c=(e-t)/2,h=Math.min(c,s*t/2),u=a=>{let d=(e-Math.min(c,a))*s/2;return Ce(a,0,Math.min(c,d))};return{outerStart:u(r.outerStart),outerEnd:u(r.outerEnd),innerStart:Ce(r.innerStart,0,h),innerEnd:Ce(r.innerEnd,0,h)}}function to(n,t,e,s){return{x:e+n*Math.cos(t),y:s+n*Math.sin(t)}}function ul(n,t,e,s,r,c){let{x:h,y:u,startAngle:a,pixelMargin:d,innerRadius:g}=t,v=Math.max(t.outerRadius+s+e-d,0),x=g>0?g+s+e+d:0,w=0,P=r-a;if(s){let dt=g>0?g-s:0,bt=v>0?v-s:0,at=(dt+bt)/2,ot=at!==0?P*at/(at+s):P;w=(P-ot)/2}let C=Math.max(.001,P*v-e/It)/v,O=(P-C)/2,M=a+O+w,A=r-O-w,{outerStart:S,outerEnd:E,innerStart:I,innerEnd:N}=ww(t,x,v,A-M),H=v-S,$=v-E,G=M+S/H,tt=A-E/$,et=x+I,lt=x+N,ct=M+I/et,rt=A-N/lt;if(n.beginPath(),c){let dt=(G+tt)/2;if(n.arc(h,u,v,G,dt),n.arc(h,u,v,dt,tt),E>0){let kt=to($,tt,h,u);n.arc(kt.x,kt.y,E,tt,A+Kt)}let bt=to(lt,A,h,u);if(n.lineTo(bt.x,bt.y),N>0){let kt=to(lt,rt,h,u);n.arc(kt.x,kt.y,N,A+Kt,rt+Math.PI)}let at=(A-N/x+(M+I/x))/2;if(n.arc(h,u,x,A-N/x,at,!0),n.arc(h,u,x,at,M+I/x,!0),I>0){let kt=to(et,ct,h,u);n.arc(kt.x,kt.y,I,ct+Math.PI,M-Kt)}let ot=to(H,M,h,u);if(n.lineTo(ot.x,ot.y),S>0){let kt=to(H,G,h,u);n.arc(kt.x,kt.y,S,M-Kt,G)}}else{n.moveTo(h,u);let dt=Math.cos(G)*v+h,bt=Math.sin(G)*v+u;n.lineTo(dt,bt);let at=Math.cos(tt)*v+h,ot=Math.sin(tt)*v+u;n.lineTo(at,ot)}n.closePath()}function kw(n,t,e,s,r){let{fullCircles:c,startAngle:h,circumference:u}=t,a=t.endAngle;if(c){ul(n,t,e,s,a,r);for(let d=0;d<c;++d)n.fill();isNaN(u)||(a=h+(u%Qt||Qt))}return ul(n,t,e,s,a,r),n.fill(),a}function Pw(n,t,e,s,r){let{fullCircles:c,startAngle:h,circumference:u,options:a}=t,{borderWidth:d,borderJoinStyle:g}=a,v=a.borderAlign==="inner";if(!d)return;v?(n.lineWidth=d*2,n.lineJoin=g||"round"):(n.lineWidth=d,n.lineJoin=g||"bevel");let x=t.endAngle;if(c){ul(n,t,e,s,x,r);for(let w=0;w<c;++w)n.stroke();isNaN(u)||(x=h+(u%Qt||Qt))}v&&xw(n,t,x),c||(ul(n,t,e,s,x,r),n.stroke())}var ro=class extends Me{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,s){let r=this.getProps(["x","y"],s),{angle:c,distance:h}=Da(r,{x:t,y:e}),{startAngle:u,endAngle:a,innerRadius:d,outerRadius:g,circumference:v}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),x=this.options.spacing/2,P=Ct(v,a-u)>=Qt||us(c,u,a),C=Cn(h,d+x,g+x);return P&&C}getCenterPoint(t){let{x:e,y:s,startAngle:r,endAngle:c,innerRadius:h,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:a,spacing:d}=this.options,g=(r+c)/2,v=(h+u+d+a)/2;return{x:e+Math.cos(g)*v,y:s+Math.sin(g)*v}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){let{options:e,circumference:s}=this,r=(e.offset||0)/4,c=(e.spacing||0)/2,h=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=s>Qt?Math.floor(s/Qt):0,s===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let u=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(u)*r,Math.sin(u)*r);let a=1-Math.sin(Math.min(It,s||0)),d=r*a;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,kw(t,this,d,c,h),Pw(t,this,d,c,h),t.restore()}};vt(ro,"id","arc"),vt(ro,"defaults",{borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),vt(ro,"defaultRoutes",{backgroundColor:"backgroundColor"});function ug(n,t,e=t){n.lineCap=Ct(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Ct(e.borderDash,t.borderDash)),n.lineDashOffset=Ct(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Ct(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Ct(e.borderWidth,t.borderWidth),n.strokeStyle=Ct(e.borderColor,t.borderColor)}function Cw(n,t,e){n.lineTo(e.x,e.y)}function Mw(n){return n.stepped?Gc:n.tension||n.cubicInterpolationMode==="monotone"?Kc:Cw}function fg(n,t,e={}){let s=n.length,{start:r=0,end:c=s-1}=e,{start:h,end:u}=t,a=Math.max(r,h),d=Math.min(c,u),g=r<h&&c<h||r>u&&c>u;return{count:s,start:a,loop:t.loop,ilen:d<a&&!g?s+d-a:d-a}}function Ow(n,t,e,s){let{points:r,options:c}=t,{count:h,start:u,loop:a,ilen:d}=fg(r,e,s),g=Mw(c),{move:v=!0,reverse:x}=s||{},w,P,C;for(w=0;w<=d;++w)P=r[(u+(x?d-w:w))%h],!P.skip&&(v?(n.moveTo(P.x,P.y),v=!1):g(n,C,P,x,c.stepped),C=P);return a&&(P=r[(u+(x?d:0))%h],g(n,C,P,x,c.stepped)),!!a}function Tw(n,t,e,s){let r=t.points,{count:c,start:h,ilen:u}=fg(r,e,s),{move:a=!0,reverse:d}=s||{},g=0,v=0,x,w,P,C,O,M,A=E=>(h+(d?u-E:E))%c,S=()=>{C!==O&&(n.lineTo(g,O),n.lineTo(g,C),n.lineTo(g,M))};for(a&&(w=r[A(0)],n.moveTo(w.x,w.y)),x=0;x<=u;++x){if(w=r[A(x)],w.skip)continue;let E=w.x,I=w.y,N=E|0;N===P?(I<C?C=I:I>O&&(O=I),g=(v*g+E)/++v):(S(),n.lineTo(E,I),P=N,v=0,C=O=I),M=I}S()}function wu(n){let t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?Tw:Ow}function Aw(n){return n.stepped?nu:n.tension||n.cubicInterpolationMode==="monotone"?iu:jn}function Ew(n,t,e,s){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,s)&&r.closePath()),ug(n,t.options),n.stroke(r)}function Dw(n,t,e,s){let{segments:r,options:c}=t,h=wu(t);for(let u of r)ug(n,c,u.style),n.beginPath(),h(n,t,u,{start:e,end:e+s-1})&&n.closePath(),n.stroke()}var Sw=typeof Path2D=="function";function Lw(n,t,e,s){Sw&&!t.options.segment?Ew(n,t,e,s):Dw(n,t,e,s)}var Wn=class extends Me{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){let s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){let r=s.spanGaps?this._loop:this._fullLoop;jc(this._points,s,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=su(this,this.options.segment))}first(){let t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){let t=this.segments,e=this.points,s=t.length;return s&&e[t[s-1].end]}interpolate(t,e){let s=this.options,r=t[e],c=this.points,h=Ja(this,{property:e,start:r,end:r});if(!h.length)return;let u=[],a=Aw(s),d,g;for(d=0,g=h.length;d<g;++d){let{start:v,end:x}=h[d],w=c[v],P=c[x];if(w===P){u.push(w);continue}let C=Math.abs((r-w[e])/(P[e]-w[e])),O=a(w,P,C,s.stepped);O[e]=t[e],u.push(O)}return u.length===1?u[0]:u}pathSegment(t,e,s){return wu(this)(t,this,e,s)}path(t,e,s){let r=this.segments,c=wu(this),h=this._loop;e=e||0,s=s||this.points.length-e;for(let u of r)h&=c(t,this,u,{start:e,end:e+s-1});return!!h}draw(t,e,s,r){let c=this.options||{};(this.points||[]).length&&c.borderWidth&&(t.save(),Lw(t,this,s,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}};vt(Wn,"id","line"),vt(Wn,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),vt(Wn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),vt(Wn,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function Ep(n,t,e,s){let r=n.options,{[e]:c}=n.getProps([e],s);return Math.abs(t-c)<r.radius+r.hitRadius}var ao=class extends Me{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,s){let r=this.options,{x:c,y:h}=this.getProps(["x","y"],s);return Math.pow(t-c,2)+Math.pow(e-h,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return Ep(this,t,"x",e)}inYRange(t,e){return Ep(this,t,"y",e)}getCenterPoint(t){let{x:e,y:s}=this.getProps(["x","y"],t);return{x:e,y:s}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);let s=e&&t.borderWidth||0;return(e+s)*2}draw(t,e){let s=this.options;this.skip||s.radius<.1||!rs(this,e,this.size(s)/2)||(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,er(t,s,this.x,this.y))}getRange(){let t=this.options||{};return t.radius+t.hitRadius}};vt(ao,"id","point"),vt(ao,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),vt(ao,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function hg(n,t){let{x:e,y:s,base:r,width:c,height:h}=n.getProps(["x","y","base","width","height"],t),u,a,d,g,v;return n.horizontal?(v=h/2,u=Math.min(e,r),a=Math.max(e,r),d=s-v,g=s+v):(v=c/2,u=e-v,a=e+v,d=Math.min(s,r),g=Math.max(s,r)),{left:u,top:d,right:a,bottom:g}}function Bi(n,t,e,s){return n?0:Ce(t,e,s)}function Rw(n,t,e){let s=n.options.borderWidth,r=n.borderSkipped,c=Wa(s);return{t:Bi(r.top,c.top,0,e),r:Bi(r.right,c.right,0,t),b:Bi(r.bottom,c.bottom,0,e),l:Bi(r.left,c.left,0,t)}}function Iw(n,t,e){let{enableBorderRadius:s}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,c=Mn(r),h=Math.min(t,e),u=n.borderSkipped,a=s||At(r);return{topLeft:Bi(!a||u.top||u.left,c.topLeft,0,h),topRight:Bi(!a||u.top||u.right,c.topRight,0,h),bottomLeft:Bi(!a||u.bottom||u.left,c.bottomLeft,0,h),bottomRight:Bi(!a||u.bottom||u.right,c.bottomRight,0,h)}}function Fw(n){let t=hg(n),e=t.right-t.left,s=t.bottom-t.top,r=Rw(n,e/2,s/2),c=Iw(n,e/2,s/2);return{outer:{x:t.left,y:t.top,w:e,h:s,radius:c},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:s-r.t-r.b,radius:{topLeft:Math.max(0,c.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,c.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,c.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,c.bottomRight-Math.max(r.b,r.r))}}}}function fu(n,t,e,s){let r=t===null,c=e===null,u=n&&!(r&&c)&&hg(n,s);return u&&(r||Cn(t,u.left,u.right))&&(c||Cn(e,u.top,u.bottom))}function Bw(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function zw(n,t){n.rect(t.x,t.y,t.w,t.h)}function hu(n,t,e={}){let s=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,c=(n.x+n.w!==e.x+e.w?t:0)-s,h=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+s,y:n.y+r,w:n.w+c,h:n.h+h,radius:n.radius}}var lo=class extends Me{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){let{inflateAmount:e,options:{borderColor:s,backgroundColor:r}}=this,{inner:c,outer:h}=Fw(this),u=Bw(h.radius)?ii:zw;t.save(),(h.w!==c.w||h.h!==c.h)&&(t.beginPath(),u(t,hu(h,e,c)),t.clip(),u(t,hu(c,-e,h)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),u(t,hu(c,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,s){return fu(this,t,e,s)}inXRange(t,e){return fu(this,t,null,e)}inYRange(t,e){return fu(this,null,t,e)}getCenterPoint(t){let{x:e,y:s,base:r,horizontal:c}=this.getProps(["x","y","base","horizontal"],t);return{x:c?(e+r)/2:e,y:c?s:(s+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}};vt(lo,"id","bar"),vt(lo,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),vt(lo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Nw=Object.freeze({__proto__:null,ArcElement:ro,LineElement:Wn,PointElement:ao,BarElement:lo}),ku=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Dp=ku.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function dg(n){return ku[n%ku.length]}function pg(n){return Dp[n%Dp.length]}function Vw(n,t){return n.borderColor=dg(t),n.backgroundColor=pg(t),++t}function Hw(n,t){return n.backgroundColor=n.data.map(()=>dg(t++)),t}function Ww(n,t){return n.backgroundColor=n.data.map(()=>pg(t++)),t}function $w(n){let t=0;return(e,s)=>{let r=n.getDatasetMeta(s).controller;r instanceof ai?t=Hw(e,t):r instanceof ms?t=Ww(e,t):r&&(t=Vw(e,t))}}function Sp(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function Yw(n){return n&&(n.borderColor||n.backgroundColor)}var Uw={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;let{data:{datasets:s},options:r}=n.config,{elements:c}=r;if(!e.forceOverride&&(Sp(s)||Yw(r)||c&&Sp(c)))return;let h=$w(n);s.forEach(h)}};function qw(n,t,e,s,r){let c=r.samples||s;if(c>=e)return n.slice(t,t+e);let h=[],u=(e-2)/(c-2),a=0,d=t+e-1,g=t,v,x,w,P,C;for(h[a++]=n[g],v=0;v<c-2;v++){let O=0,M=0,A,S=Math.floor((v+1)*u)+1+t,E=Math.min(Math.floor((v+2)*u)+1,e)+t,I=E-S;for(A=S;A<E;A++)O+=n[A].x,M+=n[A].y;O/=I,M/=I;let N=Math.floor(v*u)+1+t,H=Math.min(Math.floor((v+1)*u)+1,e)+t,{x:$,y:G}=n[g];for(w=P=-1,A=N;A<H;A++)P=.5*Math.abs(($-O)*(n[A].y-G)-($-n[A].x)*(M-G)),P>w&&(w=P,x=n[A],C=A);h[a++]=x,g=C}return h[a++]=n[d],h}function Xw(n,t,e,s){let r=0,c=0,h,u,a,d,g,v,x,w,P,C,O=[],M=t+e-1,A=n[t].x,E=n[M].x-A;for(h=t;h<t+e;++h){u=n[h],a=(u.x-A)/E*s,d=u.y;let I=a|0;if(I===g)d<P?(P=d,v=h):d>C&&(C=d,x=h),r=(c*r+u.x)/++c;else{let N=h-1;if(!Nt(v)&&!Nt(x)){let H=Math.min(v,x),$=Math.max(v,x);H!==w&&H!==N&&O.push({...n[H],x:r}),$!==w&&$!==N&&O.push({...n[$],x:r})}h>0&&N!==w&&O.push(n[N]),O.push(u),g=I,c=0,P=C=d,v=x=w=h}}return O}function gg(n){if(n._decimated){let t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Lp(n){n.data.datasets.forEach(t=>{gg(t)})}function Gw(n,t){let e=t.length,s=0,r,{iScale:c}=n,{min:h,max:u,minDefined:a,maxDefined:d}=c.getUserBounds();return a&&(s=Ce(wn(t,c.axis,h).lo,0,e-1)),d?r=Ce(wn(t,c.axis,u).hi+1,s,e)-s:r=e-s,{start:s,count:r}}var Kw={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){Lp(n);return}let s=n.width;n.data.datasets.forEach((r,c)=>{let{_data:h,indexAxis:u}=r,a=n.getDatasetMeta(c),d=h||r.data;if(hs([u,n.options.indexAxis])==="y"||!a.controller.supportsDecimation)return;let g=n.scales[a.xAxisID];if(g.type!=="linear"&&g.type!=="time"||n.options.parsing)return;let{start:v,count:x}=Gw(a,d),w=e.threshold||4*s;if(x<=w){gg(r);return}Nt(h)&&(r._data=d,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(C){this._data=C}}));let P;switch(e.algorithm){case"lttb":P=qw(d,v,x,s,e);break;case"min-max":P=Xw(d,v,x,s);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=P})},destroy(n){Lp(n)}};function Qw(n,t,e){let s=n.segments,r=n.points,c=t.points,h=[];for(let u of s){let{start:a,end:d}=u;d=Mu(a,d,r);let g=Pu(e,r[a],r[d],u.loop);if(!t.segments){h.push({source:u,target:g,start:r[a],end:r[d]});continue}let v=Ja(t,g);for(let x of v){let w=Pu(e,c[x.start],c[x.end],x.loop),P=Za(u,r,w);for(let C of P)h.push({source:C,target:x,start:{[e]:Rp(g,w,"start",Math.max)},end:{[e]:Rp(g,w,"end",Math.min)}})}}return h}function Pu(n,t,e,s){if(s)return;let r=t[n],c=e[n];return n==="angle"&&(r=Je(r),c=Je(c)),{property:n,start:r,end:c}}function Zw(n,t){let{x:e=null,y:s=null}=n||{},r=t.points,c=[];return t.segments.forEach(({start:h,end:u})=>{u=Mu(h,u,r);let a=r[h],d=r[u];s!==null?(c.push({x:a.x,y:s}),c.push({x:d.x,y:s})):e!==null&&(c.push({x:e,y:a.y}),c.push({x:e,y:d.y}))}),c}function Mu(n,t,e){for(;t>n;t--){let s=e[t];if(!isNaN(s.x)&&!isNaN(s.y))break}return t}function Rp(n,t,e,s){return n&&t?s(n[e],t[e]):n?n[e]:t?t[e]:0}function mg(n,t){let e=[],s=!1;return zt(n)?(s=!0,e=n):e=Zw(n,t),e.length?new Wn({points:e,options:{tension:0},_loop:s,_fullLoop:s}):null}function Ip(n){return n&&n.fill!==!1}function Jw(n,t,e){let r=n[t].fill,c=[t],h;if(!e)return r;for(;r!==!1&&c.indexOf(r)===-1;){if(!ne(r))return r;if(h=n[r],!h)return!1;if(h.visible)return r;c.push(r),r=h.fill}return!1}function jw(n,t,e){let s=i1(n);if(At(s))return isNaN(s.value)?!1:s;let r=parseFloat(s);return ne(r)&&Math.floor(r)===r?t1(s[0],t,r,e):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function t1(n,t,e,s){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=s?!1:e}function e1(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:At(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function n1(n,t,e){let s;return n==="start"?s=e:n==="end"?s=t.options.reverse?t.min:t.max:At(n)?s=n.value:s=t.getBaseValue(),s}function i1(n){let t=n.options,e=t.fill,s=Ct(e&&e.target,e);return s===void 0&&(s=!!t.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function s1(n){let{scale:t,index:e,line:s}=n,r=[],c=s.segments,h=s.points,u=o1(t,e);u.push(mg({x:null,y:t.bottom},s));for(let a=0;a<c.length;a++){let d=c[a];for(let g=d.start;g<=d.end;g++)r1(r,h[g],u)}return new Wn({points:r,options:{}})}function o1(n,t){let e=[],s=n.getMatchingVisibleMetas("line");for(let r=0;r<s.length;r++){let c=s[r];if(c.index===t)break;c.hidden||e.unshift(c.dataset)}return e}function r1(n,t,e){let s=[];for(let r=0;r<e.length;r++){let c=e[r],{first:h,last:u,point:a}=a1(c,t,"x");if(!(!a||h&&u)){if(h)s.unshift(a);else if(n.push(a),!u)break}}n.push(...s)}function a1(n,t,e){let s=n.interpolate(t,e);if(!s)return{};let r=s[e],c=n.segments,h=n.points,u=!1,a=!1;for(let d=0;d<c.length;d++){let g=c[d],v=h[g.start][e],x=h[g.end][e];if(Cn(r,v,x)){u=r===v,a=r===x;break}}return{first:u,last:a,point:s}}var fl=class{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,s){let{x:r,y:c,radius:h}=this;return e=e||{start:0,end:Qt},t.arc(r,c,h,e.end,e.start,!0),!s.bounds}interpolate(t){let{x:e,y:s,radius:r}=this,c=t.angle;return{x:e+Math.cos(c)*r,y:s+Math.sin(c)*r,angle:c}}};function l1(n){let{chart:t,fill:e,line:s}=n;if(ne(e))return c1(t,e);if(e==="stack")return s1(n);if(e==="shape")return!0;let r=u1(n);return r instanceof fl?r:mg(r,s)}function c1(n,t){let e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function u1(n){return(n.scale||{}).getPointPositionForValue?h1(n):f1(n)}function f1(n){let{scale:t={},fill:e}=n,s=e1(e,t);if(ne(s)){let r=t.isHorizontal();return{x:r?s:null,y:r?null:s}}return null}function h1(n){let{scale:t,fill:e}=n,s=t.options,r=t.getLabels().length,c=s.reverse?t.max:t.min,h=n1(e,t,c),u=[];if(s.grid.circular){let a=t.getPointPositionForValue(0,c);return new fl({x:a.x,y:a.y,radius:t.getDistanceFromCenterForValue(h)})}for(let a=0;a<r;++a)u.push(t.getPointPositionForValue(a,h));return u}function du(n,t,e){let s=l1(t),{line:r,scale:c,axis:h}=t,u=r.options,a=u.fill,d=u.backgroundColor,{above:g=d,below:v=d}=a||{};s&&r.points.length&&(Ri(n,e),d1(n,{line:r,target:s,above:g,below:v,area:e,scale:c,axis:h}),Ii(n))}function d1(n,t){let{line:e,target:s,above:r,below:c,area:h,scale:u}=t,a=e._loop?"angle":t.axis;n.save(),a==="x"&&c!==r&&(Fp(n,s,h.top),Bp(n,{line:e,target:s,color:r,scale:u,property:a}),n.restore(),n.save(),Fp(n,s,h.bottom)),Bp(n,{line:e,target:s,color:c,scale:u,property:a}),n.restore()}function Fp(n,t,e){let{segments:s,points:r}=t,c=!0,h=!1;n.beginPath();for(let u of s){let{start:a,end:d}=u,g=r[a],v=r[Mu(a,d,r)];c?(n.moveTo(g.x,g.y),c=!1):(n.lineTo(g.x,e),n.lineTo(g.x,g.y)),h=!!t.pathSegment(n,u,{move:h}),h?n.closePath():n.lineTo(v.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function Bp(n,t){let{line:e,target:s,property:r,color:c,scale:h}=t,u=Qw(e,s,r);for(let{source:a,target:d,start:g,end:v}of u){let{style:{backgroundColor:x=c}={}}=a,w=s!==!0;n.save(),n.fillStyle=x,p1(n,h,w&&Pu(r,g,v)),n.beginPath();let P=!!e.pathSegment(n,a),C;if(w){P?n.closePath():zp(n,s,v,r);let O=!!s.pathSegment(n,d,{move:P,reverse:!0});C=P&&O,C||zp(n,s,g,r)}n.closePath(),n.fill(C?"evenodd":"nonzero"),n.restore()}}function p1(n,t,e){let{top:s,bottom:r}=t.chart.chartArea,{property:c,start:h,end:u}=e||{};c==="x"&&(n.beginPath(),n.rect(h,s,u-h,r-s),n.clip())}function zp(n,t,e,s){let r=t.interpolate(e,s);r&&n.lineTo(r.x,r.y)}var g1={id:"filler",afterDatasetsUpdate(n,t,e){let s=(n.data.datasets||[]).length,r=[],c,h,u,a;for(h=0;h<s;++h)c=n.getDatasetMeta(h),u=c.dataset,a=null,u&&u.options&&u instanceof Wn&&(a={visible:n.isDatasetVisible(h),index:h,fill:jw(u,h,s),chart:n,axis:c.controller.options.indexAxis,scale:c.vScale,line:u}),c.$filler=a,r.push(a);for(h=0;h<s;++h)a=r[h],!(!a||a.fill===!1)&&(a.fill=Jw(r,h,e.propagate))},beforeDraw(n,t,e){let s=e.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),c=n.chartArea;for(let h=r.length-1;h>=0;--h){let u=r[h].$filler;u&&(u.line.updateControlPoints(c,u.axis),s&&u.fill&&du(n.ctx,u,c))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;let s=n.getSortedVisibleDatasetMetas();for(let r=s.length-1;r>=0;--r){let c=s[r].$filler;Ip(c)&&du(n.ctx,c,n.chartArea)}},beforeDatasetDraw(n,t,e){let s=t.meta.$filler;!Ip(s)||e.drawTime!=="beforeDatasetDraw"||du(n.ctx,s,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},Np=(n,t)=>{let{boxHeight:e=t,boxWidth:s=t}=n;return n.usePointStyle&&(e=Math.min(e,t),s=n.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:e,itemHeight:Math.max(t,e)}},m1=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index,hl=class extends Me{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,s){this.maxWidth=t,this.maxHeight=e,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let t=this.options.labels||{},e=Yt(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(s=>t.filter(s,this.chart.data))),t.sort&&(e=e.sort((s,r)=>t.sort(s,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}let s=t.labels,r=se(s.font),c=r.size,h=this._computeTitleHeight(),{boxWidth:u,itemHeight:a}=Np(s,c),d,g;e.font=r.string,this.isHorizontal()?(d=this.maxWidth,g=this._fitRows(h,c,u,a)+10):(g=this.maxHeight,d=this._fitCols(h,r,u,a)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(g,t.maxHeight||this.maxHeight)}_fitRows(t,e,s,r){let{ctx:c,maxWidth:h,options:{labels:{padding:u}}}=this,a=this.legendHitBoxes=[],d=this.lineWidths=[0],g=r+u,v=t;c.textAlign="left",c.textBaseline="middle";let x=-1,w=-g;return this.legendItems.forEach((P,C)=>{let O=s+e/2+c.measureText(P.text).width;(C===0||d[d.length-1]+O+2*u>h)&&(v+=g,d[d.length-(C>0?0:1)]=0,w+=g,x++),a[C]={left:0,top:w,row:x,width:O,height:r},d[d.length-1]+=O+u}),v}_fitCols(t,e,s,r){let{ctx:c,maxHeight:h,options:{labels:{padding:u}}}=this,a=this.legendHitBoxes=[],d=this.columnSizes=[],g=h-t,v=u,x=0,w=0,P=0,C=0;return this.legendItems.forEach((O,M)=>{let{itemWidth:A,itemHeight:S}=b1(s,e,c,O,r);M>0&&w+S+2*u>g&&(v+=x+u,d.push({width:x,height:w}),P+=x+u,C++,x=w=0),a[M]={left:P,top:w,col:C,width:A,height:S},x=Math.max(x,A),w+=S+u}),v+=x,d.push({width:x,height:w}),v}adjustHitBoxes(){if(!this.options.display)return;let t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:s,labels:{padding:r},rtl:c}}=this,h=Fi(c,this.left,this.width);if(this.isHorizontal()){let u=0,a=Le(s,this.left+r,this.right-this.lineWidths[u]);for(let d of e)u!==d.row&&(u=d.row,a=Le(s,this.left+r,this.right-this.lineWidths[u])),d.top+=this.top+t+r,d.left=h.leftForLtr(h.x(a),d.width),a+=d.width+r}else{let u=0,a=Le(s,this.top+t+r,this.bottom-this.columnSizes[u].height);for(let d of e)d.col!==u&&(u=d.col,a=Le(s,this.top+t+r,this.bottom-this.columnSizes[u].height)),d.top=a,d.left+=this.left+r,d.left=h.leftForLtr(h.x(d.left),d.width),a+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let t=this.ctx;Ri(t,this),this._draw(),Ii(t)}}_draw(){let{options:t,columnSizes:e,lineWidths:s,ctx:r}=this,{align:c,labels:h}=t,u=re.color,a=Fi(t.rtl,this.left,this.width),d=se(h.font),{padding:g}=h,v=d.size,x=v/2,w;this.drawTitle(),r.textAlign=a.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;let{boxWidth:P,boxHeight:C,itemHeight:O}=Np(h,v),M=function(N,H,$){if(isNaN(P)||P<=0||isNaN(C)||C<0)return;r.save();let G=Ct($.lineWidth,1);if(r.fillStyle=Ct($.fillStyle,u),r.lineCap=Ct($.lineCap,"butt"),r.lineDashOffset=Ct($.lineDashOffset,0),r.lineJoin=Ct($.lineJoin,"miter"),r.lineWidth=G,r.strokeStyle=Ct($.strokeStyle,u),r.setLineDash(Ct($.lineDash,[])),h.usePointStyle){let tt={radius:C*Math.SQRT2/2,pointStyle:$.pointStyle,rotation:$.rotation,borderWidth:G},et=a.xPlus(N,P/2),lt=H+x;Ha(r,tt,et,lt,h.pointStyleWidth&&P)}else{let tt=H+Math.max((v-C)/2,0),et=a.leftForLtr(N,P),lt=Mn($.borderRadius);r.beginPath(),Object.values(lt).some(ct=>ct!==0)?ii(r,{x:et,y:tt,w:P,h:C,radius:lt}):r.rect(et,tt,P,C),r.fill(),G!==0&&r.stroke()}r.restore()},A=function(N,H,$){ni(r,$.text,N,H+O/2,d,{strikethrough:$.hidden,textAlign:a.textAlign($.textAlign)})},S=this.isHorizontal(),E=this._computeTitleHeight();S?w={x:Le(c,this.left+g,this.right-s[0]),y:this.top+g+E,line:0}:w={x:this.left+g,y:Le(c,this.top+E+g,this.bottom-e[0].height),line:0},Ka(this.ctx,t.textDirection);let I=O+g;this.legendItems.forEach((N,H)=>{r.strokeStyle=N.fontColor,r.fillStyle=N.fontColor;let $=r.measureText(N.text).width,G=a.textAlign(N.textAlign||(N.textAlign=h.textAlign)),tt=P+x+$,et=w.x,lt=w.y;a.setWidth(this.width),S?H>0&&et+tt+g>this.right&&(lt=w.y+=I,w.line++,et=w.x=Le(c,this.left+g,this.right-s[w.line])):H>0&&lt+I>this.bottom&&(et=w.x=et+e[w.line].width+g,w.line++,lt=w.y=Le(c,this.top+E+g,this.bottom-e[w.line].height));let ct=a.x(et);if(M(ct,lt,N),et=Uc(G,et+P+x,S?et+tt:this.right,t.rtl),A(a.x(et),lt,N),S)w.x+=tt+g;else if(typeof N.text!="string"){let rt=d.lineHeight;w.y+=bg(N,rt)}else w.y+=I}),Qa(this.ctx,t.textDirection)}drawTitle(){let t=this.options,e=t.title,s=se(e.font),r=fe(e.padding);if(!e.display)return;let c=Fi(t.rtl,this.left,this.width),h=this.ctx,u=e.position,a=s.size/2,d=r.top+a,g,v=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),g=this.top+d,v=Le(t.align,v,this.right-x);else{let P=this.columnSizes.reduce((C,O)=>Math.max(C,O.height),0);g=d+Le(t.align,this.top,this.bottom-P-t.labels.padding-this._computeTitleHeight())}let w=Le(u,v,v+x);h.textAlign=c.textAlign(tr(u)),h.textBaseline="middle",h.strokeStyle=e.color,h.fillStyle=e.color,h.font=s.string,ni(h,e.text,w,g,s)}_computeTitleHeight(){let t=this.options.title,e=se(t.font),s=fe(t.padding);return t.display?e.lineHeight+s.height:0}_getLegendItemAt(t,e){let s,r,c;if(Cn(t,this.left,this.right)&&Cn(e,this.top,this.bottom)){for(c=this.legendHitBoxes,s=0;s<c.length;++s)if(r=c[s],Cn(t,r.left,r.left+r.width)&&Cn(e,r.top,r.top+r.height))return this.legendItems[s]}return null}handleEvent(t){let e=this.options;if(!x1(t.type,e))return;let s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){let r=this._hoveredItem,c=m1(r,s);r&&!c&&Yt(e.onLeave,[t,r,this],this),this._hoveredItem=s,s&&!c&&Yt(e.onHover,[t,s,this],this)}else s&&Yt(e.onClick,[t,s,this],this)}};function b1(n,t,e,s,r){let c=v1(s,n,t,e),h=y1(r,s,t.lineHeight);return{itemWidth:c,itemHeight:h}}function v1(n,t,e,s){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((c,h)=>c.length>h.length?c:h)),t+e.size/2+s.measureText(r).width}function y1(n,t,e){let s=n;return typeof t.text!="string"&&(s=bg(t,e)),s}function bg(n,t){let e=n.text?n.text.length+.5:0;return t*e}function x1(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var _1={id:"legend",_element:hl,start(n,t,e){let s=n.legend=new hl({ctx:n.ctx,options:e,chart:n});Xe.configure(n,s,e),Xe.addBox(n,s)},stop(n){Xe.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){let s=n.legend;Xe.configure(n,s,e),s.options=e},afterUpdate(n){let t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){let s=t.datasetIndex,r=e.chart;r.isDatasetVisible(s)?(r.hide(s),t.hidden=!0):(r.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){let t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:s,textAlign:r,color:c,useBorderRadius:h,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(a=>{let d=a.controller.getStyle(e?0:void 0),g=fe(d.borderWidth);return{text:t[a.index].label,fillStyle:d.backgroundColor,fontColor:c,hidden:!a.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:d.borderColor,pointStyle:s||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:h&&(u||d.borderRadius),datasetIndex:a.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}},xr=class extends Me{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){let s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;let r=zt(s.text)?s.text.length:1;this._padding=fe(s.padding);let c=r*se(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=c:this.width=c}isHorizontal(){let t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){let{top:e,left:s,bottom:r,right:c,options:h}=this,u=h.align,a=0,d,g,v;return this.isHorizontal()?(g=Le(u,s,c),v=e+t,d=c-s):(h.position==="left"?(g=s+t,v=Le(u,r,e),a=It*-.5):(g=c-t,v=Le(u,e,r),a=It*.5),d=r-e),{titleX:g,titleY:v,maxWidth:d,rotation:a}}draw(){let t=this.ctx,e=this.options;if(!e.display)return;let s=se(e.font),c=s.lineHeight/2+this._padding.top,{titleX:h,titleY:u,maxWidth:a,rotation:d}=this._drawArgs(c);ni(t,e.text,0,0,s,{color:e.color,maxWidth:a,rotation:d,textAlign:tr(e.align),textBaseline:"middle",translation:[h,u]})}};function w1(n,t){let e=new xr({ctx:n.ctx,options:t,chart:n});Xe.configure(n,e,t),Xe.addBox(n,e),n.titleBlock=e}var k1={id:"title",_element:xr,start(n,t,e){w1(n,e)},stop(n){let t=n.titleBlock;Xe.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){let s=n.titleBlock;Xe.configure(n,s,e),s.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},nl=new WeakMap,P1={id:"subtitle",start(n,t,e){let s=new xr({ctx:n.ctx,options:e,chart:n});Xe.configure(n,s,e),Xe.addBox(n,s),nl.set(n,s)},stop(n){Xe.removeBox(n,nl.get(n)),nl.delete(n)},beforeUpdate(n,t,e){let s=nl.get(n);Xe.configure(n,s,e),s.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},hr={average(n){if(!n.length)return!1;let t,e,s=0,r=0,c=0;for(t=0,e=n.length;t<e;++t){let h=n[t].element;if(h&&h.hasValue()){let u=h.tooltipPosition();s+=u.x,r+=u.y,++c}}return{x:s/c,y:r/c}},nearest(n,t){if(!n.length)return!1;let e=t.x,s=t.y,r=Number.POSITIVE_INFINITY,c,h,u;for(c=0,h=n.length;c<h;++c){let a=n[c].element;if(a&&a.hasValue()){let d=a.getCenterPoint(),g=ti(t,d);g<r&&(r=g,u=a)}}if(u){let a=u.tooltipPosition();e=a.x,s=a.y}return{x:e,y:s}}};function Vn(n,t){return t&&(zt(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function ri(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function C1(n,t){let{element:e,datasetIndex:s,index:r}=t,c=n.getDatasetMeta(s).controller,{label:h,value:u}=c.getLabelAndValue(r);return{chart:n,label:h,parsed:c.getParsed(r),raw:n.data.datasets[s].data[r],formattedValue:u,dataset:c.getDataset(),dataIndex:r,datasetIndex:s,element:e}}function Vp(n,t){let e=n.chart.ctx,{body:s,footer:r,title:c}=n,{boxWidth:h,boxHeight:u}=t,a=se(t.bodyFont),d=se(t.titleFont),g=se(t.footerFont),v=c.length,x=r.length,w=s.length,P=fe(t.padding),C=P.height,O=0,M=s.reduce((E,I)=>E+I.before.length+I.lines.length+I.after.length,0);if(M+=n.beforeBody.length+n.afterBody.length,v&&(C+=v*d.lineHeight+(v-1)*t.titleSpacing+t.titleMarginBottom),M){let E=t.displayColors?Math.max(u,a.lineHeight):a.lineHeight;C+=w*E+(M-w)*a.lineHeight+(M-1)*t.bodySpacing}x&&(C+=t.footerMarginTop+x*g.lineHeight+(x-1)*t.footerSpacing);let A=0,S=function(E){O=Math.max(O,e.measureText(E).width+A)};return e.save(),e.font=d.string,qt(n.title,S),e.font=a.string,qt(n.beforeBody.concat(n.afterBody),S),A=t.displayColors?h+2+t.boxPadding:0,qt(s,E=>{qt(E.before,S),qt(E.lines,S),qt(E.after,S)}),A=0,e.font=g.string,qt(n.footer,S),e.restore(),O+=P.width,{width:O,height:C}}function M1(n,t){let{y:e,height:s}=t;return e<s/2?"top":e>n.height-s/2?"bottom":"center"}function O1(n,t,e,s){let{x:r,width:c}=s,h=e.caretSize+e.caretPadding;if(n==="left"&&r+c+h>t.width||n==="right"&&r-c-h<0)return!0}function T1(n,t,e,s){let{x:r,width:c}=e,{width:h,chartArea:{left:u,right:a}}=n,d="center";return s==="center"?d=r<=(u+a)/2?"left":"right":r<=c/2?d="left":r>=h-c/2&&(d="right"),O1(d,n,t,e)&&(d="center"),d}function Hp(n,t,e){let s=e.yAlign||t.yAlign||M1(n,e);return{xAlign:e.xAlign||t.xAlign||T1(n,t,e,s),yAlign:s}}function A1(n,t){let{x:e,width:s}=n;return t==="right"?e-=s:t==="center"&&(e-=s/2),e}function E1(n,t,e){let{y:s,height:r}=n;return t==="top"?s+=e:t==="bottom"?s-=r+e:s-=r/2,s}function Wp(n,t,e,s){let{caretSize:r,caretPadding:c,cornerRadius:h}=n,{xAlign:u,yAlign:a}=e,d=r+c,{topLeft:g,topRight:v,bottomLeft:x,bottomRight:w}=Mn(h),P=A1(t,u),C=E1(t,a,d);return a==="center"?u==="left"?P+=d:u==="right"&&(P-=d):u==="left"?P-=Math.max(g,x)+r:u==="right"&&(P+=Math.max(v,w)+r),{x:Ce(P,0,s.width-t.width),y:Ce(C,0,s.height-t.height)}}function il(n,t,e){let s=fe(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-s.right:n.x+s.left}function $p(n){return Vn([],ri(n))}function D1(n,t,e){return Nn(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function Yp(n,t){let e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}var vg={beforeTitle:kn,title(n){if(n.length>0){let t=n[0],e=t.chart.data.labels,s=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return e[t.dataIndex]}return""},afterTitle:kn,beforeBody:kn,beforeLabel:kn,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");let e=n.formattedValue;return Nt(e)||(t+=e),t},labelColor(n){let e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){let e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:kn,afterBody:kn,beforeFooter:kn,footer:kn,afterFooter:kn};function on(n,t,e,s){let r=n[t].call(e,s);return typeof r>"u"?vg[t].call(e,s):r}var br=class extends Me{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let t=this._cachedAnimations;if(t)return t;let e=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&e.options.animation&&s.animations,c=new uo(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(c)),c}getContext(){return this.$context||(this.$context=D1(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){let{callbacks:s}=e,r=on(s,"beforeTitle",this,t),c=on(s,"title",this,t),h=on(s,"afterTitle",this,t),u=[];return u=Vn(u,ri(r)),u=Vn(u,ri(c)),u=Vn(u,ri(h)),u}getBeforeBody(t,e){return $p(on(e.callbacks,"beforeBody",this,t))}getBody(t,e){let{callbacks:s}=e,r=[];return qt(t,c=>{let h={before:[],lines:[],after:[]},u=Yp(s,c);Vn(h.before,ri(on(u,"beforeLabel",this,c))),Vn(h.lines,on(u,"label",this,c)),Vn(h.after,ri(on(u,"afterLabel",this,c))),r.push(h)}),r}getAfterBody(t,e){return $p(on(e.callbacks,"afterBody",this,t))}getFooter(t,e){let{callbacks:s}=e,r=on(s,"beforeFooter",this,t),c=on(s,"footer",this,t),h=on(s,"afterFooter",this,t),u=[];return u=Vn(u,ri(r)),u=Vn(u,ri(c)),u=Vn(u,ri(h)),u}_createItems(t){let e=this._active,s=this.chart.data,r=[],c=[],h=[],u=[],a,d;for(a=0,d=e.length;a<d;++a)u.push(C1(this.chart,e[a]));return t.filter&&(u=u.filter((g,v,x)=>t.filter(g,v,x,s))),t.itemSort&&(u=u.sort((g,v)=>t.itemSort(g,v,s))),qt(u,g=>{let v=Yp(t.callbacks,g);r.push(on(v,"labelColor",this,g)),c.push(on(v,"labelPointStyle",this,g)),h.push(on(v,"labelTextColor",this,g))}),this.labelColors=r,this.labelPointStyles=c,this.labelTextColors=h,this.dataPoints=u,u}update(t,e){let s=this.options.setContext(this.getContext()),r=this._active,c,h=[];if(!r.length)this.opacity!==0&&(c={opacity:0});else{let u=hr[s.position].call(this,r,this._eventPosition);h=this._createItems(s),this.title=this.getTitle(h,s),this.beforeBody=this.getBeforeBody(h,s),this.body=this.getBody(h,s),this.afterBody=this.getAfterBody(h,s),this.footer=this.getFooter(h,s);let a=this._size=Vp(this,s),d=Object.assign({},u,a),g=Hp(this.chart,s,d),v=Wp(s,d,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,c={opacity:1,x:v.x,y:v.y,width:a.width,height:a.height,caretX:u.x,caretY:u.y}}this._tooltipItems=h,this.$context=void 0,c&&this._resolveAnimations().update(this,c),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,s,r){let c=this.getCaretPosition(t,s,r);e.lineTo(c.x1,c.y1),e.lineTo(c.x2,c.y2),e.lineTo(c.x3,c.y3)}getCaretPosition(t,e,s){let{xAlign:r,yAlign:c}=this,{caretSize:h,cornerRadius:u}=s,{topLeft:a,topRight:d,bottomLeft:g,bottomRight:v}=Mn(u),{x,y:w}=t,{width:P,height:C}=e,O,M,A,S,E,I;return c==="center"?(E=w+C/2,r==="left"?(O=x,M=O-h,S=E+h,I=E-h):(O=x+P,M=O+h,S=E-h,I=E+h),A=O):(r==="left"?M=x+Math.max(a,g)+h:r==="right"?M=x+P-Math.max(d,v)-h:M=this.caretX,c==="top"?(S=w,E=S-h,O=M-h,A=M+h):(S=w+C,E=S+h,O=M+h,A=M-h),I=S),{x1:O,x2:M,x3:A,y1:S,y2:E,y3:I}}drawTitle(t,e,s){let r=this.title,c=r.length,h,u,a;if(c){let d=Fi(s.rtl,this.x,this.width);for(t.x=il(this,s.titleAlign,s),e.textAlign=d.textAlign(s.titleAlign),e.textBaseline="middle",h=se(s.titleFont),u=s.titleSpacing,e.fillStyle=s.titleColor,e.font=h.string,a=0;a<c;++a)e.fillText(r[a],d.x(t.x),t.y+h.lineHeight/2),t.y+=h.lineHeight+u,a+1===c&&(t.y+=s.titleMarginBottom-u)}}_drawColorBox(t,e,s,r,c){let h=this.labelColors[s],u=this.labelPointStyles[s],{boxHeight:a,boxWidth:d,boxPadding:g}=c,v=se(c.bodyFont),x=il(this,"left",c),w=r.x(x),P=a<v.lineHeight?(v.lineHeight-a)/2:0,C=e.y+P;if(c.usePointStyle){let O={radius:Math.min(d,a)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},M=r.leftForLtr(w,d)+d/2,A=C+a/2;t.strokeStyle=c.multiKeyBackground,t.fillStyle=c.multiKeyBackground,er(t,O,M,A),t.strokeStyle=h.borderColor,t.fillStyle=h.backgroundColor,er(t,O,M,A)}else{t.lineWidth=At(h.borderWidth)?Math.max(...Object.values(h.borderWidth)):h.borderWidth||1,t.strokeStyle=h.borderColor,t.setLineDash(h.borderDash||[]),t.lineDashOffset=h.borderDashOffset||0;let O=r.leftForLtr(w,d-g),M=r.leftForLtr(r.xPlus(w,1),d-g-2),A=Mn(h.borderRadius);Object.values(A).some(S=>S!==0)?(t.beginPath(),t.fillStyle=c.multiKeyBackground,ii(t,{x:O,y:C,w:d,h:a,radius:A}),t.fill(),t.stroke(),t.fillStyle=h.backgroundColor,t.beginPath(),ii(t,{x:M,y:C+1,w:d-2,h:a-2,radius:A}),t.fill()):(t.fillStyle=c.multiKeyBackground,t.fillRect(O,C,d,a),t.strokeRect(O,C,d,a),t.fillStyle=h.backgroundColor,t.fillRect(M,C+1,d-2,a-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,e,s){let{body:r}=this,{bodySpacing:c,bodyAlign:h,displayColors:u,boxHeight:a,boxWidth:d,boxPadding:g}=s,v=se(s.bodyFont),x=v.lineHeight,w=0,P=Fi(s.rtl,this.x,this.width),C=function($){e.fillText($,P.x(t.x+w),t.y+x/2),t.y+=x+c},O=P.textAlign(h),M,A,S,E,I,N,H;for(e.textAlign=h,e.textBaseline="middle",e.font=v.string,t.x=il(this,O,s),e.fillStyle=s.bodyColor,qt(this.beforeBody,C),w=u&&O!=="right"?h==="center"?d/2+g:d+2+g:0,E=0,N=r.length;E<N;++E){for(M=r[E],A=this.labelTextColors[E],e.fillStyle=A,qt(M.before,C),S=M.lines,u&&S.length&&(this._drawColorBox(e,t,E,P,s),x=Math.max(v.lineHeight,a)),I=0,H=S.length;I<H;++I)C(S[I]),x=v.lineHeight;qt(M.after,C)}w=0,x=v.lineHeight,qt(this.afterBody,C),t.y-=c}drawFooter(t,e,s){let r=this.footer,c=r.length,h,u;if(c){let a=Fi(s.rtl,this.x,this.width);for(t.x=il(this,s.footerAlign,s),t.y+=s.footerMarginTop,e.textAlign=a.textAlign(s.footerAlign),e.textBaseline="middle",h=se(s.footerFont),e.fillStyle=s.footerColor,e.font=h.string,u=0;u<c;++u)e.fillText(r[u],a.x(t.x),t.y+h.lineHeight/2),t.y+=h.lineHeight+s.footerSpacing}}drawBackground(t,e,s,r){let{xAlign:c,yAlign:h}=this,{x:u,y:a}=t,{width:d,height:g}=s,{topLeft:v,topRight:x,bottomLeft:w,bottomRight:P}=Mn(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(u+v,a),h==="top"&&this.drawCaret(t,e,s,r),e.lineTo(u+d-x,a),e.quadraticCurveTo(u+d,a,u+d,a+x),h==="center"&&c==="right"&&this.drawCaret(t,e,s,r),e.lineTo(u+d,a+g-P),e.quadraticCurveTo(u+d,a+g,u+d-P,a+g),h==="bottom"&&this.drawCaret(t,e,s,r),e.lineTo(u+w,a+g),e.quadraticCurveTo(u,a+g,u,a+g-w),h==="center"&&c==="left"&&this.drawCaret(t,e,s,r),e.lineTo(u,a+v),e.quadraticCurveTo(u,a,u+v,a),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){let e=this.chart,s=this.$animations,r=s&&s.x,c=s&&s.y;if(r||c){let h=hr[t.position].call(this,this._active,this._eventPosition);if(!h)return;let u=this._size=Vp(this,t),a=Object.assign({},h,this._size),d=Hp(e,t,a),g=Wp(t,a,d,e);(r._to!==g.x||c._to!==g.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=u.width,this.height=u.height,this.caretX=h.x,this.caretY=h.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(t){let e=this.options.setContext(this.getContext()),s=this.opacity;if(!s)return;this._updateAnimationTarget(e);let r={width:this.width,height:this.height},c={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;let h=fe(e.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&u&&(t.save(),t.globalAlpha=s,this.drawBackground(c,t,r,e),Ka(t,e.textDirection),c.y+=h.top,this.drawTitle(c,t,e),this.drawBody(c,t,e),this.drawFooter(c,t,e),Qa(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){let s=this._active,r=t.map(({datasetIndex:u,index:a})=>{let d=this.chart.getDatasetMeta(u);if(!d)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:d.data[a],index:a}}),c=!Js(s,r),h=this._positionChanged(r,e);(c||h)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,s=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let r=this.options,c=this._active||[],h=this._getActiveElements(t,c,e,s),u=this._positionChanged(h,t),a=e||!Js(h,c)||u;return a&&(this._active=h,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),a}_getActiveElements(t,e,s,r){let c=this.options;if(t.type==="mouseout")return[];if(!r)return e;let h=this.chart.getElementsAtEventForMode(t,c.mode,c,s);return c.reverse&&h.reverse(),h}_positionChanged(t,e){let{caretX:s,caretY:r,options:c}=this,h=hr[c.position].call(this,t,e);return h!==!1&&(s!==h.x||r!==h.y)}};vt(br,"positioners",hr);var S1={id:"tooltip",_element:br,positioners:hr,afterInit(n,t,e){e&&(n.tooltip=new br({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){let t=n.tooltip;if(t&&t._willRender()){let e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){let e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:vg},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},L1=Object.freeze({__proto__:null,Colors:Uw,Decimation:Kw,Filler:g1,Legend:_1,SubTitle:P1,Title:k1,Tooltip:S1}),R1=(n,t,e,s)=>(typeof t=="string"?(e=n.push(t)-1,s.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function I1(n,t,e,s){let r=n.indexOf(t);if(r===-1)return R1(n,t,e,s);let c=n.lastIndexOf(t);return r!==c?e:r}var F1=(n,t)=>n===null?null:Ce(Math.round(n),0,t);function Up(n){let t=this.getLabels();return n>=0&&n<t.length?t[n]:n}var dr=class extends li{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){let e=this._addedLabels;if(e.length){let s=this.getLabels();for(let{index:r,label:c}of e)s[r]===c&&s.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Nt(t))return null;let s=this.getLabels();return e=isFinite(e)&&s[e]===t?e:I1(s,t,Ct(e,t),this._addedLabels),F1(e,s.length-1)}determineDataLimits(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),{min:s,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),e||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){let t=this.min,e=this.max,s=this.options.offset,r=[],c=this.getLabels();c=t===0&&e===c.length-1?c:c.slice(t,e+1),this._valueRange=Math.max(c.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let h=t;h<=e;h++)r.push({value:h});return r}getLabelForValue(t){return Up.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}};vt(dr,"id","category"),vt(dr,"defaults",{ticks:{callback:Up}});function B1(n,t){let e=[],{bounds:r,step:c,min:h,max:u,precision:a,count:d,maxTicks:g,maxDigits:v,includeBounds:x}=n,w=c||1,P=g-1,{min:C,max:O}=t,M=!Nt(h),A=!Nt(u),S=!Nt(d),E=(O-C)/(v+1),I=Ta((O-C)/P/w)*w,N,H,$,G;if(I<1e-14&&!M&&!A)return[{value:C},{value:O}];G=Math.ceil(O/I)-Math.floor(C/I),G>P&&(I=Ta(G*I/P/w)*w),Nt(a)||(N=Math.pow(10,a),I=Math.ceil(I*N)/N),r==="ticks"?(H=Math.floor(C/I)*I,$=Math.ceil(O/I)*I):(H=C,$=O),M&&A&&c&&Nc((u-h)/c,I/1e3)?(G=Math.round(Math.min((u-h)/I,g)),I=(u-h)/G,H=h,$=u):S?(H=M?h:H,$=A?u:$,G=d-1,I=($-H)/G):(G=($-H)/I,ls(G,Math.round(G),I/1e3)?G=Math.round(G):G=Math.ceil(G));let tt=Math.max(Ea(I),Ea(H));N=Math.pow(10,Nt(a)?tt:a),H=Math.round(H*N)/N,$=Math.round($*N)/N;let et=0;for(M&&(x&&H!==h?(e.push({value:h}),H<h&&et++,ls(Math.round((H+et*I)*N)/N,h,qp(h,E,n))&&et++):H<h&&et++);et<G;++et)e.push({value:Math.round((H+et*I)*N)/N});return A&&x&&$!==u?e.length&&ls(e[e.length-1].value,u,qp(u,E,n))?e[e.length-1].value=u:e.push({value:u}):(!A||$===u)&&e.push({value:$}),e}function qp(n,t,{horizontal:e,minRotation:s}){let r=ue(s),c=(e?Math.sin(r):Math.cos(r))||.001,h=.75*t*(""+n).length;return Math.min(t/c,h)}var fo=class extends li{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Nt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let{beginAtZero:t}=this.options,{minDefined:e,maxDefined:s}=this.getUserBounds(),{min:r,max:c}=this,h=a=>r=e?r:a,u=a=>c=s?c:a;if(t){let a=pn(r),d=pn(c);a<0&&d<0?u(0):a>0&&d>0&&h(0)}if(r===c){let a=c===0?1:Math.abs(c*.05);u(c+a),t||h(r-a)}this.min=r,this.max=c}getTickLimit(){let t=this.options.ticks,{maxTicksLimit:e,stepSize:s}=t,r;return s?(r=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let t=this.options,e=t.ticks,s=this.getTickLimit();s=Math.max(2,s);let r={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},c=this._range||this,h=B1(r,c);return t.bounds==="ticks"&&Aa(h,this,"value"),t.reverse?(h.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),h}configure(){let t=this.ticks,e=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){let r=(s-e)/Math.max(t.length-1,1)/2;e-=r,s+=r}this._startValue=e,this._endValue=s,this._valueRange=s-e}getLabelForValue(t){return fs(t,this.chart.options.locale,this.options.ticks.format)}},pr=class extends fo{determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=ne(t)?t:0,this.max=ne(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let t=this.isHorizontal(),e=t?this.width:this.height,s=ue(this.options.ticks.minRotation),r=(t?Math.sin(s):Math.cos(s))||.001,c=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,c.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}};vt(pr,"id","linear"),vt(pr,"defaults",{ticks:{callback:js.formatters.numeric}});var _r=n=>Math.floor(Bn(n)),ps=(n,t)=>Math.pow(10,_r(n)+t);function Xp(n){return n/Math.pow(10,_r(n))===1}function Gp(n,t,e){let s=Math.pow(10,e),r=Math.floor(n/s);return Math.ceil(t/s)-r}function z1(n,t){let e=t-n,s=_r(e);for(;Gp(n,t,s)>10;)s++;for(;Gp(n,t,s)<10;)s--;return Math.min(s,_r(n))}function N1(n,{min:t,max:e}){t=je(n.min,t);let s=[],r=_r(t),c=z1(t,e),h=c<0?Math.pow(10,Math.abs(c)):1,u=Math.pow(10,c),a=r>c?Math.pow(10,r):0,d=Math.round((t-a)*h)/h,g=Math.floor((t-a)/u/10)*u*10,v=Math.floor((d-g)/Math.pow(10,c)),x=je(n.min,Math.round((a+g+v*Math.pow(10,c))*h)/h);for(;x<e;)s.push({value:x,major:Xp(x),significand:v}),v>=10?v=v<15?15:20:v++,v>=20&&(c++,v=2,h=c>=0?1:h),x=Math.round((a+g+v*Math.pow(10,c))*h)/h;let w=je(n.max,x);return s.push({value:w,major:Xp(w),significand:v}),s}var gr=class extends li{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){let s=fo.prototype.parse.apply(this,[t,e]);if(s===0){this._zero=!0;return}return ne(s)&&s>0?s:null}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=ne(t)?Math.max(0,t):null,this.max=ne(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ne(this._userMin)&&(this.min=t===ps(this.min,0)?ps(this.min,-1):ps(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),s=this.min,r=this.max,c=u=>s=t?s:u,h=u=>r=e?r:u;s===r&&(s<=0?(c(1),h(10)):(c(ps(s,-1)),h(ps(r,1)))),s<=0&&c(ps(r,-1)),r<=0&&h(ps(s,1)),this.min=s,this.max=r}buildTicks(){let t=this.options,e={min:this._userMin,max:this._userMax},s=N1(e,this);return t.bounds==="ticks"&&Aa(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(t){return t===void 0?"0":fs(t,this.chart.options.locale,this.options.ticks.format)}configure(){let t=this.min;super.configure(),this._startValue=Bn(t),this._valueRange=Bn(this.max)-Bn(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Bn(t)-this._startValue)/this._valueRange)}getValueForPixel(t){let e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}};vt(gr,"id","logarithmic"),vt(gr,"defaults",{ticks:{callback:js.formatters.logarithmic,major:{enabled:!0}}});function Cu(n){let t=n.ticks;if(t.display&&n.display){let e=fe(t.backdropPadding);return Ct(t.font&&t.font.size,re.font.size)+e.height}return 0}function V1(n,t,e){return e=zt(e)?e:[e],{w:Xc(n,t.string,e),h:e.length*t.lineHeight}}function Kp(n,t,e,s,r){return n===s||n===r?{start:t-e/2,end:t+e/2}:n<s||n>r?{start:t-e,end:t}:{start:t,end:t+e}}function H1(n){let t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),s=[],r=[],c=n._pointLabels.length,h=n.options.pointLabels,u=h.centerPointLabels?It/c:0;for(let a=0;a<c;a++){let d=h.setContext(n.getPointLabelContext(a));r[a]=d.padding;let g=n.getPointPosition(a,n.drawingArea+r[a],u),v=se(d.font),x=V1(n.ctx,v,n._pointLabels[a]);s[a]=x;let w=Je(n.getIndexAngle(a)+u),P=Math.round(cs(w)),C=Kp(P,g.x,x.w,0,180),O=Kp(P,g.y,x.h,90,270);W1(e,t,w,C,O)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=$1(n,s,r)}function W1(n,t,e,s,r){let c=Math.abs(Math.sin(e)),h=Math.abs(Math.cos(e)),u=0,a=0;s.start<t.l?(u=(t.l-s.start)/c,n.l=Math.min(n.l,t.l-u)):s.end>t.r&&(u=(s.end-t.r)/c,n.r=Math.max(n.r,t.r+u)),r.start<t.t?(a=(t.t-r.start)/h,n.t=Math.min(n.t,t.t-a)):r.end>t.b&&(a=(r.end-t.b)/h,n.b=Math.max(n.b,t.b+a))}function $1(n,t,e){let s=[],r=n._pointLabels.length,c=n.options,h=Cu(c)/2,u=n.drawingArea,a=c.pointLabels.centerPointLabels?It/r:0;for(let d=0;d<r;d++){let g=n.getPointPosition(d,u+h+e[d],a),v=Math.round(cs(Je(g.angle+Kt))),x=t[d],w=q1(g.y,x.h,v),P=Y1(v),C=U1(g.x,x.w,P);s.push({x:g.x,y:w,textAlign:P,left:C,top:w,right:C+x.w,bottom:w+x.h})}return s}function Y1(n){return n===0||n===180?"center":n<180?"left":"right"}function U1(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function q1(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function X1(n,t){let{ctx:e,options:{pointLabels:s}}=n;for(let r=t-1;r>=0;r--){let c=s.setContext(n.getPointLabelContext(r)),h=se(c.font),{x:u,y:a,textAlign:d,left:g,top:v,right:x,bottom:w}=n._pointLabelItems[r],{backdropColor:P}=c;if(!Nt(P)){let C=Mn(c.borderRadius),O=fe(c.backdropPadding);e.fillStyle=P;let M=g-O.left,A=v-O.top,S=x-g+O.width,E=w-v+O.height;Object.values(C).some(I=>I!==0)?(e.beginPath(),ii(e,{x:M,y:A,w:S,h:E,radius:C}),e.fill()):e.fillRect(M,A,S,E)}ni(e,n._pointLabels[r],u,a+h.lineHeight/2,h,{color:c.color,textAlign:d,textBaseline:"middle"})}}function yg(n,t,e,s){let{ctx:r}=n;if(e)r.arc(n.xCenter,n.yCenter,t,0,Qt);else{let c=n.getPointPosition(0,t);r.moveTo(c.x,c.y);for(let h=1;h<s;h++)c=n.getPointPosition(h,t),r.lineTo(c.x,c.y)}}function G1(n,t,e,s,r){let c=n.ctx,h=t.circular,{color:u,lineWidth:a}=t;!h&&!s||!u||!a||e<0||(c.save(),c.strokeStyle=u,c.lineWidth=a,c.setLineDash(r.dash),c.lineDashOffset=r.dashOffset,c.beginPath(),yg(n,e,h,s),c.closePath(),c.stroke(),c.restore())}function K1(n,t,e){return Nn(n,{label:e,index:t,type:"pointLabel"})}var gs=class extends fo{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let t=this._padding=fe(Cu(this.options)/2),e=this.width=this.maxWidth-t.width,s=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+s/2+t.top),this.drawingArea=Math.floor(Math.min(e,s)/2)}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!1);this.min=ne(t)&&!isNaN(t)?t:0,this.max=ne(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Cu(this.options))}generateTickLabels(t){fo.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,s)=>{let r=Yt(this.options.pointLabels.callback,[e,s],this);return r||r===0?r:""}).filter((e,s)=>this.chart.getDataVisibility(s))}fit(){let t=this.options;t.display&&t.pointLabels.display?H1(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,s,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((s-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,s,r))}getIndexAngle(t){let e=Qt/(this._pointLabels.length||1),s=this.options.startAngle||0;return Je(t*e+ue(s))}getDistanceFromCenterForValue(t){if(Nt(t))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Nt(t))return NaN;let e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){let e=this._pointLabels||[];if(t>=0&&t<e.length){let s=e[t];return K1(this.getContext(),t,s)}}getPointPosition(t,e,s=0){let r=this.getIndexAngle(t)-Kt+s;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){let{left:e,top:s,right:r,bottom:c}=this._pointLabelItems[t];return{left:e,top:s,right:r,bottom:c}}drawBackground(){let{backgroundColor:t,grid:{circular:e}}=this.options;if(t){let s=this.ctx;s.save(),s.beginPath(),yg(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),s.closePath(),s.fillStyle=t,s.fill(),s.restore()}}drawGrid(){let t=this.ctx,e=this.options,{angleLines:s,grid:r,border:c}=e,h=this._pointLabels.length,u,a,d;if(e.pointLabels.display&&X1(this,h),r.display&&this.ticks.forEach((g,v)=>{if(v!==0){a=this.getDistanceFromCenterForValue(g.value);let x=this.getContext(v),w=r.setContext(x),P=c.setContext(x);G1(this,w,a,h,P)}}),s.display){for(t.save(),u=h-1;u>=0;u--){let g=s.setContext(this.getPointLabelContext(u)),{color:v,lineWidth:x}=g;!x||!v||(t.lineWidth=x,t.strokeStyle=v,t.setLineDash(g.borderDash),t.lineDashOffset=g.borderDashOffset,a=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),d=this.getPointPosition(u,a),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){let t=this.ctx,e=this.options,s=e.ticks;if(!s.display)return;let r=this.getIndexAngle(0),c,h;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((u,a)=>{if(a===0&&!e.reverse)return;let d=s.setContext(this.getContext(a)),g=se(d.font);if(c=this.getDistanceFromCenterForValue(this.ticks[a].value),d.showLabelBackdrop){t.font=g.string,h=t.measureText(u.label).width,t.fillStyle=d.backdropColor;let v=fe(d.backdropPadding);t.fillRect(-h/2-v.left,-c-g.size/2-v.top,h+v.width,g.size+v.height)}ni(t,u.label,0,-c,g,{color:d.color})}),t.restore()}drawTitle(){}};vt(gs,"id","radialLinear"),vt(gs,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:js.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),vt(gs,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),vt(gs,"descriptors",{angleLines:{_fallback:"grid"}});var dl={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},rn=Object.keys(dl);function Q1(n,t){return n-t}function Qp(n,t){if(Nt(t))return null;let e=n._adapter,{parser:s,round:r,isoWeekday:c}=n._parseOpts,h=t;return typeof s=="function"&&(h=s(h)),ne(h)||(h=typeof s=="string"?e.parse(h,s):e.parse(h)),h===null?null:(r&&(h=r==="week"&&(Pn(c)||c===!0)?e.startOf(h,"isoWeek",c):e.startOf(h,r)),+h)}function Zp(n,t,e,s){let r=rn.length;for(let c=rn.indexOf(n);c<r-1;++c){let h=dl[rn[c]],u=h.steps?h.steps:Number.MAX_SAFE_INTEGER;if(h.common&&Math.ceil((e-t)/(u*h.size))<=s)return rn[c]}return rn[r-1]}function Z1(n,t,e,s,r){for(let c=rn.length-1;c>=rn.indexOf(e);c--){let h=rn[c];if(dl[h].common&&n._adapter.diff(r,s,h)>=t-1)return h}return rn[e?rn.indexOf(e):0]}function J1(n){for(let t=rn.indexOf(n)+1,e=rn.length;t<e;++t)if(dl[rn[t]].common)return rn[t]}function Jp(n,t,e){if(!e)n[t]=!0;else if(e.length){let{lo:s,hi:r}=jo(e,t),c=e[s]>=t?e[s]:e[r];n[c]=!0}}function j1(n,t,e,s){let r=n._adapter,c=+r.startOf(t[0].value,s),h=t[t.length-1].value,u,a;for(u=c;u<=h;u=+r.add(u,1,s))a=e[u],a>=0&&(t[a].major=!0);return t}function jp(n,t,e){let s=[],r={},c=t.length,h,u;for(h=0;h<c;++h)u=t[h],r[u]=h,s.push({value:u,major:!1});return c===0||!e?s:j1(n,s,r,e)}var bs=class extends li{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){let s=t.time||(t.time={}),r=this._adapter=new m_._date(t.adapters.date);r.init(e),as(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:Qp(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let t=this.options,e=this._adapter,s=t.time.unit||"day",{min:r,max:c,minDefined:h,maxDefined:u}=this.getUserBounds();function a(d){!h&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!u&&!isNaN(d.max)&&(c=Math.max(c,d.max))}(!h||!u)&&(a(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&a(this.getMinMax(!1))),r=ne(r)&&!isNaN(r)?r:+e.startOf(Date.now(),s),c=ne(c)&&!isNaN(c)?c:+e.endOf(Date.now(),s)+1,this.min=Math.min(r,c-1),this.max=Math.max(r+1,c)}_getLabelBounds(){let t=this.getLabelTimestamps(),e=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],s=t[t.length-1]),{min:e,max:s}}buildTicks(){let t=this.options,e=t.time,s=t.ticks,r=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);let c=this.min,h=this.max,u=Wc(r,c,h);return this._unit=e.unit||(s.autoSkip?Zp(e.minUnit,this.min,this.max,this._getLabelCapacity(c)):Z1(this,u.length,e.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:J1(this._unit),this.initOffsets(r),t.reverse&&u.reverse(),jp(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,s=0,r,c;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,c=this.getDecimalForValue(t[t.length-1]),t.length===1?s=c:s=(c-this.getDecimalForValue(t[t.length-2]))/2);let h=t.length<3?.5:.25;e=Ce(e,0,h),s=Ce(s,0,h),this._offsets={start:e,end:s,factor:1/(e+1+s)}}_generate(){let t=this._adapter,e=this.min,s=this.max,r=this.options,c=r.time,h=c.unit||Zp(c.minUnit,e,s,this._getLabelCapacity(e)),u=Ct(r.ticks.stepSize,1),a=h==="week"?c.isoWeekday:!1,d=Pn(a)||a===!0,g={},v=e,x,w;if(d&&(v=+t.startOf(v,"isoWeek",a)),v=+t.startOf(v,d?"day":h),t.diff(s,e,h)>1e5*u)throw new Error(e+" and "+s+" are too far apart with stepSize of "+u+" "+h);let P=r.ticks.source==="data"&&this.getDataTimestamps();for(x=v,w=0;x<s;x=+t.add(x,u,h),w++)Jp(g,x,P);return(x===s||r.bounds==="ticks"||w===1)&&Jp(g,x,P),Object.keys(g).sort((C,O)=>C-O).map(C=>+C)}getLabelForValue(t){let e=this._adapter,s=this.options.time;return s.tooltipFormat?e.format(t,s.tooltipFormat):e.format(t,s.displayFormats.datetime)}format(t,e){let r=this.options.time.displayFormats,c=this._unit,h=e||r[c];return this._adapter.format(t,h)}_tickFormatFunction(t,e,s,r){let c=this.options,h=c.ticks.callback;if(h)return Yt(h,[t,e,s],this);let u=c.time.displayFormats,a=this._unit,d=this._majorUnit,g=a&&u[a],v=d&&u[d],x=s[e],w=d&&v&&x&&x.major;return this._adapter.format(t,r||(w?v:g))}generateTickLabels(t){let e,s,r;for(e=0,s=t.length;e<s;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){let e=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+s)*e.factor)}getValueForPixel(t){let e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){let e=this.options.ticks,s=this.ctx.measureText(t).width,r=ue(this.isHorizontal()?e.maxRotation:e.minRotation),c=Math.cos(r),h=Math.sin(r),u=this._resolveTickFontOptions(0).size;return{w:s*c+u*h,h:s*h+u*c}}_getLabelCapacity(t){let e=this.options.time,s=e.displayFormats,r=s[e.unit]||s.millisecond,c=this._tickFormatFunction(t,0,jp(this,[t],this._majorUnit),r),h=this._getLabelSize(c),u=Math.floor(this.isHorizontal()?this.width/h.w:this.height/h.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],e,s;if(t.length)return t;let r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,s=r.length;e<s;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){let t=this._cache.labels||[],e,s;if(t.length)return t;let r=this.getLabels();for(e=0,s=r.length;e<s;++e)t.push(Qp(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return La(t.sort(Q1))}};vt(bs,"id","time"),vt(bs,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function sl(n,t,e){let s=0,r=n.length-1,c,h,u,a;e?(t>=n[s].pos&&t<=n[r].pos&&({lo:s,hi:r}=wn(n,"pos",t)),{pos:c,time:u}=n[s],{pos:h,time:a}=n[r]):(t>=n[s].time&&t<=n[r].time&&({lo:s,hi:r}=wn(n,"time",t)),{time:c,pos:u}=n[s],{time:h,pos:a}=n[r]);let d=h-c;return d?u+(a-u)*(t-c)/d:u}var mr=class extends bs{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=sl(e,this.min),this._tableRange=sl(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){let{min:e,max:s}=this,r=[],c=[],h,u,a,d,g;for(h=0,u=t.length;h<u;++h)d=t[h],d>=e&&d<=s&&r.push(d);if(r.length<2)return[{time:e,pos:0},{time:s,pos:1}];for(h=0,u=r.length;h<u;++h)g=r[h+1],a=r[h-1],d=r[h],Math.round((g+a)/2)!==d&&c.push({time:d,pos:h/(u-1)});return c}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;let e=this.getDataTimestamps(),s=this.getLabelTimestamps();return e.length&&s.length?t=this.normalize(e.concat(s)):t=e.length?e:s,t=this._cache.all=t,t}getDecimalForValue(t){return(sl(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){let e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return sl(this._table,s*this._tableRange+this._minPos,!0)}};vt(mr,"id","timeseries"),vt(mr,"defaults",bs.defaults);var tk=Object.freeze({__proto__:null,CategoryScale:dr,LinearScale:pr,LogarithmicScale:gr,RadialLinearScale:gs,TimeScale:bs,TimeSeriesScale:mr}),pl=[g_,Nw,L1,tk];qe.register(...pl);var vs=qe;var Gm=wc(_g(),1);var wg={modes:{point(n,t){return ml(n,t,{intersect:!0})},nearest(n,t,e){return ik(n,t,e)},x(n,t,e){return ml(n,t,{intersect:e.intersect,axis:"x"})},y(n,t,e){return ml(n,t,{intersect:e.intersect,axis:"y"})}}};function Nu(n,t,e){return(wg.modes[e.mode]||wg.modes.nearest)(n,t,e)}function ek(n,t,e){return e!=="x"&&e!=="y"?n.inRange(t.x,t.y,"x",!0)||n.inRange(t.x,t.y,"y",!0):n.inRange(t.x,t.y,e,!0)}function nk(n,t,e){return e==="x"?{x:n.x,y:t.y}:e==="y"?{x:t.x,y:n.y}:t}function ml(n,t,e){return n.visibleElements.filter(s=>e.intersect?s.inRange(t.x,t.y):ek(s,t,e.axis))}function ik(n,t,e){let s=Number.POSITIVE_INFINITY;return ml(n,t,e).reduce((r,c)=>{let h=c.getCenterPoint(),u=nk(t,h,e.axis),a=ti(t,u);return a<s?(r=[c],s=a):a===s&&r.push(c),r},[]).sort((r,c)=>r._index-c._index).slice(0,1)}var sk=(n,t)=>t>n||n.length>t.length&&n.slice(0,t.length)===t,ys=.001,vl=(n,t,e)=>Math.min(e,Math.max(t,n));function ok(n,t,e){for(let s of Object.keys(n))n[s]=vl(n[s],t,e);return n}function rk(n,t,e,s){if(!n||!t||e<=0)return!1;let r=s/2;return Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2)<=Math.pow(e+r,2)}function Hg(n,{x:t,y:e,x2:s,y2:r},c,h){let u=h/2,a=n.x>=t-u-ys&&n.x<=s+u+ys,d=n.y>=e-u-ys&&n.y<=r+u+ys;return c==="x"?a:(c==="y"||a)&&d}function mo(n,t){let{centerX:e,centerY:s}=n.getProps(["centerX","centerY"],t);return{x:e,y:s}}function ak(n,t,e,s=!0){let r=e.split("."),c=0;for(let h of t.split(".")){let u=r[c++];if(parseInt(h,10)<parseInt(u,10))break;if(sk(u,h)){if(s)throw new Error(`${n} v${e} is not supported. v${t} or newer is required.`);return!1}}return!0}var Wg=n=>typeof n=="string"&&n.endsWith("%"),$g=n=>parseFloat(n)/100,Yg=n=>vl($g(n),0,1);function Vu(n,t){return t==="start"?0:t==="end"?n:Wg(t)?Yg(t)*n:n/2}function Vi(n,t,e=!0){return typeof t=="number"?t:Wg(t)?(e?Yg(t):$g(t))*n:n}function lk(n,t){let{x:e,width:s}=n,r=t.textAlign;return r==="center"?e+s/2:r==="end"||r==="right"?e+s:e}function Hu(n,t="center"){return At(n)?{x:Ct(n.x,t),y:Ct(n.y,t)}:(n=Ct(n,t),{x:n,y:n})}function Ug(n){return n&&(le(n.xValue)||le(n.yValue))}function Pr(n,t,e,s=!1){let r=e.init;if(r){if(r===!0)return Xg(t,s)}else return;return ck(t,s,Yt(r,[{chart:n,properties:t,options:e}]))}function qg(n,t,e){let s=!1;return t.forEach(r=>{Ve(n[r])?(s=!0,e[r]=n[r]):le(e[r])&&delete e[r]}),s}function Xg({centerX:n,centerY:t},e){return e?{centerX:n,centerY:t,radius:0,width:0,height:0}:{x:n,y:t,x2:n,y2:t,width:0,height:0}}function ck(n,t,e){if(e===!0)return Xg(n,t);if(At(e))return e}var Du=new Map,uk=n=>isNaN(n)||n<=0,fk=n=>n.reduce(function(t,e){return t+=e.string,t},"");function yl(n){if(n&&typeof n=="object"){let t=n.toString();return t==="[object HTMLImageElement]"||t==="[object HTMLCanvasElement]"}}function Wu(n,{x:t,y:e},s){s&&(n.translate(t,e),n.rotate(ue(s)),n.translate(-t,-e))}function Hi(n,t){if(t&&t.borderWidth)return n.lineCap=t.borderCapStyle,n.setLineDash(t.borderDash),n.lineDashOffset=t.borderDashOffset,n.lineJoin=t.borderJoinStyle,n.lineWidth=t.borderWidth,n.strokeStyle=t.borderColor,!0}function bo(n,t){n.shadowColor=t.backgroundShadowColor,n.shadowBlur=t.shadowBlur,n.shadowOffsetX=t.shadowOffsetX,n.shadowOffsetY=t.shadowOffsetY}function $u(n,t){let e=t.content;if(yl(e))return{width:Vi(e.width,t.width),height:Vi(e.height,t.height)};let s=t.font,r=zt(s)?s.map(a=>se(a)):[se(s)],c=t.textStrokeWidth,h=zt(e)?e:[e],u=h.join()+fk(r)+c+(n._measureText?"-spriting":"");return Du.has(u)||Du.set(u,mk(n,h,r,c)),Du.get(u)}function Gg(n,t,e){let{x:s,y:r,width:c,height:h}=t;n.save(),bo(n,e);let u=Hi(n,e);n.fillStyle=e.backgroundColor,n.beginPath(),ii(n,{x:s,y:r,w:c,h,radius:ok(Mn(e.borderRadius),0,Math.min(c,h)/2)}),n.closePath(),n.fill(),u&&(n.shadowColor=e.borderShadowColor,n.stroke()),n.restore()}function hk(n,t,e){let s=e.content;if(yl(s)){n.save(),n.globalAlpha=yk(e.opacity,s.style.opacity),n.drawImage(s,t.x,t.y,t.width,t.height),n.restore();return}let r=zt(s)?s:[s],c=e.font,h=zt(c)?c.map(v=>se(v)):[se(c)],u=e.color,a=zt(u)?u:[u],d=lk(t,e),g=t.y+e.textStrokeWidth/2;n.save(),n.textBaseline="middle",n.textAlign=e.textAlign,dk(n,e)&&bk(n,{x:d,y:g},r,h),vk(n,{x:d,y:g},r,{fonts:h,colors:a}),n.restore()}function dk(n,t){if(t.textStrokeWidth>0)return n.lineJoin="round",n.miterLimit=2,n.lineWidth=t.textStrokeWidth,n.strokeStyle=t.textStrokeColor,!0}function pk(n,t,e,s){let{radius:r,options:c}=t,h=c.pointStyle,u=c.rotation,a=(u||0)*Jo;if(yl(h)){n.save(),n.translate(e,s),n.rotate(a),n.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),n.restore();return}uk(r)||gk(n,{x:e,y:s,radius:r,rotation:u,style:h,rad:a})}function gk(n,{x:t,y:e,radius:s,rotation:r,style:c,rad:h}){let u,a,d,g;switch(n.beginPath(),c){default:n.arc(t,e,s,0,Qt),n.closePath();break;case"triangle":n.moveTo(t+Math.sin(h)*s,e-Math.cos(h)*s),h+=Ks,n.lineTo(t+Math.sin(h)*s,e-Math.cos(h)*s),h+=Ks,n.lineTo(t+Math.sin(h)*s,e-Math.cos(h)*s),n.closePath();break;case"rectRounded":g=s*.516,d=s-g,u=Math.cos(h+sn)*d,a=Math.sin(h+sn)*d,n.arc(t-u,e-a,g,h-It,h-Kt),n.arc(t+a,e-u,g,h-Kt,h),n.arc(t+u,e+a,g,h,h+Kt),n.arc(t-a,e+u,g,h+Kt,h+It),n.closePath();break;case"rect":if(!r){d=Math.SQRT1_2*s,n.rect(t-d,e-d,2*d,2*d);break}h+=sn;case"rectRot":u=Math.cos(h)*s,a=Math.sin(h)*s,n.moveTo(t-u,e-a),n.lineTo(t+a,e-u),n.lineTo(t+u,e+a),n.lineTo(t-a,e+u),n.closePath();break;case"crossRot":h+=sn;case"cross":u=Math.cos(h)*s,a=Math.sin(h)*s,n.moveTo(t-u,e-a),n.lineTo(t+u,e+a),n.moveTo(t+a,e-u),n.lineTo(t-a,e+u);break;case"star":u=Math.cos(h)*s,a=Math.sin(h)*s,n.moveTo(t-u,e-a),n.lineTo(t+u,e+a),n.moveTo(t+a,e-u),n.lineTo(t-a,e+u),h+=sn,u=Math.cos(h)*s,a=Math.sin(h)*s,n.moveTo(t-u,e-a),n.lineTo(t+u,e+a),n.moveTo(t+a,e-u),n.lineTo(t-a,e+u);break;case"line":u=Math.cos(h)*s,a=Math.sin(h)*s,n.moveTo(t-u,e-a),n.lineTo(t+u,e+a);break;case"dash":n.moveTo(t,e),n.lineTo(t+Math.cos(h)*s,e+Math.sin(h)*s);break}n.fill()}function mk(n,t,e,s){n.save();let r=t.length,c=0,h=s;for(let u=0;u<r;u++){let a=e[Math.min(u,e.length-1)];n.font=a.string;let d=t[u];c=Math.max(c,n.measureText(d).width+s),h+=a.lineHeight}return n.restore(),{width:c,height:h}}function bk(n,{x:t,y:e},s,r){n.beginPath();let c=0;s.forEach(function(h,u){let a=r[Math.min(u,r.length-1)],d=a.lineHeight;n.font=a.string,n.strokeText(h,t,e+d/2+c),c+=d}),n.stroke()}function vk(n,{x:t,y:e},s,{fonts:r,colors:c}){let h=0;s.forEach(function(u,a){let d=c[Math.min(a,c.length-1)],g=r[Math.min(a,r.length-1)],v=g.lineHeight;n.beginPath(),n.font=g.string,n.fillStyle=d,n.fillText(u,t,e+v/2+h),h+=v,n.fill()})}function yk(n,t){let e=Pn(n)?n:t;return Pn(e)?vl(e,0,1):1}var kg={xScaleID:{min:"xMin",max:"xMax",start:"left",end:"right",startProp:"x",endProp:"x2"},yScaleID:{min:"yMin",max:"yMax",start:"bottom",end:"top",startProp:"y",endProp:"y2"}};function ho(n,t,e){return t=typeof t=="number"?t:n.parse(t),ne(t)?n.getPixelForValue(t):e}function xs(n,t,e){let s=t[e];if(s||e==="scaleID")return s;let r=e.charAt(0),c=Object.values(n).filter(h=>h.axis&&h.axis===r);return c.length?c[0].id:r}function Kg(n,t){if(n){let e=n.options.reverse,s=ho(n,t.min,e?t.end:t.start),r=ho(n,t.max,e?t.start:t.end);return{start:s,end:r}}}function Qg(n,t){let{chartArea:e,scales:s}=n,r=s[xs(s,t,"xScaleID")],c=s[xs(s,t,"yScaleID")],h=e.width/2,u=e.height/2;return r&&(h=ho(r,t.xValue,r.left+r.width/2)),c&&(u=ho(c,t.yValue,c.top+c.height/2)),{x:h,y:u}}function Yu(n,t){let e=n.scales,s=e[xs(e,t,"xScaleID")],r=e[xs(e,t,"yScaleID")];if(!s&&!r)return{};let{left:c,right:h}=s||n.chartArea,{top:u,bottom:a}=r||n.chartArea,d=Pg(s,{min:t.xMin,max:t.xMax,start:c,end:h});c=d.start,h=d.end;let g=Pg(r,{min:t.yMin,max:t.yMax,start:a,end:u});return u=g.start,a=g.end,{x:c,y:u,x2:h,y2:a,width:h-c,height:a-u,centerX:c+(h-c)/2,centerY:u+(a-u)/2}}function Zg(n,t){if(!Ug(t)){let e=Yu(n,t),s=t.radius;(!s||isNaN(s))&&(s=Math.min(e.width,e.height)/2,t.radius=s);let r=s*2,c=e.centerX+t.xAdjust,h=e.centerY+t.yAdjust;return{x:c-s,y:h-s,x2:c+s,y2:h+s,centerX:c,centerY:h,width:r,height:r,radius:s}}return _k(n,t)}function xk(n,t){let{scales:e,chartArea:s}=n,r=e[t.scaleID],c={x:s.left,y:s.top,x2:s.right,y2:s.bottom};return r?wk(r,c,t):kk(e,c,t),c}function Jg(n,t,e){let s=Yu(n,t);return s.initProperties=Pr(n,s,t,e),s.elements=[{type:"label",optionScope:"label",properties:Mk(n,s,t),initProperties:s.initProperties}],s}function _k(n,t){let e=Qg(n,t),s=t.radius*2;return{x:e.x-t.radius+t.xAdjust,y:e.y-t.radius+t.yAdjust,x2:e.x+t.radius+t.xAdjust,y2:e.y+t.radius+t.yAdjust,centerX:e.x+t.xAdjust,centerY:e.y+t.yAdjust,radius:t.radius,width:s,height:s}}function Pg(n,t){let e=Kg(n,t)||t;return{start:Math.min(e.start,e.end),end:Math.max(e.start,e.end)}}function wk(n,t,e){let s=ho(n,e.value,NaN),r=ho(n,e.endValue,s);n.isHorizontal()?(t.x=s,t.x2=r):(t.y=s,t.y2=r)}function kk(n,t,e){for(let s of Object.keys(kg)){let r=n[xs(n,e,s)];if(r){let{min:c,max:h,start:u,end:a,startProp:d,endProp:g}=kg[s],v=Kg(r,{min:e[c],max:e[h],start:r[u],end:r[a]});t[d]=v.start,t[g]=v.end}}}function Pk({properties:n,options:t},e,s,r){let{x:c,x2:h,width:u}=n;return jg({start:c,end:h,size:u,borderWidth:t.borderWidth},{position:s.x,padding:{start:r.left,end:r.right},adjust:t.label.xAdjust,size:e.width})}function Ck({properties:n,options:t},e,s,r){let{y:c,y2:h,height:u}=n;return jg({start:c,end:h,size:u,borderWidth:t.borderWidth},{position:s.y,padding:{start:r.top,end:r.bottom},adjust:t.label.yAdjust,size:e.height})}function jg(n,t){let{start:e,end:s,borderWidth:r}=n,{position:c,padding:{start:h,end:u},adjust:a}=t,d=s-r-e-h-u-t.size;return e+r/2+a+Vu(d,c)}function Mk(n,t,e){let s=e.label;s.backgroundColor="transparent",s.callout.display=!1;let r=Hu(s.position),c=fe(s.padding),h=$u(n.ctx,s),u=Pk({properties:t,options:e},h,r,c),a=Ck({properties:t,options:e},h,r,c),d=h.width+c.width,g=h.height+c.height;return{x:u,y:a,x2:u+d,y2:a+g,width:d,height:g,centerX:u+d/2,centerY:a+g/2,rotation:s.rotation}}function Ps(n,t,e){let s=Math.cos(e),r=Math.sin(e),c=t.x,h=t.y;return{x:c+s*(n.x-c)-r*(n.y-h),y:h+r*(n.x-c)+s*(n.y-h)}}var Su=["enter","leave"],Uu=Su.concat("click");function Ok(n,t,e){t.listened=qg(e,Uu,t.listeners),t.moveListened=!1,t._getElements=Nu,Su.forEach(s=>{Ve(e[s])&&(t.moveListened=!0)}),(!t.listened||!t.moveListened)&&t.annotations.forEach(s=>{!t.listened&&Ve(s.click)&&(t.listened=!0),t.moveListened||Su.forEach(r=>{Ve(s[r])&&(t.listened=!0,t.moveListened=!0)})})}function Tk(n,t,e){if(n.listened)switch(t.type){case"mousemove":case"mouseout":return Ak(n,t,e);case"click":return Ek(n,t,e)}}function Ak(n,t,e){if(!n.moveListened)return;let s;t.type==="mousemove"?s=Nu(n,t,e.interaction):s=[];let r=n.hovered;n.hovered=s;let c={state:n,event:t},h=Cg(c,"leave",r,s);return Cg(c,"enter",s,r)||h}function Cg({state:n,event:t},e,s,r){let c;for(let h of s)r.indexOf(h)<0&&(c=tm(h.options[e]||n.listeners[e],h,t)||c);return c}function Ek(n,t,e){let s=n.listeners,r=Nu(n,t,e.interaction),c;for(let h of r)c=tm(h.options.click||s.click,h,t)||c;return c}function tm(n,t,e){return Yt(n,[t.$context,e])===!0}var bl=["afterDraw","beforeDraw"];function Dk(n,t,e){let s=t.visibleElements;t.hooked=qg(e,bl,t.hooks),t.hooked||s.forEach(r=>{t.hooked||bl.forEach(c=>{Ve(r.options[c])&&(t.hooked=!0)})})}function Mg(n,t,e){if(n.hooked){let s=t.options[e]||n.hooks[e];return Yt(s,[t.$context])}}function Sk(n,t,e){let s=Bk(n.scales,t,e),r=Og(t,s,"min","suggestedMin");r=Og(t,s,"max","suggestedMax")||r,r&&Ve(t.handleTickRangeOptions)&&t.handleTickRangeOptions()}function Lk(n,t){for(let e of n)Ik(e,t)}function Og(n,t,e,s){if(ne(t[e])&&!Rk(n.options,e,s)){let r=n[e]!==t[e];return n[e]=t[e],r}}function Rk(n,t,e){return le(n[t])||le(n[e])}function Ik(n,t){for(let e of["scaleID","xScaleID","yScaleID"]){let s=xs(t,n,e);s&&!t[s]&&Fk(n,e)&&console.warn(`No scale found with id '${s}' for annotation '${n.id}'`)}}function Fk(n,t){if(t==="scaleID")return!0;let e=t.charAt(0);for(let s of["Min","Max","Value"])if(le(n[e+s]))return!0;return!1}function Bk(n,t,e){let s=t.axis,r=t.id,c=s+"ScaleID",h={min:Ct(t.min,Number.NEGATIVE_INFINITY),max:Ct(t.max,Number.POSITIVE_INFINITY)};for(let u of e)u.scaleID===r?Tg(u,t,["value","endValue"],h):xs(n,u,c)===r&&Tg(u,t,[s+"Min",s+"Max",s+"Value"],h);return h}function Tg(n,t,e,s){for(let r of e){let c=n[r];if(le(c)){let h=t.parse(c);s.min=Math.min(s.min,h),s.max=Math.max(s.max,h)}}}var Wi=class extends Me{inRange(t,e,s,r){let{x:c,y:h}=Ps({x:t,y:e},this.getCenterPoint(r),ue(-this.options.rotation));return Hg({x:c,y:h},this.getProps(["x","y","x2","y2"],r),s,this.options.borderWidth)}getCenterPoint(t){return mo(this,t)}draw(t){t.save(),Wu(t,this.getCenterPoint(),this.options.rotation),Gg(t,this,this.options),t.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(t,e){return Jg(t,e)}};Wi.id="boxAnnotation";Wi.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,label:{backgroundColor:"transparent",borderWidth:0,callout:{display:!1},color:"black",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,opacity:void 0,padding:6,position:"center",rotation:void 0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};Wi.defaultRoutes={borderColor:"color",backgroundColor:"color"};Wi.descriptors={label:{_fallback:!0}};var em=["left","bottom","top","right"],_s=class extends Me{inRange(t,e,s,r){let{x:c,y:h}=Ps({x:t,y:e},this.getCenterPoint(r),ue(-this.rotation));return Hg({x:c,y:h},this.getProps(["x","y","x2","y2"],r),s,this.options.borderWidth)}getCenterPoint(t){return mo(this,t)}draw(t){let e=this.options,s=!le(this._visible)||this._visible;!e.display||!e.content||!s||(t.save(),Wu(t,this.getCenterPoint(),this.rotation),Nk(t,this),Gg(t,this,e),hk(t,qk(this),e),t.restore())}resolveElementProperties(t,e){let s;if(Ug(e))s=Qg(t,e);else{let{centerX:u,centerY:a}=Yu(t,e);s={x:u,y:a}}let r=fe(e.padding),c=$u(t.ctx,e),h=zk(s,c,e,r);return{initProperties:Pr(t,h,e),pointX:s.x,pointY:s.y,...h,rotation:e.rotation}}};_s.id="labelAnnotation";_s.defaults={adjustScaleRange:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:0,callout:{borderCapStyle:"butt",borderColor:void 0,borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:1,display:!1,margin:5,position:"auto",side:5,start:"50%"},color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,init:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};_s.defaultRoutes={borderColor:"color"};function zk(n,t,e,s){let r=t.width+s.width+e.borderWidth,c=t.height+s.height+e.borderWidth,h=Hu(e.position,"center"),u=Ag(n.x,r,e.xAdjust,h.x),a=Ag(n.y,c,e.yAdjust,h.y);return{x:u,y:a,x2:u+r,y2:a+c,width:r,height:c,centerX:u+r/2,centerY:a+c/2}}function Ag(n,t,e=0,s){return n-Vu(t,s)+e}function Nk(n,t){let{pointX:e,pointY:s,options:r}=t,c=r.callout,h=c&&c.display&&Yk(t,c);if(!h||Xk(t,c,h))return;if(n.save(),n.beginPath(),!Hi(n,c))return n.restore();let{separatorStart:a,separatorEnd:d}=Vk(t,h),{sideStart:g,sideEnd:v}=Wk(t,h,a);(c.margin>0||r.borderWidth===0)&&(n.moveTo(a.x,a.y),n.lineTo(d.x,d.y)),n.moveTo(g.x,g.y),n.lineTo(v.x,v.y);let x=Ps({x:e,y:s},t.getCenterPoint(),ue(-t.rotation));n.lineTo(x.x,x.y),n.stroke(),n.restore()}function Vk(n,t){let{x:e,y:s,x2:r,y2:c}=n,h=Hk(n,t),u,a;return t==="left"||t==="right"?(u={x:e+h,y:s},a={x:u.x,y:c}):(u={x:e,y:s+h},a={x:r,y:u.y}),{separatorStart:u,separatorEnd:a}}function Hk(n,t){let{width:e,height:s,options:r}=n,c=r.callout.margin+r.borderWidth/2;return t==="right"?e+c:t==="bottom"?s+c:-c}function Wk(n,t,e){let{y:s,width:r,height:c,options:h}=n,u=h.callout.start,a=$k(t,h.callout),d,g;return t==="left"||t==="right"?(d={x:e.x,y:s+Vi(c,u)},g={x:d.x+a,y:d.y}):(d={x:e.x+Vi(r,u),y:e.y},g={x:d.x,y:d.y+a}),{sideStart:d,sideEnd:g}}function $k(n,t){let e=t.side;return n==="left"||n==="top"?-e:e}function Yk(n,t){let e=t.position;return em.includes(e)?e:Uk(n,t)}function Uk(n,t){let{x:e,y:s,x2:r,y2:c,width:h,height:u,pointX:a,pointY:d,centerX:g,centerY:v,rotation:x}=n,w={x:g,y:v},P=t.start,C=Vi(h,P),O=Vi(u,P),M=[e,e+C,e+C,r],A=[s+O,c,s,c],S=[];for(let E=0;E<4;E++){let I=Ps({x:M[E],y:A[E]},w,ue(x));S.push({position:em[E],distance:ti(I,{x:a,y:d})})}return S.sort((E,I)=>E.distance-I.distance)[0].position}function qk({x:n,y:t,width:e,height:s,options:r}){let c=r.borderWidth/2,h=fe(r.padding);return{x:n+h.left+c,y:t+h.top+c,width:e-h.left-h.right-r.borderWidth,height:s-h.top-h.bottom-r.borderWidth}}function Xk(n,t,e){let{pointX:s,pointY:r}=n,c=t.margin,h=s,u=r;return e==="left"?h+=c:e==="right"?h-=c:e==="top"?u+=c:e==="bottom"&&(u-=c),n.inRange(h,u)}var qu=(n,t,e)=>({x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}),Lu=(n,t,e)=>qu(t,e,Math.abs((n-t.y)/(e.y-t.y))).x,Eg=(n,t,e)=>qu(t,e,Math.abs((n-t.x)/(e.x-t.x))).y,kr=n=>n*n,Gk=(n,t,{x:e,y:s,x2:r,y2:c},h)=>h==="y"?{start:Math.min(s,c),end:Math.max(s,c),value:t}:{start:Math.min(e,r),end:Math.max(e,r),value:n},Dg=(n,t,e,s)=>(1-s)*(1-s)*n+2*(1-s)*s*t+s*s*e,Ru=(n,t,e,s)=>({x:Dg(n.x,t.x,e.x,s),y:Dg(n.y,t.y,e.y,s)}),Sg=(n,t,e,s)=>2*(1-s)*(t-n)+2*s*(e-t),Lg=(n,t,e,s)=>-Math.atan2(Sg(n.x,t.x,e.x,s),Sg(n.y,t.y,e.y,s))+.5*It,ws=class extends Me{inRange(t,e,s,r){let c=this.options.borderWidth/2;if(s!=="x"&&s!=="y"){let h={mouseX:t,mouseY:e},{path:u,ctx:a}=this;if(u){Hi(a,this.options);let{chart:g}=this.$context,v=t*g.currentDevicePixelRatio,x=e*g.currentDevicePixelRatio,w=a.isPointInStroke(u,v,x)||Iu(this,h,r);return a.restore(),w}let d=kr(c);return Jk(this,h,d,r)||Iu(this,h,r)}return Kk(this,{mouseX:t,mouseY:e},s,{hBorderWidth:c,useFinalPosition:r})}getCenterPoint(t){return mo(this,t)}draw(t){let{x:e,y:s,x2:r,y2:c,cp:h,options:u}=this;if(t.save(),!Hi(t,u))return t.restore();bo(t,u);let a=Math.sqrt(Math.pow(r-e,2)+Math.pow(c-s,2));if(u.curve&&h)return r2(t,this,h,a),t.restore();let{startOpts:d,endOpts:g,startAdjust:v,endAdjust:x}=nm(this),w=Math.atan2(c-s,r-e);t.translate(e,s),t.rotate(w),t.beginPath(),t.moveTo(0+v,0),t.lineTo(a-x,0),t.shadowColor=u.borderShadowColor,t.stroke(),Fu(t,0,v,d),Fu(t,a,-x,g),t.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(t,e){let s=xk(t,e),{x:r,y:c,x2:h,y2:u}=s,a=Qk(s,t.chartArea),d=a?Zk({x:r,y:c},{x:h,y:u},t.chartArea):{x:r,y:c,x2:h,y2:u,width:Math.abs(h-r),height:Math.abs(u-c)};if(d.centerX=(h+r)/2,d.centerY=(u+c)/2,d.initProperties=Pr(t,d,e),e.curve){let v={x:d.x,y:d.y},x={x:d.x2,y:d.y2};d.cp=o2(d,e,ti(v,x))}let g=jk(t,d,e.label);return g._visible=a,d.elements=[{type:"label",optionScope:"label",properties:g,initProperties:d.initProperties}],d}};ws.id="lineAnnotation";var Rg={backgroundColor:void 0,backgroundShadowColor:void 0,borderColor:void 0,borderDash:void 0,borderDashOffset:void 0,borderShadowColor:void 0,borderWidth:void 0,display:void 0,fill:void 0,length:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,width:void 0};ws.defaults={adjustScaleRange:!0,arrowHeads:{display:!1,end:Object.assign({},Rg),fill:!1,length:12,start:Object.assign({},Rg),width:6},borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:2,curve:!1,controlPoint:{y:"-50%"},display:!0,endValue:void 0,init:void 0,label:{backgroundColor:"rgba(0,0,0,0.8)",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderColor:"black",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:6,borderShadowColor:"transparent",borderWidth:0,callout:Object.assign({},_s.defaults.callout),color:"#fff",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},scaleID:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,value:void 0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};ws.descriptors={arrowHeads:{start:{_fallback:!0},end:{_fallback:!0},_fallback:!0}};ws.defaultRoutes={borderColor:"color"};function Kk(n,{mouseX:t,mouseY:e},s,{hBorderWidth:r,useFinalPosition:c}){let h=Gk(t,e,n.getProps(["x","y","x2","y2"],c),s);return h.value>=h.start-r&&h.value<=h.end+r||Iu(n,{mouseX:t,mouseY:e},c,s)}function Qk({x:n,y:t,x2:e,y2:s},{top:r,right:c,bottom:h,left:u}){return!(n<u&&e<u||n>c&&e>c||t<r&&s<r||t>h&&s>h)}function Ig({x:n,y:t},e,{top:s,right:r,bottom:c,left:h}){return n<h&&(t=Eg(h,{x:n,y:t},e),n=h),n>r&&(t=Eg(r,{x:n,y:t},e),n=r),t<s&&(n=Lu(s,{x:n,y:t},e),t=s),t>c&&(n=Lu(c,{x:n,y:t},e),t=c),{x:n,y:t}}function Zk(n,t,e){let{x:s,y:r}=Ig(n,t,e),{x:c,y:h}=Ig(t,n,e);return{x:s,y:r,x2:c,y2:h,width:Math.abs(c-s),height:Math.abs(h-r)}}function Jk(n,{mouseX:t,mouseY:e},s=ys,r){let{x:c,y:h,x2:u,y2:a}=n.getProps(["x","y","x2","y2"],r),d=u-c,g=a-h,v=kr(d)+kr(g),x=v===0?-1:((t-c)*d+(e-h)*g)/v,w,P;return x<0?(w=c,P=h):x>1?(w=u,P=a):(w=c+x*d,P=h+x*g),kr(t-w)+kr(e-P)<=s}function Iu(n,{mouseX:t,mouseY:e},s,r){let c=n.label;return c.options.display&&c.inRange(t,e,r,s)}function jk(n,t,e){let s=e.borderWidth,r=fe(e.padding),c=$u(n.ctx,e),h=c.width+r.width+s,u=c.height+r.height+s;return e2(t,e,{width:h,height:u,padding:r},n.chartArea)}function t2(n){let{x:t,y:e,x2:s,y2:r}=n,c=Math.atan2(r-e,s-t);return c>It/2?c-It:c<It/-2?c+It:c}function e2(n,t,e,s){let{width:r,height:c,padding:h}=e,{xAdjust:u,yAdjust:a}=t,d={x:n.x,y:n.y},g={x:n.x2,y:n.y2},v=t.rotation==="auto"?t2(n):ue(t.rotation),x=n2(r,c,v),w=i2(n,t,{labelSize:x,padding:h},s),P=n.cp?Ru(d,n.cp,g,w):qu(d,g,w),C={size:x.w,min:s.left,max:s.right,padding:h.left},O={size:x.h,min:s.top,max:s.bottom,padding:h.top},M=Bg(P.x,C)+u,A=Bg(P.y,O)+a;return{x:M-r/2,y:A-c/2,x2:M+r/2,y2:A+c/2,centerX:M,centerY:A,pointX:P.x,pointY:P.y,width:r,height:c,rotation:cs(v)}}function n2(n,t,e){let s=Math.cos(e),r=Math.sin(e);return{w:Math.abs(n*s)+Math.abs(t*r),h:Math.abs(n*r)+Math.abs(t*s)}}function i2(n,t,e,s){let r,c=s2(n,s);return t.position==="start"?r=Fg({w:n.x2-n.x,h:n.y2-n.y},e,t,c):t.position==="end"?r=1-Fg({w:n.x-n.x2,h:n.y-n.y2},e,t,c):r=Vu(1,t.position),r}function Fg(n,t,e,s){let{labelSize:r,padding:c}=t,h=n.w*s.dx,u=n.h*s.dy,a=h>0&&(r.w/2+c.left-s.x)/h,d=u>0&&(r.h/2+c.top-s.y)/u;return vl(Math.max(a,d),0,.25)}function s2(n,t){let{x:e,x2:s,y:r,y2:c}=n,h=Math.min(r,c)-t.top,u=Math.min(e,s)-t.left,a=t.bottom-Math.max(r,c),d=t.right-Math.max(e,s);return{x:Math.min(u,d),y:Math.min(h,a),dx:u<=d?1:-1,dy:h<=a?1:-1}}function Bg(n,t){let{size:e,min:s,max:r,padding:c}=t,h=e/2;return e>r-s?(r+s)/2:(s>=n-c-h&&(n=s+c+h),r<=n+c+h&&(n=r-c-h),n)}function nm(n){let t=n.options,e=t.arrowHeads&&t.arrowHeads.start,s=t.arrowHeads&&t.arrowHeads.end;return{startOpts:e,endOpts:s,startAdjust:zg(n,e),endAdjust:zg(n,s)}}function zg(n,t){if(!t||!t.display)return 0;let{length:e,width:s}=t,r=n.options.borderWidth/2,c={x:e,y:s+r};return Math.abs(Lu(0,c,{x:0,y:r}))}function Fu(n,t,e,s){if(!s||!s.display)return;let{length:r,width:c,fill:h,backgroundColor:u,borderColor:a}=s,d=Math.abs(t-r)+e;n.beginPath(),bo(n,s),Hi(n,s),n.moveTo(d,-c),n.lineTo(t+e,0),n.lineTo(d,c),h===!0?(n.fillStyle=u||a,n.closePath(),n.fill(),n.shadowColor="transparent"):n.shadowColor=s.borderShadowColor,n.stroke()}function o2(n,t,e){let{x:s,y:r,x2:c,y2:h,centerX:u,centerY:a}=n,d=Math.atan2(h-r,c-s),g=Hu(t.controlPoint,0),v={x:u+Vi(e,g.x,!1),y:a+Vi(e,g.y,!1)};return Ps(v,{x:u,y:a},d)}function Ng(n,{x:t,y:e},{angle:s,adjust:r},c){!c||!c.display||(n.save(),n.translate(t,e),n.rotate(s),Fu(n,0,-r,c),n.restore())}function r2(n,t,e,s){let{x:r,y:c,x2:h,y2:u,options:a}=t,{startOpts:d,endOpts:g,startAdjust:v,endAdjust:x}=nm(t),w={x:r,y:c},P={x:h,y:u},C=Lg(w,e,P,0),O=Lg(w,e,P,1)-It,M=Ru(w,e,P,v/s),A=Ru(w,e,P,1-x/s),S=new Path2D;n.beginPath(),S.moveTo(M.x,M.y),S.quadraticCurveTo(e.x,e.y,A.x,A.y),n.shadowColor=a.borderShadowColor,n.stroke(S),t.path=S,t.ctx=n,Ng(n,M,{angle:C,adjust:v},d),Ng(n,A,{angle:O,adjust:x},g)}var ks=class extends Me{inRange(t,e,s,r){let c=this.options.rotation,h=this.options.borderWidth;if(s!=="x"&&s!=="y")return a2({x:t,y:e},this.getProps(["width","height","centerX","centerY"],r),c,h);let{x:u,y:a,x2:d,y2:g}=this.getProps(["x","y","x2","y2"],r),v=h/2,x=s==="y"?{start:a,end:g}:{start:u,end:d},w=Ps({x:t,y:e},this.getCenterPoint(r),ue(-c));return w[s]>=x.start-v-ys&&w[s]<=x.end+v+ys}getCenterPoint(t){return mo(this,t)}draw(t){let{width:e,height:s,centerX:r,centerY:c,options:h}=this;t.save(),Wu(t,this.getCenterPoint(),h.rotation),bo(t,this.options),t.beginPath(),t.fillStyle=h.backgroundColor;let u=Hi(t,h);t.ellipse(r,c,s/2,e/2,It/2,0,2*It),t.fill(),u&&(t.shadowColor=h.borderShadowColor,t.stroke()),t.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(t,e){return Jg(t,e,!0)}};ks.id="ellipseAnnotation";ks.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,label:Object.assign({},Wi.defaults.label),rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};ks.defaultRoutes={borderColor:"color",backgroundColor:"color"};ks.descriptors={label:{_fallback:!0}};function a2(n,t,e,s){let{width:r,height:c,centerX:h,centerY:u}=t,a=r/2,d=c/2;if(a<=0||d<=0)return!1;let g=ue(e||0),v=s/2||0,x=Math.cos(g),w=Math.sin(g),P=Math.pow(x*(n.x-h)+w*(n.y-u),2),C=Math.pow(w*(n.x-h)-x*(n.y-u),2);return P/Math.pow(a+v,2)+C/Math.pow(d+v,2)<=1.0001}var po=class extends Me{inRange(t,e,s,r){let{x:c,y:h,x2:u,y2:a,width:d}=this.getProps(["x","y","x2","y2","width"],r),g=this.options.borderWidth;if(s!=="x"&&s!=="y")return rk({x:t,y:e},this.getCenterPoint(r),d/2,g);let v=g/2,x=s==="y"?{start:h,end:a,value:e}:{start:c,end:u,value:t};return x.value>=x.start-v&&x.value<=x.end+v}getCenterPoint(t){return mo(this,t)}draw(t){let e=this.options,s=e.borderWidth;if(e.radius<.1)return;t.save(),t.fillStyle=e.backgroundColor,bo(t,e);let r=Hi(t,e);pk(t,this,this.centerX,this.centerY),r&&!yl(e.pointStyle)&&(t.shadowColor=e.borderShadowColor,t.stroke()),t.restore(),e.borderWidth=s}resolveElementProperties(t,e){let s=Zg(t,e);return s.initProperties=Pr(t,s,e,!0),s}};po.id="pointAnnotation";po.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,pointStyle:"circle",radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};po.defaultRoutes={borderColor:"color",backgroundColor:"color"};var go=class extends Me{inRange(t,e,s,r){if(s!=="x"&&s!=="y")return this.options.radius>=.1&&this.elements.length>1&&c2(this.elements,t,e,r);let c=Ps({x:t,y:e},this.getCenterPoint(r),ue(-this.options.rotation)),h=this.elements.map(d=>s==="y"?d.bY:d.bX),u=Math.min(...h),a=Math.max(...h);return c[s]>=u&&c[s]<=a}getCenterPoint(t){return mo(this,t)}draw(t){let{elements:e,options:s}=this;t.save(),t.beginPath(),t.fillStyle=s.backgroundColor,bo(t,s);let r=Hi(t,s),c=!0;for(let h of e)c?(t.moveTo(h.x,h.y),c=!1):t.lineTo(h.x,h.y);t.closePath(),t.fill(),r&&(t.shadowColor=s.borderShadowColor,t.stroke()),t.restore()}resolveElementProperties(t,e){let s=Zg(t,e),{sides:r,rotation:c}=e,h=[],u=2*It/r,a=c*Jo;for(let d=0;d<r;d++,a+=u){let g=l2(s,e,a);g.initProperties=Pr(t,s,e),h.push(g)}return s.elements=h,s}};go.id="polygonAnnotation";go.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,point:{radius:0},radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,sides:3,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};go.defaultRoutes={borderColor:"color",backgroundColor:"color"};function l2({centerX:n,centerY:t},{radius:e,borderWidth:s},r){let c=s/2,h=Math.sin(r),u=Math.cos(r),a={x:n+h*e,y:t-u*e};return{type:"point",optionScope:"point",properties:{x:a.x,y:a.y,centerX:a.x,centerY:a.y,bX:n+h*(e+c),bY:t-u*(e+c)}}}function c2(n,t,e,s){let r=!1,c=n[n.length-1].getProps(["bX","bY"],s);for(let h of n){let u=h.getProps(["bX","bY"],s);u.bY>e!=c.bY>e&&t<(c.bX-u.bX)*(e-u.bY)/(c.bY-u.bY)+u.bX&&(r=!r),c=u}return r}var Ni={box:Wi,ellipse:ks,label:_s,line:ws,point:po,polygon:go};Object.keys(Ni).forEach(n=>{re.describe(`elements.${Ni[n].id}`,{_fallback:"plugins.annotation.common"})});var u2={update:Object.assign},f2=Uu.concat(bl),Vg=(n,t)=>At(t)?zu(n,t):n,Bu=n=>n==="color"||n==="font";function Xu(n="line"){return Ni[n]?n:(console.warn(`Unknown annotation type: '${n}', defaulting to 'line'`),"line")}function h2(n,t,e,s){let r=p2(n,e.animations,s),c=t.annotations,h=b2(t.elements,c);for(let u=0;u<c.length;u++){let a=c[u],d=im(h,u,a.type),g=a.setContext(m2(n,d,a)),v=d.resolveElementProperties(n,g);v.skip=d2(v),"elements"in v&&(g2(d,v.elements,g,r),delete v.elements),le(d.x)||Object.assign(d,v),Object.assign(d,v.initProperties),v.options=sm(g),r.update(d,v)}}function d2(n){return isNaN(n.x)||isNaN(n.y)}function p2(n,t,e){return e==="reset"||e==="none"||e==="resize"?u2:new uo(n,t)}function g2(n,t,e,s){let r=n.elements||(n.elements=[]);r.length=t.length;for(let c=0;c<t.length;c++){let h=t[c],u=h.properties,a=im(r,c,h.type,h.initProperties),d=e[h.optionScope].override(h);u.options=sm(d),s.update(a,u)}}function im(n,t,e,s){let r=Ni[Xu(e)],c=n[t];return(!c||!(c instanceof r))&&(c=n[t]=new r,Object.assign(c,s)),c}function sm(n){let t=Ni[Xu(n.type)],e={};e.id=n.id,e.type=n.type,e.drawTime=n.drawTime,Object.assign(e,zu(n,t.defaults),zu(n,t.defaultRoutes));for(let s of f2)e[s]=n[s];return e}function zu(n,t){let e={};for(let s of Object.keys(t)){let r=t[s],c=n[s];Bu(s)&&zt(c)?e[s]=c.map(h=>Vg(h,r)):e[s]=Vg(c,r)}return e}function m2(n,t,e){return t.$context||(t.$context=Object.assign(Object.create(n.getContext()),{element:t,id:e.id,type:"annotation"}))}function b2(n,t){let e=t.length,s=n.length;if(s<e){let r=e-s;n.splice(s,0,...new Array(r))}else s>e&&n.splice(e,s-e);return n}var v2="2.2.1",zi=new Map,y2=Uu.concat(bl),om={id:"annotation",version:v2,beforeRegister(){ak("chart.js","3.7",qe.version)},afterRegister(){qe.register(Ni)},afterUnregister(){qe.unregister(Ni)},beforeInit(n){zi.set(n,{annotations:[],elements:[],visibleElements:[],listeners:{},listened:!1,moveListened:!1,hooks:{},hooked:!1,hovered:[]})},beforeUpdate(n,t,e){let s=zi.get(n),r=s.annotations=[],c=e.annotations;At(c)?Object.keys(c).forEach(h=>{let u=c[h];At(u)&&(u.id=h,r.push(u))}):zt(c)&&r.push(...c),Lk(r,n.scales)},afterDataLimits(n,t){let e=zi.get(n);Sk(n,t.scale,e.annotations.filter(s=>s.display&&s.adjustScaleRange))},afterUpdate(n,t,e){let s=zi.get(n);Ok(n,s,e),h2(n,s,e,t.mode),s.visibleElements=s.elements.filter(r=>!r.skip&&r.options.display),Dk(n,s,e)},beforeDatasetsDraw(n,t,e){gl(n,"beforeDatasetsDraw",e.clip)},afterDatasetsDraw(n,t,e){gl(n,"afterDatasetsDraw",e.clip)},beforeDraw(n,t,e){gl(n,"beforeDraw",e.clip)},afterDraw(n,t,e){gl(n,"afterDraw",e.clip)},beforeEvent(n,t,e){let s=zi.get(n);Tk(s,t.event,e)&&(t.changed=!0)},afterDestroy(n){zi.delete(n)},_getState(n){return zi.get(n)},defaults:{animations:{numbers:{properties:["x","y","x2","y2","width","height","centerX","centerY","pointX","pointY","radius"],type:"number"}},clip:!0,interaction:{mode:void 0,axis:void 0,intersect:void 0},common:{drawTime:"afterDatasetsDraw",init:!1,label:{}}},descriptors:{_indexable:!1,_scriptable:n=>!y2.includes(n)&&n!=="init",annotations:{_allKeys:!1,_fallback:(n,t)=>`elements.${Ni[Xu(t.type)].id}`},interaction:{_fallback:!0},common:{label:{_indexable:Bu,_fallback:!0},_indexable:Bu}},additionalOptionScopes:[""]};function gl(n,t,e){let{ctx:s,chartArea:r}=n,c=zi.get(n);e&&Ri(s,r);let h=x2(c.visibleElements,t).sort((u,a)=>u.element.options.z-a.element.options.z);for(let u of h)_2(s,r,c,u);e&&Ii(s)}function x2(n,t){let e=[];for(let s of n)if(s.options.drawTime===t&&e.push({element:s,main:!0}),s.elements&&s.elements.length)for(let r of s.elements)r.options.display&&r.options.drawTime===t&&e.push({element:r});return e}function _2(n,t,e,s){let r=s.element;s.main?(Mg(e,r,"beforeDraw"),r.draw(n,t),Mg(e,r,"afterDraw")):r.draw(n,t)}var ge="top",De="bottom",Oe="right",_e="left",xl="auto",$i=[ge,De,Oe,_e],ci="start",Cs="end",rm="clippingParents",_l="viewport",vo="popper",am="reference",Gu=$i.reduce(function(n,t){return n.concat([t+"-"+ci,t+"-"+Cs])},[]),wl=[].concat($i,[xl]).reduce(function(n,t){return n.concat([t,t+"-"+ci,t+"-"+Cs])},[]),w2="beforeRead",k2="read",P2="afterRead",C2="beforeMain",M2="main",O2="afterMain",T2="beforeWrite",A2="write",E2="afterWrite",lm=[w2,k2,P2,C2,M2,O2,T2,A2,E2];function Re(n){return n?(n.nodeName||"").toLowerCase():null}function he(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function gn(n){var t=he(n).Element;return n instanceof t||n instanceof Element}function Se(n){var t=he(n).HTMLElement;return n instanceof t||n instanceof HTMLElement}function yo(n){if(typeof ShadowRoot>"u")return!1;var t=he(n).ShadowRoot;return n instanceof t||n instanceof ShadowRoot}function D2(n){var t=n.state;Object.keys(t.elements).forEach(function(e){var s=t.styles[e]||{},r=t.attributes[e]||{},c=t.elements[e];!Se(c)||!Re(c)||(Object.assign(c.style,s),Object.keys(r).forEach(function(h){var u=r[h];u===!1?c.removeAttribute(h):c.setAttribute(h,u===!0?"":u)}))})}function S2(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(s){var r=t.elements[s],c=t.attributes[s]||{},h=Object.keys(t.styles.hasOwnProperty(s)?t.styles[s]:e[s]),u=h.reduce(function(a,d){return a[d]="",a},{});!Se(r)||!Re(r)||(Object.assign(r.style,u),Object.keys(c).forEach(function(a){r.removeAttribute(a)}))})}}var Cr={name:"applyStyles",enabled:!0,phase:"write",fn:D2,effect:S2,requires:["computeStyles"]};function Ie(n){return n.split("-")[0]}var On=Math.max,Ms=Math.min,ui=Math.round;function xo(){var n=navigator.userAgentData;return n!=null&&n.brands?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Mr(){return!/^((?!chrome|android).)*safari/i.test(xo())}function mn(n,t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);var s=n.getBoundingClientRect(),r=1,c=1;t&&Se(n)&&(r=n.offsetWidth>0&&ui(s.width)/n.offsetWidth||1,c=n.offsetHeight>0&&ui(s.height)/n.offsetHeight||1);var h=gn(n)?he(n):window,u=h.visualViewport,a=!Mr()&&e,d=(s.left+(a&&u?u.offsetLeft:0))/r,g=(s.top+(a&&u?u.offsetTop:0))/c,v=s.width/r,x=s.height/c;return{width:v,height:x,top:g,right:d+v,bottom:g+x,left:d,x:d,y:g}}function Os(n){var t=mn(n),e=n.offsetWidth,s=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-s)<=1&&(s=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:s}}function Or(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&yo(e)){var s=t;do{if(s&&n.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function tn(n){return he(n).getComputedStyle(n)}function Ku(n){return["table","td","th"].indexOf(Re(n))>=0}function He(n){return((gn(n)?n.ownerDocument:n.document)||window.document).documentElement}function fi(n){return Re(n)==="html"?n:n.assignedSlot||n.parentNode||(yo(n)?n.host:null)||He(n)}function cm(n){return!Se(n)||tn(n).position==="fixed"?null:n.offsetParent}function L2(n){var t=/firefox/i.test(xo()),e=/Trident/i.test(xo());if(e&&Se(n)){var s=tn(n);if(s.position==="fixed")return null}var r=fi(n);for(yo(r)&&(r=r.host);Se(r)&&["html","body"].indexOf(Re(r))<0;){var c=tn(r);if(c.transform!=="none"||c.perspective!=="none"||c.contain==="paint"||["transform","perspective"].indexOf(c.willChange)!==-1||t&&c.willChange==="filter"||t&&c.filter&&c.filter!=="none")return r;r=r.parentNode}return null}function Tn(n){for(var t=he(n),e=cm(n);e&&Ku(e)&&tn(e).position==="static";)e=cm(e);return e&&(Re(e)==="html"||Re(e)==="body"&&tn(e).position==="static")?t:e||L2(n)||t}function Ts(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function As(n,t,e){return On(n,Ms(t,e))}function um(n,t,e){var s=As(n,t,e);return s>e?e:s}function Tr(){return{top:0,right:0,bottom:0,left:0}}function Ar(n){return Object.assign({},Tr(),n)}function Er(n,t){return t.reduce(function(e,s){return e[s]=n,e},{})}var R2=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,Ar(typeof t!="number"?t:Er(t,$i))};function I2(n){var t,e=n.state,s=n.name,r=n.options,c=e.elements.arrow,h=e.modifiersData.popperOffsets,u=Ie(e.placement),a=Ts(u),d=[_e,Oe].indexOf(u)>=0,g=d?"height":"width";if(!(!c||!h)){var v=R2(r.padding,e),x=Os(c),w=a==="y"?ge:_e,P=a==="y"?De:Oe,C=e.rects.reference[g]+e.rects.reference[a]-h[a]-e.rects.popper[g],O=h[a]-e.rects.reference[a],M=Tn(c),A=M?a==="y"?M.clientHeight||0:M.clientWidth||0:0,S=C/2-O/2,E=v[w],I=A-x[g]-v[P],N=A/2-x[g]/2+S,H=As(E,N,I),$=a;e.modifiersData[s]=(t={},t[$]=H,t.centerOffset=H-N,t)}}function F2(n){var t=n.state,e=n.options,s=e.element,r=s===void 0?"[data-popper-arrow]":s;r!=null&&(typeof r=="string"&&(r=t.elements.popper.querySelector(r),!r)||Or(t.elements.popper,r)&&(t.elements.arrow=r))}var fm={name:"arrow",enabled:!0,phase:"main",fn:I2,effect:F2,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function bn(n){return n.split("-")[1]}var B2={top:"auto",right:"auto",bottom:"auto",left:"auto"};function z2(n){var t=n.x,e=n.y,s=window,r=s.devicePixelRatio||1;return{x:ui(t*r)/r||0,y:ui(e*r)/r||0}}function hm(n){var t,e=n.popper,s=n.popperRect,r=n.placement,c=n.variation,h=n.offsets,u=n.position,a=n.gpuAcceleration,d=n.adaptive,g=n.roundOffsets,v=n.isFixed,x=h.x,w=x===void 0?0:x,P=h.y,C=P===void 0?0:P,O=typeof g=="function"?g({x:w,y:C}):{x:w,y:C};w=O.x,C=O.y;var M=h.hasOwnProperty("x"),A=h.hasOwnProperty("y"),S=_e,E=ge,I=window;if(d){var N=Tn(e),H="clientHeight",$="clientWidth";if(N===he(e)&&(N=He(e),tn(N).position!=="static"&&u==="absolute"&&(H="scrollHeight",$="scrollWidth")),N=N,r===ge||(r===_e||r===Oe)&&c===Cs){E=De;var G=v&&N===I&&I.visualViewport?I.visualViewport.height:N[H];C-=G-s.height,C*=a?1:-1}if(r===_e||(r===ge||r===De)&&c===Cs){S=Oe;var tt=v&&N===I&&I.visualViewport?I.visualViewport.width:N[$];w-=tt-s.width,w*=a?1:-1}}var et=Object.assign({position:u},d&&B2),lt=g===!0?z2({x:w,y:C}):{x:w,y:C};if(w=lt.x,C=lt.y,a){var ct;return Object.assign({},et,(ct={},ct[E]=A?"0":"",ct[S]=M?"0":"",ct.transform=(I.devicePixelRatio||1)<=1?"translate("+w+"px, "+C+"px)":"translate3d("+w+"px, "+C+"px, 0)",ct))}return Object.assign({},et,(t={},t[E]=A?C+"px":"",t[S]=M?w+"px":"",t.transform="",t))}function N2(n){var t=n.state,e=n.options,s=e.gpuAcceleration,r=s===void 0?!0:s,c=e.adaptive,h=c===void 0?!0:c,u=e.roundOffsets,a=u===void 0?!0:u;if(!1)var d;var g={placement:Ie(t.placement),variation:bn(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,hm(Object.assign({},g,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:h,roundOffsets:a})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,hm(Object.assign({},g,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var dm={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:N2,data:{}};var kl={passive:!0};function V2(n){var t=n.state,e=n.instance,s=n.options,r=s.scroll,c=r===void 0?!0:r,h=s.resize,u=h===void 0?!0:h,a=he(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return c&&d.forEach(function(g){g.addEventListener("scroll",e.update,kl)}),u&&a.addEventListener("resize",e.update,kl),function(){c&&d.forEach(function(g){g.removeEventListener("scroll",e.update,kl)}),u&&a.removeEventListener("resize",e.update,kl)}}var pm={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:V2,data:{}};var H2={left:"right",right:"left",bottom:"top",top:"bottom"};function _o(n){return n.replace(/left|right|bottom|top/g,function(t){return H2[t]})}var W2={start:"end",end:"start"};function Pl(n){return n.replace(/start|end/g,function(t){return W2[t]})}function Es(n){var t=he(n),e=t.pageXOffset,s=t.pageYOffset;return{scrollLeft:e,scrollTop:s}}function Ds(n){return mn(He(n)).left+Es(n).scrollLeft}function Qu(n,t){var e=he(n),s=He(n),r=e.visualViewport,c=s.clientWidth,h=s.clientHeight,u=0,a=0;if(r){c=r.width,h=r.height;var d=Mr();(d||!d&&t==="fixed")&&(u=r.offsetLeft,a=r.offsetTop)}return{width:c,height:h,x:u+Ds(n),y:a}}function Zu(n){var t,e=He(n),s=Es(n),r=(t=n.ownerDocument)==null?void 0:t.body,c=On(e.scrollWidth,e.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),h=On(e.scrollHeight,e.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),u=-s.scrollLeft+Ds(n),a=-s.scrollTop;return tn(r||e).direction==="rtl"&&(u+=On(e.clientWidth,r?r.clientWidth:0)-c),{width:c,height:h,x:u,y:a}}function Ss(n){var t=tn(n),e=t.overflow,s=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+r+s)}function Cl(n){return["html","body","#document"].indexOf(Re(n))>=0?n.ownerDocument.body:Se(n)&&Ss(n)?n:Cl(fi(n))}function Yi(n,t){var e;t===void 0&&(t=[]);var s=Cl(n),r=s===((e=n.ownerDocument)==null?void 0:e.body),c=he(s),h=r?[c].concat(c.visualViewport||[],Ss(s)?s:[]):s,u=t.concat(h);return r?u:u.concat(Yi(fi(h)))}function wo(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function $2(n,t){var e=mn(n,!1,t==="fixed");return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}function gm(n,t,e){return t===_l?wo(Qu(n,e)):gn(t)?$2(t,e):wo(Zu(He(n)))}function Y2(n){var t=Yi(fi(n)),e=["absolute","fixed"].indexOf(tn(n).position)>=0,s=e&&Se(n)?Tn(n):n;return gn(s)?t.filter(function(r){return gn(r)&&Or(r,s)&&Re(r)!=="body"}):[]}function Ju(n,t,e,s){var r=t==="clippingParents"?Y2(n):[].concat(t),c=[].concat(r,[e]),h=c[0],u=c.reduce(function(a,d){var g=gm(n,d,s);return a.top=On(g.top,a.top),a.right=Ms(g.right,a.right),a.bottom=Ms(g.bottom,a.bottom),a.left=On(g.left,a.left),a},gm(n,h,s));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function Dr(n){var t=n.reference,e=n.element,s=n.placement,r=s?Ie(s):null,c=s?bn(s):null,h=t.x+t.width/2-e.width/2,u=t.y+t.height/2-e.height/2,a;switch(r){case ge:a={x:h,y:t.y-e.height};break;case De:a={x:h,y:t.y+t.height};break;case Oe:a={x:t.x+t.width,y:u};break;case _e:a={x:t.x-e.width,y:u};break;default:a={x:t.x,y:t.y}}var d=r?Ts(r):null;if(d!=null){var g=d==="y"?"height":"width";switch(c){case ci:a[d]=a[d]-(t[g]/2-e[g]/2);break;case Cs:a[d]=a[d]+(t[g]/2-e[g]/2);break;default:}}return a}function An(n,t){t===void 0&&(t={});var e=t,s=e.placement,r=s===void 0?n.placement:s,c=e.strategy,h=c===void 0?n.strategy:c,u=e.boundary,a=u===void 0?rm:u,d=e.rootBoundary,g=d===void 0?_l:d,v=e.elementContext,x=v===void 0?vo:v,w=e.altBoundary,P=w===void 0?!1:w,C=e.padding,O=C===void 0?0:C,M=Ar(typeof O!="number"?O:Er(O,$i)),A=x===vo?am:vo,S=n.rects.popper,E=n.elements[P?A:x],I=Ju(gn(E)?E:E.contextElement||He(n.elements.popper),a,g,h),N=mn(n.elements.reference),H=Dr({reference:N,element:S,strategy:"absolute",placement:r}),$=wo(Object.assign({},S,H)),G=x===vo?$:N,tt={top:I.top-G.top+M.top,bottom:G.bottom-I.bottom+M.bottom,left:I.left-G.left+M.left,right:G.right-I.right+M.right},et=n.modifiersData.offset;if(x===vo&&et){var lt=et[r];Object.keys(tt).forEach(function(ct){var rt=[Oe,De].indexOf(ct)>=0?1:-1,dt=[ge,De].indexOf(ct)>=0?"y":"x";tt[ct]+=lt[dt]*rt})}return tt}function ju(n,t){t===void 0&&(t={});var e=t,s=e.placement,r=e.boundary,c=e.rootBoundary,h=e.padding,u=e.flipVariations,a=e.allowedAutoPlacements,d=a===void 0?wl:a,g=bn(s),v=g?u?Gu:Gu.filter(function(P){return bn(P)===g}):$i,x=v.filter(function(P){return d.indexOf(P)>=0});x.length===0&&(x=v);var w=x.reduce(function(P,C){return P[C]=An(n,{placement:C,boundary:r,rootBoundary:c,padding:h})[Ie(C)],P},{});return Object.keys(w).sort(function(P,C){return w[P]-w[C]})}function U2(n){if(Ie(n)===xl)return[];var t=_o(n);return[Pl(n),t,Pl(t)]}function q2(n){var t=n.state,e=n.options,s=n.name;if(!t.modifiersData[s]._skip){for(var r=e.mainAxis,c=r===void 0?!0:r,h=e.altAxis,u=h===void 0?!0:h,a=e.fallbackPlacements,d=e.padding,g=e.boundary,v=e.rootBoundary,x=e.altBoundary,w=e.flipVariations,P=w===void 0?!0:w,C=e.allowedAutoPlacements,O=t.options.placement,M=Ie(O),A=M===O,S=a||(A||!P?[_o(O)]:U2(O)),E=[O].concat(S).reduce(function(Xt,Lt){return Xt.concat(Ie(Lt)===xl?ju(t,{placement:Lt,boundary:g,rootBoundary:v,padding:d,flipVariations:P,allowedAutoPlacements:C}):Lt)},[]),I=t.rects.reference,N=t.rects.popper,H=new Map,$=!0,G=E[0],tt=0;tt<E.length;tt++){var et=E[tt],lt=Ie(et),ct=bn(et)===ci,rt=[ge,De].indexOf(lt)>=0,dt=rt?"width":"height",bt=An(t,{placement:et,boundary:g,rootBoundary:v,altBoundary:x,padding:d}),at=rt?ct?Oe:_e:ct?De:ge;I[dt]>N[dt]&&(at=_o(at));var ot=_o(at),kt=[];if(c&&kt.push(bt[lt]<=0),u&&kt.push(bt[at]<=0,bt[ot]<=0),kt.every(function(Xt){return Xt})){G=et,$=!1;break}H.set(et,kt)}if($)for(var Et=P?3:1,wt=function(Lt){var Ht=E.find(function(Te){var jt=H.get(Te);if(jt)return jt.slice(0,Lt).every(function(Mt){return Mt})});if(Ht)return G=Ht,"break"},Tt=Et;Tt>0;Tt--){var Zt=wt(Tt);if(Zt==="break")break}t.placement!==G&&(t.modifiersData[s]._skip=!0,t.placement=G,t.reset=!0)}}var mm={name:"flip",enabled:!0,phase:"main",fn:q2,requiresIfExists:["offset"],data:{_skip:!1}};function bm(n,t,e){return e===void 0&&(e={x:0,y:0}),{top:n.top-t.height-e.y,right:n.right-t.width+e.x,bottom:n.bottom-t.height+e.y,left:n.left-t.width-e.x}}function vm(n){return[ge,Oe,De,_e].some(function(t){return n[t]>=0})}function X2(n){var t=n.state,e=n.name,s=t.rects.reference,r=t.rects.popper,c=t.modifiersData.preventOverflow,h=An(t,{elementContext:"reference"}),u=An(t,{altBoundary:!0}),a=bm(h,s),d=bm(u,r,c),g=vm(a),v=vm(d);t.modifiersData[e]={referenceClippingOffsets:a,popperEscapeOffsets:d,isReferenceHidden:g,hasPopperEscaped:v},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":v})}var ym={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:X2};function G2(n,t,e){var s=Ie(n),r=[_e,ge].indexOf(s)>=0?-1:1,c=typeof e=="function"?e(Object.assign({},t,{placement:n})):e,h=c[0],u=c[1];return h=h||0,u=(u||0)*r,[_e,Oe].indexOf(s)>=0?{x:u,y:h}:{x:h,y:u}}function K2(n){var t=n.state,e=n.options,s=n.name,r=e.offset,c=r===void 0?[0,0]:r,h=wl.reduce(function(g,v){return g[v]=G2(v,t.rects,c),g},{}),u=h[t.placement],a=u.x,d=u.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=a,t.modifiersData.popperOffsets.y+=d),t.modifiersData[s]=h}var xm={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:K2};function Q2(n){var t=n.state,e=n.name;t.modifiersData[e]=Dr({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var _m={name:"popperOffsets",enabled:!0,phase:"read",fn:Q2,data:{}};function tf(n){return n==="x"?"y":"x"}function Z2(n){var t=n.state,e=n.options,s=n.name,r=e.mainAxis,c=r===void 0?!0:r,h=e.altAxis,u=h===void 0?!1:h,a=e.boundary,d=e.rootBoundary,g=e.altBoundary,v=e.padding,x=e.tether,w=x===void 0?!0:x,P=e.tetherOffset,C=P===void 0?0:P,O=An(t,{boundary:a,rootBoundary:d,padding:v,altBoundary:g}),M=Ie(t.placement),A=bn(t.placement),S=!A,E=Ts(M),I=tf(E),N=t.modifiersData.popperOffsets,H=t.rects.reference,$=t.rects.popper,G=typeof C=="function"?C(Object.assign({},t.rects,{placement:t.placement})):C,tt=typeof G=="number"?{mainAxis:G,altAxis:G}:Object.assign({mainAxis:0,altAxis:0},G),et=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,lt={x:0,y:0};if(N){if(c){var ct,rt=E==="y"?ge:_e,dt=E==="y"?De:Oe,bt=E==="y"?"height":"width",at=N[E],ot=at+O[rt],kt=at-O[dt],Et=w?-$[bt]/2:0,wt=A===ci?H[bt]:$[bt],Tt=A===ci?-$[bt]:-H[bt],Zt=t.elements.arrow,Xt=w&&Zt?Os(Zt):{width:0,height:0},Lt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Tr(),Ht=Lt[rt],Te=Lt[dt],jt=As(0,H[bt],Xt[bt]),Mt=S?H[bt]/2-Et-jt-Ht-tt.mainAxis:wt-jt-Ht-tt.mainAxis,ce=S?-H[bt]/2+Et+jt+Te+tt.mainAxis:Tt+jt+Te+tt.mainAxis,Ge=t.elements.arrow&&Tn(t.elements.arrow),Fe=Ge?E==="y"?Ge.clientTop||0:Ge.clientLeft||0:0,We=(ct=et?.[E])!=null?ct:0,Yn=at+Mt-We-Fe,me=at+ce-We,en=As(w?Ms(ot,Yn):ot,at,w?On(kt,me):kt);N[E]=en,lt[E]=en-at}if(u){var te,Un=E==="x"?ge:_e,Be=E==="x"?De:Oe,$e=N[I],be=I==="y"?"height":"width",Dn=$e+O[Un],ln=$e-O[Be],Sn=[ge,_e].indexOf(M)!==-1,qn=(te=et?.[I])!=null?te:0,Ln=Sn?Dn:$e-H[be]-$[be]-qn+tt.altAxis,Rn=Sn?$e+H[be]+$[be]-qn-tt.altAxis:ln,hi=w&&Sn?um(Ln,$e,Rn):As(w?Ln:Dn,$e,w?Rn:ln);N[I]=hi,lt[I]=hi-$e}t.modifiersData[s]=lt}}var wm={name:"preventOverflow",enabled:!0,phase:"main",fn:Z2,requiresIfExists:["offset"]};function ef(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function nf(n){return n===he(n)||!Se(n)?Es(n):ef(n)}function J2(n){var t=n.getBoundingClientRect(),e=ui(t.width)/n.offsetWidth||1,s=ui(t.height)/n.offsetHeight||1;return e!==1||s!==1}function sf(n,t,e){e===void 0&&(e=!1);var s=Se(t),r=Se(t)&&J2(t),c=He(t),h=mn(n,r,e),u={scrollLeft:0,scrollTop:0},a={x:0,y:0};return(s||!s&&!e)&&((Re(t)!=="body"||Ss(c))&&(u=nf(t)),Se(t)?(a=mn(t,!0),a.x+=t.clientLeft,a.y+=t.clientTop):c&&(a.x=Ds(c))),{x:h.left+u.scrollLeft-a.x,y:h.top+u.scrollTop-a.y,width:h.width,height:h.height}}function j2(n){var t=new Map,e=new Set,s=[];n.forEach(function(c){t.set(c.name,c)});function r(c){e.add(c.name);var h=[].concat(c.requires||[],c.requiresIfExists||[]);h.forEach(function(u){if(!e.has(u)){var a=t.get(u);a&&r(a)}}),s.push(c)}return n.forEach(function(c){e.has(c.name)||r(c)}),s}function of(n){var t=j2(n);return lm.reduce(function(e,s){return e.concat(t.filter(function(r){return r.phase===s}))},[])}function rf(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}function af(n){var t=n.reduce(function(e,s){var r=e[s.name];return e[s.name]=r?Object.assign({},r,s,{options:Object.assign({},r.options,s.options),data:Object.assign({},r.data,s.data)}):s,e},{});return Object.keys(t).map(function(e){return t[e]})}var km={placement:"bottom",modifiers:[],strategy:"absolute"};function Pm(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function Cm(n){n===void 0&&(n={});var t=n,e=t.defaultModifiers,s=e===void 0?[]:e,r=t.defaultOptions,c=r===void 0?km:r;return function(u,a,d){d===void 0&&(d=c);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},km,c),modifiersData:{},elements:{reference:u,popper:a},attributes:{},styles:{}},v=[],x=!1,w={state:g,setOptions:function(M){var A=typeof M=="function"?M(g.options):M;C(),g.options=Object.assign({},c,g.options,A),g.scrollParents={reference:gn(u)?Yi(u):u.contextElement?Yi(u.contextElement):[],popper:Yi(a)};var S=of(af([].concat(s,g.options.modifiers)));if(g.orderedModifiers=S.filter(function(et){return et.enabled}),!1){var E;if(getBasePlacement(g.options.placement)===auto)var I;var N,H,$,G,tt}return P(),w.update()},forceUpdate:function(){if(!x){var M=g.elements,A=M.reference,S=M.popper;if(Pm(A,S)){g.rects={reference:sf(A,Tn(S),g.options.strategy==="fixed"),popper:Os(S)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(et){return g.modifiersData[et.name]=Object.assign({},et.data)});for(var E=0,I=0;I<g.orderedModifiers.length;I++){if(g.reset===!0){g.reset=!1,I=-1;continue}var N=g.orderedModifiers[I],H=N.fn,$=N.options,G=$===void 0?{}:$,tt=N.name;typeof H=="function"&&(g=H({state:g,options:G,name:tt,instance:w})||g)}}}},update:rf(function(){return new Promise(function(O){w.forceUpdate(),O(g)})}),destroy:function(){C(),x=!0}};if(!Pm(u,a))return w;w.setOptions(d).then(function(O){!x&&d.onFirstUpdate&&d.onFirstUpdate(O)});function P(){g.orderedModifiers.forEach(function(O){var M=O.name,A=O.options,S=A===void 0?{}:A,E=O.effect;if(typeof E=="function"){var I=E({state:g,name:M,instance:w,options:S}),N=function(){};v.push(I||N)}})}function C(){v.forEach(function(O){return O()}),v=[]}return w}}var tP=[pm,_m,dm,Cr,xm,mm,wm,fm,ym],lf=Cm({defaultModifiers:tP});var eP="tippy-box",Im="tippy-content",nP="tippy-backdrop",Fm="tippy-arrow",Bm="tippy-svg-arrow",Ls={passive:!0,capture:!0},zm=function(){return document.body};function cf(n,t,e){if(Array.isArray(n)){var s=n[t];return s??(Array.isArray(e)?e[t]:e)}return n}function gf(n,t){var e={}.toString.call(n);return e.indexOf("[object")===0&&e.indexOf(t+"]")>-1}function Nm(n,t){return typeof n=="function"?n.apply(void 0,t):n}function Mm(n,t){if(t===0)return n;var e;return function(s){clearTimeout(e),e=setTimeout(function(){n(s)},t)}}function iP(n){return n.split(/\s+/).filter(Boolean)}function ko(n){return[].concat(n)}function Om(n,t){n.indexOf(t)===-1&&n.push(t)}function sP(n){return n.filter(function(t,e){return n.indexOf(t)===e})}function oP(n){return n.split("-")[0]}function Ol(n){return[].slice.call(n)}function Tm(n){return Object.keys(n).reduce(function(t,e){return n[e]!==void 0&&(t[e]=n[e]),t},{})}function Sr(){return document.createElement("div")}function Tl(n){return["Element","Fragment"].some(function(t){return gf(n,t)})}function rP(n){return gf(n,"NodeList")}function aP(n){return gf(n,"MouseEvent")}function lP(n){return!!(n&&n._tippy&&n._tippy.reference===n)}function cP(n){return Tl(n)?[n]:rP(n)?Ol(n):Array.isArray(n)?n:Ol(document.querySelectorAll(n))}function uf(n,t){n.forEach(function(e){e&&(e.style.transitionDuration=t+"ms")})}function Am(n,t){n.forEach(function(e){e&&e.setAttribute("data-state",t)})}function uP(n){var t,e=ko(n),s=e[0];return s!=null&&(t=s.ownerDocument)!=null&&t.body?s.ownerDocument:document}function fP(n,t){var e=t.clientX,s=t.clientY;return n.every(function(r){var c=r.popperRect,h=r.popperState,u=r.props,a=u.interactiveBorder,d=oP(h.placement),g=h.modifiersData.offset;if(!g)return!0;var v=d==="bottom"?g.top.y:0,x=d==="top"?g.bottom.y:0,w=d==="right"?g.left.x:0,P=d==="left"?g.right.x:0,C=c.top-s+v>a,O=s-c.bottom-x>a,M=c.left-e+w>a,A=e-c.right-P>a;return C||O||M||A})}function ff(n,t,e){var s=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(r){n[s](r,e)})}function Em(n,t){for(var e=t;e;){var s;if(n.contains(e))return!0;e=e.getRootNode==null||(s=e.getRootNode())==null?void 0:s.host}return!1}var $n={isTouch:!1},Dm=0;function hP(){$n.isTouch||($n.isTouch=!0,window.performance&&document.addEventListener("mousemove",Vm))}function Vm(){var n=performance.now();n-Dm<20&&($n.isTouch=!1,document.removeEventListener("mousemove",Vm)),Dm=n}function dP(){var n=document.activeElement;if(lP(n)){var t=n._tippy;n.blur&&!t.state.isVisible&&n.blur()}}function pP(){document.addEventListener("touchstart",hP,Ls),window.addEventListener("blur",dP)}var gP=typeof window<"u"&&typeof document<"u",mP=gP?!!window.msCrypto:!1;var bP={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},vP={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},En=Object.assign({appendTo:zm,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},bP,vP),yP=Object.keys(En),xP=function(t){var e=Object.keys(t);e.forEach(function(s){En[s]=t[s]})};function Hm(n){var t=n.plugins||[],e=t.reduce(function(s,r){var c=r.name,h=r.defaultValue;if(c){var u;s[c]=n[c]!==void 0?n[c]:(u=En[c])!=null?u:h}return s},{});return Object.assign({},n,e)}function _P(n,t){var e=t?Object.keys(Hm(Object.assign({},En,{plugins:t}))):yP,s=e.reduce(function(r,c){var h=(n.getAttribute("data-tippy-"+c)||"").trim();if(!h)return r;if(c==="content")r[c]=h;else try{r[c]=JSON.parse(h)}catch{r[c]=h}return r},{});return s}function Sm(n,t){var e=Object.assign({},t,{content:Nm(t.content,[n])},t.ignoreAttributes?{}:_P(n,t.plugins));return e.aria=Object.assign({},En.aria,e.aria),e.aria={expanded:e.aria.expanded==="auto"?t.interactive:e.aria.expanded,content:e.aria.content==="auto"?t.interactive?null:"describedby":e.aria.content},e}var wP=function(){return"innerHTML"};function df(n,t){n[wP()]=t}function Lm(n){var t=Sr();return n===!0?t.className=Fm:(t.className=Bm,Tl(n)?t.appendChild(n):df(t,n)),t}function Rm(n,t){Tl(t.content)?(df(n,""),n.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?df(n,t.content):n.textContent=t.content)}function pf(n){var t=n.firstElementChild,e=Ol(t.children);return{box:t,content:e.find(function(s){return s.classList.contains(Im)}),arrow:e.find(function(s){return s.classList.contains(Fm)||s.classList.contains(Bm)}),backdrop:e.find(function(s){return s.classList.contains(nP)})}}function Wm(n){var t=Sr(),e=Sr();e.className=eP,e.setAttribute("data-state","hidden"),e.setAttribute("tabindex","-1");var s=Sr();s.className=Im,s.setAttribute("data-state","hidden"),Rm(s,n.props),t.appendChild(e),e.appendChild(s),r(n.props,n.props);function r(c,h){var u=pf(t),a=u.box,d=u.content,g=u.arrow;h.theme?a.setAttribute("data-theme",h.theme):a.removeAttribute("data-theme"),typeof h.animation=="string"?a.setAttribute("data-animation",h.animation):a.removeAttribute("data-animation"),h.inertia?a.setAttribute("data-inertia",""):a.removeAttribute("data-inertia"),a.style.maxWidth=typeof h.maxWidth=="number"?h.maxWidth+"px":h.maxWidth,h.role?a.setAttribute("role",h.role):a.removeAttribute("role"),(c.content!==h.content||c.allowHTML!==h.allowHTML)&&Rm(d,n.props),h.arrow?g?c.arrow!==h.arrow&&(a.removeChild(g),a.appendChild(Lm(h.arrow))):a.appendChild(Lm(h.arrow)):g&&a.removeChild(g)}return{popper:t,onUpdate:r}}Wm.$$tippy=!0;var kP=1,Ml=[],hf=[];function PP(n,t){var e=Sm(n,Object.assign({},En,Hm(Tm(t)))),s,r,c,h=!1,u=!1,a=!1,d=!1,g,v,x,w=[],P=Mm(Yn,e.interactiveDebounce),C,O=kP++,M=null,A=sP(e.plugins),S={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},E={id:O,reference:n,popper:Sr(),popperInstance:M,props:e,state:S,plugins:A,clearDelayTimeouts:Ln,setProps:Rn,setContent:hi,show:Ui,hide:qi,hideWithInteractivity:Xi,enable:Sn,disable:qn,unmount:di,destroy:ve};if(!e.render)return E;var I=e.render(E),N=I.popper,H=I.onUpdate;N.setAttribute("data-tippy-root",""),N.id="tippy-"+E.id,E.popper=N,n._tippy=E,N._tippy=E;var $=A.map(function(K){return K.fn(E)}),G=n.hasAttribute("aria-expanded");return Ge(),Et(),at(),ot("onCreate",[E]),e.showOnCreate&&Dn(),N.addEventListener("mouseenter",function(){E.props.interactive&&E.state.isVisible&&E.clearDelayTimeouts()}),N.addEventListener("mouseleave",function(){E.props.interactive&&E.props.trigger.indexOf("mouseenter")>=0&&rt().addEventListener("mousemove",P)}),E;function tt(){var K=E.props.touch;return Array.isArray(K)?K:[K,0]}function et(){return tt()[0]==="hold"}function lt(){var K;return!!((K=E.props.render)!=null&&K.$$tippy)}function ct(){return C||n}function rt(){var K=ct().parentNode;return K?uP(K):document}function dt(){return pf(N)}function bt(K){return E.state.isMounted&&!E.state.isVisible||$n.isTouch||g&&g.type==="focus"?0:cf(E.props.delay,K?0:1,En.delay)}function at(K){K===void 0&&(K=!1),N.style.pointerEvents=E.props.interactive&&!K?"":"none",N.style.zIndex=""+E.props.zIndex}function ot(K,ut,_t){if(_t===void 0&&(_t=!0),$.forEach(function(Ot){Ot[K]&&Ot[K].apply(Ot,ut)}),_t){var Vt;(Vt=E.props)[K].apply(Vt,ut)}}function kt(){var K=E.props.aria;if(K.content){var ut="aria-"+K.content,_t=N.id,Vt=ko(E.props.triggerTarget||n);Vt.forEach(function(Ot){var ee=Ot.getAttribute(ut);if(E.state.isVisible)Ot.setAttribute(ut,ee?ee+" "+_t:_t);else{var oe=ee&&ee.replace(_t,"").trim();oe?Ot.setAttribute(ut,oe):Ot.removeAttribute(ut)}})}}function Et(){if(!(G||!E.props.aria.expanded)){var K=ko(E.props.triggerTarget||n);K.forEach(function(ut){E.props.interactive?ut.setAttribute("aria-expanded",E.state.isVisible&&ut===ct()?"true":"false"):ut.removeAttribute("aria-expanded")})}}function wt(){rt().removeEventListener("mousemove",P),Ml=Ml.filter(function(K){return K!==P})}function Tt(K){if(!($n.isTouch&&(a||K.type==="mousedown"))){var ut=K.composedPath&&K.composedPath()[0]||K.target;if(!(E.props.interactive&&Em(N,ut))){if(ko(E.props.triggerTarget||n).some(function(_t){return Em(_t,ut)})){if($n.isTouch||E.state.isVisible&&E.props.trigger.indexOf("click")>=0)return}else ot("onClickOutside",[E,K]);E.props.hideOnClick===!0&&(E.clearDelayTimeouts(),E.hide(),u=!0,setTimeout(function(){u=!1}),E.state.isMounted||Ht())}}}function Zt(){a=!0}function Xt(){a=!1}function Lt(){var K=rt();K.addEventListener("mousedown",Tt,!0),K.addEventListener("touchend",Tt,Ls),K.addEventListener("touchstart",Xt,Ls),K.addEventListener("touchmove",Zt,Ls)}function Ht(){var K=rt();K.removeEventListener("mousedown",Tt,!0),K.removeEventListener("touchend",Tt,Ls),K.removeEventListener("touchstart",Xt,Ls),K.removeEventListener("touchmove",Zt,Ls)}function Te(K,ut){Mt(K,function(){!E.state.isVisible&&N.parentNode&&N.parentNode.contains(N)&&ut()})}function jt(K,ut){Mt(K,ut)}function Mt(K,ut){var _t=dt().box;function Vt(Ot){Ot.target===_t&&(ff(_t,"remove",Vt),ut())}if(K===0)return ut();ff(_t,"remove",v),ff(_t,"add",Vt),v=Vt}function ce(K,ut,_t){_t===void 0&&(_t=!1);var Vt=ko(E.props.triggerTarget||n);Vt.forEach(function(Ot){Ot.addEventListener(K,ut,_t),w.push({node:Ot,eventType:K,handler:ut,options:_t})})}function Ge(){et()&&(ce("touchstart",We,{passive:!0}),ce("touchend",me,{passive:!0})),iP(E.props.trigger).forEach(function(K){if(K!=="manual")switch(ce(K,We),K){case"mouseenter":ce("mouseleave",me);break;case"focus":ce(mP?"focusout":"blur",en);break;case"focusin":ce("focusout",en);break}})}function Fe(){w.forEach(function(K){var ut=K.node,_t=K.eventType,Vt=K.handler,Ot=K.options;ut.removeEventListener(_t,Vt,Ot)}),w=[]}function We(K){var ut,_t=!1;if(!(!E.state.isEnabled||te(K)||u)){var Vt=((ut=g)==null?void 0:ut.type)==="focus";g=K,C=K.currentTarget,Et(),!E.state.isVisible&&aP(K)&&Ml.forEach(function(Ot){return Ot(K)}),K.type==="click"&&(E.props.trigger.indexOf("mouseenter")<0||h)&&E.props.hideOnClick!==!1&&E.state.isVisible?_t=!0:Dn(K),K.type==="click"&&(h=!_t),_t&&!Vt&&ln(K)}}function Yn(K){var ut=K.target,_t=ct().contains(ut)||N.contains(ut);if(!(K.type==="mousemove"&&_t)){var Vt=be().concat(N).map(function(Ot){var ee,oe=Ot._tippy,Ae=(ee=oe.popperInstance)==null?void 0:ee.state;return Ae?{popperRect:Ot.getBoundingClientRect(),popperState:Ae,props:e}:null}).filter(Boolean);fP(Vt,K)&&(wt(),ln(K))}}function me(K){var ut=te(K)||E.props.trigger.indexOf("click")>=0&&h;if(!ut){if(E.props.interactive){E.hideWithInteractivity(K);return}ln(K)}}function en(K){E.props.trigger.indexOf("focusin")<0&&K.target!==ct()||E.props.interactive&&K.relatedTarget&&N.contains(K.relatedTarget)||ln(K)}function te(K){return $n.isTouch?et()!==K.type.indexOf("touch")>=0:!1}function Un(){Be();var K=E.props,ut=K.popperOptions,_t=K.placement,Vt=K.offset,Ot=K.getReferenceClientRect,ee=K.moveTransition,oe=lt()?pf(N).arrow:null,Ae=Ot?{getBoundingClientRect:Ot,contextElement:Ot.contextElement||ct()}:n,Ye={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Ee){var cn=Ee.state;if(lt()){var Po=dt(),Gi=Po.box;["placement","reference-hidden","escaped"].forEach(function(ae){ae==="placement"?Gi.setAttribute("data-placement",cn.placement):cn.attributes.popper["data-popper-"+ae]?Gi.setAttribute("data-"+ae,""):Gi.removeAttribute("data-"+ae)}),cn.attributes.popper={}}}},ye=[{name:"offset",options:{offset:Vt}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!ee}},Ye];lt()&&oe&&ye.push({name:"arrow",options:{element:oe,padding:3}}),ye.push.apply(ye,ut?.modifiers||[]),E.popperInstance=lf(Ae,N,Object.assign({},ut,{placement:_t,onFirstUpdate:x,modifiers:ye}))}function Be(){E.popperInstance&&(E.popperInstance.destroy(),E.popperInstance=null)}function $e(){var K=E.props.appendTo,ut,_t=ct();E.props.interactive&&K===zm||K==="parent"?ut=_t.parentNode:ut=Nm(K,[_t]),ut.contains(N)||ut.appendChild(N),E.state.isMounted=!0,Un()}function be(){return Ol(N.querySelectorAll("[data-tippy-root]"))}function Dn(K){E.clearDelayTimeouts(),K&&ot("onTrigger",[E,K]),Lt();var ut=bt(!0),_t=tt(),Vt=_t[0],Ot=_t[1];$n.isTouch&&Vt==="hold"&&Ot&&(ut=Ot),ut?s=setTimeout(function(){E.show()},ut):E.show()}function ln(K){if(E.clearDelayTimeouts(),ot("onUntrigger",[E,K]),!E.state.isVisible){Ht();return}if(!(E.props.trigger.indexOf("mouseenter")>=0&&E.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(K.type)>=0&&h)){var ut=bt(!1);ut?r=setTimeout(function(){E.state.isVisible&&E.hide()},ut):c=requestAnimationFrame(function(){E.hide()})}}function Sn(){E.state.isEnabled=!0}function qn(){E.hide(),E.state.isEnabled=!1}function Ln(){clearTimeout(s),clearTimeout(r),cancelAnimationFrame(c)}function Rn(K){if(!E.state.isDestroyed){ot("onBeforeUpdate",[E,K]),Fe();var ut=E.props,_t=Sm(n,Object.assign({},ut,Tm(K),{ignoreAttributes:!0}));E.props=_t,Ge(),ut.interactiveDebounce!==_t.interactiveDebounce&&(wt(),P=Mm(Yn,_t.interactiveDebounce)),ut.triggerTarget&&!_t.triggerTarget?ko(ut.triggerTarget).forEach(function(Vt){Vt.removeAttribute("aria-expanded")}):_t.triggerTarget&&n.removeAttribute("aria-expanded"),Et(),at(),H&&H(ut,_t),E.popperInstance&&(Un(),be().forEach(function(Vt){requestAnimationFrame(Vt._tippy.popperInstance.forceUpdate)})),ot("onAfterUpdate",[E,K])}}function hi(K){E.setProps({content:K})}function Ui(){var K=E.state.isVisible,ut=E.state.isDestroyed,_t=!E.state.isEnabled,Vt=$n.isTouch&&!E.props.touch,Ot=cf(E.props.duration,0,En.duration);if(!(K||ut||_t||Vt)&&!ct().hasAttribute("disabled")&&(ot("onShow",[E],!1),E.props.onShow(E)!==!1)){if(E.state.isVisible=!0,lt()&&(N.style.visibility="visible"),at(),Lt(),E.state.isMounted||(N.style.transition="none"),lt()){var ee=dt(),oe=ee.box,Ae=ee.content;uf([oe,Ae],0)}x=function(){var ye;if(!(!E.state.isVisible||d)){if(d=!0,N.offsetHeight,N.style.transition=E.props.moveTransition,lt()&&E.props.animation){var pi=dt(),Ee=pi.box,cn=pi.content;uf([Ee,cn],Ot),Am([Ee,cn],"visible")}kt(),Et(),Om(hf,E),(ye=E.popperInstance)==null||ye.forceUpdate(),ot("onMount",[E]),E.props.animation&&lt()&&jt(Ot,function(){E.state.isShown=!0,ot("onShown",[E])})}},$e()}}function qi(){var K=!E.state.isVisible,ut=E.state.isDestroyed,_t=!E.state.isEnabled,Vt=cf(E.props.duration,1,En.duration);if(!(K||ut||_t)&&(ot("onHide",[E],!1),E.props.onHide(E)!==!1)){if(E.state.isVisible=!1,E.state.isShown=!1,d=!1,h=!1,lt()&&(N.style.visibility="hidden"),wt(),Ht(),at(!0),lt()){var Ot=dt(),ee=Ot.box,oe=Ot.content;E.props.animation&&(uf([ee,oe],Vt),Am([ee,oe],"hidden"))}kt(),Et(),E.props.animation?lt()&&Te(Vt,E.unmount):E.unmount()}}function Xi(K){rt().addEventListener("mousemove",P),Om(Ml,P),P(K)}function di(){E.state.isVisible&&E.hide(),E.state.isMounted&&(Be(),be().forEach(function(K){K._tippy.unmount()}),N.parentNode&&N.parentNode.removeChild(N),hf=hf.filter(function(K){return K!==E}),E.state.isMounted=!1,ot("onHidden",[E]))}function ve(){E.state.isDestroyed||(E.clearDelayTimeouts(),E.unmount(),Fe(),delete n._tippy,E.state.isDestroyed=!0,ot("onDestroy",[E]))}}function Lr(n,t){t===void 0&&(t={});var e=En.plugins.concat(t.plugins||[]);pP();var s=Object.assign({},t,{plugins:e}),r=cP(n);if(!1)var c,h;var u=r.reduce(function(a,d){var g=d&&PP(d,s);return g&&a.push(g),a},[]);return Tl(n)?u[0]:u}Lr.defaultProps=En;Lr.setDefaultProps=xP;Lr.currentInput=$n;var sA=Object.assign({},Cr,{effect:function(t){var e=t.state,s={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(e.elements.popper.style,s.popper),e.styles=s,e.elements.arrow&&Object.assign(e.elements.arrow.style,s.arrow)}});Lr.setDefaultProps({render:Wm});var mf=Lr;function CP(n,t){let e=n.insertCell(-1),s=document.createElement("BUTTON"),r=document.createElement("SPAN");r.classList.add("material-symbols-outlined"),r.innerText="delete",s.appendChild(r),s.classList.add("pure-button"),e.appendChild(s),s.addEventListener("click",function(c){let h=n.rowIndex;t.deleteRow(h-1)})}function vf(n,t,e){let s=n.insertRow(-1);for(let r of t){let c=s.insertCell(-1);c.contentEditable="true",c.innerText=e[r]}CP(s,n)}function $m(n,t,e,s){let r=n.tHead.rows[0].insertCell(-1),c=document.createElement("BUTTON"),h=document.createElement("SPAN");h.classList.add("material-symbols-outlined"),h.innerText="add",c.appendChild(h),c.classList.add("button-success","pure-button"),r.appendChild(c),c.addEventListener("click",function(){vf(t,e,s)})}function bf(n){let t=[],e=0;for(let s of n.rows)t.push({name:s.cells[0].innerText,guestsAverage:Number(s.cells[1].innerText),guestsCV:Number(s.cells[2].innerText),wastePerGuestAverage:Number(s.cells[3].innerText),wastePerGuestCV:Number(s.cells[4].innerText),dinerPerGuestProbability:Number(s.cells[5].innerText)}),e+=1;return t}function Ym(n){let t=[],e=0;for(let s of n.rows)t.push({name:s.cells[0].innerText,trueEffectMean:Number(s.cells[1].innerText),trueEffectCV:Number(s.cells[2].innerText),index:e}),e=e+1;return t}function MP(n,t,e){let s=document.createElement("div"),r=document.createElement("h4");r.innerText="Average Food Wasted: ",s.appendChild(r);let c=document.createElement("table");s.appendChild(c),c.classList.add("pure-table-horizontal"),c.classList.add("pure-table");let h=c.createTHead().insertRow(),u=c.createTBody().insertRow();for(let a of n)h.insertCell().innerText=a.name,u.insertCell().innerText=t.averages[a.name].toFixed(2)+" kg";e.appendChild(s),s.style.margin="0 auto",s.style.width="80%"}function OP(n,t,e){let s=document.createElement("div"),r=document.createElement("h4");r.innerText="Measured effect (% reduction): ",s.appendChild(r);let c=document.createElement("table");s.appendChild(c),c.classList.add("pure-table-horizontal"),c.classList.add("pure-table");let h=c.createTHead().insertRow(),u=c.createTBody().insertRow();for(let a of n)if(h.insertCell().innerText=a.name,a.index===0)u.insertCell().innerText=" / ";else{let d=t.effects[a.index],g=t.averages[n[0].name];if(g===0)u.insertCell().innerText=" ? ";else{let v=-(1-(g-d)/g)*100;u.insertCell().innerText=v.toFixed(2)+"%"}}e.appendChild(s),s.style.margin="0 auto",s.style.width="80%"}function TP(n,t,e){let s=document.createElement("div"),r=document.createElement("h4");r.innerText="Significance Test (p-value): ",s.appendChild(r);let c=document.createElement("table");s.appendChild(c),c.classList.add("pure-table-horizontal"),c.classList.add("pure-table");let h=c.createTHead().insertRow(),u=c.createTBody().insertRow();for(let a of n)if(h.insertCell().innerText=a.name,a.index===0)u.insertCell().innerText=" / ";else{let d=t.p_values[a.index],g=d<.05?"green":"red";d=d<.001?"<0.001":d.toFixed(3);let v=document.createElement("span");v.innerText=d,v.style.color=g,u.insertCell().appendChild(v)}e.appendChild(s),s.style.margin="0 auto",s.style.width="80%"}var yf=[],xf=[];function Um(){return ga[yf.findIndex((n,t)=>n.checked)].assignmentStrategy}function qm(){return ma[xf.findIndex((n,t)=>n.checked)].analysisMethod}document.addEventListener("DOMContentLoaded",function(n){let t=document.getElementById("hotel_table"),e=["name","guestsAverage","guestsCV","wastePerGuestAverage","wastePerGuestCV","dinerPerGuestProbability"],s=t.getElementsByTagName("tbody")[0];for(let S of pa)vf(s,e,S);$m(t,s,e,pa[0]),document.getElementById("export-btn").addEventListener("click",function(){let S=bf(s)});let c=document.getElementById("stimulus_table"),h=["name","trueEffectMean","trueEffectCV"],u=c.getElementsByTagName("tbody")[0];for(let S of Xs)vf(u,h,S);$m(c,u,h,Xs[1]);let a=document.getElementById("weekssampled"),d=Number(a.value),g=Cc,v=Array.from({length:d},(S,E)=>E);console.log(v),console.log(g);let x=document.getElementById("randomassignmentform");x.classList.add("pure-form");for(let S=0;S<ga.length;S++){let E=ga[S],I=document.createElement("input");I.name="assignmentStrategy",I.type="radio",I.id="assignmentStrategy"+String(S);let N=document.createElement("label");N.htmlFor=I.id,N.textContent=E.prettyName+" ",N.classList.add("pure-radio"),N.appendChild(I),x.appendChild(N),yf.push(I),mf(N,{content:E.description,placement:"auto-start"})}yf[0].checked=!0,x.appendChild(document.createElement("br"));let w=document.getElementById("analysisform");w.classList.add("pure-form");for(let S=0;S<ma.length;S++){let E=ma[S],I=document.createElement("input");I.name="analysisMethod",I.type="radio",I.id="analysisMethod"+String(S);let N=document.createElement("label");N.htmlFor=I.id,N.textContent=E.prettyName+" ",N.classList.add("pure-radio"),N.appendChild(I),w.appendChild(N),xf.push(I),mf(N,{content:E.description,placement:"top-start"})}xf[0].checked=!0,w.appendChild(document.createElement("br")),vs.register(...pl,Gm.default),vs.register(om);let P=document.getElementById("weekChartContainer"),C=new vs(P,{type:"line",data:{labels:v,datasets:[{label:"% of guests compared to average",data:g,fill:!0,borderWidth:1,pointHitRadius:25}]},options:{plugins:{title:{display:!0,text:"Weeks' variation in # of guests",align:"center",font:{size:20,family:"Helvetica"},padding:{bottom:10}},dragData:{round:2,showTooltip:!0,onDragEnd:function(S,E,I,N){}}},scales:{y:{max:3,min:0}},onHover:function(S){S.chart.getElementsAtEventForMode(S,"nearest",{intersect:!0},!1).length?S.native.target.style.cursor="grab":S.native.target.style.cursor="default"}}});a.addEventListener("change",S=>{for(d=Number(a.value);d>g.length;)g.push(1),v.push(g.length);for(;d<g.length;)g.pop(),v.pop();C.update(!1)});let O=document.getElementById("results"),M=document.getElementById("run_simulation_btn"),A=document.getElementById("run_power_btn");M.addEventListener("click",function(){M.disabled=!0,A.disabled=!0,O.replaceChildren(),console.log("started regression");let S=Ym(u),E=bf(s),I={};for(let Mt=0;Mt<E.length;Mt++)I[E[Mt].name]=Mt;let N=document.getElementById("narate"),H=Number(N.value),$=Mc(d,E,Um(),S,C.data.datasets[0].data,H);var G=[];for(let Mt of $)G.push(`<tr> <th> ${Mt.date} </th> <th> ${Mt.guests} </th><th> ${Mt.hotel.name} </th><th> ${Mt.meal} </th><th> ${Mt.stimulus.name} </th><th> ${Mt.totalFoodWasteObserved.toFixed(2)} </th></tr>`);let tt=document.createElement("div"),et=document.createElement("h4");et.innerText="Simulated Experiment: ",tt.appendChild(et),O.appendChild(tt),tt.classList.add("clusterize");let lt=document.createElement("table"),rt=lt.createTHead().insertRow(-1);rt.insertCell(-1).innerText="Date",rt.insertCell(-1).innerText="# of guests",rt.insertCell(-1).innerText="Hotel",rt.insertCell(-1).innerText="Type of meal",rt.insertCell(-1).innerText="Experiment",rt.insertCell(-1).innerText="Kg wasted",lt.classList.add("pure-table-horizontal"),lt.classList.add("pure-table"),tt.appendChild(lt);let dt=document.createElement("div");dt.id="scrollAreaObservation",dt.classList.add("clusterize-scroll");let bt=document.createElement("table"),at=bt.createTBody();at.classList.add("clusterize-content"),at.id="contentAreaObservation";let ot=document.createElement("tr");ot.classList.add("clusterize-no-data");let kt=ot.insertCell(-1);kt.innerText="Loading data...",at.appendChild(ot),dt.appendChild(bt),tt.appendChild(dt),bt.classList.add("pure-table-horizontal"),bt.classList.add("pure-table"),lt.style.width="100%",bt.style.width="100%",tt.style.margin="auto";let Et=new Xm.default({rows:G,scrollId:"scrollAreaObservation",contentId:"contentAreaObservation"}),wt=qm()($,S,E,I);MP(S,wt,O),OP(S,wt,O),TP(S,wt,O);let Tt=Array(S.length),Zt=0,Xt=0;for(let Mt of S)Tt[Mt.index]={label:Mt.name,data:[]};for(let Mt of $)Tt[Mt.stimulus.index].data.push({x:Mt.guests,y:Mt.totalFoodWasteObserved});let Ht={type:"scatter",data:{datasets:Tt},options:{scales:{x:{type:"linear",position:"bottom",text:"# of Guests"},y:{type:"linear",text:"Food wasted",ticks:{callback:function(Mt,ce,Ge){return Mt+" kg"}}}}}},Te=document.createElement("canvas");Te.id="scatterplot";let jt=document.createElement("div");jt.appendChild(Te),jt.style.margin="0 auto",jt.style.width="80%",O.appendChild(jt),jt.scrollIntoView(),new vs(Te,Ht),M.disabled=!1,A.disabled=!1,console.log("ended regression")}),A.addEventListener("click",async function(){M.disabled=!0,A.disabled=!0,O.replaceChildren();let S=document.createElement("div");S.id="myProgress";let E=document.createElement("div");E.id="myBar",E.innerText="5%",E.style.width="5%",E.style.height="30px",E.style.backgroundColor="#04AA6D",E.style.textAlign="center",E.style.lineHeight="30px",E.style.color="white",S.appendChild(E),O.appendChild(S),O.scrollIntoView(!1);let I=[],N=Ym(u),H=Number(document.getElementById("weekssampled").value),$=bf(s),G=C.data.datasets[0].data,tt={};for(let at=0;at<$.length;at++)tt[$[at].name]=at;let et=document.getElementById("narate"),lt=Number(et.value);for(let at=0;at<100;at++){let ot=Mc(H,$,Um(),N,G,lt);I.push(qm()(ot,N,$,tt)),E.style.width=`${at+1}%`,E.innerText=`${at+1}%`}console.log("reading documents");let ct=["<.01","0.05","0.1","not-significant"],rt={},dt={};for(let at of N)if(at.index!=0){rt[at.name]={};for(let ot of ct)rt[at.name][ot]=0;dt[at.name]=[]}console.log(I),console.log(rt);for(let at of I)for(let ot of N){if(ot.index==0)continue;let kt=at.effects[ot.index],Et=at.averages[N[0].name];dt[ot.name].push(-(1-(Et-kt)/Et));let wt=at.p_values[ot.index];console.log(`pvalue is ${wt}`),wt<.01?(console.log("<.01"),rt[ot.name]["<.01"]=rt[ot.name]["<.01"]+1):wt<.05?(console.log("<.05"),rt[ot.name]["0.05"]=rt[ot.name]["0.05"]+1):wt<.1?(console.log("<.1"),rt[ot.name]["0.1"]=rt[ot.name]["0.1"]+1):rt[ot.name]["not-significant"]=rt[ot.name]["not-significant"]+1}let bt=document.createElement("div");bt.classList.add("pure-g");for(let at of N){if(at.index==0)continue;let ot=document.createElement("div");ot.classList.add("pure-u-1-2");let kt=document.createElement("h2");kt.innerText=`Significance of '${at.name}'`;let Et=document.createElement("canvas");ot.appendChild(kt),ot.appendChild(Et),Et.style.width="100px",Et.style.height="100px",Et.style.maxWidth="500px";let wt=[rt[at.name]["<.01"],rt[at.name]["0.05"],rt[at.name]["0.1"],rt[at.name]["not-significant"]];console.log(wt);let Tt={labels:ct,datasets:[{label:`Significance of '${at.name}'`,data:wt,hoverOffset:4}]};new vs(Et,{type:"doughnut",data:Tt,options:{aspectRatio:1.5,layout:{padding:{left:0,right:0,top:0,bottom:0}},responsive:!0}}),bt.appendChild(ot);let Zt=dt[at.name],Xt=at.trueEffectMean;console.log(`true effect mean: ${Xt}`);let Lt=.05,Ht=[];for(let Fe=-10;Fe<=10;Fe++)Ht.push(Fe*Lt);let Te=new Array(Ht.length).fill(0);for(let Fe of Zt){let We=Math.floor((Fe-Ht[0])/Lt);We>=0&&We<Te.length&&Te[We]++}let jt=document.createElement("div");jt.classList.add("pure-u-1-2");let Mt=document.createElement("h2");Mt.innerText=`Studied effects of '${at.name}'`;let ce=document.createElement("canvas");jt.appendChild(Mt),jt.appendChild(ce),ce.style.width="100px",ce.style.height="100px",ce.style.maxWidth="500px";let Ge=new vs(ce,{type:"bar",data:{labels:Ht,datasets:[{label:"Histogram",data:Te,backgroundColor:"rgba(54, 162, 235, 0.2)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}]},options:{aspectRatio:1.5,scales:{x:{ticks:{min:-1,max:1,stepSize:.1}},y:{beginAtZero:!0}},plugins:{annotation:{annotations:{line1:{type:"line",xMin:Math.round((-Xt-Ht[0])/Lt),xMax:Math.round((-Xt-Ht[0])/Lt),borderColor:"rgb(255, 99, 132)",borderWidth:2}}}}}});bt.appendChild(jt)}O.appendChild(bt),M.disabled=!1,A.disabled=!1})});})();
/*! Bundled license information:

chart.js/dist/chart.js:
  (*!
   * Chart.js v3.9.1
   * https://www.chartjs.org
   * (c) 2022 Chart.js Contributors
   * Released under the MIT License
   *)
  (*!
   * @kurkle/color v0.2.1
   * https://github.com/kurkle/color#readme
   * (c) 2022 Jukka Kurkela
   * Released under the MIT License
   *)

@kurkle/color/dist/color.esm.js:
  (*!
   * @kurkle/color v0.3.2
   * https://github.com/kurkle/color#readme
   * (c) 2023 Jukka Kurkela
   * Released under the MIT License
   *)

chart.js/dist/chunks/helpers.segment.js:
  (*!
   * Chart.js v4.2.1
   * https://www.chartjs.org
   * (c) 2023 Chart.js Contributors
   * Released under the MIT License
   *)

chart.js/dist/chart.js:
  (*!
   * Chart.js v4.2.1
   * https://www.chartjs.org
   * (c) 2023 Chart.js Contributors
   * Released under the MIT License
   *)

chart.js/dist/helpers.js:
  (*!
   * Chart.js v4.2.1
   * https://www.chartjs.org
   * (c) 2023 Chart.js Contributors
   * Released under the MIT License
   *)

chartjs-plugin-annotation/dist/chartjs-plugin-annotation.esm.js:
  (*!
  * chartjs-plugin-annotation v2.2.1
  * https://www.chartjs.org/chartjs-plugin-annotation/index
   * (c) 2023 chartjs-plugin-annotation Contributors
   * Released under the MIT License
   *)
*/
